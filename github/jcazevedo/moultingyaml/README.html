<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-moultingyaml" class="anchor" href="https://github.com/jcazevedo/moultingyaml#moultingyaml" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>MoultingYAML</h1> 
  <p><a href="https://gitter.im/jcazevedo/moultingyaml?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/a629a8722d8d314db33e03e78f1d8d14619f7f09/68747470733a2f2f6261646765732e6769747465722e696d2f6a63617a657665646f2f6d6f756c74696e6779616d6c2e737667" alt="Join the chat at https://gitter.im/jcazevedo/moultingyaml" data-canonical-src="https://badges.gitter.im/jcazevedo/moultingyaml.svg" style="max-width:100%;"></a> <a href="https://travis-ci.org/jcazevedo/moultingyaml" target="_blank"><img src="https://camo.githubusercontent.com/e466cbf1aad780e34027a2c87d8760ab64da9391/68747470733a2f2f7472617669732d63692e6f72672f6a63617a657665646f2f6d6f756c74696e6779616d6c2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/jcazevedo/moultingyaml.svg?branch=master" style="max-width:100%;"></a> <a href="https://coveralls.io/github/jcazevedo/moultingyaml?branch=master" target="_blank"><img src="https://camo.githubusercontent.com/cb8bdf63693a0fced8faceb4e6f9b43d7d9c9dd5/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f6a63617a657665646f2f6d6f756c74696e6779616d6c2f62616467652e7376673f6272616e63683d6d6173746572" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/github/jcazevedo/moultingyaml/badge.svg?branch=master" style="max-width:100%;"></a> <a href="https://raw.githubusercontent.com/jcazevedo/moultingyaml/master/LICENSE.md" target="_blank"><img src="https://camo.githubusercontent.com/3f7996bf7bd441deb7199c498aaa835164dee8da/68747470733a2f2f696d672e736869656c64732e696f2f6475622f6c2f766962652d642e737667" alt="License" data-canonical-src="https://img.shields.io/dub/l/vibe-d.svg" style="max-width:100%;"></a></p> 
  <p><a href="https://maven-badges.herokuapp.com/maven-central/net.jcazevedo/moultingyaml_2.10" target="_blank"><img src="https://camo.githubusercontent.com/8e8ed98c193927baa52c9674d17a516d8d1c3f2b/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f6e65742e6a63617a657665646f2f6d6f756c74696e6779616d6c5f322e31302e7376673f6c6162656c3d6c617465737425323072656c65617365253230666f72253230322e3130" alt="Maven Central" data-canonical-src="https://img.shields.io/maven-central/v/net.jcazevedo/moultingyaml_2.10.svg?label=latest%20release%20for%202.10" style="max-width:100%;"></a> <a href="https://maven-badges.herokuapp.com/maven-central/net.jcazevedo/moultingyaml_2.11" target="_blank"><img src="https://camo.githubusercontent.com/df95bd98e1243a9159ce6d6743f6c5310bc682e0/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f6e65742e6a63617a657665646f2f6d6f756c74696e6779616d6c5f322e31312e7376673f6c6162656c3d6c617465737425323072656c65617365253230666f72253230322e3131" alt="Maven Central" data-canonical-src="https://img.shields.io/maven-central/v/net.jcazevedo/moultingyaml_2.11.svg?label=latest%20release%20for%202.11" style="max-width:100%;"></a> <a href="https://maven-badges.herokuapp.com/maven-central/net.jcazevedo/moultingyaml_2.12" target="_blank"><img src="https://camo.githubusercontent.com/5af25e5b0ca9db24dc8fecb9897c5250584bbabd/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f6e65742e6a63617a657665646f2f6d6f756c74696e6779616d6c5f322e31322e7376673f6c6162656c3d6c617465737425323072656c65617365253230666f72253230322e3132" alt="Maven Central" data-canonical-src="https://img.shields.io/maven-central/v/net.jcazevedo/moultingyaml_2.12.svg?label=latest%20release%20for%202.12" style="max-width:100%;"></a></p> 
  <p>MoultingYAML is a Scala wrapper for <a href="https://bitbucket.org/asomov/snakeyaml" target="_blank">SnakeYAML</a> based on <a href="https://github.com/spray/spray-json" target="_blank">spray-json</a>.</p> 
  <p>Its basic idea is to provide a simple immutable model of the <a href="http://yaml.org/" target="_blank">YAML</a> language, built on top of SnakeYAML models, as well as a type-class based serialization and deserialization of custom objects.</p> 
  <h2><a id="user-content-installation" class="anchor" href="https://github.com/jcazevedo/moultingyaml#installation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Installation</h2> 
  <p>MoultingYAML's latest release is <code>0.3.1</code> and is built against Scala 2.12.0, 2.11.8 and 2.10.6.</p> 
  <p>To use it in an existing SBT project, add the following dependency to your <code>build.sbt</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>net.jcazevedo<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>moultingyaml<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.3.1<span class="pl-pds">"</span></span></pre>
  </div> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/jcazevedo/moultingyaml#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>In order to use MoultingYAML, bring all relevant elements into scope with:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">net.jcazevedo.moultingyaml.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">net.jcazevedo.moultingyaml.DefaultYamlProtocol.</span><span class="pl-v">_ </span><span class="pl-c">// if you don't supply your own protocol</span></pre>
  </div> 
  <p>You can then parse a YAML string into its Abstract Syntax Tree (AST) representation with:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">source</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"""</span>- Mark McGwire</span>
<span class="pl-s">               |- Sammy Sosa</span>
<span class="pl-s">               |- Ken Griffey<span class="pl-pds">"""</span></span>.stripMargin
<span class="pl-k">val</span> <span class="pl-en">yamlAst</span> <span class="pl-k">=</span> source.parseYaml</pre>
  </div> 
  <p>It is also possible to print a YAML AST back to a String using the <code>prettyPrint</code> method:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">yaml</span> <span class="pl-k">=</span> yamlAst.prettyPrint</pre>
  </div> 
  <p>If more fine-grained control over the printed yaml is needed, it is possible to use the configurable <code>print</code> method. For example, to enclose everything in double quotes:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">yaml</span> <span class="pl-k">=</span> yamlAst.print(scalarStyle <span class="pl-k">=</span> <span class="pl-en">DoubleQuoted</span>)</pre>
  </div> 
  <p>YAML provide different scalar styles to choose from, controlled by the argument <code>scalarStyle</code> of the <code>print</code> method. The possible values for <code>scalarStyle</code> are <code>Plain</code>, <code>SingleQuoted</code>, <code>DoubleQuoted</code>, <code>Literal</code> and <code>Folded</code>. Refer to the <a href="http://yaml.org/spec/current.html#id2532386" target="_blank">YAML specification</a> for details on each representation.</p> 
  <p>In addition, YAML also has flow styles, in order to be able to use explicit indicators instead of indentation to denote scope. The flow style is controlled by the <code>flowStyle</code> argument of the <code>print</code> method. The possible values for <code>flowStyle</code> are <code>Flow</code>, <code>Block</code> and <code>Auto</code>. <code>Block</code> style uses indentation, whereas <code>Flow</code> style relies on explicit indicators to denote scope. The <code>Auto</code> flow style attempts to combine both the <code>Block</code> and <code>Flow</code> style within the same document.</p> 
  <p>Scala objects can be converted to a YAML AST using the pimped <code>toYaml</code> method:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">yamlAst</span> <span class="pl-k">=</span> <span class="pl-en">List</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>).toYaml</pre>
  </div> 
  <p>Convert a YAML AST to a Scala object with the <code>convertTo</code> method:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">myList</span> <span class="pl-k">=</span> yamlAst.convertTo[<span class="pl-en">List</span>[<span class="pl-k">Int</span>]]</pre>
  </div> 
  <p>In order to support calling the <code>toYaml</code> and <code>convertTo</code> methods for an object of type <code>T</code>, you need to have implicit values in scope that provide <code>YamlFormat[T]</code> instances for <code>T</code> and all types used by <code>T</code> (directly or indirectly). You normally do that through a YamlProtocol.</p> 
  <h3><a id="user-content-yamlprotocol" class="anchor" href="https://github.com/jcazevedo/moultingyaml#yamlprotocol" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>YamlProtocol</h3> 
  <p>YamlProtocols follow the same design as <a href="https://github.com/spray/spray-json" target="_blank">spray-json</a>'s JsonProtocols, which in turn are based on <a href="https://github.com/debasishg/sjson" target="_blank">SJSON</a>'s. It's a type-class based approach that connects an existing type <code>T</code> with the logic of how to (de)serialize its instances to and from YAML.</p> 
  <p>A YamlProtocol is a bunch of implicit values of type <code>YamlFormat[T]</code>, where each <code>YamlFormat[T]</code> contains the logic of how to convert instances of <code>T</code> to and from YAML.</p> 
  <p>MoultingYAML comes with a <code>DefaultYamlProtocol</code>, which already covers all of Scala's value types as well as the most important reference and collection types. The following are types already taken care of by the <code>DefaultYamlProtocol</code>:</p> 
  <ul> 
   <li><code>Byte</code>, <code>Short</code>, <code>Int</code>, <code>Long</code>, <code>Float</code>, <code>Double</code>, <code>Char</code>, <code>Unit</code>, <code>Boolean</code></li> 
   <li><code>String</code>, <code>Symbol</code></li> 
   <li><code>BigInt</code>, <code>BigDecimal</code></li> 
   <li><code>Option</code>, <code>Either</code>, <code>Tuple1</code> - <code>Tuple7</code></li> 
   <li><code>List</code>, <code>Array</code></li> 
   <li><code>immutable.{Map, Iterable, Seq, IndexedSeq, LinearSeq, Set, Vector}</code></li> 
   <li><code>collection.{Iterable, Seq, IndexedSeq, LinearSeq, Set}</code></li> 
  </ul> 
  <p>When you want to convert types not covered by the <code>DefaultYamlProtocol</code>, you need to provide a <code>YamlFormat[T]</code> for your custom types.</p> 
  <h3><a id="user-content-prodiving-yamlformats-for-case-classes" class="anchor" href="https://github.com/jcazevedo/moultingyaml#prodiving-yamlformats-for-case-classes" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Prodiving YamlFormats for Case Classes</h3> 
  <p>If your custom type <code>T</code> is a case class then augmenting the <code>DefaultYamlProtocol</code> with a <code>YamlFormat[T]</code> can be done using the <code>yamlFormatX</code> helpers, where <code>X</code> stands for the number of fields in the case class:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Color</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">red</span>: <span class="pl-k">Int</span>, <span class="pl-v">green</span>: <span class="pl-k">Int</span>, <span class="pl-v">blue</span>: <span class="pl-k">Int</span>)

<span class="pl-k">object</span> <span class="pl-en">MyYamlProtocol</span> <span class="pl-k">extends</span> <span class="pl-e">DefaultYamlProtocol</span> {
  <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">colorFormat</span> <span class="pl-k">=</span> yamlFormat4(<span class="pl-en">Color</span>)
}

<span class="pl-k">import</span> <span class="pl-v">MyYamlProtocol.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">net.jcazevedo.moultingyaml.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">yaml</span> <span class="pl-k">=</span> <span class="pl-en">Color</span>(<span class="pl-s"><span class="pl-pds">"</span>CadetBlue<span class="pl-pds">"</span></span>, <span class="pl-c1">95</span>, <span class="pl-c1">158</span>, <span class="pl-c1">160</span>).toYaml
<span class="pl-k">val</span> <span class="pl-en">color</span> <span class="pl-k">=</span> yaml.convertTo[<span class="pl-en">Color</span>]</pre>
  </div> 
  <p>Example combining custom YamlFormats:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Color</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">red</span>: <span class="pl-k">Int</span>, <span class="pl-v">green</span>: <span class="pl-k">Int</span>, <span class="pl-v">blue</span>: <span class="pl-k">Int</span>)
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Palette</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">colors</span>: <span class="pl-en">Option</span>[<span class="pl-en">List</span>[<span class="pl-en">Color</span>]] <span class="pl-k">=</span> <span class="pl-c1">None</span>)

<span class="pl-k">object</span> <span class="pl-en">PaletteYamlProtocol</span> <span class="pl-k">extends</span> <span class="pl-e">DefaultYamlProtocol</span> {
  <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">colorFormat</span> <span class="pl-k">=</span> yamlFormat4(<span class="pl-en">Color</span>)
  <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">paletteFormat</span> <span class="pl-k">=</span> yamlFormat2(<span class="pl-en">Palette</span>)
}

<span class="pl-k">import</span> <span class="pl-v">PaletteYamlProtocol.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">net.jcazevedo.moultingyaml.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">yaml</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"""</span>name: My Palette</span>
<span class="pl-s">             |colors:</span>
<span class="pl-s">             |- name: color 1</span>
<span class="pl-s">             |  red: 1</span>
<span class="pl-s">             |  green: 1</span>
<span class="pl-s">             |  blue: 1</span>
<span class="pl-s">             |- name: color 2</span>
<span class="pl-s">             |  red: 2</span>
<span class="pl-s">             |  green: 2</span>
<span class="pl-s">             |  blue: 2</span>
<span class="pl-s">             |<span class="pl-pds">"""</span></span>.stripMargin.parseYaml
<span class="pl-k">val</span> <span class="pl-en">palette</span> <span class="pl-k">=</span> yaml.convertTo[<span class="pl-en">Palette</span>]</pre>
  </div> 
  <p>If you explicitly declare the companion object for your case class the notation above will stop working. You'll have to explicitly refer to the companion object's <code>apply</code> method to fix this:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Color</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">red</span>: <span class="pl-k">Int</span>, <span class="pl-v">green</span>: <span class="pl-k">Int</span>, <span class="pl-v">blue</span>: <span class="pl-k">Int</span>)
<span class="pl-k">object</span> <span class="pl-en">Color</span>

<span class="pl-k">object</span> <span class="pl-en">MyYamlProtocol</span> <span class="pl-k">extends</span> <span class="pl-e">DefaultYamlProtocol</span> {
  <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">colorFormat</span> <span class="pl-k">=</span> yamlFormat4(<span class="pl-en">Color</span>.apply)
}</pre>
  </div> 
  <p>If your case class has a type parameter the <code>yamlFormat</code> methods can also help you. However, there is a little more boilerplate required as you need to add context bounds for all type parameters and explicitly refer to the case classes apply method as in this example:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">NamedList</span>[<span class="pl-en">A</span>](<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">items</span>: <span class="pl-en">List</span>[<span class="pl-en">A</span>])

<span class="pl-k">object</span> <span class="pl-en">MyYamlProtocol</span> <span class="pl-k">extends</span> <span class="pl-e">DefaultYamlProtocol</span> {
  <span class="pl-k">implicit</span> <span class="pl-k">def</span> <span class="pl-en">namedListFormat</span>[<span class="pl-en">A</span><span class="pl-k">:</span> <span class="pl-en">YamlFormat</span>] <span class="pl-k">=</span> yamlFormat2(<span class="pl-en">NamedList</span>.apply[<span class="pl-en">A</span>])
}</pre>
  </div> 
  <h3><a id="user-content-nulloptions" class="anchor" href="https://github.com/jcazevedo/moultingyaml#nulloptions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>NullOptions</h3> 
  <p>As in <a href="https://github.com/spray/spray-json" target="_blank">spray-json</a>, the <code>NullOptions</code> trait supplies an alternative rendering mode for optional case class members. Normally optional members that are undefined (<code>None</code>) are not rendered at all. By mixing in this trait into your custom YamlProtocol you can enforce the rendering of undefined members as <code>null</code>. (Note that this only affects YAML writing, MoultingYAML will always read missing optional members as well as <code>null</code> optional members as <code>None</code>)</p> 
  <h3><a id="user-content-providing-yamlformats-for-other-types" class="anchor" href="https://github.com/jcazevedo/moultingyaml#providing-yamlformats-for-other-types" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Providing YamlFormats for other Types</h3> 
  <p>To provide (de)serialization logic for types that aren't case classes, one has to define the <code>write</code> and <code>read</code> methods of <code>YamlFormat</code>. Here is one example:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">class</span> <span class="pl-en">Color</span>(<span class="pl-k">val</span> <span class="pl-en">name</span><span class="pl-k">:</span> <span class="pl-k">String</span>, <span class="pl-k">val</span> <span class="pl-en">red</span><span class="pl-k">:</span> <span class="pl-k">Int</span>, <span class="pl-k">val</span> <span class="pl-en">green</span><span class="pl-k">:</span> <span class="pl-k">Int</span>, <span class="pl-k">val</span> <span class="pl-en">blue</span><span class="pl-k">:</span> <span class="pl-k">Int</span>)

<span class="pl-k">object</span> <span class="pl-en">MyYamlProtocol</span> <span class="pl-k">extends</span> <span class="pl-e">DefaultYamlProtocol</span> {
  <span class="pl-k">implicit</span> <span class="pl-k">object</span> <span class="pl-en">ColorYamlFormat</span> <span class="pl-k">extends</span> <span class="pl-e">YamlFormat</span>[<span class="pl-en">Color</span>] {
    <span class="pl-k">def</span> <span class="pl-en">write</span>(<span class="pl-v">c</span>: <span class="pl-en">Color</span>) <span class="pl-k">=</span>
      <span class="pl-en">YamlArray</span>(
        <span class="pl-en">YamlString</span>(c.name),
        <span class="pl-en">YamlNumber</span>(c.red),
        <span class="pl-en">YamlNumber</span>(c.green),
        <span class="pl-en">YamlNumber</span>(c.blue))

    <span class="pl-k">def</span> <span class="pl-en">read</span>(<span class="pl-v">value</span>: <span class="pl-en">YamlValue</span>) <span class="pl-k">=</span> value <span class="pl-k">match</span> {
      <span class="pl-k">case</span> <span class="pl-en">YamlArray</span>(
        <span class="pl-en">Vector</span>(
          <span class="pl-en">YamlString</span>(name),
          <span class="pl-en">YamlNumber</span>(<span class="pl-v">red</span>: <span class="pl-k">Int</span>),
          <span class="pl-en">YamlNumber</span>(<span class="pl-v">green</span>: <span class="pl-k">Int</span>),
          <span class="pl-en">YamlNumber</span>(<span class="pl-v">blue</span>: <span class="pl-k">Int</span>))) <span class="pl-k">=&gt;</span>
        <span class="pl-k">new</span> <span class="pl-en">Color</span>(name, red, green, blue)
      <span class="pl-k">case</span> _ <span class="pl-k">=&gt;</span> deserializationError(<span class="pl-s"><span class="pl-pds">"</span>Color expected<span class="pl-pds">"</span></span>)
    }
  }
}

<span class="pl-k">import</span> <span class="pl-v">MyYamlProtocol.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">yaml</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Color</span>(<span class="pl-s"><span class="pl-pds">"</span>CadetBlue<span class="pl-pds">"</span></span>, <span class="pl-c1">95</span>, <span class="pl-c1">158</span>, <span class="pl-c1">160</span>).toYaml
<span class="pl-k">val</span> <span class="pl-en">color</span> <span class="pl-k">=</span> yaml.convertTo[<span class="pl-en">Color</span>]</pre>
  </div> 
  <p>This serializes <code>Color</code> instances as a YAML array. Another way would be to serialize <code>Color</code>s as YAML mappings, which are called YAML objects in MoultingYAML:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">object</span> <span class="pl-en">MyYamlProtocol</span> <span class="pl-k">extends</span> <span class="pl-e">DefaultYamlProtocol</span> {
  <span class="pl-k">implicit</span> <span class="pl-k">object</span> <span class="pl-en">ColorYamlFormat</span> <span class="pl-k">extends</span> <span class="pl-e">YamlFormat</span>[<span class="pl-en">Color</span>] {
    <span class="pl-k">def</span> <span class="pl-en">write</span>(<span class="pl-v">c</span>: <span class="pl-en">Color</span>) <span class="pl-k">=</span> <span class="pl-en">YamlObject</span>(
      <span class="pl-en">YamlString</span>(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>) <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-en">YamlString</span>(c.name),
      <span class="pl-en">YamlString</span>(<span class="pl-s"><span class="pl-pds">"</span>red<span class="pl-pds">"</span></span>) <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-en">YamlNumber</span>(c.red),
      <span class="pl-en">YamlString</span>(<span class="pl-s"><span class="pl-pds">"</span>green<span class="pl-pds">"</span></span>) <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-en">YamlNumber</span>(c.green),
      <span class="pl-en">YamlString</span>(<span class="pl-s"><span class="pl-pds">"</span>blue<span class="pl-pds">"</span></span>) <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-en">YamlNumber</span>(c.blue)
    )
    <span class="pl-k">def</span> <span class="pl-en">read</span>(<span class="pl-v">value</span>: <span class="pl-en">YamlValue</span>) <span class="pl-k">=</span> {
      value.asYamlObject.getFields(
        <span class="pl-en">YamlString</span>(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>),
        <span class="pl-en">YamlString</span>(<span class="pl-s"><span class="pl-pds">"</span>red<span class="pl-pds">"</span></span>),
        <span class="pl-en">YamlString</span>(<span class="pl-s"><span class="pl-pds">"</span>green<span class="pl-pds">"</span></span>),
        <span class="pl-en">YamlString</span>(<span class="pl-s"><span class="pl-pds">"</span>blue<span class="pl-pds">"</span></span>)) <span class="pl-k">match</span> {
        <span class="pl-k">case</span> <span class="pl-en">Seq</span>(
          <span class="pl-en">YamlString</span>(name),
          <span class="pl-en">YamlNumber</span>(<span class="pl-v">red</span>: <span class="pl-k">Int</span>),
          <span class="pl-en">YamlNumber</span>(<span class="pl-v">green</span>: <span class="pl-k">Int</span>),
          <span class="pl-en">YamlNumber</span>(<span class="pl-v">blue</span>: <span class="pl-k">Int</span>)) <span class="pl-k">=&gt;</span>
          <span class="pl-k">new</span> <span class="pl-en">Color</span>(name, red, green, blue)
        <span class="pl-k">case</span> _ <span class="pl-k">=&gt;</span> deserializationError(<span class="pl-s"><span class="pl-pds">"</span>Color expected<span class="pl-pds">"</span></span>)
      }
    }
  }
}</pre>
  </div> 
  <h2><a id="user-content-credits" class="anchor" href="https://github.com/jcazevedo/moultingyaml#credits" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Credits</h2> 
  <p>Most of MoultingYAML's type-class (de)serialization code was inspired by <a href="https://github.com/spray/spray-json" target="_blank">spray-json</a>, by <strong>Mathias Doenitz</strong>. <a href="https://github.com/spray/spray-json" target="_blank">spray-json</a> was, in turn, inspired by the <a href="https://github.com/debasishg/sjson" target="_blank">SJSON</a> library by <strong>Debasish Ghosh</strong>. Both deserve credits here.</p> 
  <h2><a id="user-content-license" class="anchor" href="https://github.com/jcazevedo/moultingyaml#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>MoultingYAML is licensed under the <a href="http://opensource.org/licenses/MIT" target="_blank">MIT</a> license. See <code>LICENSE.md</code> for details.</p> 
  <h2><a id="user-content-contributions" class="anchor" href="https://github.com/jcazevedo/moultingyaml#contributions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contributions</h2> 
  <p>Feedback and contributions to the project are very welcome. Use <a href="https://github.com/jcazevedo/moultingyaml/issues" target="_blank">GitHub's issue tracker</a> to report any issues you might have when using the project. Submit code contributions via <a href="https://github.com/jcazevedo/moultingyaml/pulls" target="_blank">GitHub's pull requests</a>.</p> 
 </article>
</div>