<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-spark-salesforce-library" class="anchor" href="https://github.com/springml/spark-salesforce#spark-salesforce-library" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Spark Salesforce Library</h1> 
  <p>A library for connecting Spark with Salesforce and Salesforce Wave.</p> 
  <h2><a id="user-content-requirements" class="anchor" href="https://github.com/springml/spark-salesforce#requirements" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Requirements</h2> 
  <p>This library requires Spark 2.x.</p> 
  <p>For Spark 1.x support, please check <a href="https://github.com/springml/spark-salesforce/tree/spark1.x" target="_blank">spark1.x</a> branch.</p> 
  <h2><a id="user-content-linking" class="anchor" href="https://github.com/springml/spark-salesforce#linking" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Linking</h2> 
  <p>You can link against this library in your program at the following ways:</p> 
  <h3><a id="user-content-maven-dependency" class="anchor" href="https://github.com/springml/spark-salesforce#maven-dependency" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Maven Dependency</h3> 
  <pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.springml&lt;/groupId&gt;
    &lt;artifactId&gt;spark-salesforce_2.11&lt;/artifactId&gt;
    &lt;version&gt;1.1.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
  <h3><a id="user-content-sbt-dependency" class="anchor" href="https://github.com/springml/spark-salesforce#sbt-dependency" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SBT Dependency</h3> 
  <pre><code>libraryDependencies += "com.springml" % "spark-salesforce_2.11" % "1.1.0"
</code></pre> 
  <h2><a id="user-content-using-with-spark-shell" class="anchor" href="https://github.com/springml/spark-salesforce#using-with-spark-shell" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Using with Spark shell</h2> 
  <p>This package can be added to Spark using the <code>--packages</code> command line option. For example, to include it when starting the spark shell:</p> 
  <pre><code>$ bin/spark-shell --packages com.springml:spark-salesforce_2.11:1.1.0
</code></pre> 
  <h2><a id="user-content-features" class="anchor" href="https://github.com/springml/spark-salesforce#features" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Features</h2> 
  <ul> 
   <li><strong>Dataset Creation</strong> - Create dataset in <a href="http://www.salesforce.com/in/analytics-cloud/overview/" target="_blank">Salesforce Wave</a> Wave from <a href="http://spark.apache.org/docs/latest/sql-programming-guide.html" target="_blank">Spark DataFrames</a></li> 
   <li><strong>Read Salesforce Wave Dataset</strong> - User has to provide SAQL to read data from Salesforce Wave. The query result will be constructed as dataframe</li> 
   <li><strong>Read Salesforce Object</strong> - User has to provide SOQL to read data from Salesforce object. The query result will be constructed as dataframe</li> 
   <li><strong>Update Salesforce Object</strong> - Salesforce object will be updated with the details present in dataframe</li> 
  </ul> 
  <h3><a id="user-content-options" class="anchor" href="https://github.com/springml/spark-salesforce#options" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Options</h3> 
  <ul> 
   <li><code>username</code>: Salesforce Wave Username. This user should have privilege to upload datasets or execute SAQL or execute SOQL<br></li> 
   <li><code>password</code>: Salesforce Wave Password. Please append security token along with password.For example, if a userâ€™s password is mypassword, and the security token is XXXXXXXXXX, the user must provide mypasswordXXXXXXXXXX</li> 
   <li><code>login</code>: (Optional) Salesforce Login URL. Default value <a href="https://login.salesforce.com" target="_blank">https://login.salesforce.com</a></li> 
   <li><code>datasetName</code>: (Optional) Name of the dataset to be created in Salesforce Wave. Required for Dataset Creation</li> 
   <li><code>sfObject</code>: (Optional) Salesforce Object to be updated. (e.g.) Contact</li> 
   <li><code>metadataConfig</code>: (Optional) Metadata configuration which will be used to construct <a href="https://resources.docs.salesforce.com/sfdc/pdf/bi_dev_guide_ext_data_format.pdf" target="_blank">Salesforce Wave Dataset Metadata</a>. Metadata configuration has to be provided in JSON format</li> 
   <li><code>saql</code>: (Optional) SAQL query to used to query Salesforce Wave. Mandatory for reading Salesforce Wave dataset</li> 
   <li><code>soql</code>: (Optional) SOQL query to used to query Salesforce Object. Mandatory for reading Salesforce Object like Opportunity</li> 
   <li><code>version</code>: (Optional) Salesforce API Version. Default 35.0</li> 
   <li><code>inferSchema</code>: (Optional) Inferschema from the query results. Sample rows will be taken to find the datatype</li> 
   <li><code>resultVariable</code>: (Optional) result variable used in SAQL query. To paginate SAQL queries this package will add the required offset and limit. For example, in this SAQL query <code>q = load \"&lt;dataset_id&gt;/&lt;dataset_version_id&gt;\"; q = foreach q generate 'Name' as 'Name', 'Email' as 'Email';</code> <strong>q</strong> is the result variable</li> 
   <li><code>pageSize</code>: (Optional) Page size for each query to be executed against Salesforce Wave. Default value is 2000. This option can only be used if <code>resultVariable</code> is set</li> 
  </ul> 
  <h3><a id="user-content-scala-api" class="anchor" href="https://github.com/springml/spark-salesforce#scala-api" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala API</h3> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> Writing Dataset</span>
<span class="pl-c"><span class="pl-c">//</span> Using spark-csv package to load dataframes</span>
<span class="pl-k">val</span> <span class="pl-en">df</span> <span class="pl-k">=</span> spark.
                read.
                format(<span class="pl-s"><span class="pl-pds">"</span>com.databricks.spark.csv<span class="pl-pds">"</span></span>).
                option(<span class="pl-s"><span class="pl-pds">"</span>header<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>).
                load(<span class="pl-s"><span class="pl-pds">"</span>your_csv_location<span class="pl-pds">"</span></span>)
df.
   write.
   format(<span class="pl-s"><span class="pl-pds">"</span>com.springml.spark.salesforce<span class="pl-pds">"</span></span>).
   option(<span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_username<span class="pl-pds">"</span></span>).
   option(<span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_password_with_secutiry_token<span class="pl-pds">"</span></span>).
   option(<span class="pl-s"><span class="pl-pds">"</span>datasetName<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_dataset_name<span class="pl-pds">"</span></span>).
   save()

<span class="pl-c"><span class="pl-c">//</span> Reading Dataset</span>
<span class="pl-k">val</span> <span class="pl-en">saql</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>q = load <span class="pl-cce">\"</span>&lt;dataset_id&gt;/&lt;dataset_version_id&gt;<span class="pl-cce">\"</span>; q = foreach q generate  'Name' as 'Name',  'Email' as 'Email';<span class="pl-pds">"</span></span>
<span class="pl-k">val</span> <span class="pl-en">sfWaveDF</span> <span class="pl-k">=</span> spark.
                read.
                format(<span class="pl-s"><span class="pl-pds">"</span>com.springml.spark.salesforce<span class="pl-pds">"</span></span>).
                option(<span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_username<span class="pl-pds">"</span></span>).
                option(<span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_password_with_secutiry_token<span class="pl-pds">"</span></span>).
                option(<span class="pl-s"><span class="pl-pds">"</span>saql<span class="pl-pds">"</span></span>, saql)
                option(<span class="pl-s"><span class="pl-pds">"</span>inferSchema<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>).
                load()

<span class="pl-c"><span class="pl-c">//</span> Reading Salesforce Object</span>
<span class="pl-k">val</span> <span class="pl-en">soql</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>select id, name, amount from opportunity<span class="pl-pds">"</span></span>
<span class="pl-k">val</span> <span class="pl-en">sfDF</span> <span class="pl-k">=</span> spark.
                read.
                format(<span class="pl-s"><span class="pl-pds">"</span>com.springml.spark.salesforce<span class="pl-pds">"</span></span>).
                option(<span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_username<span class="pl-pds">"</span></span>).
                option(<span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_password_with_secutiry_token<span class="pl-pds">"</span></span>).
                option(<span class="pl-s"><span class="pl-pds">"</span>soql<span class="pl-pds">"</span></span>, soql).
                option(<span class="pl-s"><span class="pl-pds">"</span>version<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>37.0<span class="pl-pds">"</span></span>).
                load()

<span class="pl-c"><span class="pl-c">//</span> Update Salesforce Object</span>
<span class="pl-c"><span class="pl-c">//</span> CSV should contain Id column followed other fields to be Updated</span>
<span class="pl-c"><span class="pl-c">//</span> Sample - </span>
<span class="pl-c"><span class="pl-c">//</span> Id,Description</span>
<span class="pl-c"><span class="pl-c">//</span> 003B00000067Rnx,Superman</span>
<span class="pl-c"><span class="pl-c">//</span> 003B00000067Rnw,SpiderMan</span>
<span class="pl-k">val</span> <span class="pl-en">df</span> <span class="pl-k">=</span> spark.
                read.
                format(<span class="pl-s"><span class="pl-pds">"</span>com.databricks.spark.csv<span class="pl-pds">"</span></span>).
                option(<span class="pl-s"><span class="pl-pds">"</span>header<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>).
                load(<span class="pl-s"><span class="pl-pds">"</span>your_csv_location<span class="pl-pds">"</span></span>)
df.
   write.
   format(<span class="pl-s"><span class="pl-pds">"</span>com.springml.spark.salesforce<span class="pl-pds">"</span></span>).
   option(<span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_username<span class="pl-pds">"</span></span>).
   option(<span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_password_with_secutiry_token<span class="pl-pds">"</span></span>).
   option(<span class="pl-s"><span class="pl-pds">"</span>sfObject<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Contact<span class="pl-pds">"</span></span>).
   save()
</pre>
  </div> 
  <h3><a id="user-content-java-api" class="anchor" href="https://github.com/springml/spark-salesforce#java-api" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Java API</h3> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-c"><span class="pl-c">//</span> Writing Dataset</span>
<span class="pl-smi">DataFrame</span> df <span class="pl-k">=</span> spark
                    .read()
                    .format(<span class="pl-s"><span class="pl-pds">"</span>com.databricks.spark.csv<span class="pl-pds">"</span></span>)
                    .option(<span class="pl-s"><span class="pl-pds">"</span>header<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>)
                    .load(<span class="pl-s"><span class="pl-pds">"</span>your_csv_location<span class="pl-pds">"</span></span>);
df<span class="pl-k">.</span>write()
      .format(<span class="pl-s"><span class="pl-pds">"</span>com.springml.spark.salesforce<span class="pl-pds">"</span></span>)
          .option(<span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_username<span class="pl-pds">"</span></span>)
          .option(<span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_password_with_secutiry_token<span class="pl-pds">"</span></span>)
          .option(<span class="pl-s"><span class="pl-pds">"</span>datasetName<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_dataset_name<span class="pl-pds">"</span></span>)
          .save();

<span class="pl-c"><span class="pl-c">//</span> Reading Dataset</span>
<span class="pl-smi">String</span> saql <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>q = load <span class="pl-cce">\"</span>&lt;dataset_id&gt;/&lt;dataset_version_id&gt;<span class="pl-cce">\"</span>; q = foreach q generate  'Name' as 'Name',  'Email' as 'Email';<span class="pl-pds">"</span></span>
<span class="pl-smi">DataFrame</span> sfWaveDF <span class="pl-k">=</span> spark.
          read()<span class="pl-c1">.</span>
          format(<span class="pl-s"><span class="pl-pds">"</span>com.springml.spark.salesforce<span class="pl-pds">"</span></span>)<span class="pl-c1">.</span>
          option(<span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_username<span class="pl-pds">"</span></span>)<span class="pl-c1">.</span>
          option(<span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_password_with_secutiry_token<span class="pl-pds">"</span></span>)<span class="pl-c1">.</span>
          option(<span class="pl-s"><span class="pl-pds">"</span>saql<span class="pl-pds">"</span></span>, saql)
          option(<span class="pl-s"><span class="pl-pds">"</span>inferSchema<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>)<span class="pl-c1">.</span>
          load()

<span class="pl-c"><span class="pl-c">//</span> Reading Salesforce Object</span>
<span class="pl-smi">String</span> soql <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>select id, name, amount from opportunity<span class="pl-pds">"</span></span>
<span class="pl-smi">DataFrame</span> sfDF <span class="pl-k">=</span> spark.
          read.
          format(<span class="pl-s"><span class="pl-pds">"</span>com.springml.spark.salesforce<span class="pl-pds">"</span></span>)<span class="pl-c1">.</span>
          option(<span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_username<span class="pl-pds">"</span></span>)<span class="pl-c1">.</span>
          option(<span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_password_with_secutiry_token<span class="pl-pds">"</span></span>)<span class="pl-c1">.</span>
          option(<span class="pl-s"><span class="pl-pds">"</span>soql<span class="pl-pds">"</span></span>, soql)<span class="pl-c1">.</span>
          option(<span class="pl-s"><span class="pl-pds">"</span>version<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>37.0<span class="pl-pds">"</span></span>)<span class="pl-c1">.</span>
          load()      

<span class="pl-c"><span class="pl-c">//</span> Update Salesforce Object</span>
<span class="pl-c"><span class="pl-c">//</span> CSV should contain Id column followed other fields to be Updated</span>
<span class="pl-c"><span class="pl-c">//</span> Sample - </span>
<span class="pl-c"><span class="pl-c">//</span> Id,Description</span>
<span class="pl-c"><span class="pl-c">//</span> 003B00000067Rnx,Superman</span>
<span class="pl-c"><span class="pl-c">//</span> 003B00000067Rnw,SpiderMan</span>
<span class="pl-smi">DataFrame</span> df <span class="pl-k">=</span> spark
                    .read()
                    .format(<span class="pl-s"><span class="pl-pds">"</span>com.databricks.spark.csv<span class="pl-pds">"</span></span>)
                    .option(<span class="pl-s"><span class="pl-pds">"</span>header<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>)
                    .load(<span class="pl-s"><span class="pl-pds">"</span>your_csv_location<span class="pl-pds">"</span></span>);
df<span class="pl-k">.</span>write()<span class="pl-k">.</span>format(<span class="pl-s"><span class="pl-pds">"</span>com.springml.spark.salesforce<span class="pl-pds">"</span></span>)
      .option(<span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_username<span class="pl-pds">"</span></span>)
      .option(<span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_password_with_secutiry_token<span class="pl-pds">"</span></span>)
      .option(<span class="pl-s"><span class="pl-pds">"</span>sfObject<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Contact<span class="pl-pds">"</span></span>)
      .save();
</pre>
  </div> 
  <h3><a id="user-content-r-api" class="anchor" href="https://github.com/springml/spark-salesforce#r-api" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>R API</h3> 
  <div class="highlight highlight-source-r">
   <pre><span class="pl-c"><span class="pl-c">#</span> Writing Dataset</span>
<span class="pl-smi">df</span> <span class="pl-k">&lt;-</span> read.df(<span class="pl-s"><span class="pl-pds">"</span>your_csv_location<span class="pl-pds">"</span></span>, <span class="pl-v">source</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.databricks.spark.csv<span class="pl-pds">"</span></span>, <span class="pl-v">inferSchema</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>)
write.df(<span class="pl-smi">df</span>, <span class="pl-v">path</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>, <span class="pl-v">source</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>com.springml.spark.salesforce<span class="pl-pds">'</span></span>, <span class="pl-v">mode</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>append<span class="pl-pds">"</span></span>, <span class="pl-v">datasetName</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>your_dataset_name<span class="pl-pds">"</span></span>, <span class="pl-v">username</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>your_salesforce_username<span class="pl-pds">"</span></span>, <span class="pl-v">password</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>your_salesforce_password_with_secutiry_token<span class="pl-pds">"</span></span>)

<span class="pl-c"><span class="pl-c">#</span> Reading Dataset</span>
<span class="pl-smi">saql</span> <span class="pl-k">&lt;-</span> <span class="pl-s"><span class="pl-pds">"</span>q = load <span class="pl-cce">\"</span>&lt;dataset_id&gt;/&lt;dataset_version_id&gt;<span class="pl-cce">\"</span>; q = foreach q generate  'Name' as 'Name',  'Email' as 'Email';<span class="pl-pds">"</span></span>
<span class="pl-smi">sfWaveDF</span> <span class="pl-k">&lt;-</span> read.df(<span class="pl-v">source</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>com.springml.spark.salesforce<span class="pl-pds">"</span></span>, <span class="pl-v">username</span><span class="pl-k">=</span><span class="pl-smi">your_salesforce_username</span>, <span class="pl-v">password</span><span class="pl-k">=</span><span class="pl-smi">your_salesforce_password_with_secutiry_token</span>, <span class="pl-v">saql</span><span class="pl-k">=</span><span class="pl-smi">saql</span>)

<span class="pl-c"><span class="pl-c">#</span> Reading Salesforce Object</span>
<span class="pl-smi">soql</span> <span class="pl-k">&lt;-</span> <span class="pl-s"><span class="pl-pds">"</span>select id, name, amount from opportunity<span class="pl-pds">"</span></span>
<span class="pl-smi">dfDF</span> <span class="pl-k">&lt;-</span> read.df(<span class="pl-v">source</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>com.springml.spark.salesforce<span class="pl-pds">"</span></span>, <span class="pl-v">username</span><span class="pl-k">=</span><span class="pl-smi">your_salesforce_username</span>, <span class="pl-v">password</span><span class="pl-k">=</span><span class="pl-smi">your_salesforce_password_with_secutiry_token</span>, <span class="pl-v">soql</span><span class="pl-k">=</span><span class="pl-smi">soql</span>)

<span class="pl-c"><span class="pl-c">#</span> Update Salesforce Object</span>
<span class="pl-c"><span class="pl-c">#</span> CSV should contain Id column followed other fields to be Updated</span>
<span class="pl-c"><span class="pl-c">#</span> Sample - </span>
<span class="pl-c"><span class="pl-c">#</span> Id,Description</span>
<span class="pl-c"><span class="pl-c">#</span> 003B00000067Rnx,Superman</span>
<span class="pl-c"><span class="pl-c">#</span> 003B00000067Rnw,SpiderMan</span>
<span class="pl-smi">df</span> <span class="pl-k">&lt;-</span> read.df(<span class="pl-s"><span class="pl-pds">"</span>your_csv_location<span class="pl-pds">"</span></span>, <span class="pl-v">source</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.databricks.spark.csv<span class="pl-pds">"</span></span>, <span class="pl-v">header</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>)
write.df(<span class="pl-smi">df</span>, <span class="pl-v">path</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>, <span class="pl-v">source</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">'</span>com.springml.spark.salesforce<span class="pl-pds">'</span></span>, <span class="pl-v">mode</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>append<span class="pl-pds">"</span></span>, <span class="pl-v">sfObject</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>Contacct<span class="pl-pds">"</span></span>, <span class="pl-v">username</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>your_salesforce_username<span class="pl-pds">"</span></span>, <span class="pl-v">password</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>your_salesforce_password_with_secutiry_token<span class="pl-pds">"</span></span>)
</pre>
  </div> 
  <h2><a id="user-content-metadata-configuration" class="anchor" href="https://github.com/springml/spark-salesforce#metadata-configuration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Metadata Configuration</h2> 
  <p>This library constructs <a href="https://resources.docs.salesforce.com/sfdc/pdf/bi_dev_guide_ext_data_format.pdf" target="_blank">Salesforce Wave Dataset Metadata</a> using Metadata Configuration present in <a href="https://github.com/springml/spark-salesforce/blob/master/src/main/resources/metadata_config.json" target="_blank">resources</a>. User may modifiy the default behaviour. User can modify already defined datatypes or user may add additional datatypes. For example, user can change the scale to 5 for float datatype</p> 
  <p>Metadata configuration has to be provided in JSON format via "metadataConfig" option. The structure of the JSON is</p> 
  <div class="highlight highlight-source-json">
   <pre>{
  <span class="pl-s"><span class="pl-pds">"</span>&lt;df_data_type&gt;<span class="pl-pds">"</span></span>: {
  <span class="pl-s"><span class="pl-pds">"</span>wave_type<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;wave_data_type&gt;<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>precision<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;precision&gt;<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>scale<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;scale&gt;<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>format<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;format&gt;<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>defaultValue<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>&lt;defaultValue&gt;<span class="pl-pds">"</span></span>
  }
}</pre>
  </div> 
  <ul> 
   <li><strong>df_data_type</strong>: Dataframe datatype for which the Wave datatype to be mapped. </li> 
   <li><strong>wave_data_type</strong>: Salesforce wave supports Text, Numeric and Date types.</li> 
   <li><strong>precision</strong>: The maximum number of digits in a numeric value, or the length of a text value</li> 
   <li><strong>scale</strong>: The number of digits to the right of the decimal point in a numeric value. Must be less than the precision value</li> 
   <li><strong>format</strong>: The format of the numeric or date value. </li> 
   <li><strong>defaultValue</strong>: The default value of the field, if any. If not provided for Numeric fields, 0 is used as defaultValue</li> 
  </ul> 
  <p>More details on Salesforce Wave Metadata can be found <a href="https://resources.docs.salesforce.com/sfdc/pdf/bi_dev_guide_ext_data_format.pdf" target="_blank">here</a></p> 
  <h4><a id="user-content-sample-json" class="anchor" href="https://github.com/springml/spark-salesforce#sample-json" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Sample JSON</h4> 
  <div class="highlight highlight-source-json">
   <pre>{
  <span class="pl-s"><span class="pl-pds">"</span>float<span class="pl-pds">"</span></span>: {
  <span class="pl-s"><span class="pl-pds">"</span>wave_type<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>Numeric<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>precision<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>10<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>scale<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>2<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>format<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>##0.00<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>defaultValue<span class="pl-pds">"</span></span>: <span class="pl-s"><span class="pl-pds">"</span>0.00<span class="pl-pds">"</span></span>
  }
}</pre>
  </div> 
  <h4><a id="user-content-sample-to-provide-metadata-config" class="anchor" href="https://github.com/springml/spark-salesforce#sample-to-provide-metadata-config" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Sample to provide metadata config</h4> 
  <p>This sample is to change the format of the timestamp datatype. </p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> Default format is yyyy-MM-dd'T'HH:mm:ss.SSS'Z' and </span>
<span class="pl-c"><span class="pl-c">//</span> the this sample changes to yyyy/MM/dd'T'HH:mm:ss</span>
<span class="pl-k">val</span> <span class="pl-en">modifiedTimestampConfig</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"""</span>{"timestamp":{"wave_type":"Date","format":"yyyy/MM/dd'T'HH:mm:ss"}}<span class="pl-pds">"""</span></span>
<span class="pl-c"><span class="pl-c">//</span> Using spark-csv package to load dataframes</span>
<span class="pl-k">val</span> <span class="pl-en">df</span> <span class="pl-k">=</span> spark.read.format(<span class="pl-s"><span class="pl-pds">"</span>com.databricks.spark.csv<span class="pl-pds">"</span></span>).
                          option(<span class="pl-s"><span class="pl-pds">"</span>header<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>).
                          load(<span class="pl-s"><span class="pl-pds">"</span>your_csv_location<span class="pl-pds">"</span></span>)
df.
   write.
    format(<span class="pl-s"><span class="pl-pds">"</span>com.springml.spark.salesforce<span class="pl-pds">"</span></span>).
    option(<span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_username<span class="pl-pds">"</span></span>).
    option(<span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_password_with_secutiry_token<span class="pl-pds">"</span></span>).
    option(<span class="pl-s"><span class="pl-pds">"</span>datasetName<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_dataset_name<span class="pl-pds">"</span></span>).
    option(<span class="pl-s"><span class="pl-pds">"</span>metadataConfig<span class="pl-pds">"</span></span>, modifiedTimestampConfig).
    save()
</pre>
  </div> 
  <h3><a id="user-content-using-this-package-in-databricks" class="anchor" href="https://github.com/springml/spark-salesforce#using-this-package-in-databricks" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Using this package in databricks</h3> 
  <h4><a id="user-content-create-spark-salesforce-package-library" class="anchor" href="https://github.com/springml/spark-salesforce#create-spark-salesforce-package-library" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Create Spark Salesforce Package Library</h4> 
  <ul> 
   <li>Login into your databricks instance</li> 
   <li>Click Create--&gt;Library and select "Maven Coordinate" as source</li> 
   <li>Click "Search Spark Packages and Maven Central" button</li> 
   <li>Select "spark-salesforce" and click "Create Library" button</li> 
   <li>Library called "spark-salesforce_2.11-1.1.0" will be created</li> 
   <li>Now attach it to your clusters</li> 
  </ul> 
  <h4><a id="user-content-upload-databricks-table-into-salesforce-wave" class="anchor" href="https://github.com/springml/spark-salesforce#upload-databricks-table-into-salesforce-wave" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Upload Databricks table into Salesforce Wave</h4> 
  <ul> 
   <li>Click Create--&gt;Notebook in your databricks instance</li> 
   <li>Select language that you want to use, select your cluster and click "Create" to create a notebook</li> 
   <li>Write code to create dataframe. Below scala code is to create dataframe from your table</li> 
  </ul> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">df</span> <span class="pl-k">=</span> spark.sql(<span class="pl-s"><span class="pl-pds">"</span>select * from &lt;your_table_name&gt;<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <ul> 
   <li>Write code to upload the dataframe as dataset into Salesforce Wave. Below scala code is to upload a dataframe into Salesforce Wave</li> 
  </ul> 
  <div class="highlight highlight-source-scala">
   <pre>df.
   write.
   format(<span class="pl-s"><span class="pl-pds">"</span>com.springml.spark.salesforce<span class="pl-pds">"</span></span>).
   option(<span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_username<span class="pl-pds">"</span></span>).
   option(<span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_salesforce_password_with_secutiry_token<span class="pl-pds">"</span></span>).
   option(<span class="pl-s"><span class="pl-pds">"</span>datasetName<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>your_dataset_name<span class="pl-pds">"</span></span>).
   save()</pre>
  </div> 
  <h4><a id="user-content-short-demo-video" class="anchor" href="https://github.com/springml/spark-salesforce#short-demo-video" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Short Demo Video</h4> 
  <p><a href="https://www.youtube.com/watch?v=i6CyOJkG2_Y" title="Spark Salesforce Package Demo" target="_blank"><img src="https://camo.githubusercontent.com/8f5ad9e4a5bc9fd08cdf0687e77fc1a9f6134941/687474703a2f2f692e696d6775722e636f6d2f315739565956372e706e673f31" alt="Spark Salesforce Package Demo" data-canonical-src="http://i.imgur.com/1W9VYV7.png?1" style="max-width:100%;"></a></p> 
  <h3><a id="user-content-note" class="anchor" href="https://github.com/springml/spark-salesforce#note" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Note</h3> 
  <p>Salesforce wave does require atleast one "Text" field. So please make sure the dataframe has atleast one string type.</p> 
  <h2><a id="user-content-building-from-source" class="anchor" href="https://github.com/springml/spark-salesforce#building-from-source" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Building From Source</h2> 
  <p>This library is built with <a href="http://www.scala-sbt.org/0.13/docs/Command-Line-Reference.html" target="_blank">SBT</a>, which is automatically downloaded by the included shell script. To build a JAR file simply run <code>sbt/sbt package</code> from the project root. The build configuration includes support for both Scala 2.10 and 2.11.</p> 
 </article>
</div>