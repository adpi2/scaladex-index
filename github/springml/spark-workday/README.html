<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-spark-workday-library" class="anchor" href="https://github.com/springml/spark-workday#spark-workday-library" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Spark Workday Library</h1> 
  <p>Spark Connector for Workday is a SOAP web services wrapper around the Workday API published <a href="https://community.workday.com/custom/developer/API/index.html" target="_blank">here</a>. </p> 
  <h2><a id="user-content-requirements" class="anchor" href="https://github.com/springml/spark-workday#requirements" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Requirements</h2> 
  <p>This library requires Spark 1.6+</p> 
  <h2><a id="user-content-linking" class="anchor" href="https://github.com/springml/spark-workday#linking" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Linking</h2> 
  <p>You can link against this library in your program at the following ways:</p> 
  <h3><a id="user-content-maven-dependency" class="anchor" href="https://github.com/springml/spark-workday#maven-dependency" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Maven Dependency</h3> 
  <pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.springml&lt;/groupId&gt;
    &lt;artifactId&gt;spark-workday_2.10&lt;/artifactId&gt;
    &lt;version&gt;1.0.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
  <h3><a id="user-content-sbt-dependency" class="anchor" href="https://github.com/springml/spark-workday#sbt-dependency" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SBT Dependency</h3> 
  <pre><code>libraryDependencies += "com.springml" % "spark-workday_2.10" % "1.0.0"
</code></pre> 
  <h2><a id="user-content-using-with-spark-shell" class="anchor" href="https://github.com/springml/spark-workday#using-with-spark-shell" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Using with Spark shell</h2> 
  <p>This package can be added to Spark using the <code>--packages</code> command line option. For example, to include it when starting the spark shell:</p> 
  <pre><code>$ bin/spark-shell --packages com.springml:spark-workday_2.10:1.0.0
</code></pre> 
  <h2><a id="user-content-feature" class="anchor" href="https://github.com/springml/spark-workday#feature" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Feature</h2> 
  <ul> 
   <li><strong>Construct Spark Dataframe using Workday data</strong> - User has to provide WWS (Workday Web Service) request and list of XPath to read data from Workday. The XPath will be evaluated against WWS response and dataframe will be constructed based on that<br></li> 
  </ul> 
  <h3><a id="user-content-options" class="anchor" href="https://github.com/springml/spark-workday#options" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Options</h3> 
  <ul> 
   <li><code>username</code>: Workday Web Service Username. </li> 
   <li><code>password</code>: Workday Web Service Password.</li> 
   <li><code>wwsEndpoint</code>: Workday Web Service endpoint.</li> 
   <li><code>request</code>: Workday Web Service request. This will be used to execute the required Web Service. Sample request is present over <a href="https://raw.githubusercontent.com/springml/spark-workday/master/src/test/resources/Get_Customer_Invoices_Request_Sample.xml" target="_blank">here</a></li> 
   <li><code>objectTagPath</code>: XPath of the response element which should be considered as Object element</li> 
   <li><code>detailsTagPath</code>: XPath of the detail element in object. This will be used to get Object Detail element</li> 
   <li><code>xpathMap</code>: Location of CSV file which should contain fieldName, fieldType and its XPath. Sample file is present over <a href="https://raw.githubusercontent.com/springml/spark-workday/master/src/test/resources/xpath.csv" target="_blank">here</a></li> 
   <li><code>namespacePrefixMap</code>: Location of CSV file which should contain prefix and its corresponding XPath. Sample file is present over <a href="https://raw.githubusercontent.com/springml/spark-workday/master/src/test/resources/namespaces.csv" target="_blank">here</a></li> 
  </ul> 
  <h3><a id="user-content-scala-api" class="anchor" href="https://github.com/springml/spark-workday#scala-api" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala API</h3> 
  <p>Spark 1.6+:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">org.apache.spark.sql.</span><span class="pl-v">SQLContext</span>

<span class="pl-c">// Construct Dataframe using WWS</span>
<span class="pl-k">val</span> <span class="pl-en">sqlContext</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">SQLContext</span>(sc)
<span class="pl-c">// Request to be executed against WWS</span>
<span class="pl-c">// Here Get_Customer_Invoices operation from Revenue_Management Service is used</span>
<span class="pl-c">// https://community.workday.com/custom/developer/API/Revenue_Management/v27.0/Get_Customer_Invoices.html</span>
<span class="pl-k">val</span> <span class="pl-en">request</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>&lt;bsvc:Get_Customer_Invoices_Request xmlns:bsvc=<span class="pl-cce">\"</span>urn:com.workday/bsvc<span class="pl-cce">\"</span>&gt;&lt;bsvc:Response_Filter&gt;&lt;bsvc:As_Of_Effective_Date&gt;2016-09-09&lt;/bsvc:As_Of_Effective_Date&gt;&lt;bsvc:As_Of_Entry_DateTime&gt;2016-09-09&lt;/bsvc:As_Of_Entry_DateTime&gt;&lt;bsvc:Page&gt;1&lt;/bsvc:Page&gt;&lt;bsvc:Count&gt;100&lt;/bsvc:Count&gt;&lt;/bsvc:Response_Filter&gt;&lt;bsvc:Response_Group&gt;&lt;bsvc:Include_Reference&gt;1&lt;/bsvc:Include_Reference&gt;&lt;bsvc:Include_Customer_Invoice_Data&gt;1&lt;/bsvc:Include_Customer_Invoice_Data&gt;&lt;/bsvc:Response_Group&gt;&lt;/bsvc:Get_Customer_Invoices_Request&gt;<span class="pl-pds">"</span></span>

<span class="pl-c">// Below constructs dataframe by executing wws </span>
<span class="pl-c">// Customer_Invoice is the object element and hence //wd:Customer_Invoice in objectTagPath</span>
<span class="pl-c">// Customer_Invoice_Line_Replacement_Data is the detail element and </span>
<span class="pl-c">// hence /wd:Customer_Invoice/wd:Customer_Invoice_Data/wd:Customer_Invoice_Line_Replacement_Data in detailsTagPath</span>
<span class="pl-c">// detailsTagPath is relative to objectTagPath</span>
<span class="pl-k">val</span> <span class="pl-en">df</span> <span class="pl-k">=</span> sqlContext.read.
    format(<span class="pl-s"><span class="pl-pds">"</span>com.springml.spark.workday<span class="pl-pds">"</span></span>).
    option(<span class="pl-s"><span class="pl-pds">"</span>username<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>wws_username<span class="pl-pds">"</span></span>).
    option(<span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>wws_password<span class="pl-pds">"</span></span>).
    option(<span class="pl-s"><span class="pl-pds">"</span>wwsEndpoint<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>wws_endpoint<span class="pl-pds">"</span></span>).
    option(<span class="pl-s"><span class="pl-pds">"</span>request<span class="pl-pds">"</span></span>, request).
    option(<span class="pl-s"><span class="pl-pds">"</span>objectTagPath<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>//wd:Customer_Invoice<span class="pl-pds">"</span></span>).
    option(<span class="pl-s"><span class="pl-pds">"</span>detailsTagPath<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>/wd:Customer_Invoice/wd:Customer_Invoice_Data/wd:Customer_Invoice_Line_Replacement_Data<span class="pl-pds">"</span></span>).
    option(<span class="pl-s"><span class="pl-pds">"</span>xpathMap<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>/home/xpath.csv<span class="pl-pds">"</span></span>).
    option(<span class="pl-s"><span class="pl-pds">"</span>namespacePrefixMap<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>/home/namespaces.csv<span class="pl-pds">"</span></span>).
    load()  
</pre>
  </div> 
  <h3><a id="user-content-r-api" class="anchor" href="https://github.com/springml/spark-workday#r-api" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>R API</h3> 
  <p>Spark 1.6+:</p> 
  <div class="highlight highlight-source-r">
   <pre><span class="pl-c"># Request to be executed against WWS</span>
<span class="pl-c"># Here Get_Customer_Invoices operation from Revenue_Management Service is used</span>
<span class="pl-c"># https://community.workday.com/custom/developer/API/Revenue_Management/v27.0/Get_Customer_Invoices.html</span>
<span class="pl-smi">ws_request</span> <span class="pl-k">&lt;-</span> <span class="pl-s"><span class="pl-pds">"</span>&lt;bsvc:Get_Customer_Invoices_Request xmlns:bsvc=<span class="pl-cce">\"</span>urn:com.workday/bsvc<span class="pl-cce">\"</span>&gt;&lt;bsvc:Response_Filter&gt;&lt;bsvc:As_Of_Effective_Date&gt;2016-09-09&lt;/bsvc:As_Of_Effective_Date&gt;&lt;bsvc:As_Of_Entry_DateTime&gt;2016-09-09&lt;/bsvc:As_Of_Entry_DateTime&gt;&lt;bsvc:Page&gt;1&lt;/bsvc:Page&gt;&lt;bsvc:Count&gt;100&lt;/bsvc:Count&gt;&lt;/bsvc:Response_Filter&gt;&lt;bsvc:Response_Group&gt;&lt;bsvc:Include_Reference&gt;1&lt;/bsvc:Include_Reference&gt;&lt;bsvc:Include_Customer_Invoice_Data&gt;1&lt;/bsvc:Include_Customer_Invoice_Data&gt;&lt;/bsvc:Response_Group&gt;&lt;/bsvc:Get_Customer_Invoices_Request&gt;<span class="pl-pds">"</span></span>

<span class="pl-c"># Below constructs dataframe by executing wws </span>
<span class="pl-c"># Customer_Invoice is the object element and hence //wd:Customer_Invoice in objectTagPath</span>
<span class="pl-c"># Customer_Invoice_Line_Replacement_Data is the detail element and </span>
<span class="pl-c"># hence /wd:Customer_Invoice/wd:Customer_Invoice_Data/wd:Customer_Invoice_Line_Replacement_Data in detailsTagPath</span>
<span class="pl-c"># detailsTagPath is relative to objectTagPath</span>
<span class="pl-smi">df</span> <span class="pl-k">&lt;-</span> read.df(<span class="pl-smi">sqlContext</span>, 
      <span class="pl-v">source</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>com.springml.spark.workday<span class="pl-pds">"</span></span>, 
      <span class="pl-v">username</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>wws_username<span class="pl-pds">"</span></span>, 
      <span class="pl-v">password</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>wws_password<span class="pl-pds">"</span></span>, 
      <span class="pl-v">wwsEndpoint</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>wws_endpoint<span class="pl-pds">"</span></span>, 
      <span class="pl-v">request</span><span class="pl-k">=</span><span class="pl-smi">ws_request</span>,
      <span class="pl-v">objectTagPath</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>//wd:Customer_Invoice<span class="pl-pds">"</span></span>,
      <span class="pl-v">detailsTagPath</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>/wd:Customer_Invoice/wd:Customer_Invoice_Data/wd:Customer_Invoice_Line_Replacement_Data<span class="pl-pds">"</span></span>,
      <span class="pl-v">xpathMap</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>/home/xpath.csv<span class="pl-pds">"</span></span>,
      <span class="pl-v">namespacePrefixMap</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>/home/namespaces.csv<span class="pl-pds">"</span></span>)
</pre>
  </div> 
  <h2><a id="user-content-building-from-source" class="anchor" href="https://github.com/springml/spark-workday#building-from-source" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Building From Source</h2> 
  <p>This library is built with <a href="http://www.scala-sbt.org/0.13/docs/Command-Line-Reference.html" target="_blank">SBT</a>, which is automatically downloaded by the included shell script. To build a JAR file simply run <code>sbt/sbt package</code> from the project root. The build configuration includes support for both Scala 2.10 and 2.11.</p> 
 </article>
</div>