<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-spark-netsuite-library" class="anchor" href="https://github.com/springml/spark-netsuite#spark-netsuite-library" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Spark NetSuite Library</h1> 
  <p>Spark Connector for NetSuite is a SOAP web service wrapper around the NetSuite web service published <a href="https://webservices.netsuite.com/wsdl/v2016_1_0/netsuite.wsdl" target="_blank">here</a>. </p> 
  <h2><a id="user-content-requirements" class="anchor" href="https://github.com/springml/spark-netsuite#requirements" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Requirements</h2> 
  <p>This library requires Spark 2.x+</p> 
  <p>For Spark 1.x support, please check <a href="https://github.com/springml/spark-netsuite/tree/spark1.x" target="_blank">spark1.x</a> branch.</p> 
  <h2><a id="user-content-linking" class="anchor" href="https://github.com/springml/spark-netsuite#linking" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Linking</h2> 
  <p>You can link against this library in your program at the following ways:</p> 
  <h3><a id="user-content-maven-dependency" class="anchor" href="https://github.com/springml/spark-netsuite#maven-dependency" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Maven Dependency</h3> 
  <pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.springml&lt;/groupId&gt;
    &lt;artifactId&gt;spark-netsuite_2.11&lt;/artifactId&gt;
    &lt;version&gt;1.1.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
  <h3><a id="user-content-sbt-dependency" class="anchor" href="https://github.com/springml/spark-netsuite#sbt-dependency" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SBT Dependency</h3> 
  <pre><code>libraryDependencies += "com.springml" % "spark-netsuite_2.11" % "1.1.0"
</code></pre> 
  <h2><a id="user-content-using-with-spark-shell" class="anchor" href="https://github.com/springml/spark-netsuite#using-with-spark-shell" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Using with Spark shell</h2> 
  <p>This package can be added to Spark using the <code>--packages</code> command line option. For example, to include it when starting the spark shell:</p> 
  <pre><code>$ bin/spark-shell --packages com.springml:spark-netsuite_2.11:1.1.0
</code></pre> 
  <h2><a id="user-content-feature" class="anchor" href="https://github.com/springml/spark-netsuite#feature" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Feature</h2> 
  <ul> 
   <li><strong>Construct Spark Dataframe using NetSuite data</strong> - User has to provide NetSuite web service request and list of XPath to read data from NetSuite. The XPath will be evaluated against NetSuite web service response and dataframe will be constructed based on that. Records will be searched based on the user provided request and further records will be fetched using searchMoreWithId</li> 
  </ul> 
  <h3><a id="user-content-options" class="anchor" href="https://github.com/springml/spark-netsuite#options" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Options</h3> 
  <ul> 
   <li><code>email</code>: NetSuite account user Id</li> 
   <li><code>password</code>: NetSuite account passsword</li> 
   <li><code>account</code>: NetSuite account Id</li> 
   <li><code>applicationId</code>: NetSuite application Id</li> 
   <li><code>role</code>: (Optional) NetSuite Role Id. Default value is <code>3</code></li> 
   <li><code>pageSize</code>: (Optional) Number of records to pulled in a single request. Max pageSze is 1000. Default value is <code>100</code>.</li> 
   <li><code>request</code>: NetSuite Web Service search request. This request will be used to search for records from NetSuite. Sample request is present over <a href="https://raw.githubusercontent.com/springml/spark-netsuite/master/src/test/resources/Search_Customers_Sample_Request.xml" target="_blank">here</a></li> 
   <li><code>recordTagPath</code>: (Optional) XPath of the response element which should be considered as record. Default value is <code>//platformCore:record</code></li> 
   <li><code>xpathMap</code>: Location of CSV file which should contain fieldName and its XPath. Sample file is present over <a href="https://raw.githubusercontent.com/springml/spark-netsuite/master/src/test/resources/xpath.csv" target="_blank">here</a></li> 
   <li><code>namespacePrefixMap</code>: Location of CSV file which should contain prefix and its corresponding namespace. Sample file is present over <a href="https://raw.githubusercontent.com/springml/spark-netsuite/master/src/test/resources/namespaces.csv" target="_blank">here</a></li> 
   <li><code>schema</code>: (Optional) Schema to be used for constructing dataframes. If not provided all fields will be of type String</li> 
  </ul> 
  <h3><a id="user-content-scala-api" class="anchor" href="https://github.com/springml/spark-netsuite#scala-api" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala API</h3> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">org.apache.spark.sql.</span><span class="pl-v">SQLContext</span>

<span class="pl-c"><span class="pl-c">//</span> Construct Dataframe from NetSuite records</span>
<span class="pl-c"><span class="pl-c">//</span> Search request to be executed against NetSuite Web Service</span>
<span class="pl-c"><span class="pl-c">//</span> Here Customers are fetched</span>
<span class="pl-k">val</span> <span class="pl-en">request</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">&lt;search xmlns="urn:messages_2016_1.platform.webservices.netsuite.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;</span>
<span class="pl-s">    &lt;searchRecord xmlns:ns7="urn:relationships_2016_1.lists.webservices.netsuite.com" xsi:type="ns7:CustomerSearch"&gt;</span>
<span class="pl-s">        &lt;ns7:basic xmlns:ns8="urn:common_2016_1.platform.webservices.netsuite.com" xsi:type="ns8:CustomerSearchBasic"&gt;&lt;/ns7:basic&gt;</span>
<span class="pl-s">    &lt;/searchRecord&gt;</span>
<span class="pl-s">&lt;/search&gt;<span class="pl-pds">"""</span></span>

<span class="pl-c"><span class="pl-c">//</span> Below constructs dataframe by executing search and searchMoreWithId operations </span>
<span class="pl-k">val</span> <span class="pl-en">df</span> <span class="pl-k">=</span> spark.read.
    format(<span class="pl-s"><span class="pl-pds">"</span>com.springml.spark.netsuite<span class="pl-pds">"</span></span>).
    option(<span class="pl-s"><span class="pl-pds">"</span>email<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>netsuite_email<span class="pl-pds">"</span></span>).
    option(<span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>netsuite_password<span class="pl-pds">"</span></span>).
    option(<span class="pl-s"><span class="pl-pds">"</span>account<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>netsuite_account<span class="pl-pds">"</span></span>).
    option(<span class="pl-s"><span class="pl-pds">"</span>applicationId<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>netsuite_application_id<span class="pl-pds">"</span></span>).
    option(<span class="pl-s"><span class="pl-pds">"</span>request<span class="pl-pds">"</span></span>, request).
    option(<span class="pl-s"><span class="pl-pds">"</span>xpathMap<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>/home/xpath.csv<span class="pl-pds">"</span></span>).
    option(<span class="pl-s"><span class="pl-pds">"</span>namespacePrefixMap<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>/home/namespaces.csv<span class="pl-pds">"</span></span>).
    load() 
</pre>
  </div> 
  <h3><a id="user-content-r-api" class="anchor" href="https://github.com/springml/spark-netsuite#r-api" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>R API</h3> 
  <div class="highlight highlight-source-r">
   <pre><span class="pl-c"><span class="pl-c">#</span> Search request to be executed against NetSuite Web Service</span>
<span class="pl-c"><span class="pl-c">#</span> Here Customers are fetched</span>
<span class="pl-smi">netsuite_request</span> <span class="pl-k">&lt;-</span> <span class="pl-s"><span class="pl-pds">"</span>&lt;search xmlns=<span class="pl-cce">\"</span>urn:messages_2016_1.platform.webservices.netsuite.com<span class="pl-cce">\"</span> xmlns:xsi=<span class="pl-cce">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class="pl-cce">\"</span>&gt;&lt;searchRecord xmlns:ns7=<span class="pl-cce">\"</span>urn:relationships_2016_1.lists.webservices.netsuite.com<span class="pl-cce">\"</span> xsi:type=<span class="pl-cce">\"</span>ns7:CustomerSearch<span class="pl-cce">\"</span>&gt;&lt;ns7:basic xmlns:ns8=<span class="pl-cce">\"</span>urn:common_2016_1.platform.webservices.netsuite.com<span class="pl-cce">\"</span> xsi:type=<span class="pl-cce">\"</span>ns8:CustomerSearchBasic<span class="pl-cce">\"</span>&gt;&lt;/ns7:basic&gt;&lt;/searchRecord&gt;&lt;/search&gt;<span class="pl-pds">"</span></span>

<span class="pl-k">//</span> <span class="pl-smi">Below</span> <span class="pl-smi">constructs</span> <span class="pl-smi">dataframe</span> <span class="pl-smi">by</span> <span class="pl-smi">executing</span> <span class="pl-smi">search</span> <span class="pl-smi">and</span> <span class="pl-smi">searchMoreWithId</span> <span class="pl-smi">operations</span> 
<span class="pl-smi">df</span> <span class="pl-k">&lt;-</span> read.df(<span class="pl-v">source</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>com.springml.spark.netsuite<span class="pl-pds">"</span></span>,
      <span class="pl-v">email</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>netsuite_email<span class="pl-pds">"</span></span>,
      <span class="pl-v">password</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>netsuite_password<span class="pl-pds">"</span></span>,
      <span class="pl-v">account</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>netsuite_account<span class="pl-pds">"</span></span>,
      <span class="pl-v">applicationId</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>netsuite_application_id<span class="pl-pds">"</span></span>,
      <span class="pl-v">role</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>netsuite_user_role<span class="pl-pds">"</span></span>,
      <span class="pl-v">pageSize</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>page_size<span class="pl-pds">"</span></span>,
      <span class="pl-v">request</span><span class="pl-k">=</span><span class="pl-smi">netsuite_request</span>,
      <span class="pl-v">recordTagPath</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>//platformCore:record<span class="pl-pds">"</span></span>,
      <span class="pl-v">xpathMap</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>/home/xpath.csv<span class="pl-pds">"</span></span>,
      <span class="pl-v">namespacePrefixMap</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>/home/namespace.csv<span class="pl-pds">"</span></span>)
</pre>
  </div> 
  <h2><a id="user-content-building-from-source" class="anchor" href="https://github.com/springml/spark-netsuite#building-from-source" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Building From Source</h2> 
  <p>This library is built with <a href="http://www.scala-sbt.org/0.13/docs/Command-Line-Reference.html" target="_blank">SBT</a>, which is automatically downloaded by the included shell script. To build a JAR file simply run <code>sbt/sbt package</code> from the project root.</p> 
 </article>
</div>