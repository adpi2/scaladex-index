<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-sparkle" class="anchor" href="https://github.com/romanhargrave/sparkle#sparkle" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Sparkle</h1> 
  <p>Sparkle is (another) XML DSL for Scala inspired by <a href="https://github.com/julienrf/glitter" target="_blank">glitter</a>; however, unlike glitter, sparkle uses Scala's XML support as the underlying XML representation.</p> 
  <p>The intention behind sparkle is the create an XML AST syntax more syntactically native to Scala than embedded XML, while remaining fully compatible with embedded XML. Sparkle is not guaranteed to be fully compatible with glitter, but takes design inspiration from glitter.</p> 
  <h1><a id="user-content-why-use-sparkle-over-glitter" class="anchor" href="https://github.com/romanhargrave/sparkle#why-use-sparkle-over-glitter" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Why use Sparkle over Glitter?</h1> 
  <p>There are several reasons for this. Firstly, scala.xml literals and Sparkle can be mixed interchangeably, and all Sparkle operators can be applied to scala.xml objects, as can all scala.xml operators be applied to Sparkle objects. Secondly, sparkle is far less complicated than Glitter, which uses its own XML generator. Another bonus to using scala.xml over emitting stringified XML is that Sparkle supports its output being traversed and inspected during runtime, also via scala.xml. This is used to some extent in Sparkles unit tests. According to <a href="https://github.com/AlDanial/cloc" target="_blank">cloc</a>, Sparkle is only 69 LOC, whereas Glitter is 101 LOC. Not that this matters.</p> 
  <p>Sparkle:</p> 
  <pre><code>-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
Scala                            2             49            168             69
-------------------------------------------------------------------------------
SUM:                             2             49            168             69
-------------------------------------------------------------------------------
</code></pre> 
  <p>Glitter:</p> 
  <pre><code>-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
Scala                            4             44             66            101
-------------------------------------------------------------------------------
SUM:                             4             44             66            101
-------------------------------------------------------------------------------
</code></pre> 
  <p>I also feel that Sparkle is better documented (notice the ratio of comments-to-code in Sparkle, versus in Glitter -- they are almost opposite!).</p> 
  <p>Additionally, Sparkle should (theoretically, though I've not tested) use fewer allocations as it leverages Value types as wrappers around scala.xml, so all Sparkle classes should become static methods at compile time.</p> 
  <h1><a id="user-content-why-use-glitter-over-sparkle" class="anchor" href="https://github.com/romanhargrave/sparkle#why-use-glitter-over-sparkle" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Why use Glitter over Sparkle?</h1> 
  <p>scala.xml does not have a means to insert a <code>&lt;!DOCTYPE .../&gt;</code> element. This means that when using scala.xml, and thus Sparkle, you must insert this after stringifying your XML and before you send it to the client.</p> 
  <p>Glitter, due to its using text globs instead of XML elements has a more concise manner of inserting this.</p> 
  <p>Personally, I think that Sparkle/scala.xml is still a better option.</p> 
  <h1><a id="user-content-examples" class="anchor" href="https://github.com/romanhargrave/sparkle#examples" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Examples</h1> 
  <p>A simple element with some attributes:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-en">'div</span> <span class="pl-k">%</span> <span class="pl-en">'class</span> <span class="pl-k">~</span> <span class="pl-s"><span class="pl-pds">"</span>menu-item<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-en">'id</span> <span class="pl-k">~</span> <span class="pl-s"><span class="pl-pds">"</span>menu-item-open<span class="pl-pds">"</span></span> <span class="pl-k">::</span> <span class="pl-s"><span class="pl-pds">"</span>Open a new document<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>this will become:</p> 
  <div class="highlight highlight-text-xml">
   <pre>&lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>menu-item<span class="pl-pds">"</span></span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>menu-item-open<span class="pl-pds">"</span></span>&gt;
    Open a new document
&lt;/<span class="pl-ent">div</span>&gt;</pre>
  </div> 
  <p>A self-closing tag element:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-en">'hr</span> <span class="pl-k">/</span><span class="pl-k">&gt;</span></pre>
  </div> 
  <p>this becomes:</p> 
  <div class="highlight highlight-text-xml">
   <pre>&lt;<span class="pl-ent">hr</span> /&gt;</pre>
  </div> 
  <p>Making a re-usable template (in MVC terms, a Layout) by embedding Sparkle in a function:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">StylesheetLink</span>(<span class="pl-v">url</span>: <span class="pl-k">String</span>)<span class="pl-k">:</span> <span class="pl-en">Elem</span> <span class="pl-k">=</span> <span class="pl-en">'link</span> <span class="pl-k">%</span> <span class="pl-en">'rel</span> <span class="pl-k">~</span> <span class="pl-s"><span class="pl-pds">"</span>stylesheet<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-en">'type</span> <span class="pl-k">~</span> <span class="pl-s"><span class="pl-pds">"</span>text/css<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-en">'href</span> <span class="pl-k">~</span> url 
<span class="pl-k">def</span> <span class="pl-en">ScriptLink</span>(<span class="pl-v">url</span>: <span class="pl-k">String</span>)<span class="pl-k">:</span> <span class="pl-en">Elem</span> <span class="pl-k">=</span> <span class="pl-en">'script</span> <span class="pl-k">%</span> <span class="pl-en">'src</span> <span class="pl-k">~</span> url

<span class="pl-k">def</span> <span class="pl-en">StandardLayout</span>(<span class="pl-v">content</span>: <span class="pl-en">Elem</span>)<span class="pl-k">:</span> <span class="pl-en">Elem</span> <span class="pl-k">=</span> {
    <span class="pl-en">'html</span> <span class="pl-k">::</span> (
        <span class="pl-en">'head</span> <span class="pl-k">::</span> (
            <span class="pl-en">'title</span> <span class="pl-k">::</span> <span class="pl-s"><span class="pl-pds">"</span>My Sparkle Document<span class="pl-pds">"</span></span>
            <span class="pl-k">|</span> <span class="pl-en">StylesheetLink</span>(<span class="pl-s"><span class="pl-pds">"</span>/styles/document.css<span class="pl-pds">"</span></span>)
            <span class="pl-k">|</span> <span class="pl-en">StylesheetLink</span>(<span class="pl-s"><span class="pl-pds">"</span>/styles/foundation.css<span class="pl-pds">"</span></span>)
            <span class="pl-k">|</span> <span class="pl-en">ScriptLink</span>(<span class="pl-s"><span class="pl-pds">"</span>/scripts/extremely_massive_minified_javascript_blob.js<span class="pl-pds">"</span></span>)
        )
        <span class="pl-k">|</span> <span class="pl-en">'body</span> <span class="pl-k">::</span> (
            <span class="pl-en">'nav</span> <span class="pl-k">%</span> <span class="pl-en">'class</span> <span class="pl-k">~</span> <span class="pl-s"><span class="pl-pds">"</span>top-bar<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-en">NullAttribute</span>(<span class="pl-s"><span class="pl-pds">"</span>data-topbar<span class="pl-pds">"</span></span>) <span class="pl-k">%</span> <span class="pl-en">'role</span> <span class="pl-k">~</span> <span class="pl-s"><span class="pl-pds">"</span>navigation<span class="pl-pds">"</span></span> <span class="pl-k">::</span> (
                  <span class="pl-en">'li</span> <span class="pl-k">%</span> <span class="pl-en">'class</span> <span class="pl-k">~</span> <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> <span class="pl-k">::</span> <span class="pl-en">'hi</span> <span class="pl-k">::</span> <span class="pl-en">'a</span> <span class="pl-k">%</span> <span class="pl-en">'href</span> <span class="pl-k">~</span> <span class="pl-s"><span class="pl-pds">"</span>#<span class="pl-pds">"</span></span> <span class="pl-k">::</span> <span class="pl-s"><span class="pl-pds">"</span>My Sparkle Document<span class="pl-pds">"</span></span>
                <span class="pl-k">|</span> <span class="pl-en">'li</span> <span class="pl-k">%</span> <span class="pl-en">'class</span> <span class="pl-k">~</span> <span class="pl-s"><span class="pl-pds">"</span>toggle-topbar menu-icon<span class="pl-pds">"</span></span> <span class="pl-k">::</span> <span class="pl-en">'a</span> <span class="pl-k">%</span> <span class="pl-en">'href</span> <span class="pl-k">~</span> <span class="pl-s"><span class="pl-pds">"</span>#<span class="pl-pds">"</span></span> <span class="pl-k">::</span> <span class="pl-en">'span</span> <span class="pl-k">::</span> <span class="pl-s"><span class="pl-pds">"</span>Menu<span class="pl-pds">"</span></span>
            )
            <span class="pl-k">|</span> <span class="pl-en">'div</span> <span class="pl-k">%</span> <span class="pl-en">'class</span> <span class="pl-k">~</span> <span class="pl-s"><span class="pl-pds">"</span>row<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-en">'id</span> <span class="pl-k">~</span> <span class="pl-s"><span class="pl-pds">"</span>viewport-row<span class="pl-pds">"</span></span>
                <span class="pl-k">::</span> <span class="pl-en">'section</span> <span class="pl-k">%</span> <span class="pl-en">'class</span> <span class="pl-k">~</span> <span class="pl-s"><span class="pl-pds">"</span>small-12 small-centered columns<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-en">'id</span> <span class="pl-k">~</span> <span class="pl-s"><span class="pl-pds">"</span>viewport<span class="pl-pds">"</span></span>
                    <span class="pl-k">::</span> content
        )
    )
}</pre>
  </div> 
  <h1><a id="user-content-plans-for-sparkle" class="anchor" href="https://github.com/romanhargrave/sparkle#plans-for-sparkle" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Plans for Sparkle</h1> 
  <p>Personally, I do not feel that sparkle needs much done to it at the moment, although I may add an <code>:=</code> operator to the attribute monad that behaves identically to the preexisting <code>~</code> operator of the same class, as it's more convenient for me to type than reaching for the grave accent key/shift in the middle of writing something.</p> 
 </article>
</div>