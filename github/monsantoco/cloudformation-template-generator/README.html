<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-cloudformation-template-generator" class="anchor" href="https://github.com/monsantoco/cloudformation-template-generator#cloudformation-template-generator" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>CloudFormation Template Generator</h1> 
  <p><a href="https://travis-ci.org/MonsantoCo/cloudformation-template-generator" target="_blank"><img src="https://camo.githubusercontent.com/8ec6bac57316006cfd43848bf36e2273e9e50664/68747470733a2f2f7472617669732d63692e6f72672f4d6f6e73616e746f436f2f636c6f7564666f726d6174696f6e2d74656d706c6174652d67656e657261746f722e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/MonsantoCo/cloudformation-template-generator.svg?branch=master" style="max-width:100%;"></a> <a href="https://coveralls.io/github/MonsantoCo/cloudformation-template-generator?branch=master" target="_blank"><img src="https://camo.githubusercontent.com/858b0679e842557af824da05dfeca6e715ad06c1/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f4d6f6e73616e746f436f2f636c6f7564666f726d6174696f6e2d74656d706c6174652d67656e657261746f722f62616467652e7376673f6272616e63683d6d617374657226736572766963653d676974687562" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/MonsantoCo/cloudformation-template-generator/badge.svg?branch=master&amp;service=github" style="max-width:100%;"></a></p> 
  <p>Scala DSL to create AWS CloudFormation (CFN) templates. The library allows for easier creation of the AWS CloudFormation JSON by writing Scala code to describe the AWS resources. Lets say we have a handful of CFN templates we want to maintain, and all of those templates use the same AMI. Instead of copying that information into all the templates, lets create an AMI component instead, and then load it into the actual templates.</p> 
  <p><strong><em>Why not just write JSON?</em></strong> Because, who in their right mind would want to write all AWS resources in JSON?</p> 
  <h2><a id="user-content-documentation" class="anchor" href="https://github.com/monsantoco/cloudformation-template-generator#documentation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Documentation</h2> 
  <p>See the intro <a href="http://engineering.monsanto.com/2015/07/10/cloudformation-template-generator/" target="_blank">blog post</a>.</p> 
  <p>To use this library, you must add the following resolver</p> 
  <div class="highlight highlight-source-scala">
   <pre>resolvers <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(<span class="pl-en">Resolver</span>.jcenterRepo)</pre>
  </div> 
  <p>and the dependency</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span> (
  <span class="pl-s"><span class="pl-pds">"</span>com.monsanto.arch<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>cloud-formation-template-generator<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>3.3.5<span class="pl-pds">"</span></span>
).map(_.force())</pre>
  </div> 
  <p>to your <code>build.sbt</code>.</p> 
  <p>See the <a href="http://monsantoco.github.io/cloudformation-template-generator/" target="_blank">Scaladoc</a> for detailed documentation and examples.</p> 
  <p>See the <a href="https://github.com/monsantoco/cloudformation-template-generator/blob/master/CHANGELOG.md" target="_blank">Change Log</a> for information on new, changed, and deprecated featured.</p> 
  <p><strong>Note</strong>: we are no longer using the git-flow develop/master branch paradigm. Please just branch off master and submit your PRs against it.</p> 
  <h3><a id="user-content-components" class="anchor" href="https://github.com/monsantoco/cloudformation-template-generator#components" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Components</h3> 
  <p>Create a Template instance of resources and check out VPCWriter to help write it to a file.</p> 
  <p>To use the fancier parts of the routing DSL, be sure to import <code>TransportProtocol._</code>.</p> 
  <h3><a id="user-content-misc-features" class="anchor" href="https://github.com/monsantoco/cloudformation-template-generator#misc-features" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Misc Features</h3> 
  <p>NEW since the blog post, say you have a topology with subnets across multiple AZ's and you want to specify an autoscaling group that spans them, using our fancy Builders methods. Well this is cross-cutting, so its not strictly nested, so you can use an evil evil var, or now you can use our <code>Template.lookupResource[R &lt;: Resource[R]](name: String)</code> method on previous template parts to extract resources by name. Note this will produce a generation-time error if you lookup something that does not exist or has the wrong type (unfortunately not a generation-time compiler error as most of our other features):</p> 
  <div class="highlight highlight-source-scala">
   <pre>describe(<span class="pl-s"><span class="pl-pds">"</span>Template Lookup<span class="pl-pds">"</span></span>) {
  it(<span class="pl-s"><span class="pl-pds">"</span>Should lookup resources with the correct type<span class="pl-pds">"</span></span>) {

    <span class="pl-k">val</span> <span class="pl-en">expected</span> <span class="pl-k">=</span> `<span class="pl-en">AWS</span><span class="pl-k">::</span><span class="pl-en">EC2</span><span class="pl-k">::</span><span class="pl-en">VPC</span>`(
      name <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>TestVPC<span class="pl-pds">"</span></span>,
      <span class="pl-en">CidrBlock</span> <span class="pl-k">=</span> <span class="pl-en">CidrBlock</span>(<span class="pl-c1">0</span>,<span class="pl-c1">0</span>,<span class="pl-c1">0</span>,<span class="pl-c1">0</span>,<span class="pl-c1">0</span>),
      <span class="pl-en">Tags</span> <span class="pl-k">=</span> <span class="pl-en">Seq</span>.empty[<span class="pl-en">AmazonTag</span>]
    )
    <span class="pl-k">val</span> <span class="pl-en">template</span> <span class="pl-k">=</span> <span class="pl-en">Template</span>.fromResource(expected)

    assert(expected <span class="pl-k">===</span> template.lookupResource[`<span class="pl-en">AWS</span><span class="pl-k">::</span><span class="pl-en">EC2</span><span class="pl-k">::</span><span class="pl-en">VPC</span>`](<span class="pl-s"><span class="pl-pds">"</span>TestVPC<span class="pl-pds">"</span></span>))
}</pre>
  </div> 
  <h3><a id="user-content-currently-supported-aws-resource-types" class="anchor" href="https://github.com/monsantoco/cloudformation-template-generator#currently-supported-aws-resource-types" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Currently supported AWS resource types</h3> 
  <ul> 
   <li>AWS::ApiGateway::Account</li> 
   <li>AWS::ApiGateway::ApiKey</li> 
   <li>AWS::ApiGateway::Authorizer</li> 
   <li>AWS::ApiGateway::BasePathMapping</li> 
   <li>AWS::ApiGateway::ClientCertificate</li> 
   <li>AWS::ApiGateway::Deployment</li> 
   <li>AWS::ApiGateway::Method</li> 
   <li>AWS::ApiGateway::Model</li> 
   <li>AWS::ApiGateway::Resource</li> 
   <li>AWS::ApiGateway::RestApi</li> 
   <li>AWS::ApiGateway::Stage</li> 
   <li>AWS::AutoScaling::AutoScalingGroup</li> 
   <li>AWS::AutoScaling::LaunchConfiguration</li> 
   <li>AWS::AutoScaling::ScalingPolicy</li> 
   <li>AWS::CloudFormation::Stack</li> 
   <li>AWS::CloudFormation::WaitCondition</li> 
   <li>AWS::CloudFormation::WaitConditionHandle</li> 
   <li>AWS::CloudTrail::Trail</li> 
   <li>AWS::CloudFront:Distribution:</li> 
   <li>AWS::CloudWatch::Alarm</li> 
   <li>AWS::DynamoDB::Table</li> 
   <li>AWS::EC2::CustomerGateway</li> 
   <li>AWS::EC2::EIP</li> 
   <li>AWS::EC2::EIPAssociation</li> 
   <li>AWS::EC2::Instance</li> 
   <li>AWS::EC2::InternetGateway</li> 
   <li>AWS::EC2::KeyPair::KeyName</li> 
   <li>AWS::EC2::NatGateway</li> 
   <li>AWS::EC2::NetworkAcl</li> 
   <li>AWS::EC2::NetworkAclEntry</li> 
   <li>AWS::EC2::Route</li> 
   <li>AWS::EC2::RouteTable</li> 
   <li>AWS::EC2::SecurityGroup</li> 
   <li>AWS::EC2::SecurityGroupEgress</li> 
   <li>AWS::EC2::SecurityGroupIngress</li> 
   <li>AWS::EC2::Subnet</li> 
   <li>AWS::EC2::SubnetNetworkAclAssociation</li> 
   <li>AWS::EC2::SubnetRouteTableAssociation</li> 
   <li>AWS::EC2::VPC</li> 
   <li>AWS::EC2::VPCGatewayAttachment</li> 
   <li>AWS::EC2::VPCPeeringConnection</li> 
   <li>AWS::EC2::VPNConnection</li> 
   <li>AWS::EC2::VPNConnectionRoute</li> 
   <li>AWS::EC2::VPNGateway</li> 
   <li>AWS::EC2::Volume</li> 
   <li>AWS::EC2::VolumeAttachment</li> 
   <li>AWS::ECR::Repository</li> 
   <li>AWS::ElastiCache::CacheCluser</li> 
   <li>AWS::ElastiCache::SubnetGroup</li> 
   <li>AWS::Elasticsearch::Domain</li> 
   <li>AWS::ElasticLoadBalancing::LoadBalancer</li> 
   <li>AWS::ElasticBeanstalk::Application</li> 
   <li>AWS::ElasticBeanstalk::ApplicationVersion</li> 
   <li>AWS::ElasticBeanstalk::ConfigurationTemplate</li> 
   <li>AWS::ElasticBeanstalk::Environment</li> 
   <li>AWS::IAM::AccessKey</li> 
   <li>AWS::IAM::Group</li> 
   <li>AWS::IAM::InstanceProfile</li> 
   <li>AWS::IAM::ManagedPolicy</li> 
   <li>AWS::IAM::Policy</li> 
   <li>AWS::IAM::Role</li> 
   <li>AWS::IAM::User</li> 
   <li>AWS::Kinesis::Stream</li> 
   <li>AWS::Lambda::EventSourceMapping</li> 
   <li>AWS::Lambda::Function</li> 
   <li>AWS::Lambda::Permission</li> 
   <li>AWS::DataPipeline::Pipeline</li> 
   <li>AWS::RDS::DBInstance::Engine</li> 
   <li>AWS::RDS::DBInstance::StorageType</li> 
   <li>AWS::RDS::DBInstance</li> 
   <li>AWS::RDS::DBParameterGroup</li> 
   <li>AWS::RDS::DBSecurityGroup</li> 
   <li>AWS::RDS::DBSubnetGroup</li> 
   <li>AWS::Redshift::Cluster</li> 
   <li>AWS::Redshift::ClusterSecurityGroup</li> 
   <li>AWS::Redshift::ClusterSecurityGroupIngress</li> 
   <li>AWS::Redshift::ClusterParameterGroup (along with helper RedshiftClusterParameter type)</li> 
   <li>AWS::Redshift::ClusterSubnetGroup</li> 
   <li>AWS::Route53::HostedZone</li> 
   <li>AWS::Route53::RecordSet</li> 
   <li>AWS::S3::Bucket</li> 
   <li>AWS::S3::BucketPolicy</li> 
   <li>AWS::SNS::Topic</li> 
   <li>AWS::SNS::TopicPolicy</li> 
   <li>AWS::SQS::Queue</li> 
   <li>AWS::SQS::QueuePolicy</li> 
  </ul> 
  <h3><a id="user-content-custom-types" class="anchor" href="https://github.com/monsantoco/cloudformation-template-generator#custom-types" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Custom types</h3> 
  <p>This project packages certain useful custom CloudFormation types. These are Lambda backed types that perform tasks that CloudFormation does not natively support. In order to use them, you must upload the Lambda function to your account and region. The code for these functions is found in this repo under assets/custom-types.</p> 
  <h4><a id="user-content-remote-route-53-entries" class="anchor" href="https://github.com/monsantoco/cloudformation-template-generator#remote-route-53-entries" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Remote Route 53 entries</h4> 
  <p>A given domain (or hosted zone, more specifically) must be managed out of a single AWS account. This poses problems if you want to create resources under that domain in templates that will run out of other accounts. A CloudFormation template can only work in one given account. However, with Cloud Formation's custom type functionality, we use custom code to assume a role in the account that owns the hosted zone. This requires some setup steps for each hosted zone and each account. For instructions, please see: <a href="https://github.com/MonsantoCo/cloudformation-template-generator/blob/master/assets/custom-types/remote-route53/README.md" target="_blank">https://github.com/MonsantoCo/cloudformation-template-generator/blob/master/assets/custom-types/remote-route53/README.md</a> for more. </p> 
  <h2><a id="user-content-working-with-cloudformation-concatenating" class="anchor" href="https://github.com/monsantoco/cloudformation-template-generator#working-with-cloudformation-concatenating" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Working with Cloudformation Concatenating</h2> 
  <p>In the CloudFormation DSL, there is support for concatenating strings, parameters, and function calls together to build strings. This can get really ugly as they are chained together. There is a <a href="http://monsantoco.github.io/cloudformation-template-generator/latest/api/#com.monsanto.arch.cloudformation.model.package$$AwsStringInterpolator" target="_blank">string interpolator</a> to make this easier.</p> 
  <p><strong>Update 11/17/2016:</strong> While we are not deprecating this functionality at this time, CFTG now supports <code>Fn::Sub</code>, a native way to do something very similar. It can replace both <code>Fn::Join</code> and many uses of <code>Fn::GetAtt</code>. Read more <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-sub.html" target="_blank">here</a>.</p> 
  <h2><a id="user-content-releasing" class="anchor" href="https://github.com/monsantoco/cloudformation-template-generator#releasing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Releasing</h2> 
  <p>This project uses the sbt release plugin. After the changes you want to release are committed on the master branch, you simple need to run two commands to publish the library and its documentation.</p> 
  <pre><code>sbt release
sbt ghpages-push-site
</code></pre> 
 </article>
</div>