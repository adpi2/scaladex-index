<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-google-analytics-lift-module" class="anchor" href="https://github.com/d6y/liftmodules-googleanalytics#google-analytics-lift-module" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Google Analytics Lift Module</h1> 
  <p>Inserts the <a href="http://code.google.com/apis/analytics/docs/tracking/asyncTracking.html" target="_blank">Google Analytics async tracking code</a> into a <a href="http://www.liftweb.net" target="_blank">Lift</a> application.</p> 
  <p>That is, if you supply a Google Analytics tracking ID, the head of all pages will have the Google tracking Javascript code automatically added.</p> 
  <h2><a id="user-content-using-this-module" class="anchor" href="https://github.com/d6y/liftmodules-googleanalytics#using-this-module" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Using this module</h2> 
  <ol> 
   <li><p>Include the dependency:</p> <pre><code>// For Lift 3.0.x (Scala 2.11):
 "net.liftmodules" %% "google-analytics_3.0" % "1.1-SNAPSHOT"

// For Lift 3.0.x (Scala 2.10):
"net.liftmodules" %% "google-analytics_3.0" % "1.0-SNAPSHOT"

// For Lift 2.6.x (Scala 2.11):
"net.liftmodules" %% "google-analytics_2.6" % "1.1-SNAPSHOT"

// For Lift 2.6.x (Scala 2.9 and 2.10):
"net.liftmodules" %% "google-analytics_2.6" % "1.0"

// For Lift 2.5.x (Scala 2.9 and 2.10):
 "net.liftmodules" %% "google-analytics_2.5" % "1.0"
</code></pre></li> 
   <li><p>In your application's Boot.boot code:</p> <pre><code>  bootstrap.liftmodules.GoogleAnalytics.init
</code></pre></li> 
   <li><p>Finally, set your tracking code as the <code>google.analytics.id</code> in your Props file. For example, add the following to <code>src/main/resources/production.default.props</code></p> <pre><code> google.analytics.id=UA-XXXXXXXX-X
</code></pre> <p>...obviously replacing <code>XXXXXXX-X</code> with the code Google issued you with. Be sure to start your Lift app with <code>-Drun.mode=production</code> flag (or set the value of google.analytics.id in your dev props file).</p></li> 
  </ol> 
  <h2><a id="user-content-conditional-behaviour" class="anchor" href="https://github.com/d6y/liftmodules-googleanalytics#conditional-behaviour" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Conditional behaviour</h2> 
  <p>To selectively control if analytics is enable, provide a <code>()=&gt;Boolean</code> function to the <code>init</code> method:</p> 
  <pre><code>import bootstrap.liftmodules.GoogleAnalytics

GoogleAnalytics.init { () =&gt; S.cookieValue("cookie_consent") isDefined }
</code></pre> 
  <p>There's some sugar if you want it:</p> 
  <pre><code>import bootstrap.liftmodules.GoogleAnalytics
import GoogleAnalytics.dsl._

GoogleAnalytics.init {
 only when S.cookieValue("ckns_policy").isDefined
}
</code></pre> 
  <h2><a id="user-content-end-user-cookie-notification" class="anchor" href="https://github.com/d6y/liftmodules-googleanalytics#end-user-cookie-notification" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>End user cookie notification</h2> 
  <p>To assist towards compliance to the EU Privacy and Electronic Communications Regulations (cookie laws) this module includes an end-user notification trigger. It may not be right for you, and it is your responsibility to review you compliance with any regulation.</p> 
  <pre><code>GoogleAnalytics.alertUser ( only when S.cookieValue("cookie_consent").isEmpty ) {
  JsAlert("We set Cookies")
}
</code></pre> 
  <p>The <code>alertUser</code> method expects a test of type <code>()=&gt;Boolean</code> and then a <code>()=&gt;JsCmd</code>.</p> 
  <h2><a id="user-content-development" class="anchor" href="https://github.com/d6y/liftmodules-googleanalytics#development" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Development</h2> 
  <p>When working on this module, if you want to see the effect in a Lift project without having to publish the module, you can change your Lift project to remove the dependency on the published module and instread add a local dependency. E.g.,</p> 
  <pre><code>// project/LoalModuleDev.scala
import sbt._
object LocalModuleDev extends Build {
  lazy val root = Project("", file(".")) dependsOn(google)
  lazy val google = ProjectRef(uri("../liftmodules-googleanalytics"), "LiftModule")
}
</code></pre> 
  <p>When you build your Lift project, SBT will automatically compile changes in the local Google Analytics module.</p> 
 </article>
</div>