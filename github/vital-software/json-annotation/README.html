<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <p>The <strong>@json</strong> scala macro annotation is the quickest way to add a JSON format to your <a href="http://www.playframework.com/" target="_blank">Play</a> project's case classes.</p> 
  <p>Project forked from Martin Raison's <a href="https://github.com/kifi/json-annotation" target="_blank">Kifi macros</a></p> 
  <p>#How it works Just add <code>@json</code> in front of your case class definition:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.github.vitalsoftware.macros.</span><span class="pl-v">_</span>

<span class="pl-k">@</span>json <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Person</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">age</span>: <span class="pl-k">Int</span>)</pre>
  </div> 
  <p>You can now serialize/deserialize your objects using Play's convenience methods:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">play.api.libs.json.</span><span class="pl-v">_</span>
<span class="pl-k">val</span> <span class="pl-en">person</span> <span class="pl-k">=</span> <span class="pl-en">Person</span>(<span class="pl-s"><span class="pl-pds">"</span>Victor Hugo<span class="pl-pds">"</span></span>, <span class="pl-c1">46</span>)
<span class="pl-k">val</span> <span class="pl-en">json</span> <span class="pl-k">=</span> <span class="pl-en">Json</span>.toJson(person)
<span class="pl-en">Json</span>.fromJson[<span class="pl-en">Person</span>](json)</pre>
  </div> 
  <p>For Play-Json 2.6+, you can use @jsonDefaults as an equivalent to Json.using[Json.WithDefaults].format[T]. This creates a format where the Reads[T] will pull in default values from non-Option case classes. These must be static values (e.g. timestamp = DateTime.now is not a good default, as DateTime.now is a def).</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">@</span>jsonDefaults <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Person</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">age</span>: <span class="pl-k">Int</span> <span class="pl-k">=</span> <span class="pl-c1">7</span>)
<span class="pl-en">Json</span>.fromJson(<span class="pl-s"><span class="pl-pds">"</span>{<span class="pl-cce">\"</span>name<span class="pl-cce">\"</span>: <span class="pl-cce">\"</span>Victor Hugo<span class="pl-cce">\"</span>}<span class="pl-pds">"</span></span>)
<span class="pl-k">&gt;</span> <span class="pl-en">Person</span>(<span class="pl-s"><span class="pl-pds">"</span>Victor Hugo<span class="pl-pds">"</span></span>, <span class="pl-c1">7</span>)</pre>
  </div> 
  <p>#Installation</p> 
  <p>If you're using Play with SBT, you should add both the package and the "Macros Paradise" compiler plugin:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.github.vital-software<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>json-annotation<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.3<span class="pl-pds">"</span></span>
addCompilerPlugin(<span class="pl-s"><span class="pl-pds">"</span>org.scalamacros<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>paradise<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>2.1.0<span class="pl-pds">"</span></span> cross <span class="pl-en">CrossVersion</span>.full)</pre>
  </div> 
  <p>If you're not using Play, you will also need to add <code>play-json</code> to your dependencies:</p> 
  <div class="highlight highlight-source-scala">
   <pre>resolvers <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Typesafe Repo<span class="pl-pds">"</span></span> at <span class="pl-s"><span class="pl-pds">"</span>http://repo.typesafe.com/typesafe/releases/<span class="pl-pds">"</span></span>
libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.typesafe.play<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>play-json<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>2.6.0-M3<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>This library was tested with both Scala 2.10 and 2.11.</p> 
 </article>
</div>