<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-util---------" class="anchor" href="https://github.com/outworkers/util#util---------" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>util<a href="https://travis-ci.org/outworkers/util" target="_blank"><img src="https://camo.githubusercontent.com/4f10d5099de42c54f840d30a8017c40a98f11f7e/68747470733a2f2f7472617669732d63692e6f72672f6f7574776f726b6572732f7574696c2e7376673f6272616e63683d646576656c6f70" alt="Build Status" data-canonical-src="https://travis-ci.org/outworkers/util.svg?branch=develop" style="max-width:100%;"></a> <a href="https://coveralls.io/github/outworkers/util?branch=develop" target="_blank"><img src="https://camo.githubusercontent.com/23b53bdcb19880a239d819484b3fd6291d92482a/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f6f7574776f726b6572732f7574696c2f62616467652e7376673f6272616e63683d646576656c6f70" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/github/outworkers/util/badge.svg?branch=develop" style="max-width:100%;"></a> <a href="https://maven-badges.herokuapp.com/maven-central/com.outworkers/util-lift_2.11" target="_blank"><img src="https://camo.githubusercontent.com/3f5b524163903ee447fe10d3295e670d36b0fc02/68747470733a2f2f6d6176656e2d6261646765732e6865726f6b756170702e636f6d2f6d6176656e2d63656e7472616c2f636f6d2e6f7574776f726b6572732f7574696c2d6c6966745f322e31312f62616467652e737667" alt="Maven Central" data-canonical-src="https://maven-badges.herokuapp.com/maven-central/com.outworkers/util-lift_2.11/badge.svg" style="max-width:100%;"></a> <a href="https://bintray.com/outworkers/oss-releases/util-lift/_latestVersion" target="_blank"> <img src="https://camo.githubusercontent.com/4443b8392f2d2607f3dc78b6b3ec5e50f02740fc/68747470733a2f2f6170692e62696e747261792e636f6d2f7061636b616765732f6f7574776f726b6572732f6f73732d72656c65617365732f7574696c2f696d616765732f646f776e6c6f61642e737667" alt="Bintray" data-canonical-src="https://api.bintray.com/packages/outworkers/oss-releases/util/images/download.svg" style="max-width:100%;"> </a> <a href="http://javadoc-badge.appspot.com/com.outworkers/util-lift_2.11" target="_blank"><img src="https://camo.githubusercontent.com/8fc96b8e4986099b57765f91ea81377056000edf/687474703a2f2f6a617661646f632d62616467652e61707073706f742e636f6d2f636f6d2e6f7574776f726b6572732f7574696c5f322e31312e7376673f6c6162656c3d7363616c61646f63" alt="ScalaDoc" data-canonical-src="http://javadoc-badge.appspot.com/com.outworkers/util_2.11.svg?label=scaladoc" style="max-width:100%;"></a> <a href="https://gitter.im/outworkers/util?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Gitter" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"></a></h1> 
  <p>This library is available on Maven Central and on our public Bintray repository, found at: <code>https://dl.bintray.com/outworkers/oss-releases/</code>.</p> 
  <p>It is publicly available, for both Scala 2.10.x and Scala 2.11.x. Check the badges at the top of this README for the latest version of <code>util</code> available. The badges are automatically updated when a new version is out, this readme is not.</p> 
  <p><a href="https://camo.githubusercontent.com/20755f59b9d22bc05948f36a3225947d39885f91/68747470733a2f2f73332d65752d776573742d312e616d617a6f6e6177732e636f6d2f7765627375646f732f6f73732f6c6f676f732f7574696c2e706e67" target="_blank"><img src="https://camo.githubusercontent.com/20755f59b9d22bc05948f36a3225947d39885f91/68747470733a2f2f73332d65752d776573742d312e616d617a6f6e6177732e636f6d2f7765627375646f732f6f73732f6c6f676f732f7574696c2e706e67" alt="Util" title="Outworkers Util" data-canonical-src="https://s3-eu-west-1.amazonaws.com/websudos/oss/logos/util.png" style="max-width:100%;"></a></p> 
  <h3><a id="user-content-table-of-contents" class="anchor" href="https://github.com/outworkers/util#table-of-contents" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Table of contents</h3> 
  <ol> 
   <li><a href="https://github.com/outworkers/util#integrating-the-util-library" target="_blank">Integrating the util library</a></li> 
   <li> <p><a href="https://github.com/outworkers/util#util-parsers" target="_blank">util-parsers</a></p> 
    <ul> 
     <li><a href="https://github.com/outworkers/util#option-parsers" target="_blank">Option parsers</a></li> 
     <li><a href="https://github.com/outworkers/util#applicative-parsers" target="_blank">Applicative parsers</a></li> 
    </ul> </li> 
   <li> <p><a href="https://github.com/outworkers/util#util-parsers" target="_blank">util-parsers-cats</a></p> 
    <ul> 
     <li><a href="https://github.com/outworkers/util#option-parsers" target="_blank">Option parsers</a></li> 
     <li><a href="https://github.com/outworkers/util#applicative-parsers" target="_blank">Applicative parsers</a></li> 
    </ul> </li> 
   <li> <p><a href="https://github.com/outworkers/util#util-testing" target="_blank">util-testing</a></p> 
    <ul> 
     <li><a href="https://github.com/outworkers/util#async-assertions" target="_blank">Async assertions</a></li> 
     <li><a href="https://github.com/outworkers/util#data-sampling" target="_blank">Data sampling</a></li> 
     <li><a href="https://github.com/outworkers/util#automated-sampling" target="_blank">Automated sampling</a></li> 
    </ul> </li> 
   <li> <p><a href="https://github.com/outworkers/util#util-zookeeper" target="_blank">util-zookeeper</a></p> 
    <ul> 
     <li><a href="https://github.com/outworkers/util#zookeeperinstance" target="_blank">ZooKeeperInstance</a></li> 
     <li><a href="https://github.com/outworkers/util#zookeeperconf>ZooKeeperConf</a></li>
    </ul>
  </li>
  
  <li><a href=" target="_blank">Copyright</a></li> 
     <li><a href="https://github.com/outworkers/util#style-guidelines" target="_blank">Scala Style Guidelines</a></li> 
     <li><a href="https://github.com/outworkers/util#git-flow" target="_blank">Git Flow</a></li> 
     <li><a href="https://github.com/outworkers/util#contributing" target="_blank">Contributing</a></li> 
     <li><a href="https://github.com/outworkers/util#copyright" target="_blank">Copyright</a></li> 
    </ul></li>
  </ol> 
  <h3><a id="user-content-integrating-the-util-library" class="anchor" href="https://github.com/outworkers/util#integrating-the-util-library" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Integrating the util library</h3> 
  <p><a href="https://github.com/outworkers/util#table-of-contents" target="_blank">Back to top</a></p> 
  <p>The util library is designed to wrap common functionality in all our frameworks and offer it at the convenience of a dependency. Anything that will be useful long term to a great number of people belongs in these modules, to avoid duplication and help make our devs aware they can simply use what already exists.</p> 
  <p>The full list of available modules is:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-s"><span class="pl-pds">"</span>com.outworkers<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>util-lift<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-en">Versions</span>.util,
  <span class="pl-s"><span class="pl-pds">"</span>com.outworkers<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>util-domain<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-en">Versions</span>.util,
  <span class="pl-s"><span class="pl-pds">"</span>com.outworkers<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>util-parsers<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-en">Versions</span>.util,
  <span class="pl-s"><span class="pl-pds">"</span>com.outworkers<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>util-parsers-cats<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-en">Versions</span>.util,
  <span class="pl-s"><span class="pl-pds">"</span>com.outworkers<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>util-validators<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-en">Versions</span>.util,
  <span class="pl-s"><span class="pl-pds">"</span>com.outworkers<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>util-validators-cats<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-en">Versions</span>.util,
  <span class="pl-s"><span class="pl-pds">"</span>com.outworkers<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>util-play<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-en">Versions</span>.util,
  <span class="pl-s"><span class="pl-pds">"</span>com.outworkers<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>util-urls<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-en">Versions</span>.util,
  <span class="pl-s"><span class="pl-pds">"</span>com.outworkers<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>util-testing<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-en">Versions</span>.util
)</pre>
  </div> 
  <h3><a id="user-content-util-testing" class="anchor" href="https://github.com/outworkers/util#util-testing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>util-testing</h3> 
  <p><a href="https://github.com/outworkers/util#table-of-contents" target="_blank">Back to top</a></p> 
  <p>The testing module features the <code>AsyncAssertionsHelper</code>, which builds on top of ScalaTest to offer simple asynchronous assertions. We use this pattern heavily throughout the Outworkers ecosystem of projects, from internal to DSL modules and so forth. Asynchronous testing generally offers a considerable performance gain in code.</p> 
  <h3><a id="user-content-async-assertions" class="anchor" href="https://github.com/outworkers/util#async-assertions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Async assertions</h3> 
  <p><a href="https://github.com/outworkers/util#table-of-contents" target="_blank">Back to top</a></p> 
  <p>The async assertions module features a dual API, so you can call the same methods on both <code>scala.concurrent.Future</code> and <code>com.twitter.util.Future</code>. The underlying mechanism will create an async <code>Waiter</code>, that will wait for the future to complete within the given <code>PatienceConfiguration</code>. The awaiting is done asynchronously and the assertions are invoked and evaluated once the future in question has returned a result.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.outworkers.util.testing.</span><span class="pl-v">_</span>

<span class="pl-k">class</span> <span class="pl-en">MyTests</span> <span class="pl-k">extends</span> <span class="pl-e">FlatSuite</span> <span class="pl-k">with</span> <span class="pl-e">Matchers</span> {

  <span class="pl-s"><span class="pl-pds">"</span>The async computation<span class="pl-pds">"</span></span> should <span class="pl-s"><span class="pl-pds">"</span>return 0 on completion<span class="pl-pds">"</span></span> in {
    <span class="pl-k">val</span> <span class="pl-en">f</span><span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-k">Int</span>] <span class="pl-k">=</span> .. <span class="pl-c"><span class="pl-c">//</span> Pretend this is a Future just like any other future.</span>
    f.successful {
      res <span class="pl-k">=&gt;</span> {
        res shouldEqual <span class="pl-c1">0</span>
      }
    }
  }

  <span class="pl-s"><span class="pl-pds">"</span>This async computation<span class="pl-pds">"</span></span> should <span class="pl-s"><span class="pl-pds">"</span>fail by design<span class="pl-pds">"</span></span> in {
    <span class="pl-k">val</span> <span class="pl-en">f</span><span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-k">Unit</span>] <span class="pl-k">=</span> ..

    <span class="pl-c"><span class="pl-c">//</span> You don't even need to do anything more than failure at this stage.</span>
    <span class="pl-c"><span class="pl-c">//</span> If the Future fails, the test will succeed, as this method is used when you "expect a failure".</span>
    <span class="pl-c"><span class="pl-c">//</span> You can however perform assertions on the error returned.</span>
    f.failing {
      err <span class="pl-k">=&gt;</span> {
      }
    }
  }

  <span class="pl-s"><span class="pl-pds">"</span>This async computation<span class="pl-pds">"</span></span> should <span class="pl-s"><span class="pl-pds">"</span>fail with a specific error<span class="pl-pds">"</span></span> in {
      <span class="pl-k">val</span> <span class="pl-en">f</span><span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-k">Unit</span>] <span class="pl-k">=</span> ..
      f.failingWith[<span class="pl-en">NumberFormatException</span>] {
        err <span class="pl-k">=&gt;</span> {
        }
      }
    }

}</pre>
  </div> 
  <p>You can directly customise the <code>timeout</code> of all <code>Waiters</code> using the ScalaTest specific time span implementations and interval configurations.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">org.scalatest.concurrent.</span><span class="pl-v">PatienceConfiguration</span>
<span class="pl-k">import</span> <span class="pl-v">org.scalatest.time.SpanSugar.</span><span class="pl-v">_</span>

<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">timeout</span><span class="pl-k">:</span> <span class="pl-en">PatienceConfiguration</span>.<span class="pl-en">Timeout</span> <span class="pl-k">=</span> timeout(<span class="pl-c1">20</span> seconds)
</pre>
  </div> 
  <p>Summary:</p> 
  <ul> 
   <li>The dependency you need is <code>"com.outworkers" %% "util-testing" % UtilVersion</code>.</li> 
   <li>You have to import <code>com.outworkers.util.testing._</code>.</li> 
   <li>You have three main assertion methods, <code>successful</code>, <code>failing</code>, and <code>failingWith</code>.</li> 
   <li>You can configure the timeout of waiters with <code>implicit val timeout: PatienceConfiguration.Timeout = timeout(20 seconds)</code>.</li> 
   <li>The default timeout value is <code>1 second</code>.</li> 
  </ul> 
  <h3><a id="user-content-data-sampling" class="anchor" href="https://github.com/outworkers/util#data-sampling" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Data sampling</h3> 
  <p><a href="https://github.com/outworkers/util#table-of-contents" target="_blank">Back to top</a></p> 
  <p>This is a very common pattern we use in our testing and it's very easy to interchange this generation with something like ScalaCheck. The idea is very simple, you use type classes to define ways to sample a given type. After you define such a one-time sampling type class instance, you have access to several methods that will allow you to generate test data.</p> 
  <p>It's useful to define such typeclass instances inside package objects, as they will be "invisibly" imported in to the scope you need them to. This is often really neat, albeit potentially confusing for novice Scala users.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.outworkers.util.testing.</span><span class="pl-v">_</span>

<span class="pl-k">@</span>sample <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">MyAwesomeClass</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">age</span>: <span class="pl-k">Int</span>, <span class="pl-v">email</span>: <span class="pl-k">String</span>)</pre>
  </div> 
  <p>You may notice this pattern is already available in better libraries such as ScalaMock and we are not trying to provide an alternative to ScalaMock or compete with it in any way. Our typeclass generator approach only becomes very useful where you really care about very specific properties of the data. For instance, you may want to get a user with a valid email address, or you may use the underlying factories to get a name that reassembles the name of a real person, and so on.</p> 
  <p>It's also useful when you want to define specific ways in which hierarchies of classes are composed together into a sample. If generation for the sake of generation is all you care about, then ScalaMock is probably more robust.</p> 
  <h3><a id="user-content-automated-sampling" class="anchor" href="https://github.com/outworkers/util#automated-sampling" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Automated sampling</h3> 
  <p><a href="https://github.com/outworkers/util#table-of-contents" target="_blank">Back to top</a></p> 
  <p>One interesting thing that happens when using the <code>@sample</code> annotation is that using <code>gen</code> immediately after it will basically give you an instance of your <code>case class</code> with the fields appropiately pre-filled, and some of the basic scenarios are also name aware.</p> 
  <p>What this means is that we try to make the data feel "real" with respect to what it should be. Let's take the below example:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">@</span>sample <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">User</span>(
  <span class="pl-v">id</span>: <span class="pl-en">UUID</span>,
  <span class="pl-v">firstName</span>: <span class="pl-k">String</span>,
  <span class="pl-v">lastName</span>: <span class="pl-k">String</span>,
  <span class="pl-v">email</span>: <span class="pl-k">String</span>
)</pre>
  </div> 
  <p>This is interesting and common enough. What's more interesting is the output of <code>gen</code>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">user</span> <span class="pl-k">=</span> gen[<span class="pl-en">User</span>]

<span class="pl-en">Console</span>.println(user.trace())

<span class="pl-c"><span class="pl-c">/**</span></span>
<span class="pl-c">User(</span>
<span class="pl-c">  id = 6be8914c-4274-40ee-83f5-334131246fd8</span>
<span class="pl-c">  firstName = Lindsey</span>
<span class="pl-c">  lastName = Craft</span>
<span class="pl-c">  email = rparker@hotma1l.us</span>
<span class="pl-c">)</span>
<span class="pl-c"><span class="pl-c">*/</span></span>
</pre>
  </div> 
  <p>So as you can see, the fields have been appropriately pre-filled. The email is a valid email, and the first and last name look like first and last names. For anything that's in the default generation domain, including dates and country codes and much more, we have the ability to produce automated appropriate values.</p> 
  <p>During the macro expansion phase, we check the annotation targets and try to infer the "natural" value based on the field name and type. So if your field name is either "email" or "emailAddress" or anything similar enough, you will get an "email" back.</p> 
  <h3><a id="user-content-generating-data" class="anchor" href="https://github.com/outworkers/util#generating-data" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Generating data</h3> 
  <p>There are multiple methods available, allowing you to generate more than just the type:</p> 
  <ul> 
   <li><code>gen[T]</code>, used to generate a single instance of T.</li> 
   <li><code>gen[X, Y]</code>, used to generate a tuple based on two samples.</li> 
   <li><code>genOpt[T]</code>, convenience method that will give you back a <code>Some[T](..)</code>.</li> 
   <li><code>genList[T](limit)</code>, convenience method that will give you back a <code>List[T]</code>. The numbers of items in the list is equal to the <code>limit</code> and has a default value of 5 if not specified.</li> 
   <li><code>genMap[T]()</code>, convenience method that will give you back a <code>Map[String, T]</code>.</li> 
  </ul> 
  <p>There is also a default list of available generators for some default types, and to get to their value simply use the <code>value</code> method if the type is not a primitive. For things like <code>EmailAddress</code>, the point of the extra class is obviously to distinguish the type during implicit resolution, but you don't need to use our abstraction at all, there will always be an easy way to get to the underlying generated primitives.</p> 
  <p>In the case of email addresses, you can use <code>gen[EmailAddress].value</code>, which will correctly generate a valid <code>EmailAddress</code> but you can work directly with a <code>String</code>.</p> 
  <ul> 
   <li><code>scala.Int</code></li> 
   <li><code>scala.Double</code></li> 
   <li><code>scala.Float</code></li> 
   <li><code>scala.Long</code></li> 
   <li><code>scala.String</code></li> 
   <li><code>scala.math.BigDecimal</code></li> 
   <li><code>scala.math.BigInt</code></li> 
   <li><code>java.util.Date</code></li> 
   <li><code>java.util.UUID</code></li> 
   <li><code>org.joda.time.DateTime</code></li> 
   <li><code>org.joda.time.LocalDate</code></li> 
   <li><code>com.outworkers.util.domain.Definitions.EmailAddress(value)</code></li> 
   <li><code>com.outworkers.util.domain.Definitions.FirstName(value)</code></li> 
   <li><code>com.outworkers.util.domain.Definitions.LastName(value)</code></li> 
   <li><code>com.outworkers.util.domain.Definitions.FullName(value)</code></li> 
   <li><code>com.outworkers.util.domain.Definitions.CountryCode(value)</code></li> 
   <li><code>com.outworkers.util.domain.Definitions.Country(value)</code></li> 
   <li><code>com.outworkers.util.domain.Definitions.City(value)</code></li> 
   <li><code>com.outworkers.util.domain.Definitions.ProgrammingLanguage(value)</code></li> 
   <li><code>com.outworkers.util.domain.Definitions.LoremIpsum(value)</code></li> 
  </ul> 
  <h3><a id="user-content-util-parsers" class="anchor" href="https://github.com/outworkers/util#util-parsers" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>util-parsers</h3> 
  <p><a href="https://github.com/outworkers/util#table-of-contents" target="_blank">Back to top</a></p> 
  <p>The parser module features an easy to use and integrate set of ScalaZ Applicative based parsers, with an <code>Option</code> based parser variant. It allows us to seamlessly deal with validation chains at REST API level or whenever validation is involved. Whether it's monadic composition of options or chaining of applicative functors to obtain a "correct" chain, the parser module is designed to offer an all-you-can-eat buffet of mini parsers that can be easily composed to suit any validation needs. </p> 
  <p>Each parser comes in three distinct flavours, a <code>ValidationNel</code> parser that parsers the end type from a <code>String</code> and returns the type itself, a parser that parses an end result from an <code>Option[String]</code> and parserOpt variant that returns an <code>Option[T]</code> instead of a <code>ValidationNel[String, T]</code>, which allows for Monadic composition, where you need to "short-circuit" evaluation and validation, instead of computing the full chain by chaining applicatives.</p> 
  <h3><a id="user-content-option-parsers" class="anchor" href="https://github.com/outworkers/util#option-parsers" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Option parsers</h3> 
  <p><a href="https://github.com/outworkers/util#table-of-contents" target="_blank">Back to top</a></p> 
  <p>The full list of optional parsers is:</p> 
  <table>
   <thead> 
    <tr> 
     <th>Type</th> 
     <th>Input type</th> 
     <th>Parser Output type</th> 
    </tr> 
   </thead>
   <tbody> 
    <tr> 
     <td>Int</td> 
     <td>String|Option[String]</td> 
     <td>ValidationNel[String, Int]</td> 
    </tr> 
    <tr> 
     <td>Long</td> 
     <td>String|Option[String]</td> 
     <td>ValidationNel[String, Long]</td> 
    </tr> 
    <tr> 
     <td>Double</td> 
     <td>String|Option[String]</td> 
     <td>ValidationNel[String, Double]</td> 
    </tr> 
    <tr> 
     <td>Float</td> 
     <td>String|Option[String]</td> 
     <td>ValidationNel[String, Float]</td> 
    </tr> 
    <tr> 
     <td>UUID</td> 
     <td>String|Option[String]</td> 
     <td>ValidationNel[String, UUID]</td> 
    </tr> 
    <tr> 
     <td>Email</td> 
     <td>String|Option[String]</td> 
     <td>ValidationNel[String, String]</td> 
    </tr> 
    <tr> 
     <td>DateTime</td> 
     <td>String|Option[String]</td> 
     <td>ValidationNel[String, org.joda.time.DateTime]</td> 
    </tr> 
   </tbody>
  </table> 
  <p>Option parsers are designed for chains where you want to short-circuit and exit to result as soon a parser fails. This short-circuit behaviour is the default <code>flatMap</code> behaviour of an <code>Option</code>, as soon as an <code>Option</code> is <code>None</code> the chain breaks. Unlike applicatives, the evaluation sequence of options will be escaped and you cannot for instance return an error for every parser that couldn't validate. Instead, you will only get the first error in the sequence.</p> 
  <p>An example of how to use <code>Option</code> parsers might be:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.outworkers.util.parsers.</span><span class="pl-v">_</span>

<span class="pl-k">object</span> <span class="pl-en">Test</span> {
  <span class="pl-k">def</span> <span class="pl-en">optionalParsing</span>(<span class="pl-v">email</span>: <span class="pl-k">String</span>, <span class="pl-v">age</span>: <span class="pl-k">String</span>)<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
    <span class="pl-k">for</span> {
      validEmail <span class="pl-k">&lt;</span><span class="pl-k">-</span> parseOpt[<span class="pl-en">EmailAddress</span>](email)
      validAge <span class="pl-k">&lt;</span><span class="pl-k">-</span> parseOpt[<span class="pl-k">Int</span>](age)
    } <span class="pl-k">yield</span> s<span class="pl-s"><span class="pl-pds">"</span>This person can be reached at $validEmail and is $validAge years old<span class="pl-pds">"</span></span>
  }
}
</pre>
  </div> 
  <h3><a id="user-content-applicative-parsers" class="anchor" href="https://github.com/outworkers/util#applicative-parsers" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Applicative parsers</h3> 
  <p><a href="https://github.com/outworkers/util#table-of-contents" target="_blank">Back to top</a></p> 
  <p>The full list of ScalaZ Validation based applicative parsers is:</p> 
  <table>
   <thead> 
    <tr> 
     <th>Type</th> 
     <th>Input type</th> 
     <th>Parser Output type</th> 
    </tr> 
   </thead>
   <tbody> 
    <tr> 
     <td>Int</td> 
     <td>String|Option[String]</td> 
     <td>ValidationNel[String, Int]</td> 
    </tr> 
    <tr> 
     <td>Long</td> 
     <td>String|Option[String]</td> 
     <td>ValidationNel[String, Long]</td> 
    </tr> 
    <tr> 
     <td>Double</td> 
     <td>String|Option[String]</td> 
     <td>ValidationNel[String, Double]</td> 
    </tr> 
    <tr> 
     <td>Float</td> 
     <td>String|Option[String]</td> 
     <td>ValidationNel[String, Float]</td> 
    </tr> 
    <tr> 
     <td>UUID</td> 
     <td>String|Option[String]</td> 
     <td>ValidationNel[String, UUID]</td> 
    </tr> 
    <tr> 
     <td>Email</td> 
     <td>String|Option[String]</td> 
     <td>ValidationNel[String, String]</td> 
    </tr> 
    <tr> 
     <td>DateTime</td> 
     <td>String|Option[String]</td> 
     <td>ValidationNel[String, org.joda.time.DateTime]</td> 
    </tr> 
   </tbody>
  </table> 
  <p>To illustrate the basic usage of applicative parsers and how to chain them, have a look below.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scalaz.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">scalaz.Scalaz.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">com.outworkers.util.parsers.</span><span class="pl-v">_</span>

<span class="pl-k">object</span> <span class="pl-en">Test</span> {

  <span class="pl-k">def</span> <span class="pl-en">registerUser</span>(<span class="pl-v">str</span>: <span class="pl-k">String</span>, <span class="pl-v">age</span>: <span class="pl-k">String</span>)<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
    (parse[<span class="pl-en">EmailAddress</span>](str) <span class="pl-k">|@|</span> parse[<span class="pl-k">Int</span>](age)) {
      (validEmail, validAge) <span class="pl-k">=&gt;</span> {
      }
    }.fold {
      <span class="pl-c"><span class="pl-c">//</span> .. </span>
    }
  }

}</pre>
  </div> 
  <h3><a id="user-content-contributors" class="anchor" href="https://github.com/outworkers/util#contributors" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contributors</h3> 
  <p><a href="https://github.com/outworkers/util#table-of-contents" target="_blank">Back to top</a></p> 
  <ul> 
   <li>Flavian Alexandru @alexflav23</li> 
   <li>Jens Halm @jenshalm</li> 
   <li>Bartosz Jankiewicz @bjankie1</li> 
  </ul> 
  <h1><a id="user-content-copyright" class="anchor" href="https://github.com/outworkers/util#copyright" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a><a id="user-content-copyright" target="_blank" href="">Copyright</a></h1> 
  <p><a href="https://github.com/outworkers/util#table-of-contents" target="_blank">Back to top</a></p> 
  <p>Copyright (c) 2014 - 2016 outworkers.</p> 
 </article>
</div>