<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/melrief/purecsv#purecsv" aria-hidden="true" class="anchor" id="user-content-purecsv" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>PureCSV</h1> 
  <p><a href="https://travis-ci.org/melrief/PureCSV" target="_blank"><img src="https://camo.githubusercontent.com/60a78ae9f882710b9e007fc631c2492502f0a229/68747470733a2f2f7472617669732d63692e6f72672f6d656c726965662f507572654353562e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/melrief/PureCSV.svg?branch=master" style="max-width:100%;"></a> <a href="https://maven-badges.herokuapp.com/maven-central/com.github.melrief/purecsv_2.11" target="_blank"><img src="https://camo.githubusercontent.com/1c3d3a632d011122fbfbdc38943fe19b48ae951d/68747470733a2f2f6d6176656e2d6261646765732e6865726f6b756170702e636f6d2f6d6176656e2d63656e7472616c2f636f6d2e6769746875622e6d656c726965662f707572656373765f322e31312f62616467652e737667" alt="Maven Central" data-canonical-src="https://maven-badges.herokuapp.com/maven-central/com.github.melrief/purecsv_2.11/badge.svg" style="max-width:100%;"></a></p> 
  <p>PureCSV is a Scala library for working with the CSV format. The library gets rid of most of the boilerplate required to work with CSV</p> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> <span class="pl-k">import</span> <span class="pl-v">purecsv.unsafe.</span><span class="pl-v">_</span>
scala<span class="pl-k">&gt;</span> <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Event</span>(<span class="pl-v">ts</span>: <span class="pl-k">Long</span>, <span class="pl-v">msg</span>: <span class="pl-k">String</span>)
scala<span class="pl-k">&gt;</span> <span class="pl-k">val</span> <span class="pl-en">records</span> <span class="pl-k">=</span> <span class="pl-en">CSVReader</span>[<span class="pl-en">Event</span>].readCSVFromString(<span class="pl-s"><span class="pl-pds">"</span>1,foo<span class="pl-cce">\n</span>2,bar<span class="pl-pds">"</span></span>)
records<span class="pl-k">:</span> <span class="pl-en">List</span>[<span class="pl-en">Event</span>] <span class="pl-k">=</span> <span class="pl-en">List</span>(<span class="pl-en">Event</span>(<span class="pl-c1">1</span>,foo), <span class="pl-en">Event</span>(<span class="pl-c1">2</span>,bar))
scala<span class="pl-k">&gt;</span> records.toCSV()
res0<span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span>
<span class="pl-c1">1</span>,<span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>
<span class="pl-c1">2</span>,<span class="pl-s"><span class="pl-pds">"</span>bar</span></pre>
  </div> 
  <p>In this example, a case class called <code>Event</code> is defined and immediately used to read to and write from CSV.</p> 
  <h2><a href="https://github.com/melrief/purecsv#add-the-library-to-your-project" aria-hidden="true" class="anchor" id="user-content-add-the-library-to-your-project" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Add the library to your project</h2> 
  <p>Add the Sonatype release repository to the resolvers and then add the library to the project libraryDependencies:</p> 
  <div class="highlight highlight-source-scala">
   <pre>resolvers <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-en">Resolver</span>.sonatypeRepo(<span class="pl-s"><span class="pl-pds">"</span>releases<span class="pl-pds">"</span></span>)

libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.github.melrief<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>purecsv<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.1.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>The library works for both Scala 2.11.x and 2.12.x.</p> 
  <h2><a href="https://github.com/melrief/purecsv#use-the-library" aria-hidden="true" class="anchor" id="user-content-use-the-library" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Use the library</h2> 
  <h3><a href="https://github.com/melrief/purecsv#writing-to-csv" aria-hidden="true" class="anchor" id="user-content-writing-to-csv" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Writing to CSV</h3> 
  <p>To convert a value to a CSV String use <code>toCSV</code></p> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> <span class="pl-k">import</span> <span class="pl-v">purecsv.safe.</span><span class="pl-v">_</span>
scala<span class="pl-k">&gt;</span> <span class="pl-k">class</span> <span class="pl-en">Interval</span>(<span class="pl-k">val</span> <span class="pl-en">start</span><span class="pl-k">:</span> <span class="pl-k">Long</span>, <span class="pl-k">val</span> <span class="pl-en">end</span><span class="pl-k">:</span> <span class="pl-k">Long</span>)
scala<span class="pl-k">&gt;</span> <span class="pl-k">new</span> <span class="pl-en">Interval</span>(<span class="pl-c1">10</span>,<span class="pl-c1">20</span>).toCSV()
res1<span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> <span class="pl-c1">1</span>,<span class="pl-c1">10</span>
scala<span class="pl-k">&gt;</span> <span class="pl-en">Seq</span>(<span class="pl-k">new</span> <span class="pl-en">Interval</span>(<span class="pl-c1">1</span>,<span class="pl-c1">10</span>),<span class="pl-k">new</span> <span class="pl-en">Interval</span>(<span class="pl-c1">11</span>,<span class="pl-c1">20</span>)).toCSV(<span class="pl-s"><span class="pl-pds">"</span>|<span class="pl-pds">"</span></span>)
res2<span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span>
<span class="pl-c1">1</span><span class="pl-k">|</span><span class="pl-c1">10</span>
<span class="pl-c1">11</span><span class="pl-k">|</span><span class="pl-c1">20</span></pre>
  </div> 
  <p>To write CSV values to a file use <code>writeCSVToFile</code> or <code>writeCSVToFileName</code></p> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> <span class="pl-k">import</span> <span class="pl-v">purecsv.unsafe.</span><span class="pl-v">_</span>
scala<span class="pl-k">&gt;</span> <span class="pl-k">class</span> <span class="pl-en">Interval</span>(<span class="pl-k">val</span> <span class="pl-en">start</span><span class="pl-k">:</span> <span class="pl-k">Long</span>, <span class="pl-k">val</span> <span class="pl-en">end</span><span class="pl-k">:</span> <span class="pl-k">Long</span>) { <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">toString</span><span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> s<span class="pl-s"><span class="pl-pds">"</span>Interval($start,$end)<span class="pl-pds">"</span></span> }
scala<span class="pl-k">&gt;</span> <span class="pl-en">Seq</span>(<span class="pl-k">new</span> <span class="pl-en">Interval</span>(<span class="pl-c1">1</span>,<span class="pl-c1">10</span>),<span class="pl-k">new</span> <span class="pl-en">Interval</span>(<span class="pl-c1">11</span>,<span class="pl-c1">20</span>)).writeCSVToFileName(<span class="pl-s"><span class="pl-pds">"</span>/tmp/example.csv<span class="pl-pds">"</span></span>)
scala<span class="pl-k">&gt;</span> scala.io.<span class="pl-en">Source</span>.fromFile(<span class="pl-s"><span class="pl-pds">"</span>/tmp/example.csv<span class="pl-pds">"</span></span>).getLines.toList
res0<span class="pl-k">:</span> <span class="pl-en">List</span>[<span class="pl-k">String</span>] <span class="pl-k">=</span> <span class="pl-en">List</span>(<span class="pl-c1">1</span>,<span class="pl-c1">10</span>, <span class="pl-c1">11</span>,<span class="pl-c1">20</span>)
scala<span class="pl-k">&gt;</span> <span class="pl-en">CSVReader</span>[<span class="pl-en">Interval</span>].readCSVFromFile(<span class="pl-s"><span class="pl-pds">"</span>/tmp/example.csv<span class="pl-pds">"</span></span>)
res2<span class="pl-k">:</span> <span class="pl-en">List</span>[<span class="pl-en">Interval</span>] <span class="pl-k">=</span> <span class="pl-en">List</span>(<span class="pl-en">Interval</span>(<span class="pl-c1">1</span>,<span class="pl-c1">10</span>), <span class="pl-en">Interval</span>(<span class="pl-c1">11</span>,<span class="pl-c1">20</span>))</pre>
  </div> 
  <h3><a href="https://github.com/melrief/purecsv#reading-from-csv" aria-hidden="true" class="anchor" id="user-content-reading-from-csv" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Reading from CSV</h3> 
  <p>Reading from CSV is a bit different from writing to CSV. There are two different ways to read from CSV Strings, one safe and the other unsafe. See next paragraph for the difference. Other than that, a <code>CSVReader</code> instance should be used to read data</p> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> <span class="pl-k">import</span> <span class="pl-v">purecsv.unsafe.</span><span class="pl-v">_</span>
scala<span class="pl-k">&gt;</span> <span class="pl-k">class</span> <span class="pl-en">Interval</span>(<span class="pl-k">val</span> <span class="pl-en">start</span><span class="pl-k">:</span> <span class="pl-k">Long</span>, <span class="pl-k">val</span> <span class="pl-en">end</span><span class="pl-k">:</span> <span class="pl-k">Long</span>) { <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">toString</span><span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> s<span class="pl-s"><span class="pl-pds">"</span>Interval($start,$end)<span class="pl-pds">"</span></span> }
scala<span class="pl-k">&gt;</span> <span class="pl-en">CSVReader</span>[<span class="pl-en">Interval</span>].readCSVFromFile(<span class="pl-s"><span class="pl-pds">"</span>/tmp/example.csv<span class="pl-pds">"</span></span>)
res2<span class="pl-k">:</span> <span class="pl-en">List</span>[<span class="pl-en">Interval</span>] <span class="pl-k">=</span> <span class="pl-en">List</span>(<span class="pl-en">Interval</span>(<span class="pl-c1">1</span>,<span class="pl-c1">10</span>), <span class="pl-en">Interval</span>(<span class="pl-c1">11</span>,<span class="pl-c1">20</span>))</pre>
  </div> 
  <p>If the source has a header, it is possible to skip it.</p> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> <span class="pl-k">import</span> <span class="pl-v">purecsv.unsafe.</span><span class="pl-v">_</span>
scala<span class="pl-k">&gt;</span> <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Address</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">address</span>: <span class="pl-k">String</span>)
scala<span class="pl-k">&gt;</span> <span class="pl-en">Seq</span>(<span class="pl-en">Address</span>(<span class="pl-s"><span class="pl-pds">"</span>alice<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>wonderland<span class="pl-pds">"</span></span>)).writeCSVToFileName(<span class="pl-s"><span class="pl-pds">"</span>/tmp/example.csv<span class="pl-pds">"</span></span>, header<span class="pl-k">=</span><span class="pl-en">Some</span>(<span class="pl-en">Seq</span>(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>address<span class="pl-pds">"</span></span>)))
scala<span class="pl-k">&gt;</span> scala.io.<span class="pl-en">Source</span>.fromFile(<span class="pl-s"><span class="pl-pds">"</span>/tmp/example.csv<span class="pl-pds">"</span></span>).getLines.toList
res2<span class="pl-k">:</span> <span class="pl-en">List</span>[<span class="pl-k">String</span>] <span class="pl-k">=</span> <span class="pl-en">List</span>(name,address, <span class="pl-s"><span class="pl-pds">"</span>alice<span class="pl-pds">"</span></span>,<span class="pl-s"><span class="pl-pds">"</span>wonderland<span class="pl-pds">"</span></span>)
scala<span class="pl-k">&gt;</span> <span class="pl-en">CSVReader</span>[<span class="pl-en">Address</span>].readCSVFromFileName(<span class="pl-s"><span class="pl-pds">"</span>/tmp/example.csv<span class="pl-pds">"</span></span>, skipHeader<span class="pl-k">=</span><span class="pl-c1">true</span>)
res1<span class="pl-k">:</span> <span class="pl-en">List</span>[<span class="pl-en">Address</span>] <span class="pl-k">=</span> <span class="pl-en">List</span>(<span class="pl-en">Address</span>(alice,wonderland))</pre>
  </div> 
  <h3><a href="https://github.com/melrief/purecsv#reading-from-csv-safe-vs-unsafe" aria-hidden="true" class="anchor" id="user-content-reading-from-csv-safe-vs-unsafe" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Reading from CSV: Safe vs Unsafe</h3> 
  <p>For reading values, the library comes in two flavors: one safe and one unsafe. Only one should be imported. The safe flavor captures errors</p> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> <span class="pl-k">import</span> <span class="pl-v">purecsv.safe.</span><span class="pl-v">_</span>
scala<span class="pl-k">&gt;</span> <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Person</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">age</span>: <span class="pl-k">Int</span>)
scala<span class="pl-k">&gt;</span> <span class="pl-en">CSVReader</span>[<span class="pl-en">Person</span>].readCSVFromString(<span class="pl-s"><span class="pl-pds">"</span>alice,1<span class="pl-pds">"</span></span>)
res0<span class="pl-k">:</span> <span class="pl-en">List</span>[scala.util.<span class="pl-en">Try</span>[<span class="pl-en">Person</span>]] <span class="pl-k">=</span> <span class="pl-en">List</span>(<span class="pl-en">Success</span>(<span class="pl-en">Person</span>(alice,<span class="pl-c1">1</span>)))
scala<span class="pl-k">&gt;</span> <span class="pl-en">CSVReader</span>[<span class="pl-en">Person</span>].readCSVFromString(<span class="pl-s"><span class="pl-pds">"</span>alice,nan<span class="pl-pds">"</span></span>)
res1<span class="pl-k">:</span> <span class="pl-en">List</span>[scala.util.<span class="pl-en">Try</span>[<span class="pl-en">Person</span>]] <span class="pl-k">=</span> <span class="pl-en">List</span>(<span class="pl-en">Failure</span>(java.lang.<span class="pl-en">NumberFormatException</span><span class="pl-k">:</span> <span class="pl-en">For</span> input <span class="pl-v">string</span>: <span class="pl-s"><span class="pl-pds">"</span>nan<span class="pl-pds">"</span></span>))</pre>
  </div> 
  <p>The unsafe flavor, instead, ignores errors</p> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> <span class="pl-k">import</span> <span class="pl-v">purecsv.unsafe.</span><span class="pl-v">_</span>
scala<span class="pl-k">&gt;</span> <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Person</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">age</span>: <span class="pl-k">Int</span>)
scala<span class="pl-k">&gt;</span> <span class="pl-en">CSVReader</span>[<span class="pl-en">Person</span>].readCSVFromString(<span class="pl-s"><span class="pl-pds">"</span>alice,1<span class="pl-pds">"</span></span>)
res0<span class="pl-k">:</span> <span class="pl-en">List</span>[<span class="pl-en">Person</span>] <span class="pl-k">=</span> <span class="pl-en">List</span>(<span class="pl-en">Person</span>(alice,<span class="pl-c1">1</span>))
scala<span class="pl-k">&gt;</span> <span class="pl-en">CSVReader</span>[<span class="pl-en">Person</span>].readCSVFromString(<span class="pl-s"><span class="pl-pds">"</span>alice,nan<span class="pl-pds">"</span></span>)
java.lang.<span class="pl-en">NumberFormatException</span><span class="pl-k">:</span> <span class="pl-en">For</span> input <span class="pl-v">string</span>: <span class="pl-s"><span class="pl-pds">"</span>nan<span class="pl-pds">"</span></span>
  at java.lang.<span class="pl-en">NumberFormatException</span>.forInputString(<span class="pl-en">NumberFormatException</span>.java<span class="pl-k">:</span><span class="pl-c1">65</span>)
  at java.lang.<span class="pl-en">Integer</span>.parseInt(<span class="pl-en">Integer</span>.java<span class="pl-k">:</span><span class="pl-c1">492</span>)
  ...</pre>
  </div> 
  <p>The two flavors solve different problems: the safe one helps dealing with inputs that could potentially be not well formatted or event erroneous while the unsafe flavor reads data that is well formatted, for instance the one created by this library.</p> 
  <p>The safe flavor has also another characteristic: it helps the user understanding which records gave errors by collecting them</p> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> <span class="pl-k">val</span> <span class="pl-en">result</span> <span class="pl-k">=</span> <span class="pl-en">CSVReader</span>[<span class="pl-en">Person</span>].readCSVFromString(<span class="pl-s"><span class="pl-pds">"</span>alice,1<span class="pl-cce">\n</span>bob,nan<span class="pl-cce">\n</span>charlie,2<span class="pl-cce">\n</span>delta,<span class="pl-cce">\n</span><span class="pl-pds">"</span></span>)
result<span class="pl-k">:</span> <span class="pl-en">List</span>[scala.util.<span class="pl-en">Try</span>[<span class="pl-en">Person</span>]] <span class="pl-k">=</span> <span class="pl-en">List</span>(<span class="pl-en">Success</span>(<span class="pl-en">Person</span>(alice,<span class="pl-c1">1</span>)), <span class="pl-en">Failure</span>(java.lang.<span class="pl-en">NumberFormatException</span><span class="pl-k">:</span> <span class="pl-en">For</span> input <span class="pl-v">string</span>: <span class="pl-s"><span class="pl-pds">"</span>nan<span class="pl-pds">"</span></span>), <span class="pl-en">Success</span>(<span class="pl-en">Person</span>(charlie,<span class="pl-c1">2</span>)), <span class="pl-en">Failure</span>(java.lang.<span class="pl-en">NumberFormatException</span><span class="pl-k">:</span> <span class="pl-en">For</span> input <span class="pl-v">string</span>: <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>))
scala<span class="pl-k">&gt;</span> <span class="pl-k">import</span> <span class="pl-v">purecsv.safe.tryutil.</span><span class="pl-v">_</span>
scala<span class="pl-k">&gt;</span> <span class="pl-k">val</span> (successes,failures) <span class="pl-k">=</span> result.getSuccessesAndFailures
successes<span class="pl-k">:</span> <span class="pl-en">List</span>[(<span class="pl-k">Int</span>, <span class="pl-en">Person</span>)] <span class="pl-k">=</span> <span class="pl-en">List</span>((<span class="pl-c1">1</span>,<span class="pl-en">Person</span>(alice,<span class="pl-c1">1</span>)), (<span class="pl-c1">3</span>,<span class="pl-en">Person</span>(charlie,<span class="pl-c1">2</span>)))
failures<span class="pl-k">:</span> <span class="pl-en">List</span>[(<span class="pl-k">Int</span>, <span class="pl-en">Throwable</span>)] <span class="pl-k">=</span> <span class="pl-en">List</span>((<span class="pl-c1">2</span>,java.lang.<span class="pl-en">NumberFormatException</span><span class="pl-k">:</span> <span class="pl-en">For</span> input <span class="pl-v">string</span>: <span class="pl-s"><span class="pl-pds">"</span>nan<span class="pl-pds">"</span></span>), (<span class="pl-c1">4</span>,java.lang.<span class="pl-en">NumberFormatException</span><span class="pl-k">:</span> <span class="pl-en">For</span> input <span class="pl-v">string</span>: <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>))</pre>
  </div> 
  <p>The method <code>getSuccessesAndFailures</code> returns a pair where the first element are the successes and the second element are the failures with associated the record number. From the information above we know that record 1 and 3 were read successfully while record 2 and 4 were not.</p> 
  <h2><a href="https://github.com/melrief/purecsv#extending-the-library" aria-hidden="true" class="anchor" id="user-content-extending-the-library" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Extending the library</h2> 
  <p>PureCSV has been designed with flexibility and extensibility in mind. It is possible to add new field types as well as change the way standard types are read from String. It is also possible to change the way CSV is parsed, right now it uses <a href="http://opencsv.sourceforge.net/" target="_blank">OpenCSV</a>, and, more deeply, it is possible to work with different raw data than String, such as binary data.</p> 
  <h3><a href="https://github.com/melrief/purecsv#add-new-field-types" aria-hidden="true" class="anchor" id="user-content-add-new-field-types" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Add new field types</h3> 
  <p><code>Boolean</code>, <code>Int</code> and most of the Scala types are field types, meaning that it is possible to convert their values from/to <code>String</code>. To add a new type <code>A</code>, you have to supply a <code>purecsv.safe.converter.StringConverter[A]</code>. You can have a look at the <a href="https://github.com/melrief/PureCSV/blob/master/shared/src/main/scala/purecsv/safe/converter/defaults/string/package.scala" target="_blank">defaults string converters</a> to see how this is done for primitive types. For completeness, we can do an example showing how to create a <code>StringConverter</code> for non-trivial types, like <a href="http://en.wikipedia.org/wiki/ISO_8601" target="_blank">ISO 8601 for dates</a>. We want to avoid to reinvent the wheel and thus we are going to use the <a href="http://www.joda.org/joda-time/" target="_blank">Joda-Time</a> library that provides the <a href="http://joda-time.sourceforge.net/apidocs/org/joda/time/DateTime.html" target="_blank">Joda DateTime</a> structure where to store datetimes as well as the parsers. We can add our <code>StringConverter[DateTime]</code> in this way</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">dateTimeStringConverter</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">StringConverter</span>[<span class="pl-en">DateTime</span>] {
  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">tryFrom</span>(<span class="pl-v">str</span>: <span class="pl-k">String</span>)<span class="pl-k">:</span> <span class="pl-en">Try</span>[<span class="pl-en">DateTime</span>] <span class="pl-k">=</span> {
    <span class="pl-en">Try</span>(<span class="pl-en">ISODateTimeFormat</span>.dateTimeParser().parseDateTime(str))
  }

  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">to</span>(<span class="pl-v">dateTime</span>: <span class="pl-en">DateTime</span>)<span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> {
    <span class="pl-en">ISODateTimeFormat</span>.dateTime().print(dateTime)
  }
}</pre>
  </div> 
  <p>After importing this converter, PureCSV will be able to read <code>DateTime</code> fields.</p> 
  <h2><a href="https://github.com/melrief/purecsv#how-it-works" aria-hidden="true" class="anchor" id="user-content-how-it-works" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>How it works</h2> 
  <p>The library is based on <a href="https://github.com/milessabin/shapeless" target="_blank">Shapeless</a> Generic system. Everything that has a Generic instance can be used with PureCSV. A Generic instance defines a representation for a given type in terms of <a href="https://github.com/milessabin/shapeless/wiki/Feature-overview:-shapeless-2.0.0#heterogenous-lists" target="_blank">heterogenous lists</a> and function to convert from/to that representation</p> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> <span class="pl-k">import</span> <span class="pl-v">shapeless.</span><span class="pl-v">_</span>
scala<span class="pl-k">&gt;</span> <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Foo</span>(<span class="pl-v">i</span>: <span class="pl-k">Int</span>)
scala<span class="pl-k">&gt;</span> <span class="pl-k">:</span>t <span class="pl-en">Generic</span>[<span class="pl-en">Foo</span>]
shapeless.<span class="pl-en">Generic</span>[<span class="pl-en">Foo</span>]{<span class="pl-k">type</span> <span class="pl-en">Repr</span> <span class="pl-k">=</span> shapeless.<span class="pl-k">::</span>[<span class="pl-k">Int</span>,shapeless.<span class="pl-en">HNil</span>]}
scala<span class="pl-k">&gt;</span> <span class="pl-en">Generic</span>[<span class="pl-en">Foo</span>].to(<span class="pl-en">Foo</span>(<span class="pl-c1">1</span>))
res4<span class="pl-k">:</span> shapeless.<span class="pl-k">::</span>[<span class="pl-k">Int</span>,shapeless.<span class="pl-en">HNil</span>] <span class="pl-k">=</span> <span class="pl-c1">1</span> <span class="pl-k">::</span> <span class="pl-en">HNil</span></pre>
  </div> 
  <p>Note that also structures that don't have an automatically generated <code>Generic</code> instance can be used by manually define the <code>Generic</code>. So given a type</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">class</span> <span class="pl-en">Event2</span>(<span class="pl-k">val</span> <span class="pl-en">ts</span><span class="pl-k">:</span> <span class="pl-k">Long</span>, <span class="pl-k">var</span> <span class="pl-en">msg</span><span class="pl-k">:</span> <span class="pl-k">String</span>) {
  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">equals</span>(<span class="pl-v">o</span>: <span class="pl-en">Any</span>)<span class="pl-k">:</span> <span class="pl-k">Boolean</span> <span class="pl-k">=</span> o <span class="pl-k">match</span> {
    <span class="pl-k">case</span> other<span class="pl-k">:</span><span class="pl-en">Event2</span> <span class="pl-k">=&gt;</span> (<span class="pl-c1">this</span>.ts ## other.ts <span class="pl-k">&amp;&amp;</span> <span class="pl-c1">this</span>.msg ## other.msg)
    <span class="pl-k">case</span> _ <span class="pl-k">=&gt;</span> <span class="pl-c1">false</span>
  }
  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">toString</span><span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> s<span class="pl-s"><span class="pl-pds">"</span>Event($ts, $msg)<span class="pl-pds">"</span></span>
}</pre>
  </div> 
  <p>One can define the <code>Generic</code> instance as</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">fooGeneric</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Generic</span>[<span class="pl-en">Event2</span>] {
  <span class="pl-k">override</span> <span class="pl-k">type</span> <span class="pl-en">Repr</span> <span class="pl-k">=</span> <span class="pl-k">Long</span> <span class="pl-k">::</span> <span class="pl-k">String</span> <span class="pl-k">::</span> <span class="pl-en">HNil</span>
  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">from</span>(<span class="pl-v">r</span>: <span class="pl-en">Repr</span>)<span class="pl-k">:</span> <span class="pl-en">Event2</span> <span class="pl-k">=</span> {
    <span class="pl-k">val</span> <span class="pl-en">ts</span> <span class="pl-k">::</span> msg <span class="pl-k">::</span> <span class="pl-en">HNil</span> <span class="pl-k">=</span> r
    <span class="pl-k">new</span> <span class="pl-en">Event2</span>(ts, msg)
  }
  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">to</span>(<span class="pl-v">t</span>: <span class="pl-en">Event2</span>)<span class="pl-k">:</span> <span class="pl-en">Repr</span> <span class="pl-k">=</span> t.ts <span class="pl-k">::</span> t.msg <span class="pl-k">::</span> <span class="pl-en">HNil</span>
}</pre>
  </div> 
  <p>and then use that structure with PureCSV</p> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> <span class="pl-k">val</span> <span class="pl-en">conv</span> <span class="pl-k">=</span> <span class="pl-en">RawFieldsConverter</span>[<span class="pl-en">Event2</span>]</pre>
  </div> 
  <h2><a href="https://github.com/melrief/purecsv#license" aria-hidden="true" class="anchor" id="user-content-license" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p><a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License v2</a></p> 
  <h2><a href="https://github.com/melrief/purecsv#special-thanks" aria-hidden="true" class="anchor" id="user-content-special-thanks" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Special Thanks</h2> 
  <p>To the <a href="https://github.com/milessabin/shapeless" target="_blank">Shapeless</a> developers for their amazing library.</p> 
 </article>
</div>