<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-sbt-scoverage" class="anchor" href="https://github.com/scoverage/sbt-scoverage#sbt-scoverage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>sbt-scoverage</h1> 
  <p>sbt-scoverage is a plugin for SBT that integrates the scoverage code coverage library. Find out more about <a href="https://github.com/scoverage/scalac-scoverage-plugin" target="_blank">scoverage</a>.</p> 
  <p>Join the <a href="http://groups.google.com/group/scala-code-coverage-tool" target="_blank">scoverage</a> google group for help, bug reports, feature requests, and general discussion on scoverage.</p> 
  <p><a href="https://travis-ci.org/scoverage/sbt-scoverage" target="_blank"><img src="https://camo.githubusercontent.com/2551c671d675678ce4e1e16cc2eda9b7c5e96d7d/68747470733a2f2f7472617669732d63692e6f72672f73636f7665726167652f7362742d73636f7665726167652e706e673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/scoverage/sbt-scoverage.png?branch=master" style="max-width:100%;"></a> <a href="http://www.apache.org/licenses/LICENSE-2.0.txt" target="_blank"><img src="https://camo.githubusercontent.com/17d81d2643f6ee5fcc87c8f7f74588da4b5e6bb7/687474703a2f2f696d672e736869656c64732e696f2f3a6c6963656e73652d417061636865253230322d7265642e737667" alt="License" data-canonical-src="http://img.shields.io/:license-Apache%202-red.svg" style="max-width:100%;"></a> <a href="http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22sbt-scoverage%22" target="_blank"><img src="https://camo.githubusercontent.com/d712ce083587d96be640c89f719df739e3a4b936/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f6f72672e73636f7665726167652f7362742d73636f7665726167652e7376673f6c6162656c3d6c617465737425323072656c65617365" data-canonical-src="https://img.shields.io/maven-central/v/org.scoverage/sbt-scoverage.svg?label=latest%20release" style="max-width:100%;"></a></p> 
  <h2><a id="user-content-how-to-use" class="anchor" href="https://github.com/scoverage/sbt-scoverage#how-to-use" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>How to use</h2> 
  <p>Add the plugin in project/plugins.sbt:</p> 
  <div class="highlight highlight-source-scala">
   <pre>addSbtPlugin(<span class="pl-s"><span class="pl-pds">"</span>org.scoverage<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>sbt-scoverage<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>1.5.0<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>Run the tests with enabled coverage:</p> 
  <pre><code>$ sbt clean coverage test
</code></pre> 
  <p>or if you have integration tests as well</p> 
  <pre><code>$ sbt clean coverage it:test
</code></pre> 
  <p>To enable coverage directly in your build, use:</p> 
  <pre><code>coverageEnabled := true
</code></pre> 
  <p>To generate the coverage reports run</p> 
  <pre><code>$ sbt coverageReport
</code></pre> 
  <p>Coverage reports will be in <code>target/scoverage-report</code>. There are HTML and XML reports. The XML is useful if you need to programatically use the results, or if you're writing a tool.</p> 
  <p>If you're running the coverage reports from within an sbt console session (as opposed to one command per sbt launch), then the <code>coverage</code> command is sticky. To turn it back off when you're done running reports, use the <code>coverageOff</code> command or reset <code>coverageEnabled</code> with <code>set coverageEnabled := false</code>.</p> 
  <p>Sample project with scoverage in both sbt and maven - <a href="https://github.com/scoverage/sbt-scoverage-samples" target="_blank">the scoverage samples project</a>.</p> 
  <h2><a id="user-content-notes-on-upgrading-to-version-130" class="anchor" href="https://github.com/scoverage/sbt-scoverage#notes-on-upgrading-to-version-130" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Notes on upgrading to version 1.3.0</h2> 
  <ul> 
   <li>The object containing the keys has changed from nested to top level so you might need to adjust the import. It's also an auto plugin now, so you might not need the import at all.</li> 
   <li>There is an issue syncing the binary with the sbt-plugin-releases repo, so in the meantime add <code>resolvers += Resolver.url("scoverage-bintray", url("https://dl.bintray.com/sksamuel/sbt-plugins/"))(Resolver.ivyStylePatterns)</code> to your build.</li> 
  </ul> 
  <h2><a id="user-content-notes-on-upgrading-to-version-100" class="anchor" href="https://github.com/scoverage/sbt-scoverage#notes-on-upgrading-to-version-100" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Notes on upgrading to version 1.0.0</h2> 
  <p>If you are upgrading from 0.99.x then you must remove the <code>instrumentSettings</code> from your build.sbt or Build.scala, as that is no longer needed.</p> 
  <p>Next, the keys have been renamed slightly. The new names begin with coverageXXX, eg coverageExcludedPackages and some have had their full name changed. You can see a full list of keys by opening the object ScoverageKeys.</p> 
  <h2><a id="user-content-multi-project-reports" class="anchor" href="https://github.com/scoverage/sbt-scoverage#multi-project-reports" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Multi project reports</h2> 
  <p>By default, scoverage will generate reports for each project seperately. You can merge them into an aggregated report by invoking <code>sbt coverageAggregate</code>.</p> 
  <p>(Note, you must do this after all the coverage data is complete as a separate command, so you cannot do <code>sbt coverage test coverageAggregate</code> (at least until a way around this is found).)</p> 
  <p>(You must have first run <code>sbt coverageReport</code> for <code>coverageAggregate</code> to work. It aggregates over the sub-projects' report xml rather than over the coverage data directly.)</p> 
  <h2><a id="user-content-exclude-classes-and-packages" class="anchor" href="https://github.com/scoverage/sbt-scoverage#exclude-classes-and-packages" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Exclude classes and packages</h2> 
  <p>You can exclude classes from being considered for coverage measurement by providing semicolon-separated list of regular expressions.</p> 
  <p>Example:</p> 
  <div class="highlight highlight-source-scala">
   <pre>coverageExcludedPackages <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>&lt;empty&gt;;Reverse.*;.*AuthService.*;models<span class="pl-cce">\\</span>.data<span class="pl-cce">\\</span>..*<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>The regular expressions are matched against the fully qualified class name, and must match the entire string to take effect.</p> 
  <p>Any matched classes will not be instrumented or included in the coverage report.</p> 
  <p>You can also mark sections of code with comments like:</p> 
  <div class="highlight highlight-source-scala">
   <pre>  <span class="pl-c"><span class="pl-c">//</span> $COVERAGE-OFF$Disabling highlighting by default until a workaround for https://issues.scala-lang.org/browse/SI-8596 is found</span>
  ...
  <span class="pl-c"><span class="pl-c">//</span> $COVERAGE-ON$</span></pre>
  </div> 
  <p>Any code between two such comments will not be instrumented or included in the coverage report.</p> 
  <h2><a id="user-content-minimum-coverage" class="anchor" href="https://github.com/scoverage/sbt-scoverage#minimum-coverage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Minimum coverage</h2> 
  <p>Based on minimum coverage, you can fail the build with the following keys</p> 
  <div class="highlight highlight-source-scala">
   <pre>coverageMinimum <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-c1">80</span>
coverageFailOnMinimum <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-c1">true</span></pre>
  </div> 
  <p>These settings will be enforced when the reports are generated. If you generate an aggregate report using <code>coverageAggregate</code> then these settings will apply to that report.</p> 
  <h2><a id="user-content-highlighting" class="anchor" href="https://github.com/scoverage/sbt-scoverage#highlighting" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Highlighting</h2> 
  <p>If you are using Scala 2.11.1 or less, then highlighting will not work (due to this bug which was fixed in 2.11.2 <a href="https://github.com/scala/scala/pull/3799" target="_blank">https://github.com/scala/scala/pull/3799</a>). In that case you must disable highlighting by adding the following to your build:</p> 
  <div class="highlight highlight-source-scala">
   <pre>coverageHighlighting <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-c1">false</span></pre>
  </div> 
  <h2><a id="user-content-failing-tests" class="anchor" href="https://github.com/scoverage/sbt-scoverage#failing-tests" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Failing tests</h2> 
  <p>Scoverage does a lot of file writing behind the scenes in order to track which statements have been executed. If you are running into a scenario where your tests normally pass, but fail when scoverage is enabled, then the culprit can be one of the following:</p> 
  <ul> 
   <li>timing issues on futures and other async operations, try upping the timeouts by an order of magnitude.</li> 
   <li>tests are run in a sandbox mode (such as with <code>java.security.PrivilegedAction&lt;T&gt;</code>), try running the tests outside of the sandbox.</li> 
  </ul> 
  <h2><a id="user-content-coveralls" class="anchor" href="https://github.com/scoverage/sbt-scoverage#coveralls" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Coveralls</h2> 
  <p>If you have an open source project then you can add code coverage metrics with the excellent website <a href="https://coveralls.io/" target="_blank">https://coveralls.io/</a> Scoverage will integrate with coveralls using the <a href="https://github.com/scoverage/sbt-coveralls" target="_blank">sbt-coveralls</a> plugin.</p> 
  <h2><a id="user-content-plugin-for-sonarqube" class="anchor" href="https://github.com/scoverage/sbt-scoverage#plugin-for-sonarqube" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Plugin for SonarQube</h2> 
  <p>If you want to visually browse statement coverage reports then use this <a href="https://github.com/RadoBuransky/sonar-scoverage-plugin" target="_blank">plugin for SonarQube</a>. It allows you to review overall project statement coverage as well as dig deeper into sub-modules, directories and source code files to see uncovered statements. Statement coverage measurement can become an integral part of your team's continuous integration process and a required quality standard.</p> 
  <h2><a id="user-content-license" class="anchor" href="https://github.com/scoverage/sbt-scoverage#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <pre><code>This software is licensed under the Apache 2 license, quoted below.

Copyright 2013-2016 Stephen Samuel and contributors

Licensed under the Apache License, Version 2.0 (the "License"); you may not
use this file except in compliance with the License. You may obtain a copy of
the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations under
the License.
</code></pre> 
 </article>
</div>