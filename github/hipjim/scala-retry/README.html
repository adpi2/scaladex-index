<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-scala-retry" class="anchor" href="https://github.com/hipjim/scala-retry#scala-retry" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala Retry</h1> 
  <p><a href="https://travis-ci.org/hipjim/scala-retry" target="_blank"><img src="https://camo.githubusercontent.com/4e836bde2d33de17e1d681206dd272bf348d46c8/68747470733a2f2f7472617669732d63692e6f72672f6869706a696d2f7363616c612d72657472792e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/hipjim/scala-retry.svg?branch=master" style="max-width:100%;"></a></p> 
  <h6><a id="user-content-simple-retry-mechanism-for-arbitrary-function-calls-in-scala" class="anchor" href="https://github.com/hipjim/scala-retry#simple-retry-mechanism-for-arbitrary-function-calls-in-scala" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Simple retry mechanism for arbitrary function calls in scala.</h6> 
  <p>We live in times where software systems are built by small services that are talking to each other. In such systems, transient errors can occur and interfere with the normal program execution flow. Transient faults are temporary abnormal conditions such as offline services, infrastructure faults, or network issues. It is common practice to retry transient faults using a retry loop mechanism. This minimalistic library tries to solve this problem by implementing the retry side effect and give the user different backoff strategies.</p> 
  <h2><a id="user-content-maven-artifacts" class="anchor" href="https://github.com/hipjim/scala-retry#maven-artifacts" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Maven artifacts</h2> 
  <p><a href="https://maven-badges.herokuapp.com/maven-central/com.github.hipjim/scala-retry_2.12" target="_blank"><img src="https://camo.githubusercontent.com/850691ed6e3d596632f0913eca7eef271ea16baf/68747470733a2f2f6d6176656e2d6261646765732e6865726f6b756170702e636f6d2f6d6176656e2d63656e7472616c2f636f6d2e6769746875622e6869706a696d2f7363616c612d72657472795f322e31322f62616467652e737667" alt="Maven Central" data-canonical-src="https://maven-badges.herokuapp.com/maven-central/com.github.hipjim/scala-retry_2.12/badge.svg" style="max-width:100%;"></a></p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.github.hipjim<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>scala-retry_2.12<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.2.2<span class="pl-pds">"</span></span></pre>
  </div> 
  <div class="highlight highlight-text-xml">
   <pre>&lt;<span class="pl-ent">dependency</span>&gt;
  &lt;<span class="pl-ent">groupId</span>&gt;com.github.hipjim&lt;/<span class="pl-ent">groupId</span>&gt;
  &lt;<span class="pl-ent">artifactId</span>&gt;scala-retry_2.12&lt;/<span class="pl-ent">artifactId</span>&gt;
  &lt;<span class="pl-ent">version</span>&gt;0.2.2&lt;/<span class="pl-ent">version</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;</pre>
  </div> 
  <h2><a id="user-content-tutorial" class="anchor" href="https://github.com/hipjim/scala-retry#tutorial" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Tutorial</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scala.concurrent.duration.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">util.retry.blocking.</span>{<span class="pl-v">RetryStrategy</span>, <span class="pl-v">Failure</span>, <span class="pl-v">Retry</span>, <span class="pl-v">Success</span>}

<span class="pl-c"><span class="pl-c">//</span> define the retry strategy</span>
<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">retryStrategy</span> <span class="pl-k">=</span>
    <span class="pl-en">RetryStrategy</span>.fixedBackOff(retryDuration <span class="pl-k">=</span> <span class="pl-c1">1.</span>seconds, maxAttempts <span class="pl-k">=</span> <span class="pl-c1">2</span>)

<span class="pl-c"><span class="pl-c">//</span> pattern match the result</span>
<span class="pl-k">val</span> <span class="pl-en">r</span> <span class="pl-k">=</span> <span class="pl-en">Retry</span>(<span class="pl-c1">1</span> <span class="pl-k">/</span> <span class="pl-c1">1</span>) <span class="pl-k">match</span> {
    <span class="pl-k">case</span> <span class="pl-en">Success</span>(x) <span class="pl-k">=&gt;</span> x
    <span class="pl-k">case</span> <span class="pl-en">Failure</span>(t) <span class="pl-k">=&gt;</span> log(<span class="pl-s"><span class="pl-pds">"</span>I got 99 problems but you won't be one<span class="pl-pds">"</span></span>, t)
}

<span class="pl-c"><span class="pl-c">//</span> recover in case of a failure</span>
<span class="pl-k">val</span> <span class="pl-en">recover</span> <span class="pl-k">=</span> <span class="pl-en">Retry</span>(<span class="pl-c1">1</span> <span class="pl-k">/</span> <span class="pl-c1">0</span>) recover {
    <span class="pl-k">case</span> <span class="pl-en">NonFatal</span>(t) <span class="pl-k">=&gt;</span> <span class="pl-k">Int</span>.<span class="pl-en">MaxValue</span>
}

<span class="pl-c"><span class="pl-c">//</span> get or else in case of failure</span>
<span class="pl-k">val</span> <span class="pl-en">result</span> <span class="pl-k">=</span> <span class="pl-en">Retry</span>(<span class="pl-c1">1</span> <span class="pl-k">/</span> <span class="pl-c1">0</span>).getOrElse(<span class="pl-c1">1</span>)

<span class="pl-c"><span class="pl-c">//</span> can be used in for comprehensions</span>
<span class="pl-k">val</span> <span class="pl-en">result</span> <span class="pl-k">=</span> <span class="pl-k">for</span> {
  x <span class="pl-k">&lt;</span><span class="pl-k">-</span> <span class="pl-en">Retry</span>(<span class="pl-c1">1</span> <span class="pl-k">/</span> <span class="pl-c1">0</span>) <span class="pl-c"><span class="pl-c">//</span> fails with java.lang.ArithmeticException: / by zero</span>
  y <span class="pl-k">&lt;</span><span class="pl-k">-</span> <span class="pl-en">Retry</span>(<span class="pl-c1">1</span> <span class="pl-k">/</span> <span class="pl-c1">1</span>) <span class="pl-c"><span class="pl-c">//</span> success</span>
} <span class="pl-k">yield</span> x <span class="pl-k">+</span> y <span class="pl-c"><span class="pl-c">//</span> result is Failure with java.lang.ArithmeticException: / by zero</span>
</pre>
  </div> 
  <h2><a id="user-content-retry-strategies" class="anchor" href="https://github.com/hipjim/scala-retry#retry-strategies" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Retry strategies</h2> 
  <h4><a id="user-content-fixed-backoff" class="anchor" href="https://github.com/hipjim/scala-retry#fixed-backoff" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Fixed backoff</h4> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">retryStrategy</span> <span class="pl-k">=</span>
    <span class="pl-en">RetryStrategy</span>.fixedBackOff(retryDuration <span class="pl-k">=</span> <span class="pl-c1">3.</span>seconds, maxAttempts <span class="pl-k">=</span> <span class="pl-c1">5</span>)</pre>
  </div> 
  <h4><a id="user-content-fibonacci-backoff" class="anchor" href="https://github.com/hipjim/scala-retry#fibonacci-backoff" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Fibonacci backoff</h4> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">retryStrategy</span> <span class="pl-k">=</span>
    <span class="pl-en">RetryStrategy</span>.fibonacciBackOff(initialWaitDuration <span class="pl-k">=</span> <span class="pl-c1">3.</span>seconds, maxAttempts <span class="pl-k">=</span> <span class="pl-c1">5</span>)</pre>
  </div> 
  <h4><a id="user-content-random-backoff" class="anchor" href="https://github.com/hipjim/scala-retry#random-backoff" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Random backoff</h4> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">retryStrategy</span> <span class="pl-k">=</span>
    <span class="pl-en">RetryStrategy</span>.randomBackOff(
      minimumWaitDuration <span class="pl-k">=</span> <span class="pl-c1">1.</span>seconds, 
      maximumWaitDuration <span class="pl-k">=</span> <span class="pl-c1">10.</span>seconds, 
      maxAttempts <span class="pl-k">=</span> <span class="pl-c1">10</span>
    )</pre>
  </div> 
  <h4><a id="user-content-no-backoff" class="anchor" href="https://github.com/hipjim/scala-retry#no-backoff" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>No backoff</h4> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">retryStrategy</span> <span class="pl-k">=</span> <span class="pl-en">RetryStrategy</span>.noBackOff(maxAttempts <span class="pl-k">=</span> <span class="pl-c1">10</span>)</pre>
  </div> 
  <h4><a id="user-content-no-retry" class="anchor" href="https://github.com/hipjim/scala-retry#no-retry" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>No retry</h4> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">retryStrategy</span> <span class="pl-k">=</span> <span class="pl-en">RetryStrategy</span>.noRetry</pre>
  </div> 
 </article>
</div>