<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-scala-js-preact" class="anchor" href="https://github.com/lmnet/scala-js-preact#scala-js-preact" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>scala-js-preact</h1> 
  <p><a href="https://travis-ci.org/LMnet/scala-js-preact" target="_blank"><img src="https://camo.githubusercontent.com/266a917600fad920c89919ce659fbc4336359fc5/68747470733a2f2f7472617669732d63692e6f72672f4c4d6e65742f7363616c612d6a732d7072656163742e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/LMnet/scala-js-preact.svg?branch=master" style="max-width:100%;"></a></p> 
  <p>Scala.js facade for the <a href="https://preactjs.com/" target="_blank">Preact</a> JavaScript library.</p> 
  <h2><a id="user-content-quick-start" class="anchor" href="https://github.com/lmnet/scala-js-preact#quick-start" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Quick start</h2> 
  <p>Add the following lines into your <code>build.sbt</code> file:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-s"><span class="pl-pds">"</span>com.github.lmnet<span class="pl-pds">"</span></span> <span class="pl-k">%%%</span> <span class="pl-s"><span class="pl-pds">"</span>scala-js-preact-core<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.2.1<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>com.github.lmnet<span class="pl-pds">"</span></span> <span class="pl-k">%%%</span> <span class="pl-s"><span class="pl-pds">"</span>scala-js-preact-dsl-tags<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.2.1<span class="pl-pds">"</span></span>
)
addCompilerPlugin(<span class="pl-s"><span class="pl-pds">"</span>org.scalameta<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>paradise<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>3.0.0-M10<span class="pl-pds">"</span></span> cross <span class="pl-en">CrossVersion</span>.full)
scalacOptions <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>-P:scalajs:sjsDefinedByDefault<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Now you can create Preact component:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">org.scalajs.dom.</span><span class="pl-v">Event</span>
<span class="pl-k">import</span> <span class="pl-v">preact.Preact.</span><span class="pl-v">VNode</span>
<span class="pl-k">import</span> <span class="pl-v">preact.macros.</span><span class="pl-v">PreactComponent</span>

<span class="pl-k">object</span> <span class="pl-en">SomeComponent</span> {
  <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Props</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>)
}

<span class="pl-k">@</span><span class="pl-en">PreactComponent</span>[<span class="pl-en">SomeComponent</span>.<span class="pl-en">Props</span>, <span class="pl-k">Unit</span>]
<span class="pl-k">class</span> <span class="pl-en">SomeComponent</span> {

  <span class="pl-k">import</span> <span class="pl-v">preact.dsl.tags.</span><span class="pl-v">_</span>

  <span class="pl-k">def</span> <span class="pl-en">render</span>()<span class="pl-k">:</span> <span class="pl-en">VNode</span> <span class="pl-k">=</span> {
    div(id <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>,
      span(s<span class="pl-s"><span class="pl-pds">"</span>Hello, ${props.name}!<span class="pl-pds">"</span></span>),
      button(onclick <span class="pl-k">:</span><span class="pl-k">=</span> { <span class="pl-v">_</span>: <span class="pl-en">Event</span> <span class="pl-k">=&gt;</span> println(<span class="pl-s"><span class="pl-pds">"</span>hi!<span class="pl-pds">"</span></span>) }, <span class="pl-s"><span class="pl-pds">"</span>Click Me<span class="pl-pds">"</span></span>)
    )
  }
}</pre>
  </div> 
  <p>And render it:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">org.scalajs.</span><span class="pl-v">dom</span>
<span class="pl-k">import</span> <span class="pl-v">preact.</span><span class="pl-v">Preact</span>

<span class="pl-k">import</span> <span class="pl-v">scala.scalajs.js.annotation.</span><span class="pl-v">JSExportTopLevel</span>

<span class="pl-k">object</span> <span class="pl-en">App</span> {

  <span class="pl-k">@</span><span class="pl-en">JSExportTopLevel</span>(<span class="pl-s"><span class="pl-pds">"</span>App.main<span class="pl-pds">"</span></span>)
  <span class="pl-k">def</span> <span class="pl-en">main</span>()<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
    <span class="pl-k">val</span> <span class="pl-en">appDiv</span> <span class="pl-k">=</span> dom.document.getElementById(<span class="pl-s"><span class="pl-pds">"</span>app<span class="pl-pds">"</span></span>)
    <span class="pl-k">val</span> <span class="pl-en">component</span> <span class="pl-k">=</span> <span class="pl-en">SomeComponent</span>(name <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>scala-js-preact user<span class="pl-pds">"</span></span>)
    <span class="pl-en">Preact</span>.render(component, appDiv)
  }
}</pre>
  </div> 
  <p>You can find more examples in the <a href="https://github.com/lmnet/scala-js-preact/blob/master/examples" target="_blank">examples directory</a>.</p> 
  <h2><a id="user-content-design-goals-and-motivation" class="anchor" href="https://github.com/lmnet/scala-js-preact#design-goals-and-motivation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Design goals and motivation</h2> 
  <p>Why should you care about this "yet another Scala.js facade for React"? The current situation in the Scala.js ecosystem forced developers to spend quite a lot of time to be able to write frontend applications with React facades. Also, React is a pretty heavy library and Scala.js runtime also adds its own overhead. Even after <code>fullOptJS</code> and with <code>gzip</code> it's common to have more than 1 MB of JavaScript code in the bundle.</p> 
  <p><code>scala-js-preact</code> is trying to solve this issues:</p> 
  <ol> 
   <li>Preact instead of React. Preact is a fast 3KB alternative to React, with the same API. It helps to minimize js bundle size.</li> 
   <li>Minimalistic and simple. <code>scala-js-preact</code> contains a small amount of code and this also helps to prevent your bundle overgrowth. Also, it doesn't contain any complex functional stuff in the API which is good for the newcomers.</li> 
   <li>Modular architecture. Use only parts you need in your application.</li> 
   <li>Familiar API. Scala API should be more or less like JavaScript API.</li> 
   <li>DSL agnostic. Scala is the very powerful language in terms of DSL. But this power also lead to a lot of debates. <code>scala-js-preact</code> doesn't limit you with the single HTML DSL. It provides a few DSL out of the box, but you can easily create your own DSL, or use third-party DSL.</li> 
  </ol> 
  <h2><a id="user-content-modules" class="anchor" href="https://github.com/lmnet/scala-js-preact#modules" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Modules</h2> 
  <ol> 
   <li><code>scala-js-preact-raw</code> - raw Preact facade. Just some low-level typings. You will need this module only if you want to create your own Preact library.</li> 
   <li><code>scala-js-preact-core</code> - core module. Contains APIs for creating class and function components. This is the main module of the library. To use this module you need to add macro-paradise compiler plugin because <code>core</code> uses some macro magic to provide nice API for creating components.</li> 
   <li><code>scala-js-preact-dsl-symbol</code> - minimalistic DSL module with dynamically typed tags and attributes. Inspired by <a href="https://github.com/fomkin/levsha" target="_blank">levsha</a>.</li> 
   <li><code>scala-js-preact-dsl-tags</code> - DSL module with typesafe tags and attributes. Inspired by <a href="https://github.com/lihaoyi/scalatags" target="_blank">scalatags</a>.</li> 
  </ol> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/lmnet/scala-js-preact#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <h3><a id="user-content-scalajs-configuration" class="anchor" href="https://github.com/lmnet/scala-js-preact#scalajs-configuration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala.js configuration</h3> 
  <p>To use <code>scala-js-preact</code> you should add this line into your build.sbt file:</p> 
  <div class="highlight highlight-source-scala">
   <pre>scalacOptions <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>-P:scalajs:sjsDefinedByDefault<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>You can read more about this scalac option <a href="https://www.scala-js.org/news/2017/09/01/announcing-scalajs-0.6.20/" target="_blank">here</a>.</p> 
  <p>This requirement is temporary: after release Scala.js 1.0 this option will be always enabled without explicit configuration.</p> 
  <h3><a id="user-content-components" class="anchor" href="https://github.com/lmnet/scala-js-preact#components" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Components</h3> 
  <p>To create a class component you should annotate your class with <code>@PreactComponent[PropsType, StateType]</code> annotation. You should set up <code>Props</code> and <code>State</code> types of the component:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Props</span>(...)
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">State</span>(...)

<span class="pl-k">@</span><span class="pl-en">PreactComponent</span>[<span class="pl-en">Props</span>, <span class="pl-en">State</span>]
<span class="pl-k">class</span> <span class="pl-en">SomeComponent</span> {...}</pre>
  </div> 
  <p>If your component doesn't use <code>Props</code> or <code>State</code> you can set any of them as <code>Unit</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">@</span><span class="pl-en">PreactComponent</span>[<span class="pl-en">Props</span>, <span class="pl-k">Unit</span>]
<span class="pl-k">class</span> <span class="pl-en">StatelessComponent</span> {...}

<span class="pl-k">@</span><span class="pl-en">PreactComponent</span>[<span class="pl-k">Unit</span>, <span class="pl-en">State</span>]
<span class="pl-k">class</span> <span class="pl-en">PropslessComponent</span> {...}

<span class="pl-k">@</span><span class="pl-en">PreactComponent</span>[<span class="pl-k">Unit</span>, <span class="pl-k">Unit</span>]
<span class="pl-k">class</span> <span class="pl-en">ConstantComponent</span> {...}</pre>
  </div> 
  <p>The only one required method in the components is <code>render</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">@</span><span class="pl-en">PreactComponent</span>[<span class="pl-en">Props</span>, <span class="pl-en">State</span>]
<span class="pl-k">class</span> <span class="pl-en">SomeComponent</span> {
  <span class="pl-k">def</span> <span class="pl-en">render</span>()<span class="pl-k">:</span> <span class="pl-en">VNode</span> <span class="pl-k">=</span> <span class="pl-k">???</span>
}</pre>
  </div> 
  <p>Here is the list of other <code>Component</code> methods:</p> 
  <ul> 
   <li><code>props</code> - gives access to the read-only <code>props</code> object.</li> 
   <li><code>state</code> - gives access to the read-only <code>state</code> object.</li> 
   <li><code>setState</code> - method to define a new state of the component. This is the only way to set up a new state.</li> 
   <li><code>initialState</code> - if you want to define the initial state of the component, you should do this with this method. This method could be called only once.</li> 
   <li><code>children</code> - gives access to the component's children.</li> 
   <li><code>key</code> - gives access to the component's <a href="https://facebook.github.io/react/docs/lists-and-keys.html" target="_blank">key</a>.</li> 
   <li><code>base</code> - gives access to the component's DOM node.</li> 
   <li><code>componentWillMount</code> - <a href="https://preactjs.com/guide/getting-started#the-component-lifecycle" target="_blank">lifecycle method</a>.</li> 
   <li><code>componentDidMount</code> - <a href="https://preactjs.com/guide/getting-started#the-component-lifecycle" target="_blank">lifecycle method</a>.</li> 
   <li><code>componentWillUnmount</code> - <a href="https://preactjs.com/guide/getting-started#the-component-lifecycle" target="_blank">lifecycle method</a>.</li> 
   <li><code>componentWillReceiveProps</code> - <a href="https://preactjs.com/guide/getting-started#the-component-lifecycle" target="_blank">lifecycle method</a>.</li> 
   <li><code>shouldComponentUpdate</code> - <a href="https://preactjs.com/guide/getting-started#the-component-lifecycle" target="_blank">lifecycle method</a>.</li> 
   <li><code>componentWillUpdate</code> - <a href="https://preactjs.com/guide/getting-started#the-component-lifecycle" target="_blank">lifecycle method</a>.</li> 
   <li><code>componentDidUpdate</code> - <a href="https://preactjs.com/guide/getting-started#the-component-lifecycle" target="_blank">lifecycle method</a>.</li> 
  </ul> 
  <h4><a id="user-content-auto-generated-components-constructor" class="anchor" href="https://github.com/lmnet/scala-js-preact#auto-generated-components-constructor" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Auto generated component's constructor</h4> 
  <p>If your component use props, creating a component instance usually looks like this:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Props</span>(<span class="pl-v">foo</span>: <span class="pl-k">String</span>, <span class="pl-v">bar</span>: <span class="pl-k">Int</span>)

<span class="pl-k">@</span><span class="pl-en">PreactComponent</span>[<span class="pl-en">Props</span>, <span class="pl-k">Unit</span>]
<span class="pl-k">class</span> <span class="pl-en">SomeComponent</span> {
  <span class="pl-k">def</span> <span class="pl-en">render</span>()<span class="pl-k">:</span> <span class="pl-en">VNode</span> <span class="pl-k">=</span> <span class="pl-k">???</span>
}

<span class="pl-k">val</span> <span class="pl-en">instance</span> <span class="pl-k">=</span> <span class="pl-en">SomeComponent</span>(<span class="pl-en">Props</span>(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>, <span class="pl-c1">15</span>))</pre>
  </div> 
  <p>But, its a good practice to place local <code>Props</code> and <code>State</code> case classes inside companion object of the component. If you do this, <code>@PreactComponent</code> macro will generate additional <code>apply</code> method with the same signature as <code>Props</code> case class has:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">object</span> <span class="pl-en">SomeComponent</span> {
  <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Props</span>(<span class="pl-v">foo</span>: <span class="pl-k">String</span>, <span class="pl-v">bar</span>: <span class="pl-k">Int</span>)
}
<span class="pl-k">@</span><span class="pl-en">PreactComponent</span>[<span class="pl-en">SomeComponent</span>.<span class="pl-en">Props</span>, <span class="pl-k">Unit</span>]
<span class="pl-k">class</span> <span class="pl-en">SomeComponent</span> {
  <span class="pl-k">def</span> <span class="pl-en">render</span>()<span class="pl-k">:</span> <span class="pl-en">VNode</span> <span class="pl-k">=</span> <span class="pl-k">???</span>
}

<span class="pl-k">val</span> <span class="pl-en">instance</span> <span class="pl-k">=</span> <span class="pl-en">SomeComponent</span>(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>, <span class="pl-c1">15</span>) <span class="pl-c"><span class="pl-c">//</span> don't need to wrap argument in Props(...)</span></pre>
  </div> 
  <p>It makes your code a little more readable.</p> 
  <h4><a id="user-content-getting-props-from-components-constructor" class="anchor" href="https://github.com/lmnet/scala-js-preact#getting-props-from-components-constructor" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting props from component's constructor</h4> 
  <p>There is some unobvious moment with getting props from the component's constructor. This is the common pattern to set up initial state from the props from the constructor. Let's try to write some code with this pattern:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Props</span>(<span class="pl-v">foo</span>: <span class="pl-k">Int</span>)
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">State</span>(<span class="pl-v">bar</span>: <span class="pl-k">String</span>)

<span class="pl-k">@</span><span class="pl-en">PreactComponent</span>[<span class="pl-en">Props</span>, <span class="pl-en">State</span>]
<span class="pl-k">class</span> <span class="pl-en">SomeComponent</span>(<span class="pl-v">props</span>: <span class="pl-en">Props</span>) {

  initialState(<span class="pl-en">State</span>(
    bar <span class="pl-k">=</span> props.foo.toString
  ))

  <span class="pl-k">def</span> <span class="pl-en">render</span>()<span class="pl-k">:</span> <span class="pl-en">VNode</span> <span class="pl-k">=</span> {
    div(props.foo.toString, state.bar)
  }
}</pre>
  </div> 
  <p>At first glance, everything looks good. But, what about <code>props</code> method? In the component above we have a naming conflict: <code>props</code> object from the constructor and <code>props</code> method in the same scope. To prevent this issue we should rename our constructor argument, for example like this:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">@</span><span class="pl-en">PreactComponent</span>[<span class="pl-en">Props</span>, <span class="pl-en">State</span>]
<span class="pl-k">class</span> <span class="pl-en">SomeComponent</span>(<span class="pl-v">initialProps</span>: <span class="pl-en">Props</span>) {

  initialState(<span class="pl-en">State</span>(
    bar <span class="pl-k">=</span> initialProps.foo.toString
  ))

  <span class="pl-k">def</span> <span class="pl-en">render</span>()<span class="pl-k">:</span> <span class="pl-en">VNode</span> <span class="pl-k">=</span> {
    div(props.foo.toString, state.bar)
  }
}</pre>
  </div> 
  <p>Now we don't have naming conflict and can use both <code>initialProps</code> and <code>props</code>.</p> 
  <p>Good thing to know: <code>@PreactComponent</code> macro checks this and if you got into this problem you will have nice compile-time error.</p> 
  <h3><a id="user-content-dsl" class="anchor" href="https://github.com/lmnet/scala-js-preact#dsl" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>DSL</h3> 
  <p><code>scala-js-preact</code> got two optional DSLs out of the box: symbol DSL and tags DSL. You can use any of them, or any third party DSL, or even create your own DSL. In the sections below you will be guided how to use default DSLs and create your own.</p> 
  <h4><a id="user-content-symbol-dsl" class="anchor" href="https://github.com/lmnet/scala-js-preact#symbol-dsl" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Symbol DSL</h4> 
  <p>This DSL is inspired by <a href="https://github.com/fomkin/levsha" target="_blank">levsha</a> DSL. Its goal is to be minimalistic and not typesafe in terms of HTML tags or attributes. You can use any tags and attributes you want, like in normal HTML. All under your control and responsibility.</p> 
  <p>To use this DSL add it to your dependencies:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-s"><span class="pl-pds">"</span>com.github.lmnet<span class="pl-pds">"</span></span> <span class="pl-k">%%%</span> <span class="pl-s"><span class="pl-pds">"</span>scala-js-preact-dsl-symbol<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.2.1<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>And import <code>preact.dsl.symbol._</code> into your source code:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">preact.dsl.symbol.</span><span class="pl-v">_</span>

<span class="pl-en">'section</span>(<span class="pl-s"><span class="pl-pds">"</span>class<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>todoapp<span class="pl-pds">"</span></span>,
  <span class="pl-en">'header</span>(<span class="pl-s"><span class="pl-pds">"</span>class<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>header<span class="pl-pds">"</span></span>,
    <span class="pl-en">'h1</span>(<span class="pl-s"><span class="pl-pds">"</span>todos<span class="pl-pds">"</span></span>)
  )
)</pre>
  </div> 
  <p>This DSL is very simple:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> Any `scala.Symbol` became tag with `apply` method:</span>
<span class="pl-en">'div</span>()

<span class="pl-c"><span class="pl-c">//</span> Tuples inside tags became attributes:</span>
<span class="pl-en">'div</span>(
  <span class="pl-s"><span class="pl-pds">"</span>class<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>
)

<span class="pl-c"><span class="pl-c">//</span> Functions works too:</span>
<span class="pl-k">def</span> <span class="pl-en">callback</span>(<span class="pl-v">event</span>: <span class="pl-en">Event</span>)<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
  <span class="pl-k">???</span>
}
<span class="pl-en">'div</span>(
  <span class="pl-s"><span class="pl-pds">"</span>onclick<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> callback _
)

<span class="pl-c"><span class="pl-c">//</span> You can pass any VNode, component or strings inside tags:</span>
<span class="pl-en">'div</span>(someComponentInstance, <span class="pl-s"><span class="pl-pds">"</span>some text<span class="pl-pds">"</span></span>, <span class="pl-en">'b</span>(<span class="pl-s"><span class="pl-pds">"</span>some another tag<span class="pl-pds">"</span></span>))

<span class="pl-c"><span class="pl-c">//</span> Also, there are a few helpers:</span>
<span class="pl-en">'div</span>(
  <span class="pl-k">if</span> (something) {
    <span class="pl-en">Entry</span>.<span class="pl-en">Children</span>(<span class="pl-en">Seq</span>(<span class="pl-k">???</span>)) <span class="pl-c"><span class="pl-c">//</span> gives possibility to pass `Iterable[Preact.Child]` to any tag</span>
  } <span class="pl-k">else</span> {
    <span class="pl-en">Entry</span>.<span class="pl-en">EmptyChild</span> <span class="pl-c"><span class="pl-c">//</span> useful for conditional children</span>
  },
  <span class="pl-k">if</span> (somethingElse) {
    <span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>bar<span class="pl-pds">"</span></span>
  } <span class="pl-k">else</span> {
    <span class="pl-en">Entry</span>.<span class="pl-en">EmptyAttribute</span> <span class="pl-c"><span class="pl-c">//</span> useful for conditional attributes</span>
  }
)</pre>
  </div> 
  <h4><a id="user-content-tags-dsl" class="anchor" href="https://github.com/lmnet/scala-js-preact#tags-dsl" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Tags DSL</h4> 
  <p>This DSL is inspired by <a href="https://github.com/lihaoyi/scalatags" target="_blank">scalatags</a> DSL. Its goal is to provide typesafe HTML DSL, and at the same time be minimalistic as possible.</p> 
  <p>Why not just create <code>scalatags</code> backend for the <code>scala-js-preact</code>? Here are a few reasons:</p> 
  <ol> 
   <li>Annoying <code>.render</code> on all fragments.</li> 
   <li><code>scalatags</code> is small, but not enough small. It contains some parts that I don't want to have in the <code>scala-js-preact</code> DSL, like styles.</li> 
   <li>Because of <code>scalatags</code> internals and rendering process, it will add some extra performance overhead.</li> 
  </ol> 
  <p>But if you want you can create <code>scalatags</code> backend for the <code>scala-js-preact</code>. Contributions are welcome!</p> 
  <p>To use this DSL add it to your dependencies:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-s"><span class="pl-pds">"</span>com.github.lmnet<span class="pl-pds">"</span></span> <span class="pl-k">%%%</span> <span class="pl-s"><span class="pl-pds">"</span>scala-js-preact-dsl-tags<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.2.1<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>And import <code>preact.dsl.tags._</code> into your source code:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">preact.dsl.tags.</span><span class="pl-v">_</span>

section(`class` <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>todoapp<span class="pl-pds">"</span></span>,
  header(`class` <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>header<span class="pl-pds">"</span></span>,
    h1(<span class="pl-s"><span class="pl-pds">"</span>todos<span class="pl-pds">"</span></span>)
  )
)</pre>
  </div> 
  <p>The main idea is the same as in the <code>scalatags</code>. I suggest you to familiarize with its docs at first.</p> 
  <p>The main difference between <code>scalatags</code> and <code>scala-js-preact-dsl-tags</code>:</p> 
  <ul> 
   <li>You don't need to call <code>.render</code>method on your fragments.</li> 
   <li><code>Tag</code>'s <code>apply</code> method returns and receives <code>Preact.VNode</code>.</li> 
   <li>Has <code>Children</code>, <code>EmptyAttribute</code> and <code>EmptyChild</code>, just like Symbol DSL.</li> 
  </ul> 
  <h4><a id="user-content-creating-your-own-dsl" class="anchor" href="https://github.com/lmnet/scala-js-preact#creating-your-own-dsl" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Creating your own DSL</h4> 
  <p>Every Preact DSL is based on the single <code>Preact.raw.h</code> function under the hood. This function creates <code>VNode</code> instances. It has the following signatures (in the real source code they are looking a little different):</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">type</span> <span class="pl-en">NodeType</span> <span class="pl-k">=</span> js.<span class="pl-en">Dynamic</span> <span class="pl-k">|</span>        <span class="pl-c"><span class="pl-c">//</span> for class components</span>
  js.<span class="pl-en">Function0</span>[<span class="pl-en">VNode</span>] <span class="pl-k">|</span>             <span class="pl-c"><span class="pl-c">//</span> for function components without arguments</span>
  js.<span class="pl-en">Function1</span>[js.<span class="pl-en">Dynamic</span>, <span class="pl-en">VNode</span>] <span class="pl-k">|</span> <span class="pl-c"><span class="pl-c">//</span> for function components with props argument</span>
  <span class="pl-k">String</span>                            <span class="pl-c"><span class="pl-c">//</span> for HTML tags</span>

<span class="pl-c"><span class="pl-c">//</span> for VNode with children</span>
<span class="pl-k">def</span> <span class="pl-en">h</span>(
  <span class="pl-v">node</span>: <span class="pl-en">NodeType</span>,
  <span class="pl-v">params</span>: js.<span class="pl-en">Dictionary</span>[js.<span class="pl-en">Any</span>], <span class="pl-c"><span class="pl-c">//</span> if params is empty you should pass null</span>
  <span class="pl-v">children</span>: <span class="pl-en">Child</span><span class="pl-k">*</span>
)<span class="pl-k">:</span> <span class="pl-en">VNode</span>

<span class="pl-c"><span class="pl-c">//</span> for VNode without children</span>
<span class="pl-k">def</span> <span class="pl-en">h</span>(
  <span class="pl-v">node</span>: <span class="pl-en">NodeType</span>,
  <span class="pl-v">params</span>: js.<span class="pl-en">Dictionary</span>[js.<span class="pl-en">Any</span>] <span class="pl-c"><span class="pl-c">//</span> if params is empty you should pass null</span>
)<span class="pl-k">:</span> <span class="pl-en">VNode</span></pre>
  </div> 
  <p><em>Important note</em>: in the Preact (and React) <code>null</code> is the correct child node. In your DSL you should correctly preserve an order of all child nodes, including <code>null</code>. You can replace <code>null</code> with something else in your high-level DSL API, but on the low-level <code>Preact.raw.h</code> call you should pass <code>null</code>. Look at the <code>Entry.EmptyChild</code> in the symbol or tags DSLs for the example.</p> 
  <p>This is all you should know about creating DSLs for <code>scala-js-preact</code>. You can check code of the built-in DSLs for the real examples.</p> 
  <h1><a id="user-content-project-status" class="anchor" href="https://github.com/lmnet/scala-js-preact#project-status" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Project status</h1> 
  <p>This project is in the pre-alpha state. Please, don't use it in the production!</p> 
 </article>
</div>