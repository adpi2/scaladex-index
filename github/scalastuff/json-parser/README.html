<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/scalastuff/json-parser#json-parser" aria-hidden="true" class="anchor" id="user-content-json-parser" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>json-parser</h1> 
  <p>A minimalistic JSON parser for scala. Its goals:</p> 
  <h4><a href="https://github.com/scalastuff/json-parser#fast" aria-hidden="true" class="anchor" id="user-content-fast" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Fast</h4> 
  <p>The parser is hand-crafted, resulting in very good performance. It's up to par with Jackson, more than 350 times faster than the default json parser (that shipped with scala until 2.10), and more than 15 times faster than the spray-json parser. (Running the tests will report timing information.)</p> 
  <h4><a href="https://github.com/scalastuff/json-parser#streaming" aria-hidden="true" class="anchor" id="user-content-streaming" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Streaming</h4> 
  <p>The parser streams its result into a json <a href="https://github.com/scalastuff/json-parser/blob/master/src/main/scala/org/scalastuff/json/JsonHandler.scala" target="_blank">handler</a>. The handler gets events from the parser and can act accordingly. It allows for memory-efficient processing of large data sets.</p> 
  <h4><a href="https://github.com/scalastuff/json-parser#independent" aria-hidden="true" class="anchor" id="user-content-independent" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Independent</h4> 
  <p>The core parser is not tied to a particular JSON AST (abstract syntax tree). Through the streaming interface, any AST can be built. The parser currently ships with a spray-json builder, more will follow.</p> 
  <h2><a href="https://github.com/scalastuff/json-parser#getting-started" aria-hidden="true" class="anchor" id="user-content-getting-started" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting started</h2> 
  <p>The json-parser can be obtained from maven central, cross-built against scala 2.10 and 2.11:</p> 
  <div class="highlight highlight-source-scala">
   <pre>  <span class="pl-s"><span class="pl-pds">"</span>org.scalastuff<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>json-parser<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>2.0.2<span class="pl-pds">"</span></span></pre>
  </div> 
  <h2><a href="https://github.com/scalastuff/json-parser#usage" aria-hidden="true" class="anchor" id="user-content-usage" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>A parser is instantiated by providing a <a href="https://github.com/scalastuff/json-parser/blob/master/src/main/scala/org/scalastuff/json/JsonHandler.scala" target="_blank">handler</a>. Alternatively, a specialized version can be used, like the <a href="https://github.com/scalastuff/json-parser/blob/master/src/main/scala/org/scalastuff/json/spray/SprayJsonParser.scala" target="_blank">SprayJsonParser</a>.</p> 
  <div class="highlight highlight-source-scala">
   <pre>  <span class="pl-k">import</span> <span class="pl-v">org.scalastuff.json.</span><span class="pl-v">JsonParser</span>
  <span class="pl-k">val</span> <span class="pl-en">parser</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">JsonParser</span>(<span class="pl-k">new</span> <span class="pl-en">MyJsonHandler)</span></pre>
  </div> 
  <p>The parser has three parse overloads:</p> 
  <div class="highlight highlight-source-scala">
   <pre>  <span class="pl-k">def</span> <span class="pl-en">parse</span>(<span class="pl-v">reader</span>: <span class="pl-en">Reader</span>)
  <span class="pl-k">def</span> <span class="pl-en">parse</span>(<span class="pl-v">source</span>: <span class="pl-k">String</span>)
  <span class="pl-k">def</span> <span class="pl-en">parse</span>(<span class="pl-v">source</span>: <span class="pl-en">Array</span>[<span class="pl-k">Char</span>])</pre>
  </div> 
  <p>The <code>Reader</code> overload allows streaming some JSON input into the parser. The document will be processed character-by-character, the input will not be read into memory.</p> 
  <p>The <code>String</code> and <code>Array[Char]</code> overloads are wrappers around the <code>Reader</code> overload, but they use an optimized reader, <a href="https://github.com/scalastuff/json-parser/blob/master/src/main/scala/org/scalastuff/json/FastStringReader.scala" target="_blank">FastStringReader</a>. Compared to using <code>java.io.StringReader</code> and <code>java.io.CharArrayReader</code>, expect a speedup of nearly 50%.</p> 
  <p>Note that a parser instance is NOT thread safe. It can be re-used though, and one is advised to do so.</p> 
  <h2><a href="https://github.com/scalastuff/json-parser#spray-parser" aria-hidden="true" class="anchor" id="user-content-spray-parser" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Spray parser</h2> 
  <p>The parser ships with a built-in spray parser, targeting the spray-json AST:</p> 
  <div class="highlight highlight-source-scala">
   <pre>  <span class="pl-k">import</span> <span class="pl-v">spray.json.</span><span class="pl-v">JsValue</span>
  <span class="pl-k">import</span> <span class="pl-v">org.scalastuff.json.spray.</span><span class="pl-v">SprayJsonParser</span>
  <span class="pl-k">val</span> <span class="pl-en">parser</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">SprayJsonParser</span>
  <span class="pl-k">val</span> <span class="pl-en">result</span><span class="pl-k">:</span> <span class="pl-en">JsValue</span> <span class="pl-k">=</span> parser.parse(someJson)</pre>
  </div> 
  <p>It also has an 'object' interface, that adds some convenience. It creates a parser instance on each invocation, which can be useful in a multi-threaded environment:</p> 
  <div class="highlight highlight-source-scala">
   <pre>  <span class="pl-k">val</span> <span class="pl-en">result</span><span class="pl-k">:</span> <span class="pl-en">JsValue</span> <span class="pl-k">=</span> <span class="pl-en">SprayJsonParser</span>.parse(someJson)</pre>
  </div> 
  <p>Note: to use this parser in the context of spray.io (e.g. in spray-routing), one should use an alternative implementation of <code>spray.httpx.SprayJsonSupport</code>. Providing such an implementation is out of scope for this project though.</p> 
  <h2><a href="https://github.com/scalastuff/json-parser#writing-a-jsonhandler" aria-hidden="true" class="anchor" id="user-content-writing-a-jsonhandler" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Writing a JsonHandler</h2> 
  <p>A <a href="https://github.com/scalastuff/json-parser/blob/master/src/main/scala/org/scalastuff/json/JsonHandler.scala" target="_blank">JsonHandler</a> is a call-back interface for parse events, comparable to SAX for XML. Using a <code>Reader</code> in combination with a custom handler allows for true streamed JSON processing.</p> 
  <p>The <a href="https://github.com/scalastuff/json-parser/blob/master/src/main/scala/org/scalastuff/json/spray/SprayJsonBuilder.scala" target="_blank">SprayJsonBuilder</a> is probably a good starting point when writing a custom handler.</p> 
  <h2><a href="https://github.com/scalastuff/json-parser#jsonprinter" aria-hidden="true" class="anchor" id="user-content-jsonprinter" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>JsonPrinter</h2> 
  <p>The <a href="https://github.com/scalastuff/json-parser/blob/master/src/main/scala/org/scalastuff/json/JsonPrinter.scala" target="_blank">JsonPrinter</a> pretty-prints json to a given writer. It is a handler, so it can be fed to the parser. The following example illustrates how file data can can be pretty-printed and directly streamed to an output stream:</p> 
  <div class="highlight highlight-source-scala">
   <pre>    <span class="pl-k">val</span> <span class="pl-en">reader</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">FileReader</span>(<span class="pl-s"><span class="pl-pds">"</span>data.json<span class="pl-pds">"</span></span>)
    <span class="pl-k">val</span> <span class="pl-en">writer</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">OutputStreamWriter</span>(<span class="pl-en">System</span>.out)
    <span class="pl-k">val</span> <span class="pl-en">parser</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">JsonParser</span>(<span class="pl-k">new</span> <span class="pl-en">JsonPrinter</span>(writer))
    parser.parse(reader)
    writer.close()</pre>
  </div> 
  <h2><a href="https://github.com/scalastuff/json-parser#roadmap" aria-hidden="true" class="anchor" id="user-content-roadmap" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Roadmap</h2> 
  <ul> 
   <li>Allow for asynchronous, 'reactive' streaming. See <a href="https://github.com/scalastuff/json-parser/issues/3" target="_blank">issue #3</a>.</li> 
  </ul> 
  <h2><a href="https://github.com/scalastuff/json-parser#license" aria-hidden="true" class="anchor" id="user-content-license" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>This software is released under the Apache License, Version 2.0</p> 
  <p><a href="http://www.apache.org/licenses/LICENSE-2.0.html" target="_blank">http://www.apache.org/licenses/LICENSE-2.0.html</a></p> 
 </article>
</div>