<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <p><em>This file is generated using sbt</em></p> 
  <h1><a id="user-content-little-spec" class="anchor" href="https://github.com/eecolor/little-spec#little-spec" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Little Spec</h1> 
  <p>A small test framework for <a href="http://www.scala-sbt.org/" target="_blank">sbt</a> and <a href="http://www.scala-js.org/" target="_blank">Scala.js</a> that allows you to write specifications.</p> 
  <h1><a id="user-content-installation" class="anchor" href="https://github.com/eecolor/little-spec#installation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Installation</h1> 
  <h2><a id="user-content-sbt" class="anchor" href="https://github.com/eecolor/little-spec#sbt" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>sbt</h2> 
  <p>Add the framework as library dependency</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.qirx<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>little-spec<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.4<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Add the test framework</p> 
  <div class="highlight highlight-source-scala">
   <pre>testFrameworks <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">TestFramework</span>(<span class="pl-s"><span class="pl-pds">"</span>org.qirx.littlespec.sbt.TestFramework<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <h2><a id="user-content-scalajs" class="anchor" href="https://github.com/eecolor/little-spec#scalajs" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala.js</h2> 
  <p>Add the framework as library dependency</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.qirx<span class="pl-pds">"</span></span> <span class="pl-k">%%%</span> <span class="pl-s"><span class="pl-pds">"</span>little-spec<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.4<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Add the test framework</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-en">ScalaJSKeys</span>.scalaJSTestFramework in <span class="pl-en">Test</span> <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.qirx.littlespec.scalajs.TestFramework<span class="pl-pds">"</span></span></pre>
  </div> 
  <h1><a id="user-content-usage" class="anchor" href="https://github.com/eecolor/little-spec#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h1> 
  <p><strong>This documentation is generated from <code>documentation._1_GettingStarted</code></strong></p> 
  <hr> 
  <p>To create a specification, extend an object or class with <code>Specification</code> and create a fragment. An empty fragment results in a <code>TODO</code>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">org.qirx.littlespec.</span><span class="pl-v">Specification</span>

<span class="pl-k">object</span> <span class="pl-en">ExampleSpec</span> <span class="pl-k">extends</span> <span class="pl-e">Specification</span> {
  <span class="pl-s"><span class="pl-pds">"</span>implicit fragment<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
    <span class="pl-c">// fragment body</span>
  }
}</pre>
  </div> 
  <p>Fragments can be created in two ways, using the string enhancement or by calling the <code>createFragment</code> method.</p> 
  <div class="highlight highlight-source-scala">
   <pre>createFragment(<span class="pl-s"><span class="pl-pds">"</span>explicit fragment<span class="pl-pds">"</span></span>, { <span class="pl-c">/* fragment body */</span> })</pre>
  </div> 
  <p>Fragments can be nested</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-s"><span class="pl-pds">"</span>outer<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
  <span class="pl-s"><span class="pl-pds">"</span>inner<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
    <span class="pl-c">// fragment body</span>
  }
}</pre>
  </div> 
  <p>Fragments can be disabled</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-s"><span class="pl-pds">"</span>disabled<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
  <span class="pl-c">// fragment body</span>
}.disabled

<span class="pl-s"><span class="pl-pds">"</span>disabled with a message<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
  <span class="pl-c">// fragment body</span>
}.disabled(<span class="pl-s"><span class="pl-pds">"</span>message<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>An example showing multiple features</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">org.qirx.littlespec.</span><span class="pl-v">Specification</span>

<span class="pl-k">object</span> <span class="pl-en">ExampleSpec</span> <span class="pl-k">extends</span> <span class="pl-e">Specification</span> {

  <span class="pl-k">trait</span> <span class="pl-en">Adder</span>[<span class="pl-en">T</span>] {
    <span class="pl-k">def</span> <span class="pl-en">add</span>(<span class="pl-v">a</span>: <span class="pl-en">T</span>, <span class="pl-v">b</span>: <span class="pl-en">T</span>)<span class="pl-k">:</span> <span class="pl-en">T</span>
  }
  <span class="pl-k">object</span> <span class="pl-en">Adder</span> {
    <span class="pl-k">implicit</span> <span class="pl-k">def</span> <span class="pl-en">numericAdder</span>[<span class="pl-en">T</span><span class="pl-k">:</span> <span class="pl-en">Numeric</span>] <span class="pl-k">=</span>
      <span class="pl-k">new</span> <span class="pl-en">Adder</span>[<span class="pl-en">T</span>] {
        <span class="pl-k">def</span> <span class="pl-en">add</span>(<span class="pl-v">a</span>: <span class="pl-en">T</span>, <span class="pl-v">b</span>: <span class="pl-en">T</span>) <span class="pl-k">=</span> implicitly[<span class="pl-en">Numeric</span>[<span class="pl-en">T</span>]].plus(a, b)
      }
    <span class="pl-k">implicit</span> <span class="pl-k">def</span> <span class="pl-en">stringAdder</span> <span class="pl-k">=</span>
      <span class="pl-k">new</span> <span class="pl-en">Adder</span>[<span class="pl-k">String</span>] {
        <span class="pl-k">def</span> <span class="pl-en">add</span>(<span class="pl-v">a</span>: <span class="pl-k">String</span>, <span class="pl-v">b</span>: <span class="pl-k">String</span>) <span class="pl-k">=</span> a <span class="pl-k">+</span> b
      }
    <span class="pl-k">implicit</span> <span class="pl-k">def</span> <span class="pl-en">booleanAdder</span> <span class="pl-k">=</span>
      <span class="pl-k">new</span> <span class="pl-en">Adder</span>[<span class="pl-k">Boolean</span>] {
        <span class="pl-k">def</span> <span class="pl-en">add</span>(<span class="pl-v">a</span>: <span class="pl-k">Boolean</span>, <span class="pl-v">b</span>: <span class="pl-k">Boolean</span>) <span class="pl-k">=</span> sys.error(<span class="pl-s"><span class="pl-pds">"</span>Can not add booleans<span class="pl-pds">"</span></span>)
      }
  }

  <span class="pl-k">def</span> <span class="pl-en">add</span>[<span class="pl-en">T</span>](<span class="pl-v">a</span>: <span class="pl-en">T</span>, <span class="pl-v">b</span>: <span class="pl-en">T</span>)(<span class="pl-k">implicit</span> <span class="pl-v">adder</span>: <span class="pl-en">Adder</span>[<span class="pl-en">T</span>]) <span class="pl-k">=</span> adder.add(a, b)

  <span class="pl-s"><span class="pl-pds">"</span>The `add` method should<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {

    <span class="pl-s"><span class="pl-pds">"</span>exist<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
      add(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>)
      success
    }

    <span class="pl-s"><span class="pl-pds">"</span>perform a basic addition on numbers<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
      add(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>) is <span class="pl-c1">3</span>
      add(<span class="pl-c1">1L</span>, <span class="pl-c1">2L</span>) is <span class="pl-c1">3L</span>
    }

    <span class="pl-s"><span class="pl-pds">"</span>be able to concatenate strings<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
      add(<span class="pl-s"><span class="pl-pds">"</span>one<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>two<span class="pl-pds">"</span></span>) is <span class="pl-s"><span class="pl-pds">"</span>onetwo<span class="pl-pds">"</span></span>
    }

    <span class="pl-s"><span class="pl-pds">"</span>have a method to add unicorns<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
      pending(<span class="pl-s"><span class="pl-pds">"</span>The rainbows are not ready yet<span class="pl-pds">"</span></span>)
    }

    example {
      add(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>) is <span class="pl-c1">3</span>
    }

    <span class="pl-s"><span class="pl-pds">"</span>fail for booleans<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
      add(<span class="pl-c1">true</span>, <span class="pl-c1">false</span>) must throwA[<span class="pl-en">RuntimeException</span>]
        .withMessage(<span class="pl-s"><span class="pl-pds">"</span>Can not add booleans<span class="pl-pds">"</span></span>)
    }
  }
}</pre>
  </div> 
  <p><strong>This documentation is generated from <code>documentation._2_AssertEnhancements</code></strong></p> 
  <hr> 
  <p>A few enhancements are added for every type, meaning that calling the appropriate method results in an implicit resolution of that method The <code>is</code> enhancement performs a simple <code>==</code> comparison it results in a failure when the values are not equal</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c1">1</span> is <span class="pl-c1">1</span>
<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span> is <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>
<span class="pl-en">Seq</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>) is <span class="pl-en">List</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>)</pre>
  </div> 
  <p>The <code>isLike</code> enhancement is added for every type and performs a pattern match it results in a failure when the partial function does not match it returns the result of the partial function if it's matched</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-en">Test</span>(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>) isLike {
  <span class="pl-k">case</span> <span class="pl-en">Test</span>(value) <span class="pl-k">=&gt;</span> value is <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>
}</pre>
  </div> 
  <p>The <code>must</code> enhancement is added for every type and allows you to pass in an <code>Assertion</code> instance it results in a failure if the assertion returns a <code>Left(message)</code> it returns the body if the assertion returns a <code>Right(body)</code> it accepts different assertion types as long as there is an implicit conversion from <code>A</code> to <code>B</code></p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">beTest</span> <span class="pl-k">=</span>
  <span class="pl-k">new</span> <span class="pl-en">Assertion</span>[<span class="pl-k">String</span>] {
    <span class="pl-k">def</span> <span class="pl-en">assert</span>(<span class="pl-v">s</span>: <span class="pl-k">=&gt;</span> <span class="pl-k">String</span>) <span class="pl-k">=</span>
      <span class="pl-k">if</span> (s.isEmpty) <span class="pl-en">Left</span>(<span class="pl-s"><span class="pl-pds">"</span>The string can not be empty<span class="pl-pds">"</span></span>)
      <span class="pl-k">else</span> <span class="pl-en">Right</span>(s is <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>)
  }

<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span> must beTest</pre>
  </div> 
  <p>The <code>withMessage</code> enhancement allows you to change the message of a failure</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">result</span> <span class="pl-k">=</span>
  <span class="pl-c1">1</span> is <span class="pl-c1">2</span> withMessage(_ <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> - failed<span class="pl-pds">"</span></span>)

result failsWith <span class="pl-s"><span class="pl-pds">"</span>1 is not equal to 2 - failed<span class="pl-pds">"</span></span></pre>
  </div> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">result</span> <span class="pl-k">=</span>
  <span class="pl-c1">1</span> is <span class="pl-c1">2</span> withMessage(<span class="pl-s"><span class="pl-pds">"</span>failed<span class="pl-pds">"</span></span>)

result failsWith <span class="pl-s"><span class="pl-pds">"</span>failed<span class="pl-pds">"</span></span></pre>
  </div> 
  <p><strong>This documentation is generated from <code>documentation._3_Assertions</code></strong></p> 
  <hr> 
  <p>The simplest form of assertions are the static assertions</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-s"><span class="pl-pds">"</span>todo<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
  todo
}

<span class="pl-s"><span class="pl-pds">"</span>success<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
  success
}

<span class="pl-s"><span class="pl-pds">"</span>failure<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
  failure(<span class="pl-s"><span class="pl-pds">"</span>message<span class="pl-pds">"</span></span>)
}

<span class="pl-s"><span class="pl-pds">"</span>pending<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
  pending(<span class="pl-s"><span class="pl-pds">"</span>message<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <p>There are different assertions available that work with the <code>must</code> enhancement The <code>throwA</code> and <code>throwAn</code> assertions expect an exception to be thrown</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">result1</span> <span class="pl-k">=</span> <span class="pl-c1">1</span> must throwA[<span class="pl-en">CustomException</span>]
<span class="pl-k">def</span> <span class="pl-en">result2</span> <span class="pl-k">=</span> <span class="pl-c1">2</span> must throwAn[<span class="pl-en">OtherCustomException</span>]

<span class="pl-k">def</span> <span class="pl-en">message</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>) <span class="pl-k">=</span> s<span class="pl-s"><span class="pl-pds">"</span>Expected '$name' but no exception was thrown<span class="pl-pds">"</span></span>
result1 failsWith message(<span class="pl-s"><span class="pl-pds">"</span>documentation.CustomException<span class="pl-pds">"</span></span>)
result2 failsWith message(<span class="pl-s"><span class="pl-pds">"</span>documentation.OtherCustomException<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">code1</span><span class="pl-k">:</span> <span class="pl-en">Any</span> <span class="pl-k">=</span> <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">CustomException</span>
<span class="pl-k">def</span> <span class="pl-en">code2</span><span class="pl-k">:</span> <span class="pl-en">Any</span> <span class="pl-k">=</span> <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">OtherCustomException</span>

<span class="pl-k">def</span> <span class="pl-en">result1</span> <span class="pl-k">=</span> code1 must throwA[<span class="pl-en">CustomException</span>]
<span class="pl-k">def</span> <span class="pl-en">result2</span> <span class="pl-k">=</span> code2 must throwAn[<span class="pl-en">OtherCustomException</span>]

result1 is success
result2 is success</pre>
  </div> 
  <p>If another exception is thrown it is ignored This assertion can be made more specific with the <code>like</code> method. If no exception was thrown it will behave the same when no exception is thrown.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">code1</span><span class="pl-k">:</span> <span class="pl-en">Any</span> <span class="pl-k">=</span> <span class="pl-k">throw</span> <span class="pl-en">CustomException</span>(<span class="pl-s"><span class="pl-pds">"</span>test1<span class="pl-pds">"</span></span>)
<span class="pl-k">def</span> <span class="pl-en">code2</span><span class="pl-k">:</span> <span class="pl-en">Any</span> <span class="pl-k">=</span> <span class="pl-k">throw</span> <span class="pl-en">OtherCustomException</span>(<span class="pl-s"><span class="pl-pds">"</span>test2<span class="pl-pds">"</span></span>)

<span class="pl-k">def</span> <span class="pl-en">result1</span> <span class="pl-k">=</span>
  code1 must throwA[<span class="pl-en">CustomException</span>].like {
    <span class="pl-k">case</span> <span class="pl-en">CustomException</span>(message) <span class="pl-k">=&gt;</span> pending(message)
  }
<span class="pl-k">def</span> <span class="pl-en">result2</span> <span class="pl-k">=</span>
  code2 must throwAn[<span class="pl-en">OtherCustomException</span>].like {
    <span class="pl-k">case</span> <span class="pl-en">OtherCustomException</span>(message) <span class="pl-k">=&gt;</span> pending(message)
  }

result1 is pending(<span class="pl-s"><span class="pl-pds">"</span>test1<span class="pl-pds">"</span></span>)
result2 is pending(<span class="pl-s"><span class="pl-pds">"</span>test2<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>It also allows you to check the message of an exception</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">code1</span><span class="pl-k">:</span> <span class="pl-en">Any</span> <span class="pl-k">=</span> <span class="pl-k">throw</span> <span class="pl-en">CustomException</span>(<span class="pl-s"><span class="pl-pds">"</span>test1<span class="pl-pds">"</span></span>)
<span class="pl-k">def</span> <span class="pl-en">code2</span><span class="pl-k">:</span> <span class="pl-en">Any</span> <span class="pl-k">=</span> <span class="pl-k">throw</span> <span class="pl-en">OtherCustomException</span>(<span class="pl-s"><span class="pl-pds">"</span>test2<span class="pl-pds">"</span></span>)

<span class="pl-k">def</span> <span class="pl-en">result1</span> <span class="pl-k">=</span> code1 must throwA[<span class="pl-en">CustomException</span>].withMessage(<span class="pl-s"><span class="pl-pds">"</span>test1<span class="pl-pds">"</span></span>)
<span class="pl-k">def</span> <span class="pl-en">result2</span> <span class="pl-k">=</span> code2 must throwAn[<span class="pl-en">OtherCustomException</span>].withMessage(<span class="pl-s"><span class="pl-pds">"</span>test2<span class="pl-pds">"</span></span>)

result1 is success
result2 is success</pre>
  </div> 
  <p>The <code>beAnInstanceOf</code> assertion expects an instance to be of a given type</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">result1</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span> must beAnInstanceOf[<span class="pl-k">String</span>]
<span class="pl-k">def</span> <span class="pl-en">result2</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">CustomInstance</span> must beAnInstanceOf[<span class="pl-en">CustomType</span>]

result1 is success
result2 is success</pre>
  </div> 
  <p>It fails when the instance if not of the correct type</p> 
  <p><strong>This documentation is generated from <code>documentation._4_ExampleFragments</code></strong></p> 
  <hr> 
  <p>Sometimes you want to show how your library is used, the problem with documenting code examples is that they 'rot'. In case you change your library you will not be notified of any compile errors in your documentation. On top of that, the code might not be doing what you inteded. The <code>example</code> fragment helps you in these cases.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">specialMethod</span>(x<span class="pl-k">:</span><span class="pl-k">Int</span>) <span class="pl-k">=</span> <span class="pl-c1">1</span> <span class="pl-k">+</span> x

example {
  <span class="pl-k">def</span> <span class="pl-en">result</span> <span class="pl-k">=</span> specialMethod(<span class="pl-c1">1</span>)
  result is <span class="pl-c1">2</span>
}</pre>
  </div> 
  <p><strong>This documentation is generated from <code>documentation._5_Customization</code></strong></p> 
  <hr> 
  <p>There are a lot of ways in which you can make things more readable and usable The easiest form of customization is the use of <code>Assertion</code> classes that work with the <code>must</code> enhancement.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">beAnElephant</span> <span class="pl-k">=</span>
  <span class="pl-k">new</span> <span class="pl-en">Assertion</span>[<span class="pl-k">String</span> <span class="pl-c">/* this assertions only works on strings */</span> ] {
    <span class="pl-k">def</span> <span class="pl-en">assert</span>(<span class="pl-v">s</span>: <span class="pl-k">=&gt;</span> <span class="pl-k">String</span>) <span class="pl-k">=</span>
      <span class="pl-k">if</span> (s <span class="pl-k">!=</span> <span class="pl-s"><span class="pl-pds">"</span>elephant<span class="pl-pds">"</span></span>) <span class="pl-en">Left</span>(<span class="pl-s"><span class="pl-pds">"</span>The given string is not an elephant<span class="pl-pds">"</span></span>)
      <span class="pl-k">else</span> <span class="pl-en">Right</span>(success)
  }

<span class="pl-s"><span class="pl-pds">"</span>elephant<span class="pl-pds">"</span></span> must beAnElephant
(<span class="pl-s"><span class="pl-pds">"</span>mouse<span class="pl-pds">"</span></span> must beAnElephant) failsWith <span class="pl-s"><span class="pl-pds">"</span>The given string is not an elephant<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>You could also rename or combine existing assertions</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">beAFailure</span> <span class="pl-k">=</span> throwA[<span class="pl-en">Fragment</span>.<span class="pl-en">Failure</span>]
<span class="pl-k">def</span> <span class="pl-en">beAFailureWithMessage</span>(<span class="pl-v">message</span>: <span class="pl-k">String</span>) <span class="pl-k">=</span> beAFailure withMessage message

failure(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>) must beAFailureWithMessage(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>Another form is by using enhancements</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">implicit</span> <span class="pl-k">class</span> <span class="pl-en">FailWith</span>(<span class="pl-v">t</span>: <span class="pl-k">=&gt;</span> <span class="pl-en">FragmentBody</span>) {
  <span class="pl-k">def</span> <span class="pl-en">failsWith</span>(<span class="pl-v">message</span>: <span class="pl-k">String</span>) <span class="pl-k">=</span>
    t must (throwA[<span class="pl-en">Fragment</span>.<span class="pl-en">Failure</span>] withMessage message)
}

failure(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>) failsWith <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span></pre>
  </div> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">implicit</span> <span class="pl-k">class</span> <span class="pl-en">IntAssertEnhancement</span>(<span class="pl-v">i</span>: <span class="pl-k">Int</span>) {
  <span class="pl-k">def</span> <span class="pl-en">isThree</span> <span class="pl-k">=</span> i is <span class="pl-c1">3</span>
}

<span class="pl-c1">3.</span>isThree</pre>
  </div> 
  <p>It's also possible to use the source code in custom fragments</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">org.qirx.littlespec.io.</span><span class="pl-v">Source</span>
<span class="pl-k">import</span> <span class="pl-v">org.qirx.littlespec.macros.</span><span class="pl-v">Location</span>

<span class="pl-c">// Make sure the location is passed in implicitly,</span>
<span class="pl-c">// this allows the macro to materialize it.</span>
<span class="pl-k">class</span> <span class="pl-en">Example</span>(<span class="pl-k">implicit</span> <span class="pl-v">location</span>: <span class="pl-en">Location</span>) { <span class="pl-v">self</span> <span class="pl-k">=&gt;</span>

  <span class="pl-c">// Source.codeAtLocation will grab the source code</span>
  <span class="pl-c">// between { and }</span>
  <span class="pl-k">def</span> <span class="pl-en">expecting</span>(<span class="pl-v">result</span>: <span class="pl-v">self</span>.type <span class="pl-k">=&gt;</span> <span class="pl-en">FragmentBody</span>) <span class="pl-k">=</span>
    createFragment(<span class="pl-en">Source</span>.codeAtLocation(location), result(<span class="pl-v">self</span>))
}

<span class="pl-k">trait</span> <span class="pl-en">MyLibraryTrait</span> {
  <span class="pl-k">def</span> <span class="pl-en">name</span><span class="pl-k">:</span> <span class="pl-k">String</span>
}

<span class="pl-c">// Usage example:</span>

<span class="pl-s"><span class="pl-pds">"</span>API documentation<span class="pl-pds">"</span></span> <span class="pl-k">-</span>
  <span class="pl-k">new</span> <span class="pl-en">Example</span> {
    <span class="pl-c">// Extend the library trait and implement the name property</span>
    <span class="pl-k">object</span> <span class="pl-en">CustomObject</span> <span class="pl-k">extends</span> <span class="pl-e">MyLibraryTrait</span> {
      <span class="pl-k">lazy</span> <span class="pl-k">val</span> <span class="pl-en">name</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>
    }
  }.expecting {
    _.<span class="pl-en">CustomObject</span>.name is <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>
  }
</pre>
  </div> 
 </article>
</div>