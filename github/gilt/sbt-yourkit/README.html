<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-sbt-yourkit" class="anchor" href="https://github.com/gilt/sbt-yourkit#sbt-yourkit" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>sbt-yourkit</h1> 
  <p>Adds YourKit agent to Java packages built using sbt-native-packager.</p> 
  <p>The plugin adds the YourKit shared library for a target platform into the package built by sbt-native-packager, and adds the library as an agent at startup.</p> 
  <p>The YourKit Java Profiler is a profiling tool for memory, CPU, threads, exceptions, and other aspects of your Java VM. See <a href="https://www.yourkit.com/features/" target="_blank">https://www.yourkit.com/features/</a> for more details.</p> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/gilt/sbt-yourkit#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <ol> 
   <li>Add the following to your project build, e.g. <code>project/plugins.sbt</code>:</li> 
  </ol> 
  <div class="highlight highlight-source-scala">
   <pre>addSbtPlugin(<span class="pl-s"><span class="pl-pds">"</span>com.gilt.sbt<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>sbt-yourkit<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.0.3<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <ol start="2"> 
   <li>Add the <code>YourKit</code> plugin to your project, e.g.:</li> 
  </ol> 
  <div class="highlight highlight-source-scala">
   <pre>enablePlugins(<span class="pl-en">YourKit</span>)</pre>
  </div> 
  <h2><a id="user-content-customization" class="anchor" href="https://github.com/gilt/sbt-yourkit#customization" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Customization</h2> 
  <p>Two SBT keys are intended to be customized for your purposes:</p> 
  <table> 
   <thead> 
    <tr> 
     <th>Key name</th> 
     <th>Purpose</th> 
     <th>Default value</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td>yourKitAgentPlatforms</td> 
     <td>Shared object target platform</td> 
     <td><code>Seq("linux-x86-64")</code></td> 
    </tr> 
    <tr> 
     <td>yourKitAgentStartupOptions</td> 
     <td>Startup options for YourKit</td> 
     <td><code>sessionname=${project_name},</code></td> 
    </tr>
   </tbody>
  </table> 
  <p>The startup options for the YourKit agent are described at <a href="https://www.yourkit.com/docs/80/help/startup_options.jsp" target="_blank">https://www.yourkit.com/docs/80/help/startup_options.jsp</a></p> 
  <h2><a id="user-content-overriding-at-runtime" class="anchor" href="https://github.com/gilt/sbt-yourkit#overriding-at-runtime" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Overriding at runtime</h2> 
  <p>You can override the behaviour of your packaged application at runtime by setting some environment variables.</p> 
  <table> 
   <thead> 
    <tr> 
     <th>Environment variable</th> 
     <th>Purpose</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td>YOURKIT_AGENT_DISABLED</td> 
     <td>If set (to any value), completely disable the agent</td> 
    </tr> 
    <tr> 
     <td>YOURKIT_AGENT_STARTUP_OPTIONS</td> 
     <td>If set, overrides startup options provided to agent</td> 
    </tr>
   </tbody>
  </table> 
  <h2><a id="user-content-requirements" class="anchor" href="https://github.com/gilt/sbt-yourkit#requirements" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Requirements</h2> 
  <p>The plugin requires SBT &gt;= 0.13.5 (as it is an SBT AutoPlugin). It also requires Java 7+.</p> 
  <p>Your project should use <a href="http://www.scala-sbt.org/sbt-native-packager/" target="_blank">sbt-native-packager</a> &gt;= 1.0.0 for packaging, and use the <code>JavaAppPackaging</code> AutoPlugin (or some plugin that in turn depends on this). This is standard for packaged applications which run on the Java VM.</p> 
  <h2><a id="user-content-security-note" class="anchor" href="https://github.com/gilt/sbt-yourkit#security-note" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Security Note</h2> 
  <p>The YourKit agent opens a TCP port which allows access to the profiling options available in the VM. This should be secured from access by arbitrary people:</p> 
  <ul> 
   <li> <p>You can place the running service in a network with appropriate network restrictions, so that only allowed machines can connect to the service.</p> </li> 
   <li> <p>You can add flags to limit the network interfaces on which the agent listens, see some possible options at <a href="https://www.yourkit.com/docs/80/help/startup_options.jsp" target="_blank">https://www.yourkit.com/docs/80/help/startup_options.jsp</a> In particular, the <code>onlylocal</code> option allows connections only from the local machine.</p> </li> 
  </ul> 
  <h2><a id="user-content-limitations" class="anchor" href="https://github.com/gilt/sbt-yourkit#limitations" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Limitations</h2> 
  <p>While it would be nice to include support for multiple platforms in the archive, and then choose between them at runtime, this requires some runtime checks in the start script. This is possible, but error-prone without access to the appropriate systems for testing.</p> 
 </article>
</div>