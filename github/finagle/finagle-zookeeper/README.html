<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h2><a href="https://github.com/finagle/finagle-zookeeper#finagle-zookeeper-" aria-hidden="true" class="anchor" id="user-content-finagle-zookeeper-" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Finagle-ZooKeeper <a href="https://travis-ci.org/finagle/finagle-zookeeper" target="_blank"><img src="https://camo.githubusercontent.com/f660ce754d5060ce78e123888bc2ab392e7d19ea/68747470733a2f2f7472617669732d63692e6f72672f66696e61676c652f66696e61676c652d7a6f6f6b65657065722e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/finagle/finagle-zookeeper.svg?branch=master" style="max-width:100%;"></a></h2> 
  <p>finagle-zookeeper provides basic tools to communicate with a Zookeeper server asynchronously.</p> 
  <p><em>Note: this is a Google Summer of Code 2014 project, mentored by Twitter, see <a href="https://groups.google.com/forum/?hl=en#!topic/finaglers/GlLXNOvdSVg" target="_blank">the mailing list</a> for more details.</em></p> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#client" aria-hidden="true" class="anchor" id="user-content-client" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Client</h5> 
  <ul> 
   <li><code>Client</code> is based on Finagle 6 client model.</li> 
  </ul> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#request" aria-hidden="true" class="anchor" id="user-content-request" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Request</h5> 
  <p>Every request returns a <em>twitter.util.Future</em> (see <a href="http://twitter.github.io/effectivescala/#Concurrency-Futures" target="_blank">Effective Scala</a>, <a href="https://twitter.github.io/scala_school/finagle.html#Future" target="_blank">Finagle documentation</a> and <a href="http://twitter.github.io/util/util-core/target/doc/main/api/com/twitter/util/Future.html" target="_blank">Scaladoc</a>)</p> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#wiki-scaladoc" aria-hidden="true" class="anchor" id="user-content-wiki-scaladoc" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a><a href="https://github.com/finagle/finagle-zookeeper/wiki" target="_blank">Wiki</a> <a href="http://finagle.github.io/finagle-zookeeper/#package" target="_blank">Scaladoc</a></h5> 
  <ul> 
   <li> <p><a href="https://github.com/finagle/finagle-zookeeper/wiki/1.-Create-a-ZkClient" target="_blank">How to create a ZkClient ?</a></p> </li> 
   <li> <p><a href="https://github.com/finagle/finagle-zookeeper/wiki/2.-AutoReconnect-(Automatic-Reconnection)" target="_blank">AutoReconnect feature</a></p> </li> 
   <li> <p><a href="https://github.com/finagle/finagle-zookeeper/wiki/3.-Host-management" target="_blank">About host management</a></p> </li> 
   <li> <p><a href="https://github.com/finagle/finagle-zookeeper/wiki/4.-Session" target="_blank">Session</a></p> </li> 
   <li> <p><a href="https://github.com/finagle/finagle-zookeeper/wiki/5.-Watcher-manager" target="_blank">Watcher manager</a></p> </li> 
   <li> <p><a href="https://github.com/finagle/finagle-zookeeper/wiki/6.-More-about-requests" target="_blank">More about requests</a></p> </li> 
  </ul> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#client-creation--more-details-here-" aria-hidden="true" class="anchor" id="user-content-client-creation--more-details-here-" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Client creation ( more details <a href="https://github.com/finagle/finagle-zookeeper/wiki/1.-Create-a-ZkClient" target="_blank">here</a> )</h5> 
  <div class="highlight highlight-source-scala">
   <pre>  <span class="pl-k">val</span> <span class="pl-en">client</span> <span class="pl-k">=</span> <span class="pl-en">ZooKeeper</span>.newRichClient(<span class="pl-s"><span class="pl-pds">"</span>127.0.0.1:2181,10.0.0.10:2181,192.168.1.1:2181<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <ul> 
   <li><code>127.0.0.1:2181,10.0.0.10:2181,192.168.1.1:2181</code> is a String representing the server list, separated by a comma</li> 
  </ul> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#connect-the-client" aria-hidden="true" class="anchor" id="user-content-connect-the-client" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Connect the client</h5> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">connect</span> <span class="pl-k">=</span> client.connect
connect onSuccess { _ <span class="pl-k">=&gt;</span>
  logger.info(<span class="pl-s"><span class="pl-pds">"</span>Connected to zookeeper server: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> client.adress)
} onFailure { exc <span class="pl-k">=&gt;</span>
  logger.severe(<span class="pl-s"><span class="pl-pds">"</span>Connect Error<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#disconnect-the-client" aria-hidden="true" class="anchor" id="user-content-disconnect-the-client" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Disconnect the client</h5> 
  <pre><code>client.disconnect()
</code></pre> 
  <p>Return value <code>Future[Unit]</code>. It will stop all background operations related to features (preventive search, link checker), will clean everything and disconnect from the server.</p> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#close-the-service" aria-hidden="true" class="anchor" id="user-content-close-the-service" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Close the service</h5> 
  <pre><code>client.close()
</code></pre> 
  <p>Return value <code>Future[Unit]</code>. It will definitely close the service and stop background jobs. Make sure to use <code>disconnect</code> to close the session correctly before.</p> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#first-request" aria-hidden="true" class="anchor" id="user-content-first-request" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>First request</h5> 
  <p>Example of request with sequential composition :</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">res</span> <span class="pl-k">=</span> <span class="pl-k">for</span> {
  acl <span class="pl-k">&lt;</span><span class="pl-k">-</span> client.getACL(<span class="pl-s"><span class="pl-pds">"</span>/zookeeper<span class="pl-pds">"</span></span>)
  _ <span class="pl-k">&lt;</span><span class="pl-k">-</span> client.create(<span class="pl-s"><span class="pl-pds">"</span>/zookeeper/test<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>HELLO<span class="pl-pds">"</span></span>.getBytes, <span class="pl-en">Ids</span>.<span class="pl-en">OPEN_ACL_UNSAFE</span>, <span class="pl-en">CreateMode</span>.<span class="pl-en">EPHEMERAL</span>)
  _ <span class="pl-k">&lt;</span><span class="pl-k">-</span> client.exists(<span class="pl-s"><span class="pl-pds">"</span>/zookeeper/test<span class="pl-pds">"</span></span>, <span class="pl-c1">true</span>)
  _ <span class="pl-k">&lt;</span><span class="pl-k">-</span> client.setData(<span class="pl-s"><span class="pl-pds">"</span>/zookeeper/test<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>CHANGE<span class="pl-pds">"</span></span>.getBytes, <span class="pl-k">-</span><span class="pl-c1">1</span>)
} <span class="pl-k">yield</span> (acl)</pre>
  </div> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#create" aria-hidden="true" class="anchor" id="user-content-create" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>create</h5> 
  <div class="highlight highlight-source-scala">
   <pre>client.create(<span class="pl-s"><span class="pl-pds">"</span>/zookeeper/hello<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>HELLO<span class="pl-pds">"</span></span>.getBytes, <span class="pl-en">Ids</span>.<span class="pl-en">OPEN_ACL_UNSAFE</span>, <span class="pl-en">CreateMode</span>.<span class="pl-en">EPHEMERAL</span>)</pre>
  </div> 
  <ul> 
   <li><code>/zookeeper/hello</code> : the node that you want to create</li> 
   <li><code>"HELLO".getBytes</code> : the data associated to this node</li> 
   <li><code>Ids.OPEN_ACL_UNSAFE</code> : default integrated ACL (world:anyone)</li> 
   <li><code>CreateMode.EPHEMERAL</code> : the creation mode</li> 
  </ul> 
  <p>Return value <code>Future[String]</code> representing the path you have just created</p> 
  <ul> 
   <li><code>CreateMode.PERSISTENT</code> persistent mode</li> 
   <li><code>CreateMode.EPHEMERAL</code> ephemeral mode</li> 
   <li><code>CreateMode.PERSISTENT_SEQUENTIAL</code> persistent and sequential mode</li> 
   <li><code>CreateMode.EPHEMERAL_SEQUENTIAL</code> ephemeral and sequential mode</li> 
  </ul> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#delete" aria-hidden="true" class="anchor" id="user-content-delete" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>delete</h5> 
  <div class="highlight highlight-source-scala">
   <pre>client.delete(<span class="pl-s"><span class="pl-pds">"</span>/zookeeper/test<span class="pl-pds">"</span></span>, <span class="pl-k">-</span><span class="pl-c1">1</span>)</pre>
  </div> 
  <ul> 
   <li><code>/zookeeper/test</code> : the node that you want to delete</li> 
   <li><code>-1</code> : current version of the node (-1 if you don't care)</li> 
  </ul> 
  <p>Return value <code>Future[Unit]</code></p> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#exists" aria-hidden="true" class="anchor" id="user-content-exists" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>exists</h5> 
  <div class="highlight highlight-source-scala">
   <pre>client.exists(<span class="pl-s"><span class="pl-pds">"</span>/zookeeper/test<span class="pl-pds">"</span></span>, <span class="pl-c1">false</span>)</pre>
  </div> 
  <ul> 
   <li><code>/zookeeper/test</code> : the node that you want to test</li> 
   <li><code>false</code> : Boolean if you don't want to set a watch this node</li> 
  </ul> 
  <p>Return value <code>Future[ExistsResponse]</code> <code>ExistsResponse(stat: Option[Stat], watch: Option[Watcher])</code>, watch will be composed of <code>Some(watcher:Watcher)</code> if you previously asked to set a watch on the node, otherwise it will be <code>None</code>.</p> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#getacl" aria-hidden="true" class="anchor" id="user-content-getacl" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>getACL</h5> 
  <div class="highlight highlight-source-scala">
   <pre>client.getACL(<span class="pl-s"><span class="pl-pds">"</span>/zookeeper<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <ul> 
   <li><code>/zookeeper</code> : the node from which you want to retrieve the ACL</li> 
  </ul> 
  <p>Return value <code>Future[GetACLResponse]</code> <code>GetACLResponse(acl: Array[ACL], stat: Stat)</code></p> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#setacl" aria-hidden="true" class="anchor" id="user-content-setacl" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>setACL</h5> 
  <div class="highlight highlight-source-scala">
   <pre>client.setACL(<span class="pl-s"><span class="pl-pds">"</span>/zookeeper/test<span class="pl-pds">"</span></span>, <span class="pl-en">Ids</span>.<span class="pl-en">OPEN_ACL_UNSAFE</span>, <span class="pl-k">-</span><span class="pl-c1">1</span>)</pre>
  </div> 
  <ul> 
   <li><code>/zookeeper/test</code> : the node that you want to update</li> 
   <li><code>Ids.OPEN_ACL_UNSAFE</code> : default integrated ACL (world:anyone)</li> 
   <li><code>-1</code> : current node's version (-1 if you don't care)</li> 
  </ul> 
  <p>Return value <code>Future[Stat]</code></p> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#getchildren" aria-hidden="true" class="anchor" id="user-content-getchildren" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>getChildren</h5> 
  <div class="highlight highlight-source-scala">
   <pre>client.getChildren(<span class="pl-s"><span class="pl-pds">"</span>/zookeeper<span class="pl-pds">"</span></span>, <span class="pl-c1">false</span>)</pre>
  </div> 
  <ul> 
   <li><code>/zookeeper</code> : the node that you want to get</li> 
   <li><code>false</code> : if you don't want to set a watch on this node</li> 
  </ul> 
  <p>Return value <code>Future[GetChildrenResponse]</code> <code>GetChildrenResponse(children: Seq[String], watch: Option[Watcher])</code> , watch will be composed of <code>Some(watcher:Watcher)</code> if you previously asked to set a watch on the node, otherwise it will be <code>None</code>.</p> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#getchildren2" aria-hidden="true" class="anchor" id="user-content-getchildren2" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>getChildren2</h5> 
  <div class="highlight highlight-source-scala">
   <pre>client.getChildren2(<span class="pl-s"><span class="pl-pds">"</span>/zookeeper<span class="pl-pds">"</span></span>, <span class="pl-c1">false</span>)</pre>
  </div> 
  <ul> 
   <li><code>/zookeeper</code> : the node that you want to get</li> 
   <li><code>false</code> : if you don't want to set a watch on this node</li> 
  </ul> 
  <p>Return value <code>Future[GetChildren2Response]</code> <code>GetChildren2Response(children: Seq[String], stat: Stat, watch: Option[Watcher])</code>, watch will be composed of <code>Some(watcher:Watcher)</code> if you previously asked to set a watch on the node, otherwise it will be <code>None</code>.</p> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#getdata" aria-hidden="true" class="anchor" id="user-content-getdata" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>getData</h5> 
  <div class="highlight highlight-source-scala">
   <pre>client.getData(<span class="pl-s"><span class="pl-pds">"</span>/zookeeper/test<span class="pl-pds">"</span></span>, <span class="pl-c1">false</span>)</pre>
  </div> 
  <ul> 
   <li><code>/zookeeper/test</code> : the node that you want to get</li> 
   <li><code>false</code> : if you don't want to set a watch on this node</li> 
  </ul> 
  <p>Return value <code>Future[GetDataResponse]</code> <code>GetDataResponse(data: Array[Byte], stat: Stat, watch: Option[Watcher])</code>, watch will be composed of <code>Some(watcher:Watcher)</code> if you previously asked to set a watch on the node, otherwise it will be <code>None</code>.</p> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#setdata" aria-hidden="true" class="anchor" id="user-content-setdata" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>setData</h5> 
  <div class="highlight highlight-source-scala">
   <pre>client.setData(<span class="pl-s"><span class="pl-pds">"</span>/zookeeper/test<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>CHANGE<span class="pl-pds">"</span></span>.getBytes, <span class="pl-k">-</span><span class="pl-c1">1</span>)</pre>
  </div> 
  <ul> 
   <li><code>/zookeeper/test</code> : the node that you want to update</li> 
   <li><code>"CHANGE".getBytes</code> : the data that you want to set on this node</li> 
   <li><code>-1</code> : current node's version (-1 if you don't care)</li> 
  </ul> 
  <p>Return value <code>Future[Stat]</code>.</p> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#addauth" aria-hidden="true" class="anchor" id="user-content-addauth" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>addAuth</h5> 
  <div class="highlight highlight-source-scala">
   <pre>client.addAuth(<span class="pl-s"><span class="pl-pds">"</span>digest<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>pat:pass<span class="pl-pds">"</span></span>.getBytes)</pre>
  </div> 
  <ul> 
   <li><code>"digest"</code> : the authentication scheme</li> 
   <li><code>"pat:pass".getBytes</code> : data associated to the scheme</li> 
  </ul> 
  <p>Return value <code>Future[Unit]</code>.</p> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#sync" aria-hidden="true" class="anchor" id="user-content-sync" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>sync</h5> 
  <div class="highlight highlight-source-scala">
   <pre>client.sync(<span class="pl-s"><span class="pl-pds">"</span>/zookeeper<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <ul> 
   <li><code>/zookeeper</code> : the node that you want to sync</li> 
  </ul> 
  <p>Return value <code>Future[String]</code>.</p> 
  <h5><a href="https://github.com/finagle/finagle-zookeeper#transaction" aria-hidden="true" class="anchor" id="user-content-transaction" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Transaction</h5> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">opList</span> <span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-en">CreateRequest</span>(
    <span class="pl-s"><span class="pl-pds">"</span>/zookeeper/hello<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>TRANS<span class="pl-pds">"</span></span>.getBytes, <span class="pl-en">Ids</span>.<span class="pl-en">OPEN_ACL_UNSAFE</span>, <span class="pl-en">CreateMode</span>.<span class="pl-en">EPHEMERAL</span>),
  <span class="pl-en">SetDataRequest</span>(<span class="pl-s"><span class="pl-pds">"</span>/zookeeper/hello<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>changing<span class="pl-pds">"</span></span>.getBytes, <span class="pl-k">-</span><span class="pl-c1">1</span>),
  <span class="pl-en">DeleteRequest</span>(<span class="pl-s"><span class="pl-pds">"</span>/zookeeper/hell<span class="pl-pds">"</span></span>, <span class="pl-k">-</span><span class="pl-c1">1</span>)
)
<span class="pl-k">val</span> <span class="pl-en">res</span> <span class="pl-k">=</span> client.transaction(opList)</pre>
  </div> 
  <p>Return value: <code>Future[TransactionResponse]</code>. A <code>TransactionResponse</code> is composed of a responseList, it's a sequence of <code>OpResult</code>. This sequence is ordered in the same order than the original request sequence.</p> 
  <p>If one of the resquest contained in the <code>TransactionRequest</code> produces an error during the transaction proccessing, all the operations of this transaction are cancelled, and the server will return a <code>TransactionResponse</code> where the sequence of responses is only composed by <code>ErrorResponse</code>.</p> 
  <p>An <code>ErrorResponse</code> will indicate the cause of the error with its <code>exception</code> value. By reading the sequence of response from the transaction, if the exception is <code>OkException</code> then the corresponding request is not the cause of the failure, you can go throught the list to find the problem (exception will be different of <code>OkException</code>)</p> 
  <p>A transaction can be composed by one or more OpRequests :</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">CheckVersionRequest</span>(<span class="pl-v">path</span>: <span class="pl-k">String</span>, <span class="pl-v">version</span>: <span class="pl-k">Int</span>)
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">CreateRequest</span>(
  <span class="pl-v">path</span>: <span class="pl-k">String</span>,
  <span class="pl-v">data</span>: <span class="pl-en">Array</span>[<span class="pl-k">Byte</span>],
  <span class="pl-v">aclList</span>: <span class="pl-en">Seq</span>[<span class="pl-en">ACL</span>],
  <span class="pl-v">createMode</span>: <span class="pl-k">Int</span>
  )
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Create2Request</span>(
  <span class="pl-v">path</span>: <span class="pl-k">String</span>,
  <span class="pl-v">data</span>: <span class="pl-en">Array</span>[<span class="pl-k">Byte</span>],
  <span class="pl-v">aclList</span>: <span class="pl-en">Seq</span>[<span class="pl-en">ACL</span>],
  <span class="pl-v">createMode</span>: <span class="pl-k">Int</span>
  )
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">DeleteRequest</span>(<span class="pl-v">path</span>: <span class="pl-k">String</span>, <span class="pl-v">version</span>: <span class="pl-k">Int</span>)
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">SetDataRequest</span>(
  <span class="pl-v">path</span>: <span class="pl-k">String</span>,
  <span class="pl-v">data</span>: <span class="pl-en">Array</span>[<span class="pl-k">Byte</span>],
  <span class="pl-v">version</span>: <span class="pl-k">Int</span>
  )</pre>
  </div> 
  <p>Each opRequest will return a response of the same type (expect delete and checkVersion that return an EmptyResponse)</p> 
 </article>
</div>