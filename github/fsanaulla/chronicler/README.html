<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-chronicler--" class="anchor" href="https://github.com/fsanaulla/chronicler#chronicler--" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Chronicler <a href="https://travis-ci.org/fsanaulla/chronicler" target="_blank"><img src="https://camo.githubusercontent.com/4f58abb847de1d16a53ce346e7b9a60030abead9/68747470733a2f2f7472617669732d63692e6f72672f6673616e61756c6c612f6368726f6e69636c65722e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/fsanaulla/chronicler.svg?branch=master" style="max-width:100%;"></a> <a href="https://coveralls.io/github/fsanaulla/chronicler?branch=master" target="_blank"><img src="https://camo.githubusercontent.com/a8a9ff111e0c3d028c07b9020b2be765234ee0cd/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f6673616e61756c6c612f6368726f6e69636c65722f62616467652e7376673f6272616e63683d6d6173746572" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/github/fsanaulla/chronicler/badge.svg?branch=master" style="max-width:100%;"></a></h1> 
  <p>Chronicler - asynchronous <a href="https://www.scala-lang.org/" target="_blank">Scala</a> client library for <a href="https://www.influxdata.com/" target="_blank">InfluxDB</a> based on <a href="http://doc.akka.io/docs/akka-http/current/scala/http/" target="_blank">Akka HTTP</a>.</p> 
  <h1><a id="user-content-table-of-content" class="anchor" href="https://github.com/fsanaulla/chronicler#table-of-content" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Table of content</h1> 
  <ul> 
   <li><a href="https://github.com/fsanaulla/chronicler#version" target="_blank">Versions</a></li> 
   <li><a href="https://github.com/fsanaulla/chronicler#usage" target="_blank">Usage</a></li> 
   <li><a href="https://github.com/fsanaulla/chronicler#connection" target="_blank">Connection</a> 
    <ul> 
     <li><a href="https://github.com/fsanaulla/chronicler#integration" target="_blank">Integration</a></li> 
     <li><a href="https://github.com/fsanaulla/chronicler#import" target="_blank">Imports</a></li> 
     <li><a href="https://github.com/fsanaulla/chronicler#createConn" target="_blank">Create connection</a></li> 
    </ul> </li> 
   <li><a href="https://github.com/fsanaulla/chronicler#helptools" target="_blank">Helper Tools</a></li> 
   <li><a href="https://github.com/fsanaulla/chronicler#time" target="_blank">Time</a></li> 
   <li><a href="https://github.com/fsanaulla/chronicler#sync" target="_blank">Synchronize</a></li> 
   <li><a href="https://github.com/fsanaulla/chronicler#resp" target="_blank">Response Handling</a></li> 
   <li><a href="https://github.com/fsanaulla/chronicler#dbManagement" target="_blank">Database management</a></li> 
   <li><a href="https://github.com/fsanaulla/chronicler#readWrite" target="_blank">Read and Write operation</a> 
    <ul> 
     <li><a href="https://github.com/fsanaulla/chronicler#read" target="_blank">Read operation</a></li> 
     <li><a href="https://github.com/fsanaulla/chronicler#write" target="_blank">Write operation</a></li> 
    </ul> </li> 
   <li><a href="https://github.com/fsanaulla/chronicler#userManagement" target="_blank">User management</a></li> 
   <li><a href="https://github.com/fsanaulla/chronicler#CQManagement" target="_blank">Continuously Query management</a></li> 
   <li><a href="https://github.com/fsanaulla/chronicler#subsManagement" target="_blank">Subscription management</a></li> 
   <li><a href="https://github.com/fsanaulla/chronicler#rpManagement" target="_blank">Retention Policy management</a></li> 
   <li><a href="https://github.com/fsanaulla/chronicler#shardManagement" target="_blank">Shards management</a></li> 
  </ul> 
  <h1><a id="user-content-versions-" class="anchor" href="https://github.com/fsanaulla/chronicler#versions-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Versions <a name="user-content-version" target="_blank" href=""></a></h1> 
  <p>There is avaible version for scala <code>2.11</code> and <code>2.12</code>. JDK 8 is required.</p> 
  <h1><a id="user-content-usage-" class="anchor" href="https://github.com/fsanaulla/chronicler#usage-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage <a name="user-content-usage" target="_blank" href=""></a></h1> 
  <h2><a id="user-content-connection-" class="anchor" href="https://github.com/fsanaulla/chronicler#connection-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Connection <a name="user-content-connection" target="_blank" href=""></a></h2> 
  <h3><a id="user-content-integration-" class="anchor" href="https://github.com/fsanaulla/chronicler#integration-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Integration <a name="user-content-integration" target="_blank" href=""></a></h3> 
  <p>Add to your dependencies list in <code>build.sbt</code>:</p> 
  <pre><code>libraryDependencies += "com.github.fsanaulla" %% "chronicler" % "0.1"
</code></pre> 
  <h3><a id="user-content-imports-" class="anchor" href="https://github.com/fsanaulla/chronicler#imports-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Imports <a name="user-content-import" target="_blank" href=""></a></h3> 
  <pre><code>// import executor

import scala.concurrent.ExecutionContext.Implicits.global

// or define your own implicit executor for specific needs in the scope

implicit val ex: ExecutionContext = _
</code></pre> 
  <h3><a id="user-content-create-connection-" class="anchor" href="https://github.com/fsanaulla/chronicler#create-connection-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Create connection <a name="user-content-createConn" target="_blank" href=""></a></h3> 
  <p>Creating simply <code>HTTP</code> connection based on <code>host</code> and default <code>port</code></p> 
  <pre><code>val influx = InfluxClientsFactory.createHttpClient("host") // default port 8086
</code></pre> 
  <p>or with <code>host</code> and custom <code>port</code></p> 
  <pre><code>val influx = InfluxClientsFactory.createHttpClient("host", 8087)
</code></pre> 
  <p>or with user auth info</p> 
  <pre><code>val influx = InfluxClientsFactory.createHttpClient("host", 8087, Some("username"), Some("password"))
</code></pre> 
  <p>TO create <code>UDP</code> connection you need simply define host address and port:</p> 
  <pre><code>val udpInflux = InfluxClientsFactory.createUdpClient("host", 8089)
</code></pre> 
  <h2><a id="user-content-helper-tools-" class="anchor" href="https://github.com/fsanaulla/chronicler#helper-tools-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Helper tools <a name="user-content-helptools" target="_blank" href=""></a></h2> 
  <h3><a id="user-content-time-" class="anchor" href="https://github.com/fsanaulla/chronicler#time-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Time <a name="user-content-time" target="_blank" href=""></a></h3> 
  <p>In many place you need to specify special influx time format, like in <code>duration</code> related fields. In this case you can simply write string based time like, <code>1h30m45s</code> by hand according to <a href="https://docs.influxdata.com/influxdb/v1.3/query_language/spec/#durations" target="_blank">Duration Time Format</a>. Or use <code>InfluxDuration</code> object.</p> 
  <pre><code>import com.fsanaulla.utils.InfluxDuration._

// Simply write
1.hours + 30.minutes + 45.seconds // that equal to 1h30m45s

// another existed extension
1.nanoseconds
1.microseconds
1.milliseconds
1.seconds
1.minutes
1.hours
1.days
1.weeks

// the same for Long
</code></pre> 
  <h3><a id="user-content-synchronize-" class="anchor" href="https://github.com/fsanaulla/chronicler#synchronize-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Synchronize <a name="user-content-sync" target="_blank" href=""></a></h3> 
  <p>To complete future you can use Extension object</p> 
  <pre><code>import com.fsanaulla.utils.Synchronization._
import scala.concurrent.duration._

implicit val timeout = 1 second

val future: Future[T] = _
val completedFuture: T = future.sync
</code></pre> 
  <h2><a id="user-content-response-handling-" class="anchor" href="https://github.com/fsanaulla/chronicler#response-handling-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Response handling <a name="user-content-resp" target="_blank" href=""></a></h2> 
  <p>For now you need to understand how handle response from library api. Most of method that have querying functionality return <code>QueryResult</code>. What looks like:</p> 
  <pre><code>case class QueryResult[T](code: Int,                    // response HTTP code
                          isSuccess: Boolean,           // success status 
                          queryResult: Seq[T] = Nil,    // quered data  
                          ex: Option[Throwable] = None) // optional exception 
</code></pre> 
  <p>So in your code you can handle responses like that:</p> 
  <pre><code>db.read[T]("SELECT * FROM some_measurement") map {
      case QueryResult(_, _, queryResult, None) =&gt; queryResult // if no exсeption exist
      case _ =&gt; // handle error
}
</code></pre> 
  <p>Another non-query method like <code>setPassword</code>, <code>setUserPrivileges</code> return a <code>Result</code> object:</p> 
  <pre><code>case class Result(code: Int,                    // HTTP response code
                  isSuccess: Boolean,           // success status
                  ex: Option[Throwable] = None) // optional exception
</code></pre> 
  <p>To handle it:</p> 
  <pre><code>influx.setUserPassword("SomeUser", "newPassword") map {
        case Result(_, _, None) =&gt; // succesfully finished operation
        case _ =&gt; // handle error
}
</code></pre> 
  <h2><a id="user-content-database-management-" class="anchor" href="https://github.com/fsanaulla/chronicler#database-management-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Database management <a name="user-content-dbManagement" target="_blank" href=""></a></h2> 
  <p>Main <a href="https://docs.influxdata.com/influxdb/v1.3/query_language/database_management/" target="_blank">Database management</a> operation:</p> 
  <p>You can create db with such signatures</p> 
  <pre><code>// With database name
influx.createDatabase("db")
res0: Future[Result]

// and with duration
influx.createDatabase("db", Some("2h))
res0: Future[Result]

// and with replication
influx.createDatabase("db", Some("2h"), Some(1))
res0: Future[Result]

// and with shard duration
influx.createDatabase("db", Some("2h"), Some(1), Some("2h"))
res0: Future[Result]

// and with associated retention policy name
influx.createDatabase("db", Some("2h"), Some(1), Some("2h"), Some("my_retention_policy"))
res0: Future[Result]
</code></pre> 
  <p>To choose needed database:</p> 
  <pre><code>val db: Database = influx.use("mydb")
</code></pre> 
  <p>Drop database</p> 
  <pre><code>influx.dropDatabase("db_name")
res0: Future[Result]
</code></pre> 
  <p>Drop measurement</p> 
  <pre><code>influx.dropMeasurement("measurement_name")
res0: Future[Result]
</code></pre> 
  <p>Drop shard bu shardId</p> 
  <pre><code>influx.dropShard(2)
res0: Future[Result]
</code></pre> 
  <p>Show database measurement</p> 
  <pre><code>influx.showMeasurement("db_name")
res0: Future[QueryResult[String]]
</code></pre> 
  <p>Show databases:</p> 
  <pre><code>influx.showDatabase()
res0: Future[QueryResult[String]]
</code></pre> 
  <p>Show measurement tag keys, <code>whereClause</code> it's simply predicate to filtering like <code>"bar &gt; 4"</code>. <code>whereClause</code>, <code>limit</code>, <code>offset</code> are optional parameters.</p> 
  <pre><code>influx.showTagKeys("database", "measurement", "whereClause", optLimit, optOffset)
res0: Future[QueryResult[String]]
</code></pre> 
  <p>Show measurement tag value's, <code>whereClause</code> it's simply predicate to filtering like <code>"bar &gt; 4"</code>. <code>whereClause</code>, <code>limit</code>, <code>offset</code> are optional parameters.</p> 
  <pre><code>influx.showTagValues("db_name", "measuremetn_name", Seq("key1", "key2"), whereClause, limit, offset)
res0: Future[QueryResult[TagValue]]
</code></pre> 
  <p>Show field keys:</p> 
  <pre><code>influx.showFieldKeys("db_name", "measuremetn_name")
res0: Future[QueryResult[FieldInfo]]
</code></pre> 
  <h2><a id="user-content-read-and-write-operation-" class="anchor" href="https://github.com/fsanaulla/chronicler#read-and-write-operation-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Read and Write operation <a name="user-content-readWrite" target="_blank" href=""></a></h2> 
  <h3><a id="user-content-read-operations-" class="anchor" href="https://github.com/fsanaulla/chronicler#read-operations-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Read operations <a name="user-content-read" target="_blank" href=""></a></h3> 
  <p>There is several read method exist. The base one is:</p> 
  <pre><code>db.readJs("SELEC * FROM measurement")
res0: Future[QueryResult[JsArray]] // where JsArray it's influx point representation
</code></pre> 
  <p>You can execute multiple query's in one request:</p> 
  <pre><code>db.bulkReadJs(Seq("SELECT * FROM measurement", "SELECT * FROM measurement1"))
res0: Future[QueryResult[Seq[JsArray]]]
</code></pre> 
  <p>The next one it's typed method, for using it you need define your own <code>InfluxReader[T]</code> and add it implicitly to scope. There is example of one on that. Simply mark it with <code>readable</code> annotation to generate implicits at compile time</p> 
  <pre><code>@readaable
case class FakeEntity(firstName: String, lastName: String, age: Int)
</code></pre> 
  <p>And then just use it</p> 
  <pre><code>db.read[FakeEntity]("SELECT * FROM measurement")
res0: Future[QueryResult[FakeEntity]]
</code></pre> 
  <h3><a id="user-content-write-operation-" class="anchor" href="https://github.com/fsanaulla/chronicler#write-operation-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Write operation <a name="user-content-write" target="_blank" href=""></a></h3> 
  <p>There is much more opportunities to store data. They separated on 2 groups. First one is not a typesafe. You can used from <code>db</code> instance. Like below First one save point in pure <a href="https://docs.influxdata.com/influxdb/v1.3/write_protocols/line_protocol_reference/" target="_blank">Line Protocol Format</a></p> 
  <pre><code>// single
db.writeNative("cpu_load_short,host=server02,region=us-west value=0.55 1422568543702900257")
res0: Future[Result]

// bulk
db.bulkWriteNative(Seq("cpu_load_short,host=server02,region=us-west value=0.55 1422568543702900257", "cpu_load_short,host=server03,region=us-west value=0.56 1422568539002900257"))
res1: Future[Result]
</code></pre> 
  <p><code>writePoint</code> add possibility to save <code>Point</code> into InfluxDB:</p> 
  <pre><code>// single
val p1 = Point("testMeasurement")
            .addTag("name", "Jimbo")
            .addTag("surname", "Bimbo")
            .addField("age", 56)

db.writePoint(p1)
res0: Future[Result]

// bulk
db.bulkWritePoints(Seq(p1, ...))
res0: Future[Result]
</code></pre> 
  <p>Another option is to write from file. File format example:</p> 
  <pre><code>test1,host=server02 value=0.67
test1,host=server02,region=us-west value=0.55 1422568543702900257
test1,direction=in,host=server01,region=us-west value=2.0 1422568543702900257
</code></pre> 
  <p>every point must be on separate line in Line Protocol format. And then:</p> 
  <pre><code>db.writeFromFile("path/to/your/file")
res0: Future[Result]
</code></pre> 
  <p>The same methods able for <code>InfluxUdpClient</code>. Like:</p> 
  <pre><code>updInflux.writeNative("cpu_load_short,host=server02,region=us-west value=0.55 1422568543702900257")
res0: Unit
</code></pre> 
  <p>main difference in return type. All udp methods return unit result by <a href="https://en.wikipedia.org/wiki/User_Datagram_Protocol" target="_blank">UDP Protocol</a> nature</p> 
  <p>The second group are typesafe operation. To use it:</p> 
  <pre><code>val meas = db.measurement("meas_name")
</code></pre> 
  <p>That one can take any type that have implicit <code>InfluxWriter</code>object in the scope, that parse your object to <a href="https://docs.influxdata.com/influxdb/v1.3/write_protocols/line_protocol_reference/" target="_blank">Line Protocol String</a>. For example: To to object writable to influx, just mark it with annotation <code>writable</code>, and specify tag and field params in object. This annotation will generate implicit object for you at compile time. See scalameta</p> 
  <pre><code>import com.github.fsanaulla.annotation._

@writable
case class FakeEntity(@tag firstName: String,
                      @tag lastName: String,
                      @field age: Int)
</code></pre> 
  <p>Then you can simply:</p> 
  <pre><code>val fe = FakeEntity("Name", "Surname", 54)

// single
meas.write[FakeEntity](fe)
res0: Future[Result]

// bulk
meas.bulkWrite(Seq(fe, ...))
res0: Future[Result]
</code></pre> 
  <p>Another one useful annotation exist called <code>formattable</code>, example below:</p> 
  <pre><code>@formattable
case class FakeEntity(@tag firstName: String,
                      @tag lastName: String,
                      @field age: Int)
</code></pre> 
  <p>It with generate both implicits like: InfluxReader[FakeEntity] and InfluxWriter[FakeEntity]</p> 
  <h2><a id="user-content-user-management-" class="anchor" href="https://github.com/fsanaulla/chronicler#user-management-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>User management <a name="user-content-userManagement" target="_blank" href=""></a></h2> 
  <p>Main <a href="https://docs.influxdata.com/influxdb/v1.3/query_language/authentication_and_authorization/#user-management-commands" target="_blank">User Management</a> operations</p> 
  <p>Create non-admin user:</p> 
  <pre><code>influx.createUser("UserName", "UserPassword")
res0: Future[Result]
</code></pre> 
  <p>Create admin user:</p> 
  <pre><code>influx.createAdmin("AdminUser", "AdminPass")
res0: Future[Result]
</code></pre> 
  <p>Drop user:</p> 
  <pre><code>influx.dropUser("UserName")
res0: Future[Result]
</code></pre> 
  <p>Set user password:</p> 
  <pre><code>influx.setUserPassword("UserName", "UserPassword")
res0: Future[Result]
</code></pre> 
  <p>Set user privileges for some database:</p> 
  <pre><code>import com.fsanaulla.utils.constants.Privileges._

influx.setPrivileges("SomeUser", "SomeDB", Privileges.READ)
res0: Future[Result]
</code></pre> 
  <p>Revoke privileges from user</p> 
  <pre><code>import com.fsanaulla.utils.constants.Privileges._

influx.revokePrivileges("SomeUser", "SomeDB", Privileges.READ)
res0: Future[Result]
</code></pre> 
  <p>Make admin user from non-admin user:</p> 
  <pre><code>influx.makeAdmin("NonAdminUser")
res0: Future[Result]
</code></pre> 
  <p>Demote admin user:</p> 
  <pre><code>influx.disableAdmin("AdminUser")
res0: Future[Result]
</code></pre> 
  <p>Show users:</p> 
  <pre><code>influx.showUsers()
res0: Future[Result]
</code></pre> 
  <p>Show user's privileges:</p> 
  <pre><code>influx.showUserPrivileges()
res0: Future[Result]
</code></pre> 
  <h2><a id="user-content-continuously-query-management-" class="anchor" href="https://github.com/fsanaulla/chronicler#continuously-query-management-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Continuously Query management <a name="user-content-CQManagement" target="_blank" href=""></a></h2> 
  <p>Main <a href="https://docs.influxdata.com/influxdb/v1.3/query_language/continuous_queries/#continuous-query-management" target="_blank">CQ management</a> To create Continuously Query(further CQ). Where query params look's like <code>SELECT count("bees") AS "count_bees" INTO "aggregate_bees" FROM "farm" GROUP BY time(30m)</code>:</p> 
  <pre><code>influx.createCQ("dbName", "cqName", "query")
res0: Future[Result]
</code></pre> 
  <p>Droping CQ:</p> 
  <pre><code>influx.dropCQ("dbName", "cqName")
res0: Future[Result]
</code></pre> 
  <p>Show CQ's:</p> 
  <pre><code>influx.showCQs()
res0: Future[QueryResult[ContinuousQueryInfo]]
</code></pre> 
  <p>Show database related CQ's:</p> 
  <pre><code>influx.showCQ("dbName")
res0: Future[QueryResult[ContinuousQuery]]
</code></pre> 
  <p>There is no default update method for CQ, so <code>updateCQ</code> it's simulation using <code>dropCQ</code> and <code>createCQ</code> methods.</p> 
  <pre><code>influx.updateCQ("dbName", "cqName", "query")
res0: Future[Result]
</code></pre> 
  <h2><a id="user-content-subscription-management-" class="anchor" href="https://github.com/fsanaulla/chronicler#subscription-management-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Subscription management <a name="user-content-subsManagement" target="_blank" href=""></a></h2> 
  <p>You can simply create <code>subscription</code>:</p> 
  <pre><code>import com.fsanaulla.utils.constants.Destinations._

influx.createSubscription("subsName", "dbName", "rpName", Destinations.ALL, Seq("host1", "host2"))
res0: Future[Result]
</code></pre> 
  <p>To drop subscription:</p> 
  <pre><code>influx.dropSubscription("subsName", "dbName", "rpName")
res0: Future[Result]
</code></pre> 
  <p>Show subscriptions:</p> 
  <pre><code>influx.showSubscriptionsInfo()
res0: Future[QueryResult[SubscriptionInfo]]
</code></pre> 
  <p>To show database related subscriptions:</p> 
  <pre><code>influx.showSubscriptions("dbName")
res0: Future[QueryResult[Subscription]]
</code></pre> 
  <p>There is no update method in subs api, so it's just simulation using drop and create:</p> 
  <pre><code>import com.fsanaulla.utils.constants.Destinations._

influx.updateSubscription("subsName", "dbName", "rpName", Destinations.ALL, Seq("host1", "host2"))
res0: Future[Result]
</code></pre> 
  <h2><a id="user-content-retention-policy-management-" class="anchor" href="https://github.com/fsanaulla/chronicler#retention-policy-management-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Retention Policy management <a name="user-content-rpManagement" target="_blank" href=""></a></h2> 
  <p>Main <a href="https://docs.influxdata.com/influxdb/v1.3/query_language/database_management/" target="_blank">Retention Policy</a>(further RP) operation Create RP:</p> 
  <pre><code>influx.createRetentionPolicy("rpName", "dbName", "duration", intReplicationCount, "optShardDuration", defaulfBool)
res0: Future[Result] 
</code></pre> 
  <p>Show database related RP's:</p> 
  <pre><code>influx.showRetentionPolicies("dbName")
res0: Future[QueryResult[RetentionPolicyInfo]]
</code></pre> 
  <p>Drop RP:</p> 
  <pre><code>influx.dropRetentionPolicy("rpName", "dbName")
res0: Future[Result]
</code></pre> 
  <p>Update RP:</p> 
  <pre><code>influx.updateRetentionPolicy("rpName", "dbName", "duration", intReplicationCount, "optShardDuration", defaulfBool)
res0: Future[Result]
</code></pre> 
  <h2><a id="user-content-shard-management-" class="anchor" href="https://github.com/fsanaulla/chronicler#shard-management-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Shard management <a name="user-content-shardManagement" target="_blank" href=""></a></h2> 
  <p>Drop shard by id:</p> 
  <pre><code>influx.dropShard(4)
res0: Future[Result]
</code></pre> 
  <p>Show shards group:</p> 
  <pre><code>influx.showShardGroups()
res0: Future[QueryResult[ShardGroupsInfo]]
</code></pre> 
  <p>Show shards:</p> 
  <pre><code>influx.showShards()
res0: Future[QueryResult[ShardInfo]]
</code></pre> 
  <p>Get database related shards:</p> 
  <pre><code>influx.getShards("someDB")
res0: Future[QueryResult[Shard]]
</code></pre> 
 </article>
</div>