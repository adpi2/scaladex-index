<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <p><a href="https://travis-ci.org/mjreid/flink-rest-scala-wrapper" target="_blank"><img src="https://camo.githubusercontent.com/f592c9816e9bf5a5d2127bd73041ee1b4e045a1b/68747470733a2f2f7472617669732d63692e6f72672f6d6a726569642f666c696e6b2d726573742d7363616c612d777261707065722e706e673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/mjreid/flink-rest-scala-wrapper.png?branch=master" style="max-width:100%;"></a> <a href="http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22flink-wrapper_2.11%22" target="_blank"><img src="https://camo.githubusercontent.com/a1fb41d0b41b668ff553a1da5898ec8d621dd8c7/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f636f6d2e6769746875622e6d6a726569642f666c696e6b2d777261707065725f322e31312e737667" data-canonical-src="https://img.shields.io/maven-central/v/com.github.mjreid/flink-wrapper_2.11.svg" style="max-width:100%;"></a></p> 
  <h1><a id="user-content-flink-rest-api-scala-wrapper" class="anchor" href="https://github.com/mjreid/flink-rest-scala-wrapper#flink-rest-api-scala-wrapper" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Flink REST Api Scala Wrapper</h1> 
  <p>Scala wrapper around Flink's REST API endpoints. This API is listed in the Flink documentation as the "Monitoring REST API", but it includes support for uploading JARs and managing jobs, so it's more fully-featured than the name would imply.</p> 
  <p>This project is meant to be an easy way for Scala developers to interact with Flink's REST API. It contains wrapper methods for API calls and returns responses in case classes for easy access.</p> 
  <p>This wrapper does <em>not</em> reference Flink as a library. This makes it for ideal for applications which need to invoke Flink jobs or report on Flink job statuses, but don't want to be tied to Flink at compile time.</p> 
  <p>This library was developed and tested against <strong>Flink 1.3.0</strong>. Compatibility with older or newer versions is not guaranteed.</p> 
  <h1><a id="user-content-getting-started" class="anchor" href="https://github.com/mjreid/flink-rest-scala-wrapper#getting-started" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting started</h1> 
  <p>Add an SBT reference:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.github.mjreid<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>flink-wrapper<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.0.2<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Create an instance of the FlinkRestClient:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">flinkClient</span> <span class="pl-k">=</span> <span class="pl-en">FlinkRestClient</span>(<span class="pl-s"><span class="pl-pds">"</span>http://flink-server.example.com:8081/<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>Use the FlinkRestClient to make a request, being sure to have an implicit ExecutionContext in scope:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scala.concurrent.ExecutionContext.Implicits.</span><span class="pl-v">global</span>
<span class="pl-k">val</span> <span class="pl-en">result</span> <span class="pl-k">=</span> flinkClient.getJobsOverview()</pre>
  </div> 
  <p>Do something with the result.</p> 
  <div class="highlight highlight-source-scala">
   <pre>result.map { jobsOverview <span class="pl-k">=&gt;</span> println(jobsOverview) }</pre>
  </div> 
  <h1><a id="user-content-handling-failures" class="anchor" href="https://github.com/mjreid/flink-rest-scala-wrapper#handling-failures" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Handling failures</h1> 
  <p>This wrapper uses "basic" Scala idioms (namely, <code>Future</code> and <code>Option</code>) to communicate failures. Any caught exceptions in a failed <code>Future</code> will be wrapped in a <code>FlinkWrapperException</code> or one of its subclasses.</p> 
  <p>The possible exceptions are <code>FlinkWrapperInvalidJsonException</code> when an unexpected JSON value is returned, and <code>FlinkWrapperUnexpectedStatusCodeException</code> when an unexpected HTTP status code is returned.</p> 
  <h1><a id="user-content-execution-contexts" class="anchor" href="https://github.com/mjreid/flink-rest-scala-wrapper#execution-contexts" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Execution contexts</h1> 
  <p>This wrapper uses play-ws under the hood to do HTTP requests in a non-blocking fashion. As a result, all calls return <code>Future</code> objects, which require an execution context in scope.</p> 
  <p>If you're making a small app, you can import the global execution context. However, as a best practice for larger apps, we recommend using a dedicated executor service. This will isolate your thread pools so that your application doesn't stall if the Flink REST endpoints take a long time to respond, for example.</p> 
  <h1><a id="user-content-full-api-list" class="anchor" href="https://github.com/mjreid/flink-rest-scala-wrapper#full-api-list" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Full API list</h1> 
  <p>The follow APIs are available in this wrapper. See the Scaladoc for more details.</p> 
  <h2><a id="user-content-job-management" class="anchor" href="https://github.com/mjreid/flink-rest-scala-wrapper#job-management" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Job Management</h2> 
  <ul> 
   <li><code>runProgram</code> starts a Flink program with the specified parameters. <strong>Important note:</strong> The <code>jarId</code> argument is <em>not</em> what appears in the Flink UI -- a hidden GUID is appended. It's recommended to use the <code>uploadJar</code> method (see below), which will return the full filename that can be used as part of <code>runProgram</code>.</li> 
   <li><code>cancelJob</code> cancels a job immediately.</li> 
   <li><code>cancelJobWithSavepoint</code> cancels a job with a savepoint. This method returns a <code>CancelJobAccepted</code> object; use the <code>getCancellationStatus</code> method to query the status. Cancellations can fail if, for example, the savepoint files cannot be written.</li> 
   <li><code>uploadJar</code> uploads a JAR that can be executed via <code>runProgram</code>.</li> 
  </ul> 
  <h2><a id="user-content-job-status" class="anchor" href="https://github.com/mjreid/flink-rest-scala-wrapper#job-status" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Job Status</h2> 
  <ul> 
   <li><code>getJobsList</code> returns all jobs in Flink, separated by state.</li> 
   <li><code>getJobOverview</code> returns all running and finished jobs in Flink with additional execution details.</li> 
   <li><code>getJobDetails</code> gets the details of a specific Flink job.</li> 
   <li><code>getJobPlan</code> gets the plan of a specific Flink job. (The plan data is also included in <code>getJobDetails</code>.)</li> 
   <li><code>getJobExceptions</code> gets any exceptions that occurred in a job.</li> 
  </ul> 
  <h2><a id="user-content-informational" class="anchor" href="https://github.com/mjreid/flink-rest-scala-wrapper#informational" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Informational</h2> 
  <ul> 
   <li><code>getConfig</code> gets the system-level Flink configuration.</li> 
   <li><code>getClusterOverview</code> gets the Flink cluster information.</li> 
   <li><code>getJobManagerConfig</code> gets all the JobManager configurations.</li> 
   <li><code>getClusterTaskManagers</code> gets the information about all the TaskManagers inside the Flink cluster.</li> 
  </ul> 
  <h1><a id="user-content-credits" class="anchor" href="https://github.com/mjreid/flink-rest-scala-wrapper#credits" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Credits</h1> 
  <ul> 
   <li>Michael Reid (mjreid @github)</li> 
   <li>Your name here? Pull requests welcome!</li> 
  </ul> 
 </article>
</div>