<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-scala-test-state" class="anchor" href="https://github.com/japgolly/test-state#scala-test-state" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala Test-State</h1> 
  <p>Test <strong>stateful</strong> stuff <strong>statelessly</strong>, and reasonably.</p> 
  <p><a href="https://travis-ci.org/japgolly/test-state" target="_blank"><img src="https://camo.githubusercontent.com/01e761bfea5c0baec06d10ada0d3b1708e745cb5/68747470733a2f2f7472617669732d63692e6f72672f6a6170676f6c6c792f746573742d73746174652e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/japgolly/test-state.svg?branch=master" style="max-width:100%;"></a></p> 
  <h1><a id="user-content-contents" class="anchor" href="https://github.com/japgolly/test-state#contents" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contents</h1> 
  <ul> 
   <li><a href="https://github.com/japgolly/test-state#what-is-this" target="_blank">What is this?</a></li> 
   <li><a href="https://github.com/japgolly/test-state#how-does-this-work" target="_blank">How does this work?</a></li> 
   <li>How do I use this? 
    <ul> 
     <li><a href="https://github.com/japgolly/test-state/blob/master/doc/USAGE.md" target="_blank">Usage</a>.</li> 
     <li><a href="https://github.com/japgolly/test-state/blob/master/doc/TYPES.md" target="_blank">Types</a>.</li> 
     <li><a href="https://github.com/japgolly/test-state/blob/master/doc/DSL.md" target="_blank">DSL</a>.</li> 
     <li><a href="https://github.com/japgolly/test-state/blob/master/doc/COMPOSE.md" target="_blank">Composability</a>.</li> 
    </ul></li> 
   <li><a href="https://github.com/japgolly/test-state#modules" target="_blank">Modules</a></li> 
   <li><a href="https://github.com/japgolly/test-state#examples" target="_blank">Examples</a></li> 
   <li><a href="https://github.com/japgolly/test-state/blob/master/doc/changelog" target="_blank">Changelogs</a> — <a href="https://github.com/japgolly/test-state/blob/master/doc/changelog/2.1.1.md" target="_blank">Latest</a>.</li> 
  </ul> 
  <h1><a id="user-content-what-is-this" class="anchor" href="https://github.com/japgolly/test-state#what-is-this" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>What is this?</h1> 
  <p>Firstly, a quick mention of what this <em>is not</em>:</p> 
  <ol> 
   <li><p>This is not a test <em>framework</em>. <br>Use it conjunction with ScalaTest, Specs2, μTest, etc.</p></li> 
   <li><p>This is not a property testing library. <br>Use it conjunction with ScalaCheck, Nyaya, ScalaProps, etc.</p></li> 
  </ol> 
  <p>Ok, so what <em>is</em> this? This is a library that:</p> 
  <ol> 
   <li><p>Lets you write pure, immutable, referentially-transparent tests that verify stateful, effectful code or data.</p></li> 
   <li><p>Encourages composability of test concepts such as invariants/properties, pre/post conditions, dynamic actions/assertions, and more.</p></li> 
   <li><p>Makes test failure and inspection easy to comprehend.</p></li> 
  </ol> 
  <h3><a id="user-content-uses" class="anchor" href="https://github.com/japgolly/test-state#uses" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Uses</h3> 
  <ul> 
   <li>Unit-test a webapp with Scala.JS.</li> 
   <li>Test DB triggers, or a DB migration.</li> 
   <li>Integration-test.</li> 
   <li>Random-test (fuzz-test) like Android's <code>monkeyrunner</code> or ScalaCheck's <code>Command</code> API.</li> 
   <li>UAT automation.</li> 
  </ul> 
  <h3><a id="user-content-features" class="anchor" href="https://github.com/japgolly/test-state#features" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Features</h3> 
  <ul> 
   <li>Compiled for Scala &amp; Scala.JS.</li> 
   <li>Can run synchronously, asynchronously (<code>Future</code>) or in your own context-type (eg <code>Task</code>). Is stack-safe.</li> 
   <li>Everything is immutable and composable.</li> 
   <li>Everything can be transformed into (reused in) different contexts.</li> 
   <li>Combines property and imperative testing.</li> 
   <li>Actions and assertions can be non-deterministic and/or dependent on runtime state.</li> 
   <li>Tries to be as transparent and informative as possible about test execution.</li> 
   <li>Optionally configurable error type. Use a custom ADT to precisely maintain all forms of failure and error in your domain.</li> 
   <li>Includes a utility called <code>DomZipper</code> which greatly simplifies the task of HTML/SVG observation.</li> 
   <li>Extension modules for various 3rd-party libraries. (Scalaz, Cats, more.)</li> 
  </ul> 
  <h1><a id="user-content-how-does-this-work" class="anchor" href="https://github.com/japgolly/test-state#how-does-this-work" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>How does this work?</h1> 
  <p>The key is to take <strong>observations</strong> of anything relevant in the stateful test subject. Observations are like immutable snapshots. They capture what the state was at a particular point in time. Once an observation is captured, assertions are performed on it.</p> 
  <p>Optionally, you can specify some kind of test-only state that you modify as you test, and use to ensure the real-world observations are what you expect. <br>For example, if you're testing a bank account app, you could maintain your own expected balance such that when you instruct the app to make a deposit, you add the same amount to your state. You could then add an invariant that whenever the balance is shown in the app, it matches the expected state balance.</p> 
  <p>This is a (simplified) model of how tests are executed:</p> 
  <p><a href="https://github.com/japgolly/test-state/blob/master/doc/concept.uml.png" target="_blank"><img src="https://github.com/japgolly/test-state/raw/master/doc/concept.uml.png" alt="concept" style="max-width:100%;"></a></p> 
  <h1><a id="user-content-how-do-i-use-this" class="anchor" href="https://github.com/japgolly/test-state#how-do-i-use-this" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>How do I use this?</h1> 
  <ul> 
   <li><a href="https://github.com/japgolly/test-state/blob/master/doc/USAGE.md" target="_blank">Usage</a>.</li> 
   <li><a href="https://github.com/japgolly/test-state/blob/master/doc/TYPES.md" target="_blank">Types</a>.</li> 
   <li><a href="https://github.com/japgolly/test-state/blob/master/doc/DSL.md" target="_blank">DSL</a>.</li> 
   <li><a href="https://github.com/japgolly/test-state/blob/master/doc/COMPOSE.md" target="_blank">Composability</a>.</li> 
  </ul> 
  <h1><a id="user-content-modules" class="anchor" href="https://github.com/japgolly/test-state#modules" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Modules</h1> 
  <table>
   <thead> 
    <tr> 
     <th>Module</th> 
     <th>Description</th> 
     <th>Platforms</th> 
    </tr> 
   </thead>
   <tbody> 
    <tr> 
     <td><code>core</code></td> 
     <td>The core module.</td> 
     <td>Scala + Scala.JS.</td> 
    </tr> 
    <tr> 
     <td><code>dom-zipper</code></td> 
     <td>Standalone utility for observing web DOM.<br><em>(Requires <a href="https://jquery.com/" target="_blank">jQuery</a> or <a href="https://sizzlejs.com/" target="_blank">Sizzle</a>.)</em></td> 
     <td>Scala.JS only.</td> 
    </tr> 
    <tr> 
     <td><code>dom-zipper-sizzle</code></td> 
     <td>As above bundled with <a href="https://sizzlejs.com/" target="_blank">Sizzle</a>.</td> 
     <td>Scala.JS only.</td> 
    </tr> 
    <tr> 
     <td><code>ext-cats</code></td> 
     <td>Extensions for <a href="https://github.com/typelevel/cats" target="_blank">Cats</a>.</td> 
     <td>Scala + Scala.JS.</td> 
    </tr> 
    <tr> 
     <td><code>ext-nyaya</code></td> 
     <td>Extensions for <a href="https://github.com/japgolly/nyaya" target="_blank">Nyaya</a>.</td> 
     <td>Scala + Scala.JS.</td> 
    </tr> 
    <tr> 
     <td><code>ext-scalajs-react</code></td> 
     <td>Extensions for <a href="https://github.com/japgolly/scalajs-react" target="_blank">scalajs-react</a>.</td> 
     <td>Scala.JS only.</td> 
    </tr> 
    <tr> 
     <td><code>ext-scalaz</code></td> 
     <td>Extensions for <a href="https://github.com/scalaz/scalaz" target="_blank">Scalaz</a>.</td> 
     <td>Scala + Scala.JS.</td> 
    </tr> 
   </tbody>
  </table> 
  <h1><a id="user-content-examples" class="anchor" href="https://github.com/japgolly/test-state#examples" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Examples</h1> 
  <ul> 
   <li><a href="https://github.com/japgolly/test-state/blob/master/example-react" target="_blank">Scala.Js + React</a> - Demonstrates DomZipper, invariants, actions, basics.</li> 
   <li>[TODO] DB triggers. - real external state, ref.</li> 
   <li>[TODO] Mutable sample. - fuzz, invariants.</li> 
  </ul> 
 </article>
</div>