<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-gkit" class="anchor" href="https://github.com/kindleit/gkit#gkit" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>GKit</h1> 
  <p><a href="https://gitter.im/kindleit/gkit?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Join the chat at https://gitter.im/kindleit/gkit" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"></a></p> 
  <p>GKit is a set of combinator libraries which can ultimately be turned into powerful, composable REST servers.</p> 
  <h3><a id="user-content-download" class="anchor" href="https://github.com/kindleit/gkit#download" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Download</h3> 
  <p>The gkit packages should make there way into oss.sonatype.com and eventually maven central. But you can always download them manually, or be notified of version updates on bintray:</p> 
  <p><a href="https://bintray.com/kitsd/releases/gkit/_latestVersion" target="_blank"> <img src="https://camo.githubusercontent.com/2ec9b15da13d30d4697ccf91b04cca14eed69cf5/68747470733a2f2f6170692e62696e747261792e636f6d2f7061636b616765732f6b697473642f72656c65617365732f676b69742f696d616765732f646f776e6c6f61642e706e67" alt="Download" data-canonical-src="https://api.bintray.com/packages/kitsd/releases/gkit/images/download.png" style="max-width:100%;"> </a></p> 
  <h3><a id="user-content-its-written-on-top-of-shapeless--scalaz" class="anchor" href="https://github.com/kindleit/gkit#its-written-on-top-of-shapeless--scalaz" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>It's written on top of <a href="https://github.com/milessabin/shapeless" target="_blank">shapeless</a> &amp; <a href="https://github.com/scalaz/scalaz/" target="_blank">scalaz</a></h3> 
  <p>The point of GKit is to eliminate as much boilerplate as possible while at the same time allowing for powerful extension and composition points in the handling of stateless http requests.</p> 
  <p>You can quickly write a RESTful resource with a find query with the following code:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">gkit.mongo.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">play.api.Play.</span><span class="pl-v">current</span>
<span class="pl-k">import</span> <span class="pl-v">play.api.libs.concurrent.Execution.Implicits.</span><span class="pl-v">defaultContext</span>
<span class="pl-k">import</span> <span class="pl-v">play.api.libs.json.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">play.api.mvc.</span><span class="pl-v">Result</span>
<span class="pl-k">import</span> <span class="pl-v">play.modules.gjson.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">play.modules.gresource.</span><span class="pl-v">Http</span>
<span class="pl-k">import</span> <span class="pl-v">play.modules.gresource.Http.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">play.modules.gresource.mongo.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">reactivemongo.bson.</span>{<span class="pl-v">BSONObjectID</span>, <span class="pl-v">BSONDocument</span>}
<span class="pl-k">import</span> <span class="pl-v">scala.concurrent.</span><span class="pl-v">Future</span>
<span class="pl-k">import</span> <span class="pl-v">scalaz.Scalaz.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">scalaz.</span><span class="pl-v">_</span>

<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Todo</span>
  (
    <span class="pl-v">_id</span>             : <span class="pl-en">BSONObjectID</span>
  , <span class="pl-v">description</span>     : <span class="pl-k">String</span>
  , <span class="pl-v">completed</span>       : <span class="pl-k">Boolean</span>
  )

<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">FindParams</span>
  (
    <span class="pl-v">sortby</span>          : <span class="pl-en">Option</span>[<span class="pl-k">String</span>]
  , <span class="pl-v">asc</span>             : <span class="pl-en">Option</span>[<span class="pl-k">Boolean</span>]
  )

<span class="pl-k">object</span> <span class="pl-en">Todos</span> <span class="pl-k">extends</span> <span class="pl-e">TodoFunctions</span> {
  <span class="pl-k">lazy</span> <span class="pl-k">val</span> <span class="pl-en">httpApi</span> <span class="pl-k">=</span> <span class="pl-en">Http</span>.get(<span class="pl-en">Prefix</span>)(httpFind)
}

<span class="pl-k">trait</span> <span class="pl-en">TodoFunctions</span> <span class="pl-k">extends</span> <span class="pl-e">QueryFunctions</span> {

  <span class="pl-k">val</span> <span class="pl-en">cname</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>todos<span class="pl-pds">"</span></span>

  <span class="pl-k">def</span> <span class="pl-en">httpFind</span><span class="pl-k">:</span> <span class="pl-en">Kleisli</span>[<span class="pl-en">EFE</span>, <span class="pl-en">AReq</span>, <span class="pl-en">Result</span>] <span class="pl-k">=</span>
    paramsFromReq[<span class="pl-en">FindParams</span>].apply <span class="pl-k">&gt;&gt;&gt;</span>
    liftK(mkFindQry _ <span class="pl-k">&gt;&gt;&gt;</span> find[<span class="pl-en">Todo</span>](cname)) <span class="pl-k">&gt;&gt;&gt;</span>
    toJsonResult

  <span class="pl-k">def</span> <span class="pl-en">mkFindQry</span>(<span class="pl-v">fp</span>: <span class="pl-en">FindParams</span>) <span class="pl-k">=</span>
    <span class="pl-en">FindQuery</span>(
      query    <span class="pl-k">=</span> <span class="pl-en">EmptyQ</span>,
      proj     <span class="pl-k">=</span> <span class="pl-en">EmptyQ</span>,
      defaults <span class="pl-k">=</span> fp)
}

<span class="pl-k">trait</span> <span class="pl-en">QueryFunctions</span> <span class="pl-k">extends</span> <span class="pl-e">JSONPicklerInstances</span> {

  <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">FindQuery</span>[<span class="pl-en">A</span>, <span class="pl-en">B</span>](<span class="pl-v">query</span>: <span class="pl-en">A</span>, <span class="pl-v">proj</span>: <span class="pl-en">B</span>, <span class="pl-v">defaults</span>: <span class="pl-en">FindParams</span>)

  <span class="pl-k">class</span> <span class="pl-en">Find</span>[<span class="pl-en">A</span>] {
    <span class="pl-k">def</span> <span class="pl-en">apply</span>[<span class="pl-en">B</span>, <span class="pl-en">C</span>](<span class="pl-v">cname</span>: <span class="pl-k">String</span>)(<span class="pl-v">fq</span>: <span class="pl-en">FindQuery</span>[<span class="pl-en">B</span>, <span class="pl-en">C</span>])
      (<span class="pl-k">implicit</span> <span class="pl-en">BP1</span><span class="pl-k">:</span> <span class="pl-en">BSONPickler</span>[<span class="pl-en">A</span>], <span class="pl-en">BP2</span><span class="pl-k">:</span> <span class="pl-en">BSONPickler</span>[<span class="pl-en">B</span>], <span class="pl-en">BP3</span><span class="pl-k">:</span> <span class="pl-en">BSONPickler</span>[<span class="pl-en">C</span>])<span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-en">Error</span> \<span class="pl-k">/</span> <span class="pl-en">List</span>[<span class="pl-en">A</span>]] <span class="pl-k">=</span> {
      <span class="pl-k">val</span> <span class="pl-en">sortby</span> <span class="pl-k">=</span> fq.defaults.sortby <span class="pl-k">|</span> <span class="pl-s"><span class="pl-pds">"</span>_id<span class="pl-pds">"</span></span>
      <span class="pl-k">val</span> <span class="pl-en">asc</span> <span class="pl-k">=</span> fq.defaults.asc <span class="pl-k">|</span> <span class="pl-c1">true</span>
      <span class="pl-k">val</span> <span class="pl-en">sdoc</span> <span class="pl-k">=</span> <span class="pl-en">BSONDocument</span>(sortby <span class="pl-k">-</span><span class="pl-k">&gt;</span> asc.fold(<span class="pl-c1">1</span>, <span class="pl-k">-</span><span class="pl-c1">1</span>))
      <span class="pl-k">val</span> <span class="pl-en">qb</span> <span class="pl-k">=</span> dbe.collection(cname).find(fq.query, fq.proj).sort(sdoc)
      qb.cursor[<span class="pl-en">A</span>].collect[<span class="pl-en">List</span>]().map(_.leftMap(<span class="pl-en">E500</span>(_)<span class="pl-k">:</span><span class="pl-en">Error</span>))
    }
  }

  <span class="pl-k">def</span> <span class="pl-en">find</span>[<span class="pl-en">A</span>] <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Find</span>[<span class="pl-en">A</span>]

  <span class="pl-k">def</span> <span class="pl-en">dbe</span> <span class="pl-k">=</span> <span class="pl-en">GMongoPlugin</span>.dbEnv
}

<span class="pl-k">trait</span> <span class="pl-en">JSONPicklerInstances</span> {

  <span class="pl-k">implicit</span> <span class="pl-k">def</span> <span class="pl-en">BSONObjectIDPickler</span><span class="pl-k">:</span> <span class="pl-en">JSONPickler</span>[<span class="pl-en">BSONObjectID</span>] <span class="pl-k">=</span>
    <span class="pl-k">new</span> <span class="pl-en">JSONPickler</span>[<span class="pl-en">BSONObjectID</span>] {
      <span class="pl-k">def</span> <span class="pl-en">pickle</span>(<span class="pl-v">boid</span>: <span class="pl-en">BSONObjectID</span>)<span class="pl-k">:</span> <span class="pl-en">JsValue</span> <span class="pl-k">=</span> <span class="pl-en">JsString</span>(boid.stringify)

      <span class="pl-k">def</span> <span class="pl-en">unpickle</span>(<span class="pl-v">v</span>: <span class="pl-en">JsValue</span>, <span class="pl-v">path</span>: <span class="pl-en">List</span>[<span class="pl-k">String</span>])<span class="pl-k">:</span> <span class="pl-k">String</span> \<span class="pl-k">/</span> <span class="pl-en">BSONObjectID</span> <span class="pl-k">=</span> {
        <span class="pl-k">def</span> <span class="pl-en">parse</span>(<span class="pl-v">s</span>: <span class="pl-k">String</span>) <span class="pl-k">=</span>
          <span class="pl-k">try</span> { <span class="pl-en">BSONObjectID</span>(s).right } <span class="pl-k">catch</span> { <span class="pl-k">case</span> <span class="pl-v">e</span>: <span class="pl-en">Throwable</span> <span class="pl-k">=&gt;</span> e.getMessage.left }

        <span class="pl-k">for</span> {
          js <span class="pl-k">&lt;</span><span class="pl-k">-</span> typecheck[<span class="pl-en">JsString</span>](v, path)(identity)
          id <span class="pl-k">&lt;</span><span class="pl-k">-</span> parse(js.value).leftMap(e <span class="pl-k">=&gt;</span> s<span class="pl-s"><span class="pl-pds">"""</span>error at: `${path.mkString(".")}`: $e<span class="pl-pds">"""</span></span>)
        } <span class="pl-k">yield</span> id
      }
    }
}</pre>
  </div> 
  <h3><a id="user-content-activator-plugin" class="anchor" href="https://github.com/kindleit/gkit#activator-plugin" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Activator Plugin</h3> 
  <p>We've also built an <a href="https://github.com/kindleit/todo-gkit-angularjs/" target="_blank">activator plugin</a> which has a clear example of a RESTful service with Play!Framework and MongoDB</p> 
  <h3><a id="user-content-work-in-progress" class="anchor" href="https://github.com/kindleit/gkit#work-in-progress" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Work in progress</h3> 
  <p>These libraries are still very much a work in progress and some of the API is not finalized</p> 
  <p>We definitely need some help, and here are our planned features</p> 
  <ul> 
   <li>Some libraries are missing tests</li> 
   <li>Finishing the SQL combinators</li> 
   <li>Adding support for the new Akka http</li> 
  </ul> 
  <h3><a id="user-content-contributing" class="anchor" href="https://github.com/kindleit/gkit#contributing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contributing</h3> 
  <ul> 
   <li>This library was written by Carlos Encarnación</li> 
   <li>Feel free to drop us a line at <a href="mailto:info@kitsd.com" target="_blank">info@kitsd.com</a></li> 
  </ul> 
 </article>
</div>