<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-aliyun-cupid-sdk" class="anchor" href="https://github.com/aliyun/aliyun-cupid-sdk#aliyun-cupid-sdk" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Aliyun Cupid SDK</h1> 
  <h2><a id="user-content-requirements" class="anchor" href="https://github.com/aliyun/aliyun-cupid-sdk#requirements" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Requirements</h2> 
  <ul> 
   <li>Spark-2.1.0 (AliSpark Client)</li> 
  </ul> 
  <h2><a id="user-content-introduction" class="anchor" href="https://github.com/aliyun/aliyun-cupid-sdk#introduction" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Introduction</h2> 
  <p>This SDK supports:</p> 
  <ul> 
   <li>Interact with ODPS-Cupid platform</li> 
   <li>Read/Write ODPS Table Data within ODPS Cluster (Best data localitiy)</li> 
   <li>Cupid client-mode to support interactive communication with sparkContext</li> 
  </ul> 
  <h2><a id="user-content-maven" class="anchor" href="https://github.com/aliyun/aliyun-cupid-sdk#maven" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Maven</h2> 
  <pre><code>    &lt;dependency&gt;
        &lt;groupId&gt;com.aliyun.odps&lt;/groupId&gt;
        &lt;artifactId&gt;cupid-core_2.11&lt;/artifactId&gt;
        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
        &lt;groupId&gt;com.aliyun.odps&lt;/groupId&gt;
        &lt;artifactId&gt;cupid-datasource_2.11&lt;/artifactId&gt;
        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
        &lt;groupId&gt;com.aliyun.odps&lt;/groupId&gt;
        &lt;artifactId&gt;cupid-client_2.11&lt;/artifactId&gt;
        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre> 
  <h2><a id="user-content-demonstration" class="anchor" href="https://github.com/aliyun/aliyun-cupid-sdk#demonstration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Demonstration</h2> 
  <blockquote> 
   <p>How to run Demo Examples under ${aliyun-cupid-sdk-ROOT}/examples</p> 
  </blockquote> 
  <h3><a id="user-content-environment-setup" class="anchor" href="https://github.com/aliyun/aliyun-cupid-sdk#environment-setup" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Environment Setup</h3> 
  <ul> 
   <li>Fetch AliSpark-PreBuild Binary <code>Contact leanken.lin@gmail.com</code></li> 
   <li>Extract the spark Tar package to wherever you want</li> 
  </ul> 
  <pre><code># Content under extracted spark pacakge
.
..
|-- RELEASE
|-- bin
|-- conf
|-- examples
|-- jars
|-- python
|-- sbin
|-- yarn
|-- __spark_libs__.zip
</code></pre> 
  <ul> 
   <li>Set Env</li> 
  </ul> 
  <pre><code># Set env in ~/.bashrc JAVA_HOME &amp; SPARK_HOME
export JAVA_HOME=/path/to/jdk
export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
export PATH=$JAVA_HOME/bin:$PATH

export SPARK_HOME=/path/to/spark_extracted_package
export PATH=$SPARK_HOME/bin:$PATH
</code></pre> 
  <ul> 
   <li>Set spark-defaults.conf</li> 
  </ul> 
  <pre><code># OdpsAccount Info Setting
spark.hadoop.odps.project.name =
spark.hadoop.odps.access.id = 
spark.hadoop.odps.access.key = 
spark.hadoop.odps.end.point = 

# Spark-shell Setting
spark.hadoop.odps.cupid.interaction.proxy.endpoint = ws://proxy.odps.aliyun-inc.com/interaction/
spark.driver.extraJavaOptions -Dscala.repl.reader=com.aliyun.odps.spark_repl.OdpsInteractiveReader -Dscala.usejavacp=true

# Cupid Longtime Job
# spark.hadoop.odps.cupid.engine.running.type = longtime
# spark.hadoop.odps.cupid.job.capability.duration.hours = 8640
# spark.hadoop.odps.moye.trackurl.dutation = 8640

# Sql catalog for odps table
spark.sql.catalogImplementation = odps
spark.hadoop.odps.cupid.bearer.token.enable = false

# Resource settings
spark.executor.instances = 1
spark.executor.cores = 2
spark.executor.memory = 6g
spark.driver.cores = 2
spark.driver.memory = 4g
spark.master = yarn-cluster
</code></pre> 
  <ul> 
   <li>Compile current project</li> 
  </ul> 
  <pre><code>git clone **current-project**
cd aliyun-cupid-sdk
mvn -T 1C -gs clean install -DskipTests
</code></pre> 
  <h3><a id="user-content-case-by-case" class="anchor" href="https://github.com/aliyun/aliyun-cupid-sdk#case-by-case" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Case by Case</h3> 
  <ul> 
   <li><a href="https://github.com/aliyun/aliyun-cupid-sdk/blob/master/docs/rdd-scala.md" target="_blank">Load ODPS Data to rdd (scala)</a></li> 
   <li><a href="https://github.com/aliyun/aliyun-cupid-sdk/blob/master/docs/rdd-java.md" target="_blank">Load ODPS Data to rdd (java)</a></li> 
   <li><a href="https://github.com/aliyun/aliyun-cupid-sdk/blob/master/docs/odps-sql.md" target="_blank">Load ODPS Data via SQL</a></li> 
   <li><a href="https://github.com/aliyun/aliyun-cupid-sdk/blob/master/docs/cupid-client.md" target="_blank">Cupid Client Mode</a></li> 
  </ul> 
  <h2><a id="user-content-license" class="anchor" href="https://github.com/aliyun/aliyun-cupid-sdk#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank">Apache License 2.0</a></p> 
 </article>
</div>