<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/codacy/sbt-codacy-coverage#sbt-codacy-coverage" aria-hidden="true" class="anchor" id="user-content-sbt-codacy-coverage" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>sbt-codacy-coverage</h1> 
  <p><a href="https://www.codacy.com/app/Codacy/sbt-codacy-coverage" target="_blank"><img src="https://camo.githubusercontent.com/328d6bc12f981d3d806ae89c5ca92ac7347a4fa3/68747470733a2f2f6170692e636f646163792e636f6d2f70726f6a6563742f62616467652f67726164652f6133613864343938386139303435643538353738623663383434666565666266" alt="Codacy Badge" data-canonical-src="https://api.codacy.com/project/badge/grade/a3a8d4988a9045d58578b6c844feefbf" style="max-width:100%;"></a> <a href="https://circleci.com/gh/codacy/sbt-codacy-coverage/tree/master" target="_blank"><img src="https://camo.githubusercontent.com/fe5b7538177508b0fe66f2ce2e1d114e17477be2/68747470733a2f2f636972636c6563692e636f6d2f67682f636f646163792f7362742d636f646163792d636f7665726167652f747265652f6d61737465722e7376673f7374796c653d736869656c64" alt="Circle CI" data-canonical-src="https://circleci.com/gh/codacy/sbt-codacy-coverage/tree/master.svg?style=shield" style="max-width:100%;"></a> <a href="https://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22com.codacy%22%20AND%20a%3A%22sbt-codacy-coverage%22" target="_blank"><img src="https://camo.githubusercontent.com/6febd093552cfc424ad04ce4019cec202c7c2c7d/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f636f6d2e636f646163792f7362742d636f646163792d636f7665726167652e737667" alt="Maven Central" data-canonical-src="https://img.shields.io/maven-central/v/com.codacy/sbt-codacy-coverage.svg" style="max-width:100%;"></a></p> 
  <p>sbt plugin for uploading Scala code coverage to Codacy <a href="https://www.codacy.com" target="_blank">https://www.codacy.com</a></p> 
  <p><code>sbt-codacy-coverage</code> will only work with:</p> 
  <ul> 
   <li>sbt 0.13.5 and higher</li> 
   <li>Java JRE 7 and higher</li> 
  </ul> 
  <h2><a href="https://github.com/codacy/sbt-codacy-coverage#setup" aria-hidden="true" class="anchor" id="user-content-setup" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Setup</h2> 
  <p>Codacy assumes that coverage is previously configured for your project. As an example, we will configure a Scala project with the <code>scoverage</code> sbt plugin.</p> 
  <p>To start, add the <code>scoverage</code> and Codacy sbt plugins into your plugins.sbt file:</p> 
  <div class="highlight highlight-source-scala">
   <pre>resolvers <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Typesafe Repository<span class="pl-pds">"</span></span> at <span class="pl-s"><span class="pl-pds">"</span>https://repo.typesafe.com/typesafe/releases/<span class="pl-pds">"</span></span>

addSbtPlugin(<span class="pl-s"><span class="pl-pds">"</span>org.scoverage<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>sbt-scoverage<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>1.3.5<span class="pl-pds">"</span></span>)

addSbtPlugin(<span class="pl-s"><span class="pl-pds">"</span>com.codacy<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>sbt-codacy-coverage<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>&lt;latest-version&gt;<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <blockquote> 
   <p>Check latest version in <a href="https://maven-badges.herokuapp.com/maven-central/com.codacy/sbt-codacy-coverage" target="_blank">https://maven-badges.herokuapp.com/maven-central/com.codacy/sbt-codacy-coverage</a></p> 
  </blockquote> 
  <p>Coverage should now be enabled for your project. To run the tests and create coverage files, type in your terminal:</p> 
  <div class="highlight highlight-source-scala">
   <pre>sbt clean coverage test</pre>
  </div> 
  <p>This will create coverage reports for all your tests in your project. In order to export scoverage report files into cobertura compatible files, just type:</p> 
  <div class="highlight highlight-source-scala">
   <pre>sbt coverageReport</pre>
  </div> 
  <p>This will create the required report format for the Codacy plugin to read. If you have sub-projects within your project, you will want to aggregate all reports into one by running:</p> 
  <div class="highlight highlight-source-scala">
   <pre>sbt coverageAggregate</pre>
  </div> 
  <h2><a href="https://github.com/codacy/sbt-codacy-coverage#updating-codacy" aria-hidden="true" class="anchor" id="user-content-updating-codacy" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Updating Codacy</h2> 
  <p>To update Codacy, you will need your project integration token. You can find the token in Project -&gt; Settings -&gt; Integrations -&gt; Add Integration -&gt; Project API.</p> 
  <p>Then set it in your terminal, replacing %Project_Token% with your own token:</p> 
  <div class="highlight highlight-source-scala">
   <pre>export <span class="pl-en">CODACY_PROJECT_TOKEN</span><span class="pl-k">=</span><span class="pl-k">%</span><span class="pl-en">Project_Token</span><span class="pl-k">%</span></pre>
  </div> 
  <blockquote> 
   <p>Note: You should keep your API token well <strong>protected</strong>, as it grants owner permissions to your projects.</p> 
  </blockquote> 
  <p>Next, simply run the Codacy sbt plugin. It will find the current commit and send all details to your project dashboard:</p> 
  <pre><code>sbt codacyCoverage
</code></pre> 
  <blockquote> 
   <p>Note: To send coverage in the enterprise version you should:</p> 
  </blockquote> 
  <pre><code>export CODACY_API_BASE_URL=&lt;Codacy_instance_URL&gt;:16006
</code></pre> 
  <h3><a href="https://github.com/codacy/sbt-codacy-coverage#commituuid-detection" aria-hidden="true" class="anchor" id="user-content-commituuid-detection" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>CommitUUID Detection</h3> 
  <p>Codacy automatically detects the CommitUUID from several sources:</p> 
  <p><strong>Environment Variables</strong></p> 
  <ul> 
   <li>CI_COMMIT</li> 
   <li>TRAVIS_PULL_REQUEST_SHA</li> 
   <li>TRAVIS_COMMIT</li> 
   <li>DRONE_COMMIT</li> 
   <li>CIRCLE_SHA1</li> 
   <li>CI_COMMIT_ID</li> 
   <li>WERCKER_GIT_COMMIT</li> 
  </ul> 
  <p><strong>Git directory</strong></p> 
  <ul> 
   <li>If it finds a git directory it will get current commit.</li> 
  </ul> 
  <p><strong>Force CommitUUID</strong></p> 
  <ul> 
   <li>You may want to enforce a specific commitUUID with:</li> 
  </ul> 
  <pre><code>sbt 'set codacyCommit := "mycommituuid"' codacyCoverage
</code></pre> 
  <h2><a href="https://github.com/codacy/sbt-codacy-coverage#configure-your-build-server" aria-hidden="true" class="anchor" id="user-content-configure-your-build-server" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Configure your build server</h2> 
  <p>After setting up and testing the coverage, you're ready to setup your build server to automate your process. Simply replace the step used to run your tests with the process done so far, shown here for brevity sake:</p> 
  <div class="highlight highlight-source-scala">
   <pre>sbt clean coverage test
sbt coverageReport
sbt coverageAggregate
sbt codacyCoverage</pre>
  </div> 
  <h2><a href="https://github.com/codacy/sbt-codacy-coverage#failing-tests" aria-hidden="true" class="anchor" id="user-content-failing-tests" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Failing tests</h2> 
  <p>Failing tests can be caused by the usage of macros in Scala 2.10. Consider upgrading to Scala 2.11 for full macro support.</p> 
  <h2><a href="https://github.com/codacy/sbt-codacy-coverage#troubleshooting" aria-hidden="true" class="anchor" id="user-content-troubleshooting" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Troubleshooting</h2> 
  <ol> 
   <li>Builds from forks are failing on Coverage?</li> 
  </ol> 
  <p>If you are using an automated CI that also runs builds from forks but does not have access to the project token to send coverage you should protect the coverage step in your configuration to avoid the build failure.</p> 
  <p><strong>Example</strong></p> 
  <pre><code>if [[ -n "$CODACY_PROJECT_TOKEN" ]]; then sbt codacyCoverage; else echo "Skipped coverage reporting since no token was found"; fi
</code></pre> 
  <h2><a href="https://github.com/codacy/sbt-codacy-coverage#java-6" aria-hidden="true" class="anchor" id="user-content-java-6" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Java 6</h2> 
  <p>Due to a limitation in Java 6, the plugin is unable to establish a connection to codacy.com. You can run <a href="https://gist.github.com/mrfyda/51cdf48fa0722593db6a" target="_blank">this script</a> after <code>sbt codacyCoverage</code> to upload the generated report to Codacy.</p> 
  <h2><a href="https://github.com/codacy/sbt-codacy-coverage#what-is-codacy" aria-hidden="true" class="anchor" id="user-content-what-is-codacy" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>What is Codacy?</h2> 
  <p><a href="https://www.codacy.com/" target="_blank">Codacy</a> is an Automated Code Review Tool that monitors your technical debt, helps you improve your code quality, teaches best practices to your developers, and helps you save time in Code Reviews.</p> 
  <h3><a href="https://github.com/codacy/sbt-codacy-coverage#among-codacys-features" aria-hidden="true" class="anchor" id="user-content-among-codacys-features" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Among Codacy’s features:</h3> 
  <ul> 
   <li>Identify new Static Analysis issues</li> 
   <li>Commit and Pull Request Analysis with GitHub, BitBucket/Stash, GitLab (and also direct git repositories)</li> 
   <li>Auto-comments on Commits and Pull Requests</li> 
   <li>Integrations with Slack, HipChat, Jira, YouTrack</li> 
   <li>Track issues in Code Style, Security, Error Proneness, Performance, Unused Code and other categories</li> 
  </ul> 
  <p>Codacy also helps keep track of Code Coverage, Code Duplication, and Code Complexity.</p> 
  <p>Codacy supports PHP, Python, Ruby, Java, JavaScript, and Scala, among others.</p> 
  <h3><a href="https://github.com/codacy/sbt-codacy-coverage#free-for-open-source" aria-hidden="true" class="anchor" id="user-content-free-for-open-source" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Free for Open Source</h3> 
  <p>Codacy is free for Open Source projects.</p> 
 </article>
</div>