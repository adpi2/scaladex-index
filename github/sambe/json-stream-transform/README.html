<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/sambe/json-stream-transform#transforming-json-stream-based" aria-hidden="true" class="anchor" id="user-content-transforming-json-stream-based" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Transforming JSON Stream-Based</h1> 
  <p>Json-stream-transform is a Scala-based library to apply changes to the structure of a JSON document, while streaming it from an input to an output stream. It is an ideal basis to implement an automated migration for JSON documents in any system using Scala. There is also a Scala-based DSL for specifying the structural changes in a self-documenting, declarative style.</p> 
  <h2><a href="https://github.com/sambe/json-stream-transform#does-the-following-apply-to-you" aria-hidden="true" class="anchor" id="user-content-does-the-following-apply-to-you" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Does the following apply to you?</h2> 
  <ul> 
   <li>You have persisted JSON data and you'd like to migrate it along with the application?</li> 
   <li>Simple solutions don't work because some of the JSON documents are too big to keep in memory?</li> 
   <li>And you don't like to write custom migration code each time a little detail changes in your data model.</li> 
   <li>You use Scala (or you are not afraid of it)</li> 
  </ul> 
  <p><strong>Then json-stream-transform might be the core component to solve your problem.</strong></p> 
  <h2><a href="https://github.com/sambe/json-stream-transform#json-stream-transform-is" aria-hidden="true" class="anchor" id="user-content-json-stream-transform-is" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Json-stream-transform is...</h2> 
  <ul> 
   <li>Easy to use, thanks to its DSL for specifying the mutations</li> 
   <li>Easy to integrate, pure Scala code</li> 
   <li>Based on fast Jackson JSON parser and writer</li> 
   <li>It applies all modifications while streaming through the document</li> 
   <li>Suitable for very large JSON documents (&gt;100MB), which cannot be processed by other tools that parse the whole document into a tree.</li> 
  </ul> 
  <h2><a href="https://github.com/sambe/json-stream-transform#example-1-renaming-two-attributes" aria-hidden="true" class="anchor" id="user-content-example-1-renaming-two-attributes" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Example 1: Renaming two attributes</h2> 
  <p>A transform specified in the DSL, contains mutations like RenameAttribute, which are Scala case classes. And it also contains information where to apply the mutation. E.g. the first RenameAttribute in below example is applied on the top level, while the second is applied only inside the given path, where "*" can refer to all members on a level or in this case, mean that the mutation shall be applied to all elements of an array.</p> 
  <div class="highlight highlight-source-scala">
   <pre>    <span class="pl-k">val</span> <span class="pl-en">t</span> <span class="pl-k">=</span> <span class="pl-k">/</span> (
      <span class="pl-en">RenameAttribute</span>(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>firstName<span class="pl-pds">"</span></span>),
      <span class="pl-s"><span class="pl-pds">"</span>employer<span class="pl-pds">"</span></span> <span class="pl-k">/</span> <span class="pl-s"><span class="pl-pds">"</span>locations<span class="pl-pds">"</span></span> <span class="pl-k">/</span> <span class="pl-s"><span class="pl-pds">"</span>*<span class="pl-pds">"</span></span> <span class="pl-k">/</span> <span class="pl-en">RenameAttribute</span>(<span class="pl-s"><span class="pl-pds">"</span>place<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>placeName<span class="pl-pds">"</span></span>)
    ).toTransform
    
    t.transform(inputStream, outputStream)</pre>
  </div> 
  <p>For many more examples, please <a href="https://github.com/sambe/json-stream-transform/blob/master/src/test/scala/com/github/sambe/jsonstreamtransform/TransformerTest.scala" target="_blank">check out the unit tests</a>!</p> 
 </article>
</div>