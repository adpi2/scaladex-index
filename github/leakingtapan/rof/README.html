<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <p><a href="https://waffle.io/leakingtapan/rof" target="_blank"><img src="https://camo.githubusercontent.com/4ef1e763c018f5eba2bddc7bcf6115e95e3fad2a/68747470733a2f2f62616467652e776166666c652e696f2f6c65616b696e67746170616e2f726f662e706e673f6c6162656c3d7265616479267469746c653d5265616479" alt="Stories in Ready" data-canonical-src="https://badge.waffle.io/leakingtapan/rof.png?label=ready&amp;title=Ready" style="max-width:100%;"></a> <a href="https://travis-ci.org/leakingtapan/rof" target="_blank"><img src="https://camo.githubusercontent.com/55667531fd08fe627d5f737f1de806966d4e3325/68747470733a2f2f7472617669732d63692e6f72672f6c65616b696e67746170616e2f726f662e737667" alt="Build Status" data-canonical-src="https://travis-ci.org/leakingtapan/rof.svg" style="max-width:100%;"></a></p> 
  <h2><a id="user-content-reflection-object-factory" class="anchor" href="https://github.com/leakingtapan/rof#reflection-object-factory" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Reflection Object Factory</h2> 
  <p>Reflection object factory(ROF) aims at simplifying the process of creating randomized Plain Old Java Object(POJO). One of the problem it solves is that, when developer writes unit tests, sometimes people wants input/output objects populated with arbitrary but unique data. For example, if you are testing with a mock version of a service, when you need input and output typed Java objects. Writing code to create these objects for unit tests can be time-consuming and tedious.</p> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/leakingtapan/rof#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>Reflection object factory is fairly easy to use:</p> 
  <ul> 
   <li>Add Sbt dependency:</li> 
  </ul> 
  <pre><code> libraryDependencies += "com.amazon.datagen" % "objectfactory" % "1.0"
</code></pre> 
  <ul> 
   <li>Create objects:</li> 
  </ul> 
  <div class="highlight highlight-source-java">
   <pre>    <span class="pl-k">final</span> <span class="pl-smi">ObjectFactory</span> factory <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">ReflectionObjectFactory</span>();
    <span class="pl-k">final</span> <span class="pl-smi">AcquireMerchantInput</span> input <span class="pl-k">=</span> factory<span class="pl-k">.</span>create(<span class="pl-smi">AcquireMerchantInput</span><span class="pl-k">.</span>class);
    <span class="pl-k">final</span> <span class="pl-smi">AcquireMerchantOutput</span> output <span class="pl-k">=</span> factory<span class="pl-k">.</span>create(<span class="pl-smi">AcquireMerchantOutput</span><span class="pl-k">.</span>class);
    <span class="pl-k">final</span> <span class="pl-k">Set&lt;<span class="pl-smi">String</span>&gt;</span> strs <span class="pl-k">=</span> factory<span class="pl-k">.</span>setOf(<span class="pl-smi">String</span><span class="pl-k">.</span>class);</pre>
  </div> 
  <h3><a id="user-content-initialization" class="anchor" href="https://github.com/leakingtapan/rof#initialization" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Initialization</h3> 
  <p>There are two ways to create an object from reflection object factory:</p> 
  <ul> 
   <li><p>Initial by default constructor:</p> 
    <div class="highlight highlight-source-java">
     <pre><span class="pl-k">final</span> <span class="pl-smi">ObjectFactory</span> factory <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">ReflectionObjectFactory</span>();</pre>
    </div></li> 
   <li><p>Initial by configuration, where the config object customizes the factory:</p> 
    <div class="highlight highlight-source-java">
     <pre><span class="pl-k">final</span> <span class="pl-smi">Config</span> config <span class="pl-k">=</span> <span class="pl-smi">Config</span><span class="pl-k">.</span>createDefault();
<span class="pl-k">final</span> <span class="pl-smi">ObjectFactory</span> factory <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">ReflectionObjectFactory</span>(config);</pre>
    </div></li> 
  </ul> 
  <h3><a id="user-content-supported-class-type" class="anchor" href="https://github.com/leakingtapan/rof#supported-class-type" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Supported Class Type</h3> 
  <p>Object factory supports following types of object creation:</p> 
  <ul> 
   <li>Primitives 
    <ul> 
     <li>boolean, byte, char, double, float, int, long, short</li> 
     <li>Boolean, Byte, Character, Double, Float, Integer, Long, Short, String, Date, BigInteger, BigDecimal</li> 
     <li>Array of any of above such as int[] or Integer[]</li> 
    </ul></li> 
   <li>Plan Old Java Object (POJO)</li> 
   <li>Optional of any of above such as Optional&lt;Integer&gt;</li> 
   <li>Abstract Class Proxy 
    <ul> 
     <li>Note: only abstract with empty parameter constructor is supported</li> 
    </ul></li> 
   <li>Interface Proxy</li> 
  </ul> 
  <p><strong>Note</strong></p> 
  <ul> 
   <li>When calling a method from Proxied abstract class/interface, each time the return value is randomized by default.</li> 
   <li>You can use Config.withSupplier to customize how the return value is generated for specific method.</li> 
   <li>Customized type can also be add through Config class. See <a href="https://github.com/leakingtapan/rof#customize-your-own-class-as-primitive" target="_blank">Customization</a> </li> 
  </ul> 
  <h3><a id="user-content-customization" class="anchor" href="https://github.com/leakingtapan/rof#customization" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Customization</h3> 
  <h4><a id="user-content-customize-primitive-creation" class="anchor" href="https://github.com/leakingtapan/rof#customize-primitive-creation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Customize Primitive Creation</h4> 
  <p>By default reflection object factory contains a set of suppliers that can create different primitives. For the full list of primitives and the suppliers, refer to primitive supplier. Here is an example to override the existing primitive supplier:</p> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-k">final</span> <span class="pl-smi">Config</span> config <span class="pl-k">=</span> <span class="pl-smi">Config</span><span class="pl-k">.</span>createDefault()
                .withSupplier(<span class="pl-k">int</span><span class="pl-k">.</span>class, <span class="pl-k">new</span> <span class="pl-smi">IncrementalIntSupplier</span>(<span class="pl-c1">0</span>));
<span class="pl-k">final</span> <span class="pl-k">int</span>[] incrementalIntegers <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">ReflectionObjectFactory</span>(config)<span class="pl-k">.</span>create(<span class="pl-k">int</span>[]<span class="pl-k">.</span>class);</pre>
  </div> 
  <h4><a id="user-content-customize-array-size" class="anchor" href="https://github.com/leakingtapan/rof#customize-array-size" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Customize Array Size</h4> 
  <p>The size of array could be set up in the following way:</p> 
  <div class="highlight highlight-source-java">
   <pre>    <span class="pl-k">final</span> <span class="pl-k">int</span> minSize <span class="pl-k">=</span> <span class="pl-c1">20</span>;
    <span class="pl-k">final</span> <span class="pl-k">int</span> maxSize <span class="pl-k">=</span> <span class="pl-c1">30</span>;
    <span class="pl-k">final</span> <span class="pl-smi">Config</span> config <span class="pl-k">=</span> <span class="pl-smi">Config</span><span class="pl-k">.</span>createDefault()
                        .withArraySizeSupplier(<span class="pl-k">new</span> <span class="pl-smi">MinMaxIntegerSupplier</span>(minSize, maxSize));
    <span class="pl-k">final</span> <span class="pl-k">String</span>[] randomStrings <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">ReflectionObjectFactory</span>(config)<span class="pl-k">.</span>create(<span class="pl-k">String</span>[]<span class="pl-k">.</span>class);</pre>
  </div> 
  <h4><a id="user-content-customize-your-own-class-as-primitive" class="anchor" href="https://github.com/leakingtapan/rof#customize-your-own-class-as-primitive" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Customize Your Own Class as Primitive</h4> 
  <p>Primitives are the building block to create object, but their types are not limited to integer, double, etc. Supplier for any class could be added into configuration to be treated as a building block, so that the supplier will be used first before factory looks into the constructor of that class.</p> 
  <p>Example:</p> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-k">final</span> <span class="pl-smi">Config</span> config <span class="pl-k">=</span> <span class="pl-smi">Config</span><span class="pl-k">.</span>createDefault()
        .withSupplier(<span class="pl-smi">Offer</span><span class="pl-k">.</span>class, <span class="pl-k">new</span> <span class="pl-smi">OfferSupplier</span>());
<span class="pl-k">final</span> <span class="pl-smi">Merchant</span> merchant <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">ReflectionObjectFactory</span>(config)<span class="pl-k">.</span>create(<span class="pl-smi">Merchant</span><span class="pl-k">.</span>class);</pre>
  </div> 
  <ul> 
   <li>Note: When overriding primitives such as int and Integer, they are treated as different classes, which means if POJO class has int field use int.class in withSupplier method.</li> 
  </ul> 
  <h2><a id="user-content-basic-assumptions" class="anchor" href="https://github.com/leakingtapan/rof#basic-assumptions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Basic Assumptions</h2> 
  <p>This factory is supposed to be used to create Java object that holds data such as primitive, enumeration, array or plain old java object (POJO).</p> 
  <h2><a id="user-content-license" class="anchor" href="https://github.com/leakingtapan/rof#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>This tool is under Apache License Version 2.0</p> 
 </article>
</div>