<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <p><a href="https://travis-ci.org/alltonp/reprobate" target="_blank"><img src="https://camo.githubusercontent.com/159ec7a8a8c3942e17b5911dda596bd69559018b/68747470733a2f2f7472617669732d63692e6f72672f616c6c746f6e702f726570726f626174652e706e673f6272616e63683d6d6173746572" data-canonical-src="https://travis-ci.org/alltonp/reprobate.png?branch=master" style="max-width:100%;"></a></p> 
  <h3><a id="user-content-reprobate---continuous-assertion-monitoring" class="anchor" href="https://github.com/alltonp/reprobate#reprobate---continuous-assertion-monitoring" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Reprobate - continuous assertion monitoring</h3> 
  <p><a href="https://camo.githubusercontent.com/ffd36cd9b482a5a7e12616498ff17a82c762963b/68747470733a2f2f6d656469612e67697068792e636f6d2f6d656469612f6c32537052564f6d6d72486a376a6c63632f67697068792e676966" target="_blank"><img src="https://camo.githubusercontent.com/ffd36cd9b482a5a7e12616498ff17a82c762963b/68747470733a2f2f6d656469612e67697068792e636f6d2f6d656469612f6c32537052564f6d6d72486a376a6c63632f67697068792e676966" alt="" data-canonical-src="https://media.giphy.com/media/l2SpRVOmmrHj7jlcc/giphy.gif" style="max-width:100%;"></a></p> 
  <h3><a id="user-content-quick-start-if-you-already-know-what-this-is" class="anchor" href="https://github.com/alltonp/reprobate#quick-start-if-you-already-know-what-this-is" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Quick start (if you already know what this is)</h3> 
  <p><strong>Install:</strong></p> 
  <ol> 
   <li>download and unzip <a href="https://github.com/alltonp/reprobate/releases/download/current/reprobate.zip" target="_blank">current binary</a></li> 
   <li>chmod +x reprobate.sh</li> 
   <li>./reprobate.sh start</li> 
   <li>browse to <a href="http://localhost:8473" target="_blank">http://localhost:8473</a></li> 
   <li>that's it!</li> 
  </ol> 
  <p><strong>Configure your own checks:</strong></p> 
  <ol> 
   <li>edit checks.csv</li> 
   <li>./reprobate.sh restart</li> 
   <li>that's it!</li> 
  </ol> 
  <p><strong>Migrating between versions:</strong></p> 
  <ol> 
   <li>install new version</li> 
   <li>copy checks.csv and state.json from previous version</li> 
   <li>that's it!</li> 
  </ol> 
  <h3><a id="user-content-what-is-it" class="anchor" href="https://github.com/alltonp/reprobate#what-is-it" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>What is it?</h3> 
  <ul> 
   <li>A simple lightweight monitor that loops through a supplied list of "checks", alerting you in suitably annoying fashion should any checks fail. Ideally displayed on a huge monitor, for all to see.</li> 
  </ul> 
  <h3><a id="user-content-why-would-i-use-it" class="anchor" href="https://github.com/alltonp/reprobate#why-would-i-use-it" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Why would I use it?</h3> 
  <ul> 
   <li>You have a stack of applications/services and need to know they are working <strong>all</strong> the time.</li> 
   <li>You want to be notified of production problems <strong>before</strong> your users report them</li> 
   <li>You need to "keep it up without touching it" (tm) - you probably work for an investment bank and enjoy segregation of duties etc</li> 
   <li>Generally we check our assertions only run at dev/build time - why wouldn't you want to run them all the time?</li> 
   <li>Easy integration with other monitoring tools and <a href="https://blink1.thingm.com/" target="_blank">blink(1)</a></li> 
  </ul> 
  <h3><a id="user-content-what-is-a-check" class="anchor" href="https://github.com/alltonp/reprobate#what-is-a-check" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>What is a check?</h3> 
  <ul> 
   <li> <p>An assertion or invariant of your system, exposed as a JSON endpoint - adhering to the following contract:</p> <p><code>GET {host}/check/xxx e.g. GET http://localhost:8080/check/alive</code></p> </li> 
   <li> <p>check successful, return an empty list of failures:</p> <p><code>{"failures":[]}</code></p> </li> 
   <li> <p>check unsuccessful, return a list of (one or more) failures:</p> <p><code>{"failures":["I am not alive"]}</code></p> </li> 
  </ul> 
  <h3><a id="user-content-what-constitutes-a-good-check" class="anchor" href="https://github.com/alltonp/reprobate#what-constitutes-a-good-check" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>What constitutes a good check?</h3> 
  <ul> 
   <li>One expressed in business terms e.g. <code>check/reports/valid/today</code> or <code>check/can/price/trade</code></li> 
   <li>Calling it frequently should not negatively impact the application/service. If your check is expensive, abstract the expensive bit into another thing and have your check query that other thing.</li> 
  </ul> 
  <h3><a id="user-content-how-do-i-configure-it" class="anchor" href="https://github.com/alltonp/reprobate#how-do-i-configure-it" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>How do I configure it?</h3> 
  <ul> 
   <li>see the examples in checks.csv in your reprobate installation (it is created on first run)</li> 
  </ul> 
  <h3><a id="user-content-can-i-make-is-moreless-shouty" class="anchor" href="https://github.com/alltonp/reprobate#can-i-make-is-moreless-shouty" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Can I make is more/less shouty?</h3> 
  <ul> 
   <li>see instructions for 'defcon level' in checks.csv</li> 
  </ul> 
  <h3><a id="user-content-all-my-checks-fail-when-i-deploy-new-versions-of-my-stack" class="anchor" href="https://github.com/alltonp/reprobate#all-my-checks-fail-when-i-deploy-new-versions-of-my-stack" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>All my checks fail when I deploy new versions of my stack...</h3> 
  <ul> 
   <li> <p>have your deployment scripts send a broadcast message to reprobate</p> </li> 
   <li> <p>supply a message, environment and duration (in seconds) for the deploment</p> </li> 
   <li> <p>reprobate will disable any probes running against that environment for the duration of the release</p> </li> 
   <li> <p>e.g.</p> <pre><code>APP="app"
VERSION="version"
MACHINE_NAME="machine"
DEPLOYER=`id -u -n`
MESSAGE="(${APP}) ${VERSION} deployed to ${MACHINE_NAME} by ${DEPLOYER}"

wget --timeout=15 --no-proxy -O- --header=Content-Type:application/json
	--post-data="{\"messages\":[\"${MESSAGE}\"] \"env\":\"UAT\" \"durationSeconds\": 30}" "http://localhost:8473/broadcast"

Or

curl --connect-timeout 15 -H "Content-Type: application/json"
	-d "{\"messages\":[\"${MESSAGE}\"] \"env\":\"UAT\" \"durationSeconds\": 30}" http://localhost:8473/broadcast

</code></pre> </li> 
  </ul> 
  <h3><a id="user-content-does-reprobate-have-an-api" class="anchor" href="https://github.com/alltonp/reprobate#does-reprobate-have-an-api" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Does reprobate have an API?</h3> 
  <ul> 
   <li> <p>Reprobate hosts a 'check' for that - <code>http://{hostname}:8473/check/probes/ok/{query}</code></p> <p>e.g. (query is optional)</p> <pre><code> http://localhost:8473/check/all/ok
 http://localhost:8473/check/all/ok/prod
</code></pre> </li> 
   <li> <p>all checks successful:</p> <p><code>{"failures":[]}</code></p> </li> 
   <li> <p>some checks unsuccessful:</p> <pre><code> {
   "failures":[
   	"PROD Failure active between 10am and 1pm (Demo): I always let myself down",
   	"PROD Failure @ defcon 3 (Demo): I always let myself down"
   ]
 }
</code></pre> </li> 
   <li> <p>This is useful if you have multiple stacks monitored by reprobate you can aggregate them all into one uber reprobate</p> </li> 
   <li> <p>Integrating with other monitoring tools.</p> </li> 
  </ul> 
  <h3><a id="user-content-how-do-i-integrate-with-my-blink1" class="anchor" href="https://github.com/alltonp/reprobate#how-do-i-integrate-with-my-blink1" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>How do I integrate with my blink(1)?</h3> 
  <ul> 
   <li> <p>Configure blink-control to poll the following endpoint - <code>http://{hostname}:8473/blink1/status/{query}</code></p> <p>e.g. (query is optional)</p> <pre><code> http://localhost:8473/blink1/status
 http://localhost:8473/blink1/status/prod
</code></pre> </li> 
   <li> <p>Reprobate will return an appropriate colour to reflect the overall status</p> </li> 
  </ul> 
  <hr> 
  <p>Copyright © 2015-2016 Spabloshi Ltd</p> 
 </article>
</div>