<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/foursquare/fsqio#foursquare-fsqio" aria-hidden="true" class="anchor" id="user-content-foursquare-fsqio" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Foursquare Fsq.io</h1> 
  <h3><a href="https://github.com/foursquare/fsqio#all-of-foursquares-open-source-code-in-a-single-repo" aria-hidden="true" class="anchor" id="user-content-all-of-foursquares-open-source-code-in-a-single-repo" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>All of Foursquare's open source code in a single repo.</h3> 
  <p><a href="https://travis-ci.org/foursquare/fsqio" target="_blank"><img src="https://camo.githubusercontent.com/e918ae53f5d38193f6596caadfd3eff6943021f1/68747470733a2f2f7472617669732d63692e6f72672f666f75727371756172652f667371696f2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/foursquare/fsqio.svg?branch=master" style="max-width:100%;"></a></p> 
  <p>All Foursquare code lives in a single repository, an architecture generally called a monorepo. <code>Fsq.io</code> is a subset of that internal monorepo. <code>Fsq.io</code> holds many of Foursquare's open source projects that had previously lived in their own separate Github repos. Foursquare contributes to a build tool specifically designed to work with monorepos called <a href="https://pantsbuild.github.io/" target="_blank">Pants</a>. The entire <code>Fsq.io</code> repo is is built and tested by Pants.</p> 
  <p>Deploying directly from our monorepo has some nice advantages, for consumers of our open source projects as well as Foursquare itself. The entire repo is built daily by our CIs and internal contributions are open sourced automatically without the overhead of publishing. This repo will always contain the latest code that we use internally, all of the tools can be built just as we use them, directly from HEAD.</p> 
  <h2><a href="https://github.com/foursquare/fsqio#projects-include" aria-hidden="true" class="anchor" id="user-content-projects-include" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Projects include:</h2> 
  <ul> 
   <li><a href="https://github.com/foursquare/fsqio/tree/master/src/jvm/io/fsq/exceptionator" target="_blank">Exceptionator</a>: An exception aggregator using mongodb.</li> 
   <li><a href="https://github.com/foursquare/fsqio/tree/master/src/jvm/io/fsq/fhttp" target="_blank">Fhttp</a>: A request building interface similar to scalaj-http for Finagle http clients.</li> 
   <li><a href="https://github.com/foursquare/fsqio/tree/master/src/python/fsqio/pants/pom" target="_blank">Pants pom-resolve</a>: A drop-in Python replacement for the Pants ivy resolver.</li> 
   <li><a href="https://github.com/foursquare/fsqio/tree/master/src/jvm/io/fsq/rogue" target="_blank">Rogue</a>: A Scala DSL for MongoDB</li> 
   <li><a href="https://github.com/foursquare/fsqio/tree/master/src/jvm/io/fsq/spindle" target="_blank">Spindle</a>: A Scala code generator for Thrift</li> 
   <li><a href="https://github.com/foursquare/fsqio/tree/master/src/jvm/io/fsq/twofishes" target="_blank">Twofishes</a>: A coarse, splitting geocoder and reverse geocoder in Scala</li> 
   <li>and others.</li> 
  </ul> 
  <h2><a href="https://github.com/foursquare/fsqio#requirements" aria-hidden="true" class="anchor" id="user-content-requirements" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Requirements</h2> 
  <ul> 
   <li>JDK 1.8 (1.8.0_40 preferred)</li> 
   <li>python2.6+ (2.7 preferred)</li> 
   <li>postgresql</li> 
   <li><a href="https://docs.mongodb.org/manual/tutorial/install-mongodb-on-os-x/" target="_blank">monogdb server</a> (required to pass some tests)</li> 
   <li>An increased number of file descriptors (we use 32768)</li> 
  </ul> 
  <p>Internally we use OSX Yosemite or later. Other OS may work but are officially unsupported. (<em>Unofficially</em>, if building on Linux you should install <code>python-dev</code>, <code>build-essential</code>, and <code>libpq-dev</code> in addition to the above).</p> 
  <h2><a href="https://github.com/foursquare/fsqio#pants-build-system" aria-hidden="true" class="anchor" id="user-content-pants-build-system" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Pants build system</h2> 
  <p>Pants is a build system that works particularly well for a source code workspace containing many distinct but interdependent pieces.</p> 
  <p>Pants is similar to <code>make</code>, <code>maven</code>, <code>ant</code>, <code>gradle</code>, <code>sbt</code>, etc. but pants pursues different design goals. Pants optimizes for:</p> 
  <ul> 
   <li>building multiple, dependent things from source</li> 
   <li>building code in a variety of languages</li> 
   <li>speed of build execution</li> 
  </ul> 
  <p>Pants is a true community project, with major contributions from Twitter, Foursquare, Square, among other companies and independent contributors. It has friendly documentation <a href="https://pantsbuild.github.io" target="_blank">here</a>, in this README we will just touch on how to compile and test the code.</p> 
  <h2><a href="https://github.com/foursquare/fsqio#compiling-and-testing" aria-hidden="true" class="anchor" id="user-content-compiling-and-testing" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Compiling and Testing</h2> 
  <h4><a href="https://github.com/foursquare/fsqio#first-run" aria-hidden="true" class="anchor" id="user-content-first-run" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>First Run</h4> 
  <p>The first run will take a long time as <a href="https://github.com/foursquare/fsqio/tree/master/src/python/fsqio/pants/pom" target="_blank">pom-resolve</a> (our custom resolver for 3rdparty dependencies) computes the project graph and downloads the dependencies. Maybe as long as 15-20 mins! A good first run is to get this out of the way:</p> 
  <pre><code> ./pants pom-resolve
</code></pre> 
  <h4><a href="https://github.com/foursquare/fsqio#targets-and-build-files" aria-hidden="true" class="anchor" id="user-content-targets-and-build-files" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Targets and BUILD files</h4> 
  <p>Targets are adressable project or dependency level modules that can be built by Pants. <code>BUILD</code> files are configuration files that define targets that can be built by Pants. Each target has a name and can be built by running a Pants task against the target's name and location.</p> 
  <p>For example, Fsq.io's JVM projects live under <code>src/jvm</code> <a href="https://github.com/foursquare/fsqio/tree/master/src/jvm/io/fsq" target="_blank">here</a>. You can compile Rogue by running:</p> 
  <pre><code> ./pants compile src/jvm/io/fsq/rogue:rogue
</code></pre> 
  <h4><a href="https://github.com/foursquare/fsqio#build-and-test-every-project" aria-hidden="true" class="anchor" id="user-content-build-and-test-every-project" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Build and Test every project</h4> 
  <p>Adding a <code>::</code> to a path will glob every target under that location. So to compile every target in Fsq.io:</p> 
  <pre><code> ./pants compile src::
</code></pre> 
  <p>Similarly, to run all the tests, (after starting the mongodb server):</p> 
  <pre><code>./pants test test::
</code></pre> 
  <p>Projects aspirationally have READMEs at the project root.</p> 
  <h2><a href="https://github.com/foursquare/fsqio#acknowledgements" aria-hidden="true" class="anchor" id="user-content-acknowledgements" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Acknowledgements</h2> 
  <ul> 
   <li>Thanks to the great community supporting <a href="https://github.com/pantsbuild/pants" target="_blank">Pants</a>.</li> 
   <li>Fsq.io is split from commits to our internal monorepo by <a href="https://github.com/jsirois/sapling" target="_blank">Sapling</a>, a git porcelain tool by @jsirois.</li> 
  </ul> 
  <h2><a href="https://github.com/foursquare/fsqio#discussion" aria-hidden="true" class="anchor" id="user-content-discussion" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Discussion</h2> 
  <p>Please open an issue if you have any questions or concerns.</p> 
  <h2><a href="https://github.com/foursquare/fsqio#license" aria-hidden="true" class="anchor" id="user-content-license" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>Apache License, Version 2.0 (Apache-2.0)</p> 
 </article>
</div>