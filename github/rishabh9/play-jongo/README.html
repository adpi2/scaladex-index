<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-playjongo-play-25x-module" class="anchor" href="https://github.com/rishabh9/play-jongo#playjongo-play-25x-module" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>PlayJongo Play 2.5.x Module</h1> 
  <p>This is a Play 2.5.x Module for <a href="http://jongo.org/" target="_blank">Jongo</a> (a MongoDB Java driver wrapper).</p> 
  <p><em>If you're using Play! 2.4.x, 2.3.x, 2.2.x or 2.1.x you can use an older version of play-jongo:</em></p> 
  <ul> 
   <li>for 2.4.x use <code>1.0.1-jongo1.2</code></li> 
   <li>for 2.3.x use <code>0.7.1-jongo1.0</code></li> 
   <li>for 2.2.x use <code>0.6.0-jongo1.0</code></li> 
   <li>for 2.1.x use <code>0.5.0-jongo0.4</code></li> 
  </ul> 
  <p><a href="http://jenkins.inoio.de/job/play-jongo/" target="_blank"><img src="https://camo.githubusercontent.com/8a11109b6a3df0cdb5ff8c3ec8237dff680878d4/68747470733a2f2f6a656e6b696e732e696e6f696f2e64652f6a6f622f706c61792d6a6f6e676f2f62616467652f69636f6e" alt="Build Status" data-canonical-src="https://jenkins.inoio.de/job/play-jongo/badge/icon" style="max-width:100%;"></a></p> 
  <h2><a id="user-content-installation" class="anchor" href="https://github.com/rishabh9/play-jongo#installation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Installation</h2> 
  <p>Add the following to your projects Build.scala (for build.sbt use <code>libraryDependencies</code> instead of <code>appDependencies</code>):</p> 
  <pre><code>val appDependencies = Seq(
  "uk.co.panaxiom" %% "play-jongo" % "2.0.0-jongo1.3"
)
</code></pre> 
  <p><em><strong>Note related to play-jongo with Play 2.2:</strong> because there were issues reported due to incompatibilities of Play 2.2!, bson4jackson and the current version of jackson, you might actually want to use the following dependencies:</em></p> 
  <pre><code>val appDependencies = Seq(
  "de.undercouch" % "bson4jackson" % "2.1.0" force(),
  "com.fasterxml.jackson.core" % "jackson-databind" % "2.1.0" force(),
  "com.fasterxml.jackson.core" % "jackson-annotations" % "2.1.0" force(),
  "com.fasterxml.jackson.core" % "jackson-core" % "2.1.0" force(),
  "org.mongodb" % "mongo-java-driver" % "2.11.3",
  "org.jongo" % "jongo" % "1.0",
  "uk.co.panaxiom" %% "play-jongo" % "0.7.0-jongo1.0"
)
</code></pre> 
  <p>You will need to override the application.conf configuration to specify your MongoDB configuration.</p> 
  <pre><code># Play Jongo
# ~~~~~
playjongo.uri="mongodb://127.0.0.1:27017/play"
playjongo.gridfs.enabled=false
</code></pre> 
  <h3><a id="user-content-optional-configuration" class="anchor" href="https://github.com/rishabh9/play-jongo#optional-configuration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Optional configuration</h3> 
  <p>The default write concern for the mongodb driver can be changed via the following configuration:</p> 
  <pre><code>playjongo.defaultWriteConcern="SAFE"
</code></pre> 
  <p>Valid values are the names of the <a href="http://api.mongodb.org/java/current/com/mongodb/WriteConcern.html" target="_blank">WriteConcern enumeration</a> fields.</p> 
  <p>By default in test mode the "test" mongo database will be used. To change this, you can specify <code>playjongo.test-uri</code> in your configuration.</p> 
  <h4><a id="user-content-mongoclient-factory" class="anchor" href="https://github.com/rishabh9/play-jongo#mongoclient-factory" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>MongoClient Factory</h4> 
  <p>Not all MongoClient options are supported by the MongoClientURI. For full customization of the generated MongoClient, you can specify your own MongoClientFactory class like this:</p> 
  <pre><code>playjongo.mongoClientFactory="com.example.MyMongoClientFactory"
</code></pre> 
  <p>The value should be the name of a class that extends from <code>uk.co.panaxiom.MongoClientFactory</code> and provide at least an empty constructor or a constructor that takes a play Configuration. For example:</p> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-k">package</span> <span class="pl-smi">com.example</span>;

<span class="pl-k">import</span> <span class="pl-smi">com.mongodb.*</span>;
<span class="pl-k">import</span> <span class="pl-smi">java.util.Arrays</span>;
<span class="pl-k">import</span> <span class="pl-smi">play.Configuration</span>;
<span class="pl-k">import</span> <span class="pl-smi">uk.co.panaxiom.MongoClientFactory</span>;

<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">MyMongoClientFactory</span> <span class="pl-k">extends</span> <span class="pl-e">MongoClientFactory</span> {
    <span class="pl-k">private</span> <span class="pl-smi">Configuration</span> config <span class="pl-k">=</span> config;
    <span class="pl-k">public</span> <span class="pl-en">MyMongoClientFactory</span>(<span class="pl-smi">Configuration</span> <span class="pl-v">config</span>) {
        <span class="pl-c1">this</span><span class="pl-k">.</span>config <span class="pl-k">=</span> config;
    }

    <span class="pl-k">public</span> <span class="pl-smi">MongoClient</span> <span class="pl-en">createClient</span>() <span class="pl-k">throws</span> <span class="pl-smi">Exception</span> {
        <span class="pl-smi">MongoClientOptions</span> options <span class="pl-k">=</span> <span class="pl-smi">MongoClientOptions</span><span class="pl-k">.</span>builder()
            .connectionsPerHost(<span class="pl-c1">100</span>)
            .maxConnectionIdleTime(<span class="pl-c1">60000</span>)
            .build() 

        <span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-smi">MongoClient</span>(<span class="pl-smi">Arrays</span><span class="pl-k">.</span>asList(
            <span class="pl-k">new</span> <span class="pl-smi">ServerAddress</span>(<span class="pl-s"><span class="pl-pds">"</span>localhost<span class="pl-pds">"</span></span>, <span class="pl-c1">27017</span>),
            <span class="pl-k">new</span> <span class="pl-smi">ServerAddress</span>(<span class="pl-s"><span class="pl-pds">"</span>localhost<span class="pl-pds">"</span></span>, <span class="pl-c1">27018</span>),
            <span class="pl-k">new</span> <span class="pl-smi">ServerAddress</span>(<span class="pl-s"><span class="pl-pds">"</span>localhost<span class="pl-pds">"</span></span>, <span class="pl-c1">27019</span>)),
            options);
    }

    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">getDBName</span>() {
        config<span class="pl-k">.</span>getString(<span class="pl-s"><span class="pl-pds">"</span>myappconfig.dbname<span class="pl-pds">"</span></span>);
    }
    
}</pre>
  </div> 
  <h4><a id="user-content-jongo-mapper" class="anchor" href="https://github.com/rishabh9/play-jongo#jongo-mapper" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Jongo Mapper</h4> 
  <p>To customize the jongo mapper (see also <a href="http://jongo.org/#jongo-mapper" target="_blank">"Configuring Jongo Mapper"</a> in the Jongo documentation) you can provide a factory that will be used to obtain the mapper passed to jongo. Your factory class must implement <code>uk.co.panaxiom.playjongo.JongoMapperFactory</code> and provide a default (public no-args) constructor. You can configure your mapper factory like this:</p> 
  <pre><code>playjongo.mapperfactory="com.example.MyJongoMapperFactory"
</code></pre> 
  <p>For scala users this project already provides a factory that uses the <a href="https://github.com/FasterXML/jackson-module-scala" target="_blank">jackson scala module</a> and configures the jongo/jackson mapper with the <code>DefaultScalaModule</code>. To use this factory you need add the jackson scala module to your appDependencies (e.g. add <code>"com.fasterxml.jackson.module" %% "jackson-module-scala" % "2.4.1"</code>) in <code>project/Build.scala</code> and configure the factory in <code>conf/application.conf</code> like this:</p> 
  <pre><code>playjongo.mapperfactory="uk.co.panaxiom.playjongo.JongoScalaMapperFactory"
</code></pre> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/rishabh9/play-jongo#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p><em>TODO: needs to be updated for play-jongo 2+</em></p> 
  <p>To use this module you just use the PlayJongo class which manages your Mongo and Jongo instances for you. It provides the same method calls as the Jongo object as detailed in the Jongo documentation: <a href="http://jongo.org/" target="_blank">http://jongo.org/</a> .</p> 
  <p>If you are using <code>1.0.1-jongo1.2</code> and higher you have to inject PlayJongo:</p> 
  <p>A simple example:</p> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">User</span> {

    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">PlayJongo</span> jongo <span class="pl-k">=</span> <span class="pl-smi">Play</span><span class="pl-k">.</span>application()<span class="pl-k">.</span>injector()<span class="pl-k">.</span>instanceOf(<span class="pl-smi">PlayJongo</span><span class="pl-k">.</span>class);

    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">MongoCollection</span> <span class="pl-en">users</span>() {
        <span class="pl-k">return</span> jongo<span class="pl-k">.</span>getCollection(<span class="pl-s"><span class="pl-pds">"</span>users<span class="pl-pds">"</span></span>);
    }

    <span class="pl-k">@JsonProperty</span>(<span class="pl-s"><span class="pl-pds">"</span>_id<span class="pl-pds">"</span></span>)
    <span class="pl-k">public</span> <span class="pl-smi">ObjectId</span> id;

    <span class="pl-k">public</span> <span class="pl-smi">String</span> name;

    <span class="pl-k">public</span> <span class="pl-smi">User</span> <span class="pl-en">insert</span>() {
        users()<span class="pl-k">.</span>save(<span class="pl-c1">this</span>);
    }

    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">remove</span>() {
        users()<span class="pl-k">.</span>remove(<span class="pl-c1">this</span><span class="pl-k">.</span>id);
    }

    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">User</span> <span class="pl-en">findByName</span>(<span class="pl-smi">String</span> <span class="pl-v">name</span>) {
        <span class="pl-k">return</span> users()<span class="pl-k">.</span>findOne(<span class="pl-s"><span class="pl-pds">"</span>{name: #}<span class="pl-pds">"</span></span>, name)<span class="pl-k">.</span>as(<span class="pl-smi">User</span><span class="pl-k">.</span>class);
    }

}</pre>
  </div> 
  <p>If you are using any other jongo version, you should implement your POJOs this way:</p> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">User</span> {

    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">MongoCollection</span> <span class="pl-en">users</span>() {
        <span class="pl-k">return</span> <span class="pl-smi">PlayJongo</span><span class="pl-k">.</span>getCollection(<span class="pl-s"><span class="pl-pds">"</span>users<span class="pl-pds">"</span></span>);
    }

    <span class="pl-k">@JsonProperty</span>(<span class="pl-s"><span class="pl-pds">"</span>_id<span class="pl-pds">"</span></span>)
    <span class="pl-k">public</span> <span class="pl-smi">ObjectId</span> id;

    <span class="pl-k">public</span> <span class="pl-smi">String</span> name;

    <span class="pl-k">public</span> <span class="pl-smi">User</span> <span class="pl-en">insert</span>() {
        users()<span class="pl-k">.</span>save(<span class="pl-c1">this</span>);
    }

    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">remove</span>() {
        users()<span class="pl-k">.</span>remove(<span class="pl-c1">this</span><span class="pl-k">.</span>id);
    }

    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">User</span> <span class="pl-en">findByName</span>(<span class="pl-smi">String</span> <span class="pl-v">name</span>) {
        <span class="pl-k">return</span> users()<span class="pl-k">.</span>findOne(<span class="pl-s"><span class="pl-pds">"</span>{name: #}<span class="pl-pds">"</span></span>, name)<span class="pl-k">.</span>as(<span class="pl-smi">User</span><span class="pl-k">.</span>class);
    }

}</pre>
  </div> 
  <h2><a id="user-content-contact" class="anchor" href="https://github.com/rishabh9/play-jongo#contact" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contact</h2> 
  <p>If you have a question or need some help you can just <a href="https://github.com/alexanderjarvis/play-jongo/issues" target="_blank">open an issue</a>.</p> 
  <h2><a id="user-content-license" class="anchor" href="https://github.com/rishabh9/play-jongo#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>The license is Apache 2.0, see LICENSE.txt.</p> 
 </article>
</div>