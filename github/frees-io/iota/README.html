<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <p><a href="https://travis-ci.org/47deg/iota" target="_blank"><img src="https://camo.githubusercontent.com/1ccf1327757754d8e8292d897d86d885c380054f/68747470733a2f2f7472617669732d63692e6f72672f34376465672f696f74612e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/47deg/iota.svg?branch=master" style="max-width:100%;"></a> <a href="https://oss.sonatype.org/#nexus-search;gav%7Ecom.47deg%7Eiota*" target="_blank"><img src="https://camo.githubusercontent.com/f7ab6642606ec8cce5bbb06ad609ec521ff0cfb3/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6d6176656e25323063656e7472616c2d302e312e302d677265656e2e737667" alt="Maven Central" data-canonical-src="https://img.shields.io/badge/maven%20central-0.1.0-green.svg" style="max-width:100%;"></a> <a href="https://raw.githubusercontent.com/47deg/iota/master/LICENSE" target="_blank"><img src="https://camo.githubusercontent.com/8f54547853cfad57acfc8e06e6008cc296cda34d/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d417061636865253230322d626c75652e737667" alt="License" data-canonical-src="https://img.shields.io/badge/license-Apache%202-blue.svg" style="max-width:100%;"></a> <a href="https://index.scala-lang.org/47deg/iota" target="_blank"><img src="https://camo.githubusercontent.com/3979b9a10835be2a90f2fee566fcfdc7816668cd/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f696f74612d302e312e302d677265656e2e737667" alt="Latest version" data-canonical-src="https://img.shields.io/badge/iota-0.1.0-green.svg" style="max-width:100%;"></a> <a href="http://scala-js.org" target="_blank"><img src="https://camo.githubusercontent.com/f2da0e8411e60685548e80adc526e171dee6a1c8/687474703a2f2f7363616c612d6a732e6f72672f6173736574732f6261646765732f7363616c616a732d302e362e31362e737667" alt="Scala.js" data-canonical-src="http://scala-js.org/assets/badges/scalajs-0.6.16.svg" style="max-width:100%;"></a> <a href="https://github.com/47deg/iota/issues" target="_blank"><img src="https://camo.githubusercontent.com/d16fb89e721a73cbc6f7cb7e3d8f3c06a0ddcfb0/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6973737565732f34376465672f696f74612e737667" alt="GitHub Issues" data-canonical-src="https://img.shields.io/github/issues/47deg/iota.svg" style="max-width:100%;"></a></p> 
  <h1><a id="user-content-iota" class="anchor" href="https://github.com/frees-io/iota#iota" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Iota</h1> 
  <h2><a id="user-content-introduction" class="anchor" href="https://github.com/frees-io/iota#introduction" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Introduction</h2> 
  <p>Iota is a tiny library for fast coproduct types with a syntax that cleanly supports the disjunction of any number of types.</p> 
  <p>Traditional coproduct implementations are implemented as binary trees or linked lists at both the type and value level. The syntax for traditional coproducts frequently becomes unwieldy as the number of disjunct types grows.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">cats.data.</span><span class="pl-v">_</span>

<span class="pl-c"><span class="pl-c">//</span> a coproduct of types using scala.util.Either</span>
<span class="pl-k">type</span> <span class="pl-en">EitherFoo</span> <span class="pl-k">=</span> <span class="pl-en">Either</span>[<span class="pl-k">Int</span>, <span class="pl-en">Either</span>[<span class="pl-k">String</span>, <span class="pl-k">Double</span>]]

<span class="pl-c"><span class="pl-c">//</span> a coproduct of type constructors using cats.data.EitherK</span>
<span class="pl-k">type</span> <span class="pl-en">EitherKBar0</span>[<span class="pl-en">A</span>] <span class="pl-k">=</span> <span class="pl-en">EitherK</span>[<span class="pl-en">List</span>, <span class="pl-en">Seq</span>, <span class="pl-en">A</span>]
<span class="pl-k">type</span> <span class="pl-en">EitherKBar</span>[<span class="pl-en">A</span>] <span class="pl-k">=</span> <span class="pl-en">EitherK</span>[<span class="pl-en">Option</span>, <span class="pl-en">EitherKBar0</span>, <span class="pl-en">A</span>]</pre>
  </div> 
  <p>Iota coproducts are linked lists at the type level. At the value level, Iota stores the index of the disjunct value's type for quick and constant time access of the values. This syntax scales cleanly to support any number of disjunct types.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">iota.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">TList.</span><span class="pl-v">::</span>
<span class="pl-k">import</span> <span class="pl-v">TListK.</span><span class="pl-v">:::</span>

<span class="pl-c"><span class="pl-c">//</span> a coproduct of types</span>
<span class="pl-k">type</span> <span class="pl-en">Foo</span> <span class="pl-k">=</span> <span class="pl-en">Cop</span>[<span class="pl-k">Int</span> <span class="pl-k">::</span> <span class="pl-k">String</span> <span class="pl-k">::</span> <span class="pl-k">Double</span> <span class="pl-k">::</span> <span class="pl-en">TNil</span>]

<span class="pl-c"><span class="pl-c">//</span> a coproduct of type constructors</span>
<span class="pl-k">type</span> <span class="pl-en">Bar</span>[<span class="pl-en">A</span>] <span class="pl-k">=</span> <span class="pl-en">CopK</span>[<span class="pl-en">Option</span> <span class="pl-k">:::</span> <span class="pl-en">List</span> <span class="pl-k">:::</span> <span class="pl-en">Seq</span> <span class="pl-k">:::</span> <span class="pl-en">TNilK</span>, <span class="pl-en">A</span>]</pre>
  </div> 
  <h2><a id="user-content-installation" class="anchor" href="https://github.com/frees-io/iota#installation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Installation</h2> 
  <p>To get started with SBT, simply add the following to your build.sbt file.</p> 
  <p>For Scala 2.11.x and 2.12.x:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.47deg<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>iota-core<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.2.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Or, if using Scala.js (0.6.x):</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.47deg<span class="pl-pds">"</span></span> <span class="pl-k">%%%</span> <span class="pl-s"><span class="pl-pds">"</span>iota-core<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.2.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <h2><a id="user-content-injection-type-classes" class="anchor" href="https://github.com/frees-io/iota#injection-type-classes" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Injection type classes</h2> 
  <p>Iota provides injection type classes to make it easy to get values in and out of your coproducts.</p> 
  <p><em>coproduct of types</em></p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">IntFoo</span>    <span class="pl-k">=</span> <span class="pl-en">Cop</span>.<span class="pl-en">Inject</span>[<span class="pl-k">Int</span>,    <span class="pl-en">Foo</span>]
<span class="pl-k">val</span> <span class="pl-en">StringFoo</span> <span class="pl-k">=</span> <span class="pl-en">Cop</span>.<span class="pl-en">Inject</span>[<span class="pl-k">String</span>, <span class="pl-en">Foo</span>]
<span class="pl-k">val</span> <span class="pl-en">DoubleFoo</span> <span class="pl-k">=</span> <span class="pl-en">Cop</span>.<span class="pl-en">Inject</span>[<span class="pl-k">Double</span>, <span class="pl-en">Foo</span>]

<span class="pl-k">def</span> <span class="pl-en">processFoo</span>(<span class="pl-v">foo</span>: <span class="pl-en">Foo</span>)<span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> foo <span class="pl-k">match</span> {
  <span class="pl-k">case</span> <span class="pl-en">IntFoo</span>(int)       <span class="pl-k">=&gt;</span> s<span class="pl-s"><span class="pl-pds">"</span>int: $int<span class="pl-pds">"</span></span>
  <span class="pl-k">case</span> <span class="pl-en">StringFoo</span>(string) <span class="pl-k">=&gt;</span> s<span class="pl-s"><span class="pl-pds">"</span>string: $string<span class="pl-pds">"</span></span>
  <span class="pl-k">case</span> <span class="pl-en">DoubleFoo</span>(double) <span class="pl-k">=&gt;</span> s<span class="pl-s"><span class="pl-pds">"</span>double: $double<span class="pl-pds">"</span></span>
}

<span class="pl-k">val</span> <span class="pl-en">foo0</span><span class="pl-k">:</span> <span class="pl-en">Foo</span> <span class="pl-k">=</span> <span class="pl-en">IntFoo</span>.inj(<span class="pl-c1">100</span>)
<span class="pl-k">val</span> <span class="pl-en">foo1</span><span class="pl-k">:</span> <span class="pl-en">Foo</span> <span class="pl-k">=</span> <span class="pl-en">StringFoo</span>.inj(<span class="pl-s"><span class="pl-pds">"</span>hello world<span class="pl-pds">"</span></span>)
<span class="pl-k">val</span> <span class="pl-en">foo2</span><span class="pl-k">:</span> <span class="pl-en">Foo</span> <span class="pl-k">=</span> <span class="pl-en">DoubleFoo</span>.inj(<span class="pl-c1">47.6062</span>)</pre>
  </div> 
  <div class="highlight highlight-source-scala">
   <pre>processFoo(foo0)
<span class="pl-c"><span class="pl-c">//</span> res10: String = int: 100</span>

processFoo(foo1)
<span class="pl-c"><span class="pl-c">//</span> res11: String = string: hello world</span>

processFoo(foo2)
<span class="pl-c"><span class="pl-c">//</span> res12: String = double: 47.6062</span></pre>
  </div> 
  <p><em>coproduct of type constructors</em></p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">OptionBar</span> <span class="pl-k">=</span> <span class="pl-en">CopK</span>.<span class="pl-en">Inject</span>[<span class="pl-en">Option</span>, <span class="pl-en">Bar</span>]
<span class="pl-k">val</span> <span class="pl-en">ListBar</span>   <span class="pl-k">=</span> <span class="pl-en">CopK</span>.<span class="pl-en">Inject</span>[<span class="pl-en">List</span>,   <span class="pl-en">Bar</span>]
<span class="pl-k">val</span> <span class="pl-en">SeqBar</span>    <span class="pl-k">=</span> <span class="pl-en">CopK</span>.<span class="pl-en">Inject</span>[<span class="pl-en">Seq</span>,    <span class="pl-en">Bar</span>]

<span class="pl-k">def</span> <span class="pl-en">processBar</span>[<span class="pl-en">A</span>](<span class="pl-v">bar</span>: <span class="pl-en">Bar</span>[<span class="pl-en">A</span>])<span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> bar <span class="pl-k">match</span> {
  <span class="pl-k">case</span> <span class="pl-en">OptionBar</span>(option) <span class="pl-k">=&gt;</span> s<span class="pl-s"><span class="pl-pds">"</span>option: $option<span class="pl-pds">"</span></span>
  <span class="pl-k">case</span> <span class="pl-en">ListBar</span>(list)     <span class="pl-k">=&gt;</span> s<span class="pl-s"><span class="pl-pds">"</span>list: $list<span class="pl-pds">"</span></span>
  <span class="pl-k">case</span> <span class="pl-en">SeqBar</span>(seq)       <span class="pl-k">=&gt;</span> s<span class="pl-s"><span class="pl-pds">"</span>seq: $seq<span class="pl-pds">"</span></span>
}

<span class="pl-k">val</span> <span class="pl-en">bar0</span><span class="pl-k">:</span> <span class="pl-en">Bar</span>[<span class="pl-k">Int</span>]    <span class="pl-k">=</span> <span class="pl-en">OptionBar</span>.inj(<span class="pl-en">Some</span>(<span class="pl-c1">200</span>))
<span class="pl-k">val</span> <span class="pl-en">bar1</span><span class="pl-k">:</span> <span class="pl-en">Bar</span>[<span class="pl-k">String</span>] <span class="pl-k">=</span> <span class="pl-en">ListBar</span>.inj(<span class="pl-s"><span class="pl-pds">"</span>hello<span class="pl-pds">"</span></span> <span class="pl-k">::</span> <span class="pl-s"><span class="pl-pds">"</span>world<span class="pl-pds">"</span></span> <span class="pl-k">::</span> <span class="pl-c1">Nil</span>)
<span class="pl-k">val</span> <span class="pl-en">bar2</span><span class="pl-k">:</span> <span class="pl-en">Bar</span>[<span class="pl-k">String</span>] <span class="pl-k">=</span> <span class="pl-en">SeqBar</span>.inj(<span class="pl-en">Seq</span>(<span class="pl-s"><span class="pl-pds">"</span>a<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>b<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>c<span class="pl-pds">"</span></span>))</pre>
  </div> 
  <div class="highlight highlight-source-scala">
   <pre>processBar(bar0)
<span class="pl-c"><span class="pl-c">//</span> res15: String = option: Some(200)</span>

processBar(bar1)
<span class="pl-c"><span class="pl-c">//</span> res16: String = list: List(hello, world)</span>

processBar(bar2)
<span class="pl-c"><span class="pl-c">//</span> res17: String = seq: List(a, b, c)</span></pre>
  </div> 
  <h2><a id="user-content-fast-interpreters" class="anchor" href="https://github.com/frees-io/iota#fast-interpreters" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Fast Interpreters</h2> 
  <p>If you have interpreters for individual algebras, it's easy to use Iota create a fast fan in interpreter for the coproduct of your algebras.</p> 
  <p>You can ask Iota to create a fan in interpreter by explicitly passing in individual interpreters for your algebras. Alternatively, Iota can implicitly summon the requisite interpreters based off the type signature of your desired interpreter.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">sealed</span> <span class="pl-k">abstract</span> <span class="pl-k">class</span> <span class="pl-en">UserOp</span>[<span class="pl-en">A</span>]
<span class="pl-k">sealed</span> <span class="pl-k">abstract</span> <span class="pl-k">class</span> <span class="pl-en">OrderOp</span>[<span class="pl-en">A</span>]
<span class="pl-k">sealed</span> <span class="pl-k">abstract</span> <span class="pl-k">class</span> <span class="pl-en">PriceOp</span>[<span class="pl-en">A</span>]

<span class="pl-k">type</span> <span class="pl-en">Algebra</span>[<span class="pl-en">A</span>] <span class="pl-k">=</span> <span class="pl-en">CopK</span>[<span class="pl-en">UserOp</span> <span class="pl-k">:::</span> <span class="pl-en">OrderOp</span> <span class="pl-k">:::</span> <span class="pl-en">PriceOp</span> <span class="pl-k">:::</span> <span class="pl-en">TNilK</span>, <span class="pl-en">A</span>]

<span class="pl-k">val</span> <span class="pl-en">evalUserOp</span> <span class="pl-k">:</span> <span class="pl-en">UserOp</span>  <span class="pl-k">~</span><span class="pl-k">&gt;</span> <span class="pl-en">Future</span> <span class="pl-k">=</span> dummyInterpreter
<span class="pl-k">val</span> <span class="pl-en">evalOrderOp</span><span class="pl-k">:</span> <span class="pl-en">OrderOp</span> <span class="pl-k">~</span><span class="pl-k">&gt;</span> <span class="pl-en">Future</span> <span class="pl-k">=</span> dummyInterpreter
<span class="pl-k">val</span> <span class="pl-en">evalPriceOp</span><span class="pl-k">:</span> <span class="pl-en">PriceOp</span> <span class="pl-k">~</span><span class="pl-k">&gt;</span> <span class="pl-en">Future</span> <span class="pl-k">=</span> dummyInterpreter

<span class="pl-c"><span class="pl-c">//</span> create the interpreter</span>

<span class="pl-k">val</span> <span class="pl-en">evalAlgebra0</span><span class="pl-k">:</span> <span class="pl-en">Algebra</span> <span class="pl-k">~</span><span class="pl-k">&gt;</span> <span class="pl-en">Future</span> <span class="pl-k">=</span> <span class="pl-en">CopK</span>.<span class="pl-en">FunctionK</span>.of(
  evalUserOp, evalOrderOp, evalPriceOp)

<span class="pl-c"><span class="pl-c">//</span> note: order doesn't matter when creating the interpreter since</span>
<span class="pl-c"><span class="pl-c">//</span> iota will sort it out for you</span>

<span class="pl-k">val</span> <span class="pl-en">evalAlgebra1</span><span class="pl-k">:</span> <span class="pl-en">Algebra</span> <span class="pl-k">~</span><span class="pl-k">&gt;</span> <span class="pl-en">Future</span> <span class="pl-k">=</span> <span class="pl-en">CopK</span>.<span class="pl-en">FunctionK</span>.of(
  evalOrderOp, evalPriceOp, evalUserOp)

<span class="pl-c"><span class="pl-c">//</span> if your interpreters are implicitly available, you can summon</span>
<span class="pl-c"><span class="pl-c">//</span> a fan in interpreter</span>

<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">_evalUserOp</span>  <span class="pl-k">=</span> evalUserOp
<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">_evalOrderOp</span> <span class="pl-k">=</span> evalOrderOp
<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">_evalPriceOp</span> <span class="pl-k">=</span> evalPriceOp

<span class="pl-k">val</span> <span class="pl-en">evalAlgebra2</span><span class="pl-k">:</span> <span class="pl-en">Algebra</span> <span class="pl-k">~</span><span class="pl-k">&gt;</span> <span class="pl-en">Future</span> <span class="pl-k">=</span> <span class="pl-en">CopK</span>.<span class="pl-en">FunctionK</span>.summon</pre>
  </div> 
  <p>The interpreters created by Iota are optimized for speed and have a constant evaluation time. Behind the scenes, a macro generates an integer based switch statement on the coproduct's internal index value.</p> 
  <p>If you'd like to see the generated code, toggle the "show trees" option by importing <code>iota.debug.options.ShowTrees</code> into scope.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">iota.debug.options.</span><span class="pl-v">ShowTrees</span>
<span class="pl-c"><span class="pl-c">//</span> import iota.debug.options.ShowTrees</span>

<span class="pl-en">CopK</span>.<span class="pl-en">FunctionK</span>.of[<span class="pl-en">Algebra</span>, <span class="pl-en">Future</span>](evalOrderOp, evalPriceOp, evalUserOp)
<span class="pl-c"><span class="pl-c">//</span> &lt;console&gt;:33: {</span>
<span class="pl-c"><span class="pl-c">//</span>   class CopKFunctionK$macro$4 extends _root_.iota.internal.FastFunctionK[Algebra, Future] {</span>
<span class="pl-c"><span class="pl-c">//</span>     private[this] val arr0 = evalUserOp.asInstanceOf[_root_.cats.arrow.FunctionK[Any, scala.concurrent.Future]];</span>
<span class="pl-c"><span class="pl-c">//</span>     private[this] val arr1 = evalOrderOp.asInstanceOf[_root_.cats.arrow.FunctionK[Any, scala.concurrent.Future]];</span>
<span class="pl-c"><span class="pl-c">//</span>     private[this] val arr2 = evalPriceOp.asInstanceOf[_root_.cats.arrow.FunctionK[Any, scala.concurrent.Future]];</span>
<span class="pl-c"><span class="pl-c">//</span>     override def apply[Ξ$](η$: Algebra[Ξ$]): Future[Ξ$] = (η$.index: @_root_.scala.annotation.switch) match {</span>
<span class="pl-c"><span class="pl-c">//</span>       case 0 =&gt; arr0(η$.value)</span>
<span class="pl-c"><span class="pl-c">//</span>       case 1 =&gt; arr1(η$.value)</span>
<span class="pl-c"><span class="pl-c">//</span>       case 2 =&gt; arr2(η$.value)</span>
<span class="pl-c"><span class="pl-c">//</span>       case (i @ _) =&gt; throw new _root_.java.lang.Exception(StringContext("iota internal error: index ").s().+(i).+(" out of bounds for ").+(this)...res32: iota.internal.FastFunctionK[Algebra,scala.concurrent.Future] = FastFunctionK[Algebra, scala.concurrent.Future]&lt;&lt;generated&gt;&gt;</span></pre>
  </div> 
  <h4><a id="user-content-is-it-actually-faster" class="anchor" href="https://github.com/frees-io/iota#is-it-actually-faster" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Is it actually faster?</h4> 
  <p>Yes. If you look at <em>just the overhead</em> of evaluating the deepest nested algebra in a linked list style coproduct, the cost goes up in a linear fashion as the coproduct size increase.</p> 
  <p>This can be seen below using data from Iota's benchmark suite. Here, we compare the throughput for using Iota vs Cats for a coproducts up to 25 element in size. This overhead isn't representative of what you'd encounter in real world applications as we are comparing <em>worst case</em> performance with the deepest nested type in the coproduct.</p> 
  <p><a href="https://cloud.githubusercontent.com/assets/310363/25464097/6b49c0ae-2aaf-11e7-9dc4-3e7d8f0e9267.png" target="_blank"><img src="https://cloud.githubusercontent.com/assets/310363/25464097/6b49c0ae-2aaf-11e7-9dc4-3e7d8f0e9267.png" alt="bench" style="max-width:100%;"></a></p> 
  <h2><a id="user-content-free" class="anchor" href="https://github.com/frees-io/iota#free" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Free</h2> 
  <p>A <code>Free</code> example is available <a href="https://github.com/frees-io/iota/blob/master/modules/core/src/test/scala/iotatests/FreeCopKTests.scala" target="_blank">in the tests</a>.</p> 
  <h2><a id="user-content-iota-in-the-wild" class="anchor" href="https://github.com/frees-io/iota#iota-in-the-wild" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Iota in the wild</h2> 
  <p>If you wish to add your library here please consider a PR to include it in the list below.</p> 
  <h2><a id="user-content-commercial-support" class="anchor" href="https://github.com/frees-io/iota#commercial-support" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Commercial Support</h2> 
  <p>47 Degrees offers commercial support for the iota library and associated technologies. To find out more, visit <a href="https://www.47deg.com/services/open-source-support/" target="_blank">47 Degrees' Open Source Support</a>.</p> 
  <h1><a id="user-content-copyright" class="anchor" href="https://github.com/frees-io/iota#copyright" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Copyright</h1> 
  <p>Iota is designed and developed by 47 Degrees</p> 
  <p>Copyright (C) 2016-2017 47 Degrees. <a href="http://47deg.com" target="_blank">http://47deg.com</a></p> 
 </article>
</div>