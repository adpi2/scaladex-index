<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <p><a href="https://camo.githubusercontent.com/cff2e63f7bcccc33b96a73f50c7556a765417a7f/68747470733a2f2f7261772e6769746875622e636f6d2f6a756c69656e2d74727566666175742f4d6f6e6f636c652f6d61737465722f696d6167652f6c6f676f2e706e67" target="_blank"><img src="https://camo.githubusercontent.com/cff2e63f7bcccc33b96a73f50c7556a765417a7f/68747470733a2f2f7261772e6769746875622e636f6d2f6a756c69656e2d74727566666175742f4d6f6e6f636c652f6d61737465722f696d6167652f6c6f676f2e706e67" alt="Monocle Logo" data-canonical-src="https://raw.github.com/julien-truffaut/Monocle/master/image/logo.png" style="max-width:100%;"></a><br></p> 
  <h2><a id="user-content-build" class="anchor" href="https://github.com/julien-truffaut/monocle#build" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Build</h2> 
  <p><a href="https://gitter.im/julien-truffaut/Monocle?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Join the chat at https://gitter.im/julien-truffaut/Monocle" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"></a> <a href="http://search.maven.org/#search%7Cga%7C1%7Ccom.github.julien-truffaut.monocle" target="_blank"><img src="https://camo.githubusercontent.com/61a743d7ef9a64b2970d0f7b6d3a4216dadfc0ce/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f636f6d2e6769746875622e6a756c69656e2d74727566666175742f6d6f6e6f636c655f322e31312e737667" alt="Maven Central" data-canonical-src="https://img.shields.io/maven-central/v/com.github.julien-truffaut/monocle_2.11.svg" style="max-width:100%;"></a> <a href="https://travis-ci.org/julien-truffaut/Monocle" target="_blank"><img src="https://camo.githubusercontent.com/b1adacfe3cfa9f7ca2bc758e539441ab2710fbfc/68747470733a2f2f6170692e7472617669732d63692e6f72672f6a756c69656e2d74727566666175742f4d6f6e6f636c652e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://api.travis-ci.org/julien-truffaut/Monocle.svg?branch=master" style="max-width:100%;"></a></p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">sbt.</span><span class="pl-v">_</span>
resolvers <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-en">Resolver</span>.sonatypeRepo(<span class="pl-s"><span class="pl-pds">"</span>releases<span class="pl-pds">"</span></span>)
resolvers <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-en">Resolver</span>.sonatypeRepo(<span class="pl-s"><span class="pl-pds">"</span>snapshots<span class="pl-pds">"</span></span>)

scalaVersion <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>2.12.0<span class="pl-pds">"</span></span>         <span class="pl-c">// or "2.11.8", "2.10.6"</span>

<span class="pl-k">val</span> <span class="pl-en">libraryVersion</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>1.3.2<span class="pl-pds">"</span></span>     <span class="pl-c">// or "1.4.0-SNAPSHOT"</span>

libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-s"><span class="pl-pds">"</span>com.github.julien-truffaut<span class="pl-pds">"</span></span>  <span class="pl-k">%%</span>  <span class="pl-s"><span class="pl-pds">"</span>monocle-core<span class="pl-pds">"</span></span>    <span class="pl-k">%</span> libraryVersion,
  <span class="pl-s"><span class="pl-pds">"</span>com.github.julien-truffaut<span class="pl-pds">"</span></span>  <span class="pl-k">%%</span>  <span class="pl-s"><span class="pl-pds">"</span>monocle-generic<span class="pl-pds">"</span></span> <span class="pl-k">%</span> libraryVersion,
  <span class="pl-s"><span class="pl-pds">"</span>com.github.julien-truffaut<span class="pl-pds">"</span></span>  <span class="pl-k">%%</span>  <span class="pl-s"><span class="pl-pds">"</span>monocle-macro<span class="pl-pds">"</span></span>   <span class="pl-k">%</span> libraryVersion,        
  <span class="pl-s"><span class="pl-pds">"</span>com.github.julien-truffaut<span class="pl-pds">"</span></span>  <span class="pl-k">%%</span>  <span class="pl-s"><span class="pl-pds">"</span>monocle-state<span class="pl-pds">"</span></span>   <span class="pl-k">%</span> libraryVersion,     
  <span class="pl-s"><span class="pl-pds">"</span>com.github.julien-truffaut<span class="pl-pds">"</span></span>  <span class="pl-k">%%</span>  <span class="pl-s"><span class="pl-pds">"</span>monocle-refined<span class="pl-pds">"</span></span> <span class="pl-k">%</span> libraryVersion,
  <span class="pl-s"><span class="pl-pds">"</span>com.github.julien-truffaut<span class="pl-pds">"</span></span>  <span class="pl-k">%%</span>  <span class="pl-s"><span class="pl-pds">"</span>monocle-unsafe<span class="pl-pds">"</span></span>  <span class="pl-k">%</span> libraryVersion,
  <span class="pl-s"><span class="pl-pds">"</span>com.github.julien-truffaut<span class="pl-pds">"</span></span>  <span class="pl-k">%%</span>  <span class="pl-s"><span class="pl-pds">"</span>monocle-law<span class="pl-pds">"</span></span>     <span class="pl-k">%</span> libraryVersion <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span> 
)

<span class="pl-c">// for @Lenses macro support</span>
addCompilerPlugin(<span class="pl-s"><span class="pl-pds">"</span>org.scalamacros<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>paradise<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>2.1.0<span class="pl-pds">"</span></span> cross <span class="pl-en">CrossVersion</span>.full)</pre>
  </div> 
  <h2><a id="user-content-table-of-contents" class="anchor" href="https://github.com/julien-truffaut/monocle#table-of-contents" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Table of contents</h2> 
  <ul> 
   <li><a href="https://github.com/julien-truffaut/monocle#motivation" target="_blank">Motivation</a><br> 
    <ul> 
     <li><a href="https://github.com/julien-truffaut/monocle#what-does-it-mean" target="_blank">What does it mean?</a><br></li> 
     <li><a href="https://github.com/julien-truffaut/monocle#why-do-i-need-this" target="_blank">Why do I need this?</a><br></li> 
     <li><a href="https://github.com/julien-truffaut/monocle#more-abstractions" target="_blank">More abstractions</a><br></li> 
    </ul></li> 
   <li><a href="https://github.com/julien-truffaut/monocle#lens-creation" target="_blank">Lens Creation</a></li> 
   <li><a href="https://github.com/julien-truffaut/monocle#generic-optics-and-instance-location-policy" target="_blank">Generic Optics and Instance Location Policy</a></li> 
   <li><a href="https://github.com/julien-truffaut/monocle#optics-hierarchy" target="_blank">Optics Hierarchy</a></li> 
   <li><a href="https://github.com/julien-truffaut/monocle#modules" target="_blank">Modules</a></li> 
   <li><a href="https://github.com/julien-truffaut/monocle#maintainers-and-contributors" target="_blank">Maintainers and Contributors</a></li> 
   <li><a href="https://github.com/julien-truffaut/monocle#contact" target="_blank">Contact</a></li> 
  </ul> 
  <h2><a id="user-content-motivation" class="anchor" href="https://github.com/julien-truffaut/monocle#motivation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Motivation</h2> 
  <p>Monocle is a <code>Lens</code> library, or more generally an Optics library where Optics gather the concepts of <code>Lens</code>, <code>Traversal</code>, <code>Optional</code>, <code>Prism</code> and <code>Iso</code>. Monocle is strongly inspired by Haskell <a href="https://github.com/ekmett/lens" target="_blank">Lens</a>.</p> 
  <h4><a id="user-content-what-does-it-mean" class="anchor" href="https://github.com/julien-truffaut/monocle#what-does-it-mean" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>What does it mean?</h4> 
  <p>Optics are a set of purely functional abstractions to manipulate (get, set, modify) immutable objects. Optics compose between each other and particularly shine with nested objects.</p> 
  <h4><a id="user-content-why-do-i-need-this" class="anchor" href="https://github.com/julien-truffaut/monocle#why-do-i-need-this" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Why do I need this?</h4> 
  <p>Scala already provides getters and setters for case classes but modifying nested object is verbose which makes code difficult to understand and reason about. Let's have a look at some examples:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Street</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, ...)     <span class="pl-c">// ... means it contains other fields</span>
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Address</span>(<span class="pl-v">street</span>: <span class="pl-en">Street</span>, ...)
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Company</span>(<span class="pl-v">address</span>: <span class="pl-en">Address</span>, ...)
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Employee</span>(<span class="pl-v">company</span>: <span class="pl-en">Company</span>, ...)</pre>
  </div> 
  <p>Let's say we have an employee and we need to set the first character of his company street name address in upper case. Here is how we could write it in vanilla Scala:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">employee</span><span class="pl-k">:</span> <span class="pl-en">Employee</span> <span class="pl-k">=</span> <span class="pl-k">???</span>

employee.copy(
  company <span class="pl-k">=</span> employee.company.copy(
    address <span class="pl-k">=</span> employee.company.address.copy(
      street <span class="pl-k">=</span> employee.company.address.street.copy(
        name <span class="pl-k">=</span> employee.company.address.street.name.capitalize <span class="pl-c">// luckily capitalize exists</span>
      }
    )
  )
)</pre>
  </div> 
  <p>As you can see copy is not convenient to update nested objects as we need to repeat at each level the full path to reach it. Let's see what could we do with Monocle:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">monocle.</span><span class="pl-v">Lens</span>
<span class="pl-k">val</span> <span class="pl-en">name</span>   <span class="pl-k">:</span> <span class="pl-en">Lens</span>[<span class="pl-en">Street</span>  , <span class="pl-k">String</span>]  <span class="pl-k">=</span> <span class="pl-k">???</span>  <span class="pl-c">// we'll see later how to build Lens</span>
<span class="pl-k">val</span> <span class="pl-en">street</span> <span class="pl-k">:</span> <span class="pl-en">Lens</span>[<span class="pl-en">Address</span> , <span class="pl-en">Street</span>]  <span class="pl-k">=</span> <span class="pl-k">???</span>
<span class="pl-k">val</span> <span class="pl-en">address</span><span class="pl-k">:</span> <span class="pl-en">Lens</span>[<span class="pl-en">Company</span> , <span class="pl-en">Address</span>] <span class="pl-k">=</span> <span class="pl-k">???</span>
<span class="pl-k">val</span> <span class="pl-en">company</span><span class="pl-k">:</span> <span class="pl-en">Lens</span>[<span class="pl-en">Employee</span>, <span class="pl-en">Company</span>] <span class="pl-k">=</span> <span class="pl-k">???</span>

(company composeLens address composeLens street composeLens name).modify(_.capitalize)(employee)

<span class="pl-c">// you can achieve the same result with less characters using symbolic syntax</span>
<span class="pl-k">import</span> <span class="pl-v">monocle.syntax.apply.</span><span class="pl-v">_</span>
(company ^<span class="pl-k">|-&gt;</span> address ^<span class="pl-k">|-&gt;</span> street ^<span class="pl-k">|-&gt;</span> name).modify(_.capitalize)(employee)</pre>
  </div> 
  <p>ComposeLens takes two <code>Lens</code>, one from A to B and another from B to C and creates a third <code>Lens</code> from A to C. Therefore, after composing <code>company</code>, <code>address</code>, <code>street</code> and <code>name</code>, we obtain a <code>Lens</code> from <code>Employee</code> to <code>String</code> (the street name).</p> 
  <h4><a id="user-content-more-abstractions" class="anchor" href="https://github.com/julien-truffaut/monocle#more-abstractions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>More abstractions</h4> 
  <p>In the above example, we used capitalize to upper case the first letter of a <code>String</code>. It works but it would be clearer if we could use <code>Lens</code> to zoom into the first character of a <code>String</code>. However, we cannot write such a <code>Lens</code> because a <code>Lens</code> defines how to focus from an object <code>S</code> into a <em>mandatory</em> object <code>A</code> and in our case, the first character of a <code>String</code> is optional as a <code>String</code> might be empty. For this we need a sort of partial <code>Lens</code>, in Monocle it is called <code>Optional</code>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">monocle.function.Cons.</span><span class="pl-v">headOption </span><span class="pl-c">// to use headOption (a generic optic)</span>
<span class="pl-k">import</span> <span class="pl-v">monocle.std.string.</span><span class="pl-v">_             </span><span class="pl-c">// to get String instance for HeadOption</span>

(company composeLens address
  composeLens street
  composeLens name
  composeOptional headOption).modify(_.toUpper)(employee)</pre>
  </div> 
  <p>Similarly to composeLens, composeOptional takes two <code>Optional</code>, one from A to B and another from B to C and creates a third <code>Optional</code> from A to C. All <code>Lens</code> can be seen as <code>Optional</code> where the optional element to zoom to is always present, hence composing an <code>Optional</code> and a <code>Lens</code> always produces an <code>Optional</code> (see class diagram for full inheritance relation between Optics).</p> 
  <p>For more examples, see the <a href="https://github.com/julien-truffaut/monocle/blob/master/example/src/test/scala/monocle" target="_blank"><code>example</code> module</a>.</p> 
  <h2><a id="user-content-lens-creation" class="anchor" href="https://github.com/julien-truffaut/monocle#lens-creation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Lens Creation</h2> 
  <p>There are 3 ways to create <code>Lens</code>, each with their pro and cons:</p> 
  <ol> 
   <li><p>The manual method where we construct a <code>Lens</code> by passing <code>get</code> and <code>set</code> functions:</p> 
    <div class="highlight highlight-source-scala">
     <pre> <span class="pl-k">import</span> <span class="pl-v">monocle.</span><span class="pl-v">Lens</span>
 <span class="pl-k">val</span> <span class="pl-en">company</span> <span class="pl-k">=</span> <span class="pl-en">Lens</span>[<span class="pl-en">Employee</span>, <span class="pl-en">Company</span>](_.company)( c <span class="pl-k">=&gt;</span> e <span class="pl-k">=&gt;</span> e.copy(company <span class="pl-k">=</span> c))
 <span class="pl-c">// or with some type inference</span>
 <span class="pl-k">val</span> <span class="pl-en">company</span> <span class="pl-k">=</span> <span class="pl-en">Lens</span>((<span class="pl-v">_</span>: <span class="pl-en">Employee</span>).company)( c <span class="pl-k">=&gt;</span> e <span class="pl-k">=&gt;</span> e.copy(company <span class="pl-k">=</span> c))</pre>
    </div></li> 
   <li><p>The semi-automatic method using the <code>GenLens</code> blackbox macro:</p> 
    <div class="highlight highlight-source-scala">
     <pre> <span class="pl-k">import</span> <span class="pl-v">monocle.macros.</span><span class="pl-v">GenLens</span>
 <span class="pl-k">val</span> <span class="pl-en">company</span> <span class="pl-k">=</span> <span class="pl-en">GenLens</span>[<span class="pl-en">Employee</span>](_.company)</pre>
    </div></li> 
   <li><p>Finally, the fully automatic method using the <code>@Lenses</code> macro annotation. <code>@Lenses</code> generates <code>Lens</code> for every accessor of a case class in its companion object (even if there is no companion object defined). This solution is the most boiler plate free but it has several disadvantages:</p> 
    <ol> 
     <li> users need to add the macro paradise plugin to their project.</li> 
     <li><p>requires access to the case classes since you need to annotate them.</p> 
      <div class="highlight highlight-source-scala">
       <pre><span class="pl-k">import</span> <span class="pl-v">monocle.macros.</span><span class="pl-v">Lenses</span>
<span class="pl-k">@</span><span class="pl-en">Lenses</span> <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Employee</span>(<span class="pl-v">company</span>: <span class="pl-en">Company</span>, <span class="pl-v">name</span>: <span class="pl-k">String</span>, ...)

<span class="pl-c">// generates Employee.company: Lens[Employee, Company]</span>
<span class="pl-c">// and       Employee.name   : Lens[Employee, String]</span>

<span class="pl-c">// you can add a prefix to Lenses constructor</span>

<span class="pl-k">@</span><span class="pl-en">Lenses</span>(<span class="pl-s"><span class="pl-pds">"</span>_<span class="pl-pds">"</span></span>)
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Employee</span>(<span class="pl-v">company</span>: <span class="pl-en">Company</span>, <span class="pl-v">name</span>: <span class="pl-k">String</span>, ...)

<span class="pl-c">// generates Employee._company: Lens[Employee, Company]</span></pre>
      </div></li> 
    </ol></li> 
  </ol> 
  <p>Note: <code>GenLens</code> and <code>@Lenses</code> are both limited to case classes</p> 
  <h2><a id="user-content-optics-in-the-repl-and-tut" class="anchor" href="https://github.com/julien-truffaut/monocle#optics-in-the-repl-and-tut" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Optics in the REPL and tut</h2> 
  <p><code>Iso</code>, <code>Prism</code>, <code>Lens</code>, <code>Optional</code>, <code>Traversal</code> and <code>Setter</code> are all type aliases for more general polymorphic optics, for example here is the definition of <code>Lens</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">type</span> <span class="pl-en">Lens</span>[<span class="pl-en">S</span>, <span class="pl-en">A</span>] <span class="pl-k">=</span> <span class="pl-en">PLens</span>[<span class="pl-en">S</span>, <span class="pl-en">S</span>, <span class="pl-en">A</span>, <span class="pl-en">A</span>]

<span class="pl-k">object</span> <span class="pl-en">Lens</span> {
  <span class="pl-k">def</span> <span class="pl-en">apply</span>[<span class="pl-en">S</span>, <span class="pl-en">A</span>](<span class="pl-v">get</span>: <span class="pl-en">S</span> <span class="pl-k">=&gt;</span> <span class="pl-en">A</span>)(<span class="pl-v">set</span>: <span class="pl-en">A</span> <span class="pl-k">=&gt;</span> <span class="pl-en">S</span> <span class="pl-k">=&gt;</span> <span class="pl-en">S</span>)<span class="pl-k">:</span> <span class="pl-en">Lens</span>[<span class="pl-en">S</span>, <span class="pl-en">A</span>] <span class="pl-k">=</span> 
    <span class="pl-en">PLens</span>(get)(set)
}</pre>
  </div> 
  <p>This is a completely fine Scala definition and it will work perfectly in your code. However, if you try to create optics in the REPL you will probably encounter a similar error:</p> 
  <pre><code>scala&gt; import monocle.Lens
import monocle.Lens

scala&gt; case class Example(s: String, i: Int)
defined class Example

scala&gt; val s = Lens[Example, String](_.s)(s =&gt; _.copy(s = s))
s: monocle.Lens[Example,String] = monocle.PLens$$anon$7@46aa4219

scala&gt; val i = Lens[Example, Int](_.i)(i =&gt; _.copy(i = i))
&lt;console&gt;:13: error: object Lens does not take type parameters.
       val i = Lens[Example, Int](_.i)(i =&gt; _.copy(i = i))
</code></pre> 
  <p>We managed to create the first <code>Lens</code> but the second call to <code>apply</code> failed. This is a known bug in the REPL which is tracked by <a href="https://issues.scala-lang.org/browse/SI-7139" target="_blank">SI-7139</a>. You will also face this error if you use <a href="https://github.com/tpolecat/tut" target="_blank">tut</a> to create documentation.</p> 
  <h2><a id="user-content-generic-optics-and-instance-location-policy" class="anchor" href="https://github.com/julien-truffaut/monocle#generic-optics-and-instance-location-policy" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Generic Optics and Instance Location Policy</h2> 
  <p>A generic optic is an optic that is applicable to different types. For example, <code>headOption</code> is an <code>Optional</code> from some type <code>S</code> to its optional first element of type <code>A</code>. In order to use <code>headOption</code> (or any generic optics), you need to:</p> 
  <ol> 
   <li> import the generic optic in your scope via <code>import monocle.function.Cons.headOption._</code> or <code>import monocle.function.all._</code></li> 
   <li> have the required instance of the type class <code>monocle.function.Cons</code> in your scope, e.g. if you want to use <code>headOption</code> from a <code>List[Int]</code>, you need an instance of <code>Cons[List[Int], Int, List[Int]</code>. This instance can be either provided by you or by Monocle.</li> 
  </ol> 
  <p>Monocle defines generic optic instances in the following packages:</p> 
  <ol> 
   <li> <code>monocle.std</code> for standard Scala library and Scalaz classes, e.g. <code>List, Vector, Map, IList, OneAnd</code></li> 
   <li> <code>monocle.generic</code> for Shapeless classes, e.g. <code>HList, CoProduct</code></li> 
  </ol> 
  <p>An <a href="https://github.com/julien-truffaut/monocle/blob/master/example/src/test/scala/other/ImportExample.scala" target="_blank">example</a> shows how to use Monocle imports.</p> 
  <h2><a id="user-content-optics-hierarchy" class="anchor" href="https://github.com/julien-truffaut/monocle#optics-hierarchy" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Optics Hierarchy</h2> 
  <p><a href="https://camo.githubusercontent.com/0e7ccc1c6f603384b4051eda1b9e1169ee305c31/68747470733a2f2f7261772e6769746875622e636f6d2f6a756c69656e2d74727566666175742f4d6f6e6f636c652f6d61737465722f696d6167652f636c6173732d6469616772616d2e706e67" target="_blank"><img src="https://camo.githubusercontent.com/0e7ccc1c6f603384b4051eda1b9e1169ee305c31/68747470733a2f2f7261772e6769746875622e636f6d2f6a756c69656e2d74727566666175742f4d6f6e6f636c652f6d61737465722f696d6167652f636c6173732d6469616772616d2e706e67" alt="Class Diagram" data-canonical-src="https://raw.github.com/julien-truffaut/Monocle/master/image/class-diagram.png" style="max-width:100%;"></a><br></p> 
  <h3><a id="user-content-modules" class="anchor" href="https://github.com/julien-truffaut/monocle#modules" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Modules</h3> 
  <ul> 
   <li>Core defines the main library concepts: optics, typeclass, syntax. Core only depends on <a href="https://github.com/scalaz/scalaz" target="_blank">scalaz</a> for type classes.</li> 
   <li>Law defines properties for optics using <a href="https://github.com/typelevel/discipline" target="_blank">discipline</a> and <a href="http://www.scalacheck.org/" target="_blank">scalacheck</a>.</li> 
   <li>Macro defines a set of macros to generate optics automatically.</li> 
   <li>Generic is an experiment to provide highly generalised Optics using <a href="https://github.com/milessabin/shapeless" target="_blank">shapeless</a>. </li> 
  </ul> 
  <h3><a id="user-content-maintainers-and-contributors" class="anchor" href="https://github.com/julien-truffaut/monocle#maintainers-and-contributors" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Maintainers and Contributors</h3> 
  <p>The current maintainers (people who can merge pull requests) are:</p> 
  <ul> 
   <li>Julien Truffaut - <a href="https://github.com/julien-truffaut" target="_blank">@julien-truffaut</a></li> 
   <li>Ilan Godik - <a href="https://github.com/NightRa" target="_blank">@NightRa</a></li> 
   <li>Naoki Aoyama - <a href="https://github.com/aoiroaoino" target="_blank">@aoiroaoino</a> </li> 
  </ul> 
  <p>and the <a href="https://github.com/julien-truffaut/Monocle/graphs/contributors" target="_blank">contributors</a> (people who committed to Monocle).</p> 
  <h3><a id="user-content-contact" class="anchor" href="https://github.com/julien-truffaut/monocle#contact" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contact</h3> 
  <p>If you have any question, we have a <a href="https://gitter.im/julien-truffaut/Monocle" target="_blank">gitter</a> channel and a <a href="https://groups.google.com/forum/#!forum/scala-monocle" target="_blank">mailing group</a></p> 
 </article>
</div>