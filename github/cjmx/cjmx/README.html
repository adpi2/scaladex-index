<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-cjmx" class="anchor" href="https://github.com/cjmx/cjmx#cjmx" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>cjmx</h1> 
  <p>cjmx is a command line JMX client intended to be used when graphical tools (e.g., JConsole, VisualVM) are unavailable. Additionally, cjmx intends to be useful in scripting environments.</p> 
  <h1><a id="user-content-getting-cjmx" class="anchor" href="https://github.com/cjmx/cjmx#getting-cjmx" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting cjmx</h1> 
  <p>cjmx is available on Maven Central using groupId com.gihub.cjmx and artifactId cjmx_2.11. An executable JAR is published using the <code>app</code> classifier.</p> 
  <ul> 
   <li>cjmx artifacts on Maven Central: <a href="http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.github.cjmx%22" target="_blank">http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.github.cjmx%22</a></li> 
   <li>Executable JAR using Scala 2.10: <a href="http://search.maven.org/remotecontent?filepath=com/github/cjmx/cjmx_2.11/2.5.0/cjmx_2.11-2.5.0-app.jar" target="_blank">http://search.maven.org/remotecontent?filepath=com/github/cjmx/cjmx_2.11/2.5.0/cjmx_2.11-2.5.0-app.jar</a></li> 
  </ul> 
  <p>Note: Both a regular and an application JAR (with embedded dependencies and minimized) are published on Maven Central.</p> 
  <h1><a id="user-content-building" class="anchor" href="https://github.com/cjmx/cjmx#building" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Building</h1> 
  <p>To build, run <code>./sbt publish-local</code>. This will build target/scala-2.10/proguard/cjmx_2.11-2.6.0-SNAPSHOT.jar and install a copy to your local ivy cache.</p> 
  <h1><a id="user-content-usage" class="anchor" href="https://github.com/cjmx/cjmx#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h1> 
  <p>Launching cjmx is done via, using Java 8+:</p> 
  <pre><code>java -cp $JAVA_HOME/lib/tools.jar:target/scala-2.11/proguard/cjmx_2.11-2.6.0-SNAPSHOT.jar cjmx.Main [PID]
</code></pre> 
  <p>If a PID is specified on the command line, cjmx will attempt to connect to the local JVM with that PID; otherwise, cjmx starts in a disconnected state.</p> 
  <p>Once cjmx starts, a prompt will appear. Cjmx makes heavy use of tab completion, enabling exploration of the MBean tree. For example:</p> 
  <pre><code>java -jar path/to/cjmx.jar 1234
&gt; &lt;TAB&gt;
disconnect   exit         describe      names        select
&gt; names 'java.&lt;TAB&gt;
java.lang:           java.util.logging:
&gt; describe -d 'java.lang:type=
*                  &lt;value&gt;            ClassLoading       Compilation
GarbageCollector   Memory             MemoryManager      MemoryPool
OperatingSystem    Runtime            Threading
&gt; names 'java.lang:type=*'
java.lang:type=ClassLoading
java.lang:type=Compilation
java.lang:type=Memory
java.lang:type=OperatingSystem
java.lang:type=Runtime
java.lang:type=Threading
&gt; describe -d 'java.lang:type=Memory'
Object name: java.lang:type=Memory
----------------------------------
Description: Information on the management interface of the MBean

Attributes:
  Verbose: boolean
    Description: Verbose
  ObjectPendingFinalizationCount: int
    Description: ObjectPendingFinalizationCount
  HeapMemoryUsage: CompositeData
    Description: HeapMemoryUsage
  NonHeapMemoryUsage: CompositeData
    Description: NonHeapMemoryUsage

Operations:
  gc(): void
    Description: gc

Notifications:
  javax.management.Notification
    Description: MEMORY NOTIFICATION
    Notification types:
      java.management.memory.threshold.exceeded
      java.management.memory.collection.threshold.exceeded

&gt; mbeans 'java.lang:type=Memory' select *
java.lang:type=Memory
---------------------
  Verbose: false
  ObjectPendingFinalizationCount: 0
  HeapMemoryUsage:
    committed: 110432256
    init: 0
    max: 2130051072
    used: 63307880
  NonHeapMemoryUsage:
    committed: 140849152
    init: 24317952
    max: 318767104
    used: 121815008
</code></pre> 
  <p>Alternatively, cjmx can run a series of commands and then terminate. This is done by specifying each command as a program argument. For example:</p> 
  <pre><code>java -jar path/to/cjmx.jar 1234 "describe 'java.lang:type=Memory'" "mbeans 'java.lang:type=Memory' select *"
Object name: java.lang:type=Memory
----------------------------------
Description: Information on the management interface of the MBean

Attributes:
  Verbose: boolean
  ObjectPendingFinalizationCount: int
  HeapMemoryUsage: CompositeData
  NonHeapMemoryUsage: CompositeData

Operations:
  gc(): void

Notifications:
  javax.management.Notification

java.lang:type=Memory
---------------------
  Verbose: false
  ObjectPendingFinalizationCount: 0
  HeapMemoryUsage:
    committed: 110432256
    init: 0
    max: 2130051072
    used: 76943832
  NonHeapMemoryUsage:
    committed: 140980224
    init: 24317952
    max: 318767104
    used: 122049448
</code></pre> 
  <p>All commands have help information available by typing "help" in the console.</p> 
  <h1><a id="user-content-remote-connections" class="anchor" href="https://github.com/cjmx/cjmx#remote-connections" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Remote Connections</h1> 
  <p>cjmx supports connecting to remote JMX agents. A simple <em><em>insecure</em></em> way of running the remote process is:</p> 
  <pre><code>java -Dcom.sun.management.jmxremote.port=7091 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false MainClass
</code></pre> 
  <p>With this process running on host 'server', you can connect via cjmx using the 'remote-connect' command:</p> 
  <pre><code>cjmx remote-connect server:7091
</code></pre> 
  <p>Once connected, cjmx supports all the same behaviors as with a local connection.</p> 
  <p>For a more secure connection, it is recommended you run with SSL and/or with username authentication. Usernames can be specified as the optional second paramter of the 'remote-connect' command:</p> 
  <pre><code>cjmx remote-connect server:7091 admin
</code></pre> 
  <p>cjmx will then prompt for the password. To use SSL, you must run cjmx with the appropriate javax.net.ssl flags.</p> 
  <p>For more details on configuring JMX agents, see: <a href="http://docs.oracle.com/javase/6/docs/technotes/guides/management/agent.html" target="_blank">http://docs.oracle.com/javase/6/docs/technotes/guides/management/agent.html</a></p> 
 </article>
</div>