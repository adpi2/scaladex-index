<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-beanpurée" class="anchor" href="https://github.com/limansky/beanpuree#beanpurée" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>BeanPurée</h1> 
  <p><strong>BeanPurée</strong> is a middle layer between JavaBeans and <a href="http://github.com/milessabin/shapeless" target="_blank">shapeless</a>.</p> 
  <blockquote> 
   <p>NOTE: The library is in active development stage. So the API might be changed.</p> 
  </blockquote> 
  <p><a href="https://travis-ci.org/limansky/beanpuree" target="_blank"><img src="https://camo.githubusercontent.com/f240f7c8831a9696a1eeb3bb23dc40ca59e96efe/68747470733a2f2f7472617669732d63692e6f72672f6c696d616e736b792f6265616e70757265652e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/limansky/beanpuree.svg?branch=master" style="max-width:100%;"></a> <a href="https://gitter.im/limansky/beanpuree?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/38ed8b58ab4d37ece8f6b74eeb07272e8fbe989b/68747470733a2f2f6261646765732e6769747465722e696d2f6c696d616e736b792f6265616e70757265652e737667" alt="Join the chat at https://gitter.im/limansky/beanpuree" data-canonical-src="https://badges.gitter.im/limansky/beanpuree.svg" style="max-width:100%;"></a> <a href="https://codecov.io/gh/limansky/beanpuree" target="_blank"><img src="https://camo.githubusercontent.com/9ebc1e6647a8a3fbd4d9b7c322e3ddfd0cd6e146/68747470733a2f2f636f6465636f762e696f2f67682f6c696d616e736b792f6265616e70757265652f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/limansky/beanpuree/branch/master/graph/badge.svg" style="max-width:100%;"></a> <a href="https://maven-badges.herokuapp.com/maven-central/me.limansky/beanpuree_2.12" target="_blank"><img src="https://camo.githubusercontent.com/fe6c618c690e58183abf8449aff11431d320c750/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f6d652e6c696d616e736b792f6265616e70757265655f322e31322e737667" alt="Maven Central" data-canonical-src="https://img.shields.io/maven-central/v/me.limansky/beanpuree_2.12.svg" style="max-width:100%;"></a></p> 
  <h2><a id="user-content-motivation" class="anchor" href="https://github.com/limansky/beanpuree#motivation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Motivation</h2> 
  <p>Even though Scala is compatible with Java, the languages are different, and the coding styles are different too. In Scala we prefer to use immutable case classes, but in Java world mutable JavaBeans are common building blocks. Moreover, many Scala libraries provide API which requires case classes (e.g. different serializers). As result, we need to have similar model classes for Java and Scala. This library helps to convert data between JavaBeans and case classes.</p> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/limansky/beanpuree#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>BeanPurée is available for Scala 2.10, 2.11 and 2.12. Currently there is no release version. Adding in <code>sbt</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>me.limansky<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>beanpuree<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.1<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>If you'd like to use development version:</p> 
  <div class="highlight highlight-source-scala">
   <pre>resolvers <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-en">Resolver</span>.sonatypeRepo(<span class="pl-s"><span class="pl-pds">"</span>snapshots<span class="pl-pds">"</span></span>)

libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>me.limansky<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>beanpuree<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.2-SNAPSHOT<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>The core of BeanPurée is <code>BeanGeneric</code> class, which have a same role with shapeless <code>Generic</code>, but for JavaBeans. Assume we have class:</p> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Foo</span> {
    <span class="pl-k">private</span> <span class="pl-k">int</span> a;
    <span class="pl-k">private</span> <span class="pl-smi">String</span> b;

    <span class="pl-k">public</span> <span class="pl-k">int</span> <span class="pl-en">getA</span>() { <span class="pl-k">return</span> a; }
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">setA</span>(<span class="pl-k">int</span> <span class="pl-v">a</span>) { <span class="pl-c1">this</span><span class="pl-k">.</span>a <span class="pl-k">=</span> a; }

    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">getB</span>() { <span class="pl-k">return</span> b; }
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">setB</span>(<span class="pl-smi">String</span> <span class="pl-v">b</span>) { <span class="pl-c1">this</span><span class="pl-k">.</span>b <span class="pl-k">=</span> b; }

    <span class="pl-k">public</span> <span class="pl-smi">String</span> <span class="pl-en">toString</span>() {
        <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>Foo(<span class="pl-pds">"</span></span> <span class="pl-k">+</span> a <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>, <span class="pl-cce">\"</span><span class="pl-pds">"</span></span> <span class="pl-k">+</span> b <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\"</span>)<span class="pl-pds">"</span></span>;
    }
}
</pre>
  </div> 
  <p>Now we can create <code>BeanGeneric</code> instance and convert bean to HList and backward:</p> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> <span class="pl-k">val</span> <span class="pl-en">gen</span> <span class="pl-k">=</span> <span class="pl-en">BeanGeneric</span>[<span class="pl-en">Foo</span>]
gen<span class="pl-k">:</span> me.limansky.beanpuree.<span class="pl-en">BeanGeneric</span>[<span class="pl-en">Foo</span>]{<span class="pl-k">type</span> <span class="pl-en">Repr</span> <span class="pl-k">=</span> shapeless.<span class="pl-k">::</span>[<span class="pl-k">Int</span>,shapeless.<span class="pl-k">::</span>[<span class="pl-k">String</span>,shapeless.<span class="pl-en">HNil</span>]]}

scala<span class="pl-k">&gt;</span> <span class="pl-k">val</span> <span class="pl-en">foo</span> <span class="pl-k">=</span> gen.from(<span class="pl-c1">5</span> <span class="pl-k">::</span> <span class="pl-s"><span class="pl-pds">"</span>aaa<span class="pl-pds">"</span></span> <span class="pl-k">::</span> <span class="pl-en">HNil</span>)
foo<span class="pl-k">:</span> <span class="pl-en">Foo</span> <span class="pl-k">=</span> <span class="pl-en">Foo</span>(<span class="pl-c1">5</span>, <span class="pl-s"><span class="pl-pds">"</span>aaa<span class="pl-pds">"</span></span>)

scala<span class="pl-k">&gt;</span> foo.setB(<span class="pl-s"><span class="pl-pds">"</span>changed<span class="pl-pds">"</span></span>)

scala<span class="pl-k">&gt;</span> gen.to(foo)
res2<span class="pl-k">:</span> gen.<span class="pl-en">Repr</span> <span class="pl-k">=</span> <span class="pl-c1">5</span> <span class="pl-k">::</span> changed <span class="pl-k">::</span> <span class="pl-en">HNil</span></pre>
  </div> 
  <p>Another important thing is <code>LabelledBeanGeneric</code>, which is a <code>LabelledGeneric</code> adopted for the beans. It's important to note, that it uses "field names" generated from the getters names. E.g. <code>getStartTime</code> become <code>startTime</code> and <code>isEven</code> become <code>even</code>.</p> 
  <p>The next thing is a <code>BeanConverter</code> class. It uses <code>LabelledBeanGeneric</code> and <code>LabelledGeneric</code> to convert between beans and case classes.</p> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Bar</span>(<span class="pl-v">a</span>: <span class="pl-k">Int</span>, <span class="pl-v">b</span>: <span class="pl-k">String</span>)
defined <span class="pl-k">class</span> <span class="pl-en">Bar</span>

scala<span class="pl-k">&gt;</span> <span class="pl-k">val</span> <span class="pl-en">conv</span> <span class="pl-k">=</span> <span class="pl-en">BeanConverter</span>[<span class="pl-en">Foo</span>, <span class="pl-en">Bar</span>]
conv<span class="pl-k">:</span> me.limansky.beanpuree.<span class="pl-en">BeanConverter</span>[<span class="pl-en">Foo</span>,<span class="pl-en">Bar</span>] <span class="pl-k">=</span> me.limansky.beanpuree.<span class="pl-en">BeanConverter</span>$$anon$<span class="pl-c1">1</span><span class="pl-k">@</span>4eae0bc5

scala<span class="pl-k">&gt;</span> conv.beanToProduct(foo)
res3<span class="pl-k">:</span> <span class="pl-en">Bar</span> <span class="pl-k">=</span> <span class="pl-en">Bar</span>(<span class="pl-c1">5</span>,changed)

scala<span class="pl-k">&gt;</span> conv.productToBean(<span class="pl-en">Bar</span>(<span class="pl-c1">15</span>, <span class="pl-s"><span class="pl-pds">"</span>bar<span class="pl-pds">"</span></span>))
res4<span class="pl-k">:</span> <span class="pl-en">Foo</span> <span class="pl-k">=</span> <span class="pl-en">Foo</span>(<span class="pl-c1">15</span>, <span class="pl-s"><span class="pl-pds">"</span>bar<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p><code>BeanConverter</code> doesn't care about fields order, but requires to have all the same fields with the same types. It also mean that if the bean uses Java numeric classes (like java.lang.Integer), the case class also should have the field with Java class.</p> 
 </article>
</div>