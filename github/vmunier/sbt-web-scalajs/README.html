<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/vmunier/sbt-web-scalajs#sbt-web-scalajs" aria-hidden="true" class="anchor" id="user-content-sbt-web-scalajs" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>sbt-web-scalajs</h1> 
  <p><a href="http://www.apache.org/licenses/LICENSE-2.0.txt" target="_blank"><img src="https://camo.githubusercontent.com/17d81d2643f6ee5fcc87c8f7f74588da4b5e6bb7/687474703a2f2f696d672e736869656c64732e696f2f3a6c6963656e73652d417061636865253230322d7265642e737667" alt="License" data-canonical-src="http://img.shields.io/:license-Apache%202-red.svg" style="max-width:100%;"></a> <a href="https://bintray.com/vmunier/scalajs/sbt-web-scalajs/_latestVersion" target="_blank"><img src="https://camo.githubusercontent.com/db96fb22be6469a9b2eeff0a168c8719b31b1ed6/68747470733a2f2f6170692e62696e747261792e636f6d2f7061636b616765732f766d756e6965722f7363616c616a732f7362742d7765622d7363616c616a732f696d616765732f646f776e6c6f61642e737667" alt="Download" data-canonical-src="https://api.bintray.com/packages/vmunier/scalajs/sbt-web-scalajs/images/download.svg" style="max-width:100%;"> </a> <a href="https://gitter.im/vmunier/sbt-web-scalajs?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Gitter" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"></a></p> 
  <p>sbt-web-scalajs is a SBT plugin which allows you to use Scala.js along with any sbt-web server. It uses the <a href="https://github.com/sbt/sbt-web" target="_blank">sbt-web</a> and <a href="https://github.com/scala-js/scala-js" target="_blank">scala-js</a> plugins.</p> 
  <h2><a href="https://github.com/vmunier/sbt-web-scalajs#setup" aria-hidden="true" class="anchor" id="user-content-setup" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Setup</h2> 
  <p>Specify the sbt version in <code>project/build.properties</code>, which needs to be 0.13.16 or higher (or sbt 1.x):</p> 
  <pre><code>sbt.version=0.13.16
</code></pre> 
  <p>Add the sbt plugin to the <code>project/plugins.sbt</code> file along with Scala.js:</p> 
  <pre><code>addSbtPlugin("com.vmunier" % "sbt-web-scalajs" % "1.0.6")

addSbtPlugin("org.scala-js" % "sbt-scalajs" % "0.6.19")
</code></pre> 
  <p>Lastly, put the following configuration in <code>build.sbt</code>:</p> 
  <pre><code>lazy val server = project.settings(
  scalaJSProjects := Seq(client),
  pipelineStages in Assets := Seq(scalaJSPipeline)
).enablePlugins(SbtWeb)

lazy val client = project.enablePlugins(ScalaJSPlugin, ScalaJSWeb)
</code></pre> 
  <p>Note: make sure you use the <code>Assets</code> scope.</p> 
  <h2><a href="https://github.com/vmunier/sbt-web-scalajs#examples" aria-hidden="true" class="anchor" id="user-content-examples" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Examples</h2> 
  <p>To see the plugin in action, you can clone and run one of these example apps:</p> 
  <ul> 
   <li><a href="https://github.com/vmunier/play-with-scalajs-example" target="_blank">Play with Scala.js app</a></li> 
   <li><a href="https://github.com/vmunier/akka-http-with-scalajs-example" target="_blank">Akka HTTP with Scala.js app</a></li> 
  </ul> 
  <h2><a href="https://github.com/vmunier/sbt-web-scalajs#how-it-works" aria-hidden="true" class="anchor" id="user-content-how-it-works" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>How it works</h2> 
  <p>There are two plugins: <code>WebScalaJS</code> and <code>ScalaJSWeb</code>.</p> 
  <ul> 
   <li><code>WebScalaJS</code> is automatically added to your SbtWeb project.</li> 
   <li><code>ScalaJSWeb</code> should be manually added to the Scala.js projects that you want to connect the source mapping to your SbtWeb project.</li> 
   <li>Scala.js projects are collected in the <code>scalaJSProjects</code> setting key of the SbtWeb project. The plugin does nothing if <code>scalaJSProjects</code> is not specified or is empty.</li> 
   <li>When compilation or testing takes place, then the <code>WebScalaJS</code> plugin runs all required tasks on <code>scalaJSProjects</code> projects, copies the output to SbtWeb assets and takes care about source maps.</li> 
  </ul> 
  <h2><a href="https://github.com/vmunier/sbt-web-scalajs#settings-and-tasks" aria-hidden="true" class="anchor" id="user-content-settings-and-tasks" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Settings and Tasks</h2> 
  <ul> 
   <li> <p><code>scalaJSProjects</code> setting lists the Scala.js projects whose output is used by the server.</p> </li> 
   <li> <p><code>scalaJSDev</code> task runs all tasks for development, including Scala.js <code>fastOptJS</code> task and source maps.</p> </li> 
   <li> <p><code>scalaJSProd</code> task runs all tasks for production, including Scala.js <code>fullOptJS</code> task and source maps.</p> </li> 
   <li> <p><code>scalaJSPipeline</code> task runs <code>scalaJSDev</code> when <code>isDevMode</code> is true, runs <code>scalaJSProd</code> otherwise.</p> </li> 
   <li> <p><code>isDevMode</code> task returns true if the sbt command run by the user exists in the <code>devCommands</code> setting. Some users may want to override <code>isDevMode</code> to read the dev/prod mode from a configuration file or from an environment variable.</p> </li> 
   <li> <p><code>devCommands</code> setting contains the name of the commands used during development, which includes <code>run</code>, <code>compile</code> and <code>re-start</code>. It can be extended/overridden to contain different dev commands. For example, adding <code>devCommands in scalaJSPipeline ++= Seq("test", "testOnly")</code> to your build would make <code>scalaJSPipeline</code> trigger <code>scalaJSDev</code> instead of <code>scalaJSProd</code> when running tests.</p> </li> 
  </ul> 
  <h2><a href="https://github.com/vmunier/sbt-web-scalajs#source-maps" aria-hidden="true" class="anchor" id="user-content-source-maps" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Source Maps</h2> 
  <p>The plugin copies the Scala files to the SbtWeb assets, so that they can be served to the browser and used for Source Maps.</p> 
  <p>Source Map and Scala files <em>do not exist in production</em> by default to prevent your users from seeing the source files. But it can easily be enabled in production too by setting <code>(emitSourceMaps in fullOptJS) := true</code> in the Scala.js projects.</p> 
  <h2><a href="https://github.com/vmunier/sbt-web-scalajs#scalajs-continuous-compilation" aria-hidden="true" class="anchor" id="user-content-scalajs-continuous-compilation" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala.js continuous compilation</h2> 
  <p>The plugin also watches files from the Scala.js projects. Redefine <code>compile</code> to trigger <code>scalaJSPipeline</code> when using <code>compile</code>, <code>~compile</code>, <code>~run</code>:</p> 
  <pre><code>compile in Compile := ((compile in Compile) dependsOn scalaJSPipeline.map(f =&gt; f(Seq.empty))).value
</code></pre> 
  <p>As we only care about triggering <code>scalaJSPipeline</code> dependencies here, the line can be shortened to:</p> 
  <pre><code>compile in Compile := ((compile in Compile) dependsOn scalaJSPipeline).value
</code></pre> 
 </article>
</div>