<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-scalajs-scripts" class="anchor" href="https://github.com/vmunier/play-scalajs-scripts#scalajs-scripts" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala.js Scripts</h1> 
  <p><a href="https://maven-badges.herokuapp.com/maven-central/com.vmunier/scalajs-scripts_2.11" target="_blank"><img src="https://camo.githubusercontent.com/091bba0030358145f62e271d4cb33da1afa65dfd/68747470733a2f2f6d6176656e2d6261646765732e6865726f6b756170702e636f6d2f6d6176656e2d63656e7472616c2f636f6d2e766d756e6965722f7363616c616a732d736372697074735f322e31312f62616467652e737667" alt="Latest Version" data-canonical-src="https://maven-badges.herokuapp.com/maven-central/com.vmunier/scalajs-scripts_2.11/badge.svg" style="max-width:100%;"></a> <a href="http://www.apache.org/licenses/LICENSE-2.0.txt" target="_blank"><img src="https://camo.githubusercontent.com/17d81d2643f6ee5fcc87c8f7f74588da4b5e6bb7/687474703a2f2f696d672e736869656c64732e696f2f3a6c6963656e73652d417061636865253230322d7265642e737667" alt="License" data-canonical-src="http://img.shields.io/:license-Apache%202-red.svg" style="max-width:100%;"></a></p> 
  <p>Small library which provides a few Twirl templates to link Scala.js output scripts into a HTML page.</p> 
  <h2><a id="user-content-setup" class="anchor" href="https://github.com/vmunier/play-scalajs-scripts#setup" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Setup</h2> 
  <p>Add the library to <code>build.sbt</code>:</p> 
  <pre><code>libraryDependencies += "com.vmunier" %% "scalajs-scripts" % "1.1.0"
</code></pre> 
  <p>For Play framework users, use the <code>1.0.0</code> version:</p> 
  <pre><code>libraryDependencies += "com.vmunier" %% "scalajs-scripts" % "1.0.0"
</code></pre> 
  <p>The reason is that the Play framework still uses Twirl <code>v1.2.0</code> whereas scalajs-scripts <code>v1.1.0</code> uses Twirl <code>v1.3.0</code>, which contains breaking changes.</p> 
  <h2><a id="user-content-available-twirl-templates" class="anchor" href="https://github.com/vmunier/play-scalajs-scripts#available-twirl-templates" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Available Twirl Templates</h2> 
  <p>There are four Twirl templates: <code>scripts.scala.html</code>, <code>selectScript.scala.html</code>, <code>jsdeps.scala.html</code>, <code>launcher.scala.html</code>.</p> 
  <ul> 
   <li><code>scripts.scala.html</code> is the main template, it includes the three other templates.</li> 
   <li><code>selectScript.scala.html</code> selects the full-optimized javascript file (<code>-opt.js</code>) if it exists, selects the fast-optimized javascript file (<code>-fastopt.js</code>) otherwise.</li> 
   <li><code>jsdeps.scala.html</code> includes the javascript dependencies if they exist.</li> 
   <li><code>launcher.scala.html</code> includes the Scala.js launcher if it exists.</li> 
  </ul> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/vmunier/play-scalajs-scripts#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>The templates have the same parameters, and can be called similarly. The parameters are described below:</p> 
  <pre><code>@(projectName:    String,
  assets:         String =&gt; String,
  resourceExists: String =&gt; Boolean
)
</code></pre> 
  <ol> 
   <li><code>projectName</code>, name of the Scala.js project, which is used to compute the Scala.js file names, <em>projectName</em>-fastopt.js, <em>projectName</em>-launcher.js, etc.</li> 
   <li><code>assets</code>, function, which given a Scala.js file name, returns the HTTP route from which the file can be fetched.</li> 
   <li><code>resourceExists</code>, function, which given a Scala.js file name, returns true when the resource exists, false otherwise.</li> 
  </ol> 
  <p>Generic usage for any HTTP-based application (e.g. Akka HTTP, Spray):</p> 
  <pre><code>@scalajs.html.scripts(
  projectName = "client",
  name =&gt; s"/assets/$name",
  name =&gt; getClass.getResource(s"/public/$name") != null)
</code></pre> 
  <p>Usage for the Play Framework specifically:</p> 
  <pre><code>@scalajs.html.scripts(
  "client",
  name =&gt; routes.Assets.at(name).toString,
  name =&gt; getClass.getResource(s"/public/$name") != null)
</code></pre> 
  <p>Usage for the Play Framework with <a href="https://www.playframework.com/documentation/2.5.x/AssetsOverview#Reverse-routing-and-fingerprinting-for-public-assets" target="_blank">fingerprinting for public assets</a>:</p> 
  <pre><code>@scalajs.html.scripts(
  "client",
  name =&gt; routes.Assets.versioned(name).toString,
  name =&gt; getClass.getResource(s"/public/$name") != null)
</code></pre> 
  <p>Additional HTML attributes can be added to the generated <code>&lt;script&gt;</code> tags:</p> 
  <pre><code>@scalajs.html.scripts(
  projectName = "client",
  name =&gt; s"/assets/$name",
  name =&gt; getClass.getResource(s"/public/$name") != null,
  Html("""charset="UTF-8" defer""")
)
</code></pre> 
  <p>Note: The Twirl templates require a <code>resourceExists</code> function because the application classpath may not be accessible from the library. Play for instance, puts libraries in a parent classpath of the application, meaning they can't see the classes provided by the application. Since the classloaders are split, libraries can never make any assumptions about their classloader with regards to the applications classloader. More info about Play classloader can be found in <a href="https://github.com/playframework/playframework/issues/2847" target="_blank">this issue</a>.</p> 
 </article>
</div>