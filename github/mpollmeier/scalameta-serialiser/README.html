<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <p><a href="http://travis-ci.org/mpollmeier/scalameta-serialiser" target="_blank"><img src="https://camo.githubusercontent.com/722f8745a47a6a752574336b4fa3f9e428f824c2/68747470733a2f2f7365637572652e7472617669732d63692e6f72672f6d706f6c6c6d656965722f7363616c616d6574612d73657269616c697365722e706e673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://secure.travis-ci.org/mpollmeier/scalameta-serialiser.png?branch=master" style="max-width:100%;"></a> <a href="https://index.scala-lang.org/mpollmeier/scalameta-serialiser/scalameta-serialiser/" target="_blank"><img src="https://camo.githubusercontent.com/4465bef7becfed5d927250fe4dd0ab1b7b75f766/68747470733a2f2f696e6465782e7363616c612d6c616e672e6f72672f6d706f6c6c6d656965722f7363616c616d6574612d73657269616c697365722f7363616c616d6574612d73657269616c697365722f6c61746573742e737667" alt="Scaladex" data-canonical-src="https://index.scala-lang.org/mpollmeier/scalameta-serialiser/scalameta-serialiser/latest.svg" style="max-width:100%;"></a></p> 
  <h2><a href="https://github.com/mpollmeier/scalameta-serialiser#setup-with-sbt" aria-hidden="true" class="anchor" id="user-content-setup-with-sbt" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Setup with sbt</h2> 
  <p>Get the latest version of <a href="https://maven-badges.herokuapp.com/maven-central/com.michaelpollmeier/scalameta-serialiser_2.12" target="_blank">scalameta-serialiser</a> and the <a href="https://maven-badges.herokuapp.com/maven-central/org.scalameta/paradise_2.12.3" target="_blank">scalameta compiler plugin</a></p> 
  <pre><code>libraryDependencies += "com.michaelpollmeier" %% "scalameta-serialiser" % "LATEST_VERSION"
addCompilerPlugin("org.scalameta" % "paradise" % "3.0.0-M10" cross CrossVersion.full)
</code></pre> 
  <h2><a href="https://github.com/mpollmeier/scalameta-serialiser#usage" aria-hidden="true" class="anchor" id="user-content-usage" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>Just annotate your case class with @mappable to wire in this macro. It will create a serialiser and deserialiser for the annotated class.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scala.meta.serialiser.</span><span class="pl-v">_</span>

<span class="pl-k">@</span>mappable <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">SimpleCaseClass</span>(<span class="pl-v">i</span>: <span class="pl-k">Int</span>, <span class="pl-v">s</span>: <span class="pl-k">String</span>)

<span class="pl-k">val</span> <span class="pl-en">testInstance</span> <span class="pl-k">=</span> <span class="pl-en">SimpleCaseClass</span>(i <span class="pl-k">=</span> <span class="pl-c1">42</span>, s <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>something<span class="pl-pds">"</span></span>)
<span class="pl-k">val</span> <span class="pl-en">keyValues</span><span class="pl-k">:</span> <span class="pl-en">Map</span>[<span class="pl-k">String</span>, <span class="pl-en">Any</span>] <span class="pl-k">=</span> testInstance.toMap
<span class="pl-en">SimpleCaseClass</span>.fromMap(keyValues) <span class="pl-c"><span class="pl-c">//</span> result: Success(testInstance)</span></pre>
  </div> 
  <h2><a href="https://github.com/mpollmeier/scalameta-serialiser#features" aria-hidden="true" class="anchor" id="user-content-features" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Features</h2> 
  <ul> 
   <li>map class members to different names: <code>@mappedTo("iMapped") i: Int</code></li> 
   <li>mark class members as nullable: <code>@nullable nullableValue: String</code></li> 
   <li>Option types</li> 
   <li>default values</li> 
   <li>keeps existing body of the annotated class</li> 
   <li>keeps existing companion object, injects the generated typeclasses</li> 
   <li>inject your own config for later use, useful when using this in a library: <code>@mappable(Map("param1" -&gt; "value1"))</code> -&gt; you can lookup the entries of that Map at runtime in the companion and the generated typeclass instances.</li> 
  </ul> 
  <p>All of the above are covered in <a href="https://github.com/mpollmeier/scalameta-serialiser/blob/master/examples/src/test/scala/scala/meta/serialiser/MappableTest.scala" target="_blank">MappableTest.scala</a>.</p> 
  <h2><a href="https://github.com/mpollmeier/scalameta-serialiser#understand-whats-going-on" aria-hidden="true" class="anchor" id="user-content-understand-whats-going-on" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Understand what's going on</h2> 
  <p>Annotating any case class with <code>mappable</code> will generate typeclass instances <code>FromMap</code> and <code>ToMap</code> that let you serialise and deserialise that specific case class. These typeclass instances end up in the companion object.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">trait</span> <span class="pl-en">ToMap</span>[<span class="pl-en">A</span>] {
  <span class="pl-k">def</span> <span class="pl-en">apply</span>(<span class="pl-v">a</span>: <span class="pl-en">A</span>)<span class="pl-k">:</span> <span class="pl-en">Map</span>[<span class="pl-k">String</span>, <span class="pl-en">Any</span>]
  <span class="pl-k">def</span> <span class="pl-en">annotationParams</span><span class="pl-k">:</span> <span class="pl-en">Map</span>[<span class="pl-k">String</span>, <span class="pl-en">Any</span>] <span class="pl-k">=</span> <span class="pl-en">Map</span>.empty
}

<span class="pl-k">trait</span> <span class="pl-en">FromMap</span>[<span class="pl-en">A</span>] {
  <span class="pl-k">def</span> <span class="pl-en">apply</span>(<span class="pl-v">keyValues</span>: <span class="pl-en">Map</span>[<span class="pl-k">String</span>, <span class="pl-en">Any</span>])<span class="pl-k">:</span> <span class="pl-en">Try</span>[<span class="pl-en">A</span>]
  <span class="pl-k">def</span> <span class="pl-en">annotationParams</span><span class="pl-k">:</span> <span class="pl-en">Map</span>[<span class="pl-k">String</span>, <span class="pl-en">Any</span>] <span class="pl-k">=</span> <span class="pl-en">Map</span>.empty
}</pre>
  </div> 
  <p>If you want to see the generated code, simply turn on debug mode:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">@</span>mappable(<span class="pl-en">Map</span>(<span class="pl-s"><span class="pl-pds">"</span>_debug<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span>))
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">WithDebugEnabled</span>(<span class="pl-v">i</span>: <span class="pl-k">Int</span>)</pre>
  </div> 
  <h2><a href="https://github.com/mpollmeier/scalameta-serialiser#todos" aria-hidden="true" class="anchor" id="user-content-todos" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>TODOs</h2> 
  <ul> 
   <li>smart matching for property name if there's no direct match 
    <ul> 
     <li>different casing</li> 
     <li>camelCase</li> 
     <li>snake_case_</li> 
     <li>only take the smart match if there's one option. if it's ambiguous: fail</li> 
    </ul> </li> 
   <li><a href="https://github.com/mpollmeier/scalameta-serialiser/issues/1" target="_blank">get maps of specific types</a></li> 
   <li>support for multiple constructor parameter lists</li> 
   <li>allow to switch between <code>null</code> entry and missing entry in Map when dealing with an Option type (currently maps to <code>null</code>)</li> 
  </ul> 
  <h2><a href="https://github.com/mpollmeier/scalameta-serialiser#sbt-command-to-compile-and-test-this-project" aria-hidden="true" class="anchor" id="user-content-sbt-command-to-compile-and-test-this-project" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>sbt command to compile and test this project</h2> 
  <p>;clean;examples/clean;examples/test</p> 
  <h2><a href="https://github.com/mpollmeier/scalameta-serialiser#release-a-new-version-from-sbt" aria-hidden="true" class="anchor" id="user-content-release-a-new-version-from-sbt" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>release a new version from sbt</h2> 
  <ul> 
   <li>release #will do a cross release</li> 
   <li>sonatypeReleaseAll</li> 
  </ul> 
  <h2><a href="https://github.com/mpollmeier/scalameta-serialiser#talk-at-scaladays-2017-chicago-code-generation-with-scalameta" aria-hidden="true" class="anchor" id="user-content-talk-at-scaladays-2017-chicago-code-generation-with-scalameta" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Talk at ScalaDays 2017 Chicago code generation with scala.meta</h2> 
  <p><a href="https://www.youtube.com/watch?v=l88-ljjtLO0" target="_blank">Video</a> and <a href="http://www.michaelpollmeier.com/presentations/2017-04-22-scalameta-scaladays" target="_blank">slides</a></p> 
 </article>
</div>