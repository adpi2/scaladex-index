<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-forecast-io-scala" class="anchor" href="https://github.com/knutwalker/forecast-io-scala#forecast-io-scala" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>forecast-io-scala</h1> 
  <p><a href="http://blog.knutwalker.de/forecast-io-scala/" target="_blank">http://blog.knutwalker.de/forecast-io-scala/</a></p> 
  <p>Scala wrapper library for the v2 Forecast API provided by The Dark Sky Company, LLC.</p> 
  <blockquote> 
   <p>Based on <a href="https://github.com/MartinSeeler/forecast-io-wrapper" target="_blank">https://github.com/MartinSeeler/forecast-io-wrapper</a></p> 
  </blockquote> 
  <p>The Scala wrapper runs on top of <a href="http://akka.io" target="_blank">Akka</a>.</p> 
  <h2><a id="user-content-about" class="anchor" href="https://github.com/knutwalker/forecast-io-scala#about" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>About</h2> 
  <p>The Forecast API lets you query for most locations on the globe, and returns:</p> 
  <ul> 
   <li>Current conditions</li> 
   <li>Minute-by-minute forecasts out to 1 hour (where available)</li> 
   <li>Hour-by-hour forecasts out to 48 hours</li> 
   <li>Day-by-day forecasts out to 7 days</li> 
  </ul> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/knutwalker/forecast-io-scala#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <h3><a id="user-content-samples" class="anchor" href="https://github.com/knutwalker/forecast-io-scala#samples" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Samples</h3> 
  <p>A simple request for the current temperature:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> specify your API key</span>
<span class="pl-k">val</span> <span class="pl-en">apiKey</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>replace-with-your-key<span class="pl-pds">"</span></span>
<span class="pl-k">val</span> <span class="pl-en">forecastIO</span> <span class="pl-k">=</span> <span class="pl-en">ForecastIO</span>(apiKey)

<span class="pl-c"><span class="pl-c">//</span> coordinates for Dresden, Germany</span>
<span class="pl-k">val</span> <span class="pl-en">latitude</span> <span class="pl-k">=</span> <span class="pl-c1">51.0504</span>
<span class="pl-k">val</span> <span class="pl-en">longitude</span> <span class="pl-k">=</span> <span class="pl-c1">13.7373</span>

<span class="pl-c"><span class="pl-c">//</span> For asynchronous execution</span>
<span class="pl-k">import</span> <span class="pl-v">ForecastIO.</span><span class="pl-v">executionContext</span>

<span class="pl-c"><span class="pl-c">//</span> retrieve the current forecast</span>
<span class="pl-k">val</span> <span class="pl-en">forecast</span> <span class="pl-k">=</span> forecastIO(latitude, longitude)

<span class="pl-c"><span class="pl-c">//</span> deal with the result when it is available</span>
forecast.foreach { result <span class="pl-k">=&gt;</span>
  println(s<span class="pl-s"><span class="pl-pds">"</span>Current temperature is ${result.currently.map(_.temperature)}<span class="pl-pds">"</span></span>)
  println(s<span class="pl-s"><span class="pl-pds">"</span>Apparent temperature is ${result.currently.map(_.apparentTemperature)<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <p><code>ForecastIo.apply</code> simply returns a <code>Future[Forecast]</code>. <code>Forecast</code> and other nested POJOs are all case classes, so you can pattern match all the way through:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> specify your API key</span>
<span class="pl-k">val</span> <span class="pl-en">apiKey</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>replace-with-your-key<span class="pl-pds">"</span></span>
<span class="pl-k">val</span> <span class="pl-en">forecastIO</span> <span class="pl-k">=</span> <span class="pl-en">ForecastIO</span>(apiKey)

<span class="pl-c"><span class="pl-c">//</span> coordinates for Dresden, Germany</span>
<span class="pl-k">val</span> <span class="pl-en">latitude</span> <span class="pl-k">=</span> <span class="pl-c1">51.0504</span>
<span class="pl-k">val</span> <span class="pl-en">longitude</span> <span class="pl-k">=</span> <span class="pl-c1">13.7373</span>

<span class="pl-c"><span class="pl-c">//</span> For asynchronous execution</span>
<span class="pl-k">import</span> <span class="pl-v">ForecastIO.</span><span class="pl-v">executionContext</span>

<span class="pl-c"><span class="pl-c">//</span> retrieve the current forecast</span>
<span class="pl-k">val</span> <span class="pl-en">forecast</span> <span class="pl-k">=</span> forecastIO(latitude, longitude)

<span class="pl-c"><span class="pl-c">//</span> deal with the result when it is available</span>
forecast onComplete {

  <span class="pl-k">case</span> <span class="pl-en">Success</span>(<span class="pl-en">Forecast</span>(_, _, timezone, _, <span class="pl-en">Some</span>(<span class="pl-en">HourlyDataPoint</span>(_, _, temperature, _, _, _, _, _)), _, _, <span class="pl-en">Some</span>(<span class="pl-en">DailyDataBlock</span>(_, _, <span class="pl-en">Vector</span>(<span class="pl-en">DailyDataPoint</span>(_, sunset), _<span class="pl-k">*</span>))))) <span class="pl-k">=&gt;</span>

    println(s<span class="pl-s"><span class="pl-pds">"</span>It is $temperature degrees in $timezone and the sun sets at $sunset<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <h3><a id="user-content-java-api" class="anchor" href="https://github.com/knutwalker/forecast-io-scala#java-api" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Java API</h3> 
  <p><code>forecast-io-scala</code> also tries to provide a proper Java API, similar to <a href="https://github.com/MartinSeeler/forecast-io-wrapper" target="_blank"><code>forecast-io-wrapper</code></a>s.</p> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-c"><span class="pl-c">//</span> specify your API key</span>
<span class="pl-k">final</span> <span class="pl-smi">String</span> apiKey <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>replace-with-your-key<span class="pl-pds">"</span></span>;
<span class="pl-k">final</span> <span class="pl-smi">ForecastIO</span> forecastIO <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">ForecastIO</span>(apiKey);

<span class="pl-c"><span class="pl-c">//</span> coordinates for Dresden, Germany</span>
<span class="pl-k">final</span> <span class="pl-k">double</span> latitude <span class="pl-k">=</span> <span class="pl-c1">51.0504d</span>;
<span class="pl-k">final</span> <span class="pl-k">double</span> longitude <span class="pl-k">=</span> <span class="pl-c1">13.7373d</span>;

<span class="pl-c"><span class="pl-c">//</span> retrieve the current forecast</span>
<span class="pl-k">final</span> <span class="pl-smi">Forecast</span> forecast <span class="pl-k">=</span> forecastIO<span class="pl-k">.</span>getForecast(latitude, longitude);

<span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-s"><span class="pl-pds">"</span>Current temperature is <span class="pl-pds">"</span></span> <span class="pl-k">+</span> forecast<span class="pl-k">.</span>getCurrently()<span class="pl-k">.</span>getTemperature());
<span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-s"><span class="pl-pds">"</span>Apparent temperature is <span class="pl-pds">"</span></span> <span class="pl-k">+</span> forecast<span class="pl-k">.</span>getCurrently()<span class="pl-k">.</span>getApparentTemperature());</pre>
  </div> 
  <p>That is teh traditional blocking API. In addition to that, <code>forecast-io-scala</code> also provides an asynchronous API for Java</p> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-c"><span class="pl-c">//</span> specify your API key</span>
<span class="pl-k">final</span> <span class="pl-smi">String</span> apiKey <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>replace-with-your-key<span class="pl-pds">"</span></span>;
<span class="pl-k">final</span> <span class="pl-smi">ForecastIO</span> forecastIO <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">ForecastIO</span>(apiKey);

<span class="pl-c"><span class="pl-c">//</span> coordinates for Dresden, Germany</span>
<span class="pl-k">final</span> <span class="pl-k">double</span> latitude <span class="pl-k">=</span> <span class="pl-c1">51.0504d</span>;
<span class="pl-k">final</span> <span class="pl-k">double</span> longitude <span class="pl-k">=</span> <span class="pl-c1">13.7373d</span>;

<span class="pl-c"><span class="pl-c">//</span> retrieve the current forecast</span>
forecastIO<span class="pl-k">.</span>asyncForecast(latitude, longitude, <span class="pl-k">new</span> <span class="pl-k">Callback&lt;<span class="pl-smi">Forecast</span>&gt;</span>() {
    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onSuccess</span>(<span class="pl-smi">Forecast</span> <span class="pl-v">result</span>) {

        <span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-s"><span class="pl-pds">"</span>Current temperature is <span class="pl-pds">"</span></span> <span class="pl-k">+</span> result<span class="pl-k">.</span>getCurrently()<span class="pl-k">.</span>getTemperature());
        <span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-s"><span class="pl-pds">"</span>Apparent temperature is <span class="pl-pds">"</span></span> <span class="pl-k">+</span> result<span class="pl-k">.</span>getCurrently()<span class="pl-k">.</span>getApparentTemperature());
    }

    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onFailure</span>(<span class="pl-smi">Throwable</span> <span class="pl-v">t</span>) {}
});</pre>
  </div> 
  <h3><a id="user-content-shutdown" class="anchor" href="https://github.com/knutwalker/forecast-io-scala#shutdown" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Shutdown</h3> 
  <p><code>forecast-io-scala</code> runs on top of <a href="http://akka.io" target="_blank">Akka</a> and thus, needs to be shutdown properly. You can do so beu calling either the static or the instance method <code>shutdown()</code> on <code>ForecastIO</code></p> 
  <p>If omit the shutdown, your JVM will not terminate and you have to kill it abruptly.</p> 
  <h2><a id="user-content-development" class="anchor" href="https://github.com/knutwalker/forecast-io-scala#development" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Development</h2> 
  <p>You'll only need <a href="http://www.scala-sbt.org/" target="_blank">sbt</a> and a JDK 7. Scala, Akka, Spray and other dependencies are downloaded during the build process.</p> 
  <h3><a id="user-content-fatjar" class="anchor" href="https://github.com/knutwalker/forecast-io-scala#fatjar" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Fatjar</h3> 
  <p><code>forecast-io-scala</code> features a fatjar, that prints some simple information about some place. You can build the jar with <code>sbt assembly</code> and use it like so:</p> 
  <div class="highlight highlight-source-shell">
   <pre>java -jar -Dforecast.apikey=<span class="pl-s"><span class="pl-pds">"</span>your-api-key-here<span class="pl-pds">"</span></span> target/scala-2.10/forecast-io-scala-0.1.0.jar 13.37 42</pre>
  </div> 
  <h3><a id="user-content-scaladoc" class="anchor" href="https://github.com/knutwalker/forecast-io-scala#scaladoc" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scaladoc</h3> 
  <p>Scaladoc is available at <a href="http://blog.knutwalker.de/forecast-io-scala/current/" target="_blank">http://blog.knutwalker.de/forecast-io-scala/current/</a></p> 
 </article>
</div>