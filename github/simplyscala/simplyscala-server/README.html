<div class="announce instapaper_body textile" data-path="README.textile" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-simply-scala-server" class="anchor" href="https://github.com/simplyscala/simplyscala-server#simply-scala-server" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SIMPLY SCALA SERVER</h1> 
  <p><a href="https://travis-ci.org/SimplyScala/simplyscala-server" target="_blank"><img src="https://camo.githubusercontent.com/f0c6170267020942d37e0066c96b9ab1b4036c0f/68747470733a2f2f7472617669732d63692e6f72672f53696d706c795363616c612f73696d706c797363616c612d7365727665722e706e673f6272616e63683d6d6173746572" alt="" data-canonical-src="https://travis-ci.org/SimplyScala/simplyscala-server.png?branch=master" style="max-width:100%;"></a></p> 
  <p>This project provides a fast &amp; ultra-lightweight http server (with <a href="http://www.simpleframework.org/" target="_blank">simpleframework</a>)<br> with an API dedicated to define server’s routes (request-response), start &amp; stop server.</p> 
  <p>This works in a Java 6+ environment</p> 
  <p>The actual project release version is <a href="http://search.maven.org/#search|ga|1|simplyscala-server" target="_blank">0.5</a></p> 
  <p>Be careful ! Between 0.2 &amp; 0.3 version :</p> 
  <ul> 
   <li>signature of ServerResponse was change(ServerResponse =&gt; StaticServerResponse &amp; DynamicServerResponse). It is not retro-compatible !</li> 
   <li>you can’t use String to type your content-type response but fr.simply.util.ContentType builder or some fr.simply.util._ objects</li> 
  </ul> 
  <p>Be careful ! Between 0.3 &amp; 0.4 version :</p> 
  <ul> 
   <li>0.4 version works under scala 2.10.x &amp; don’t support 2.9.x version anymore</li> 
  </ul> 
  <p>This project is under test. See test code coverage report <a href="http://simplyscala.github.com/simplyscala-server/" target="_blank">here</a></p> 
  <h2><a id="user-content-roadmap" class="anchor" href="https://github.com/simplyscala/simplyscala-server#roadmap" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Roadmap</h2> 
  <ul> 
   <li>custom server’s default response OK</li> 
   <li>GET request with params OK</li> 
   <li>use * pattern for path route param OK</li> 
   <li>check if chosen port was not already used OK</li> 
   <li>POST request OK</li> 
   <li>cross compilation OK</li> 
   <li>push on maven central repository OK</li> 
   <li>Dynamic ServerResponse OK</li> 
   <li>build in scala 2.10 OK</li> 
   <li>Stub Server Fixture Trait OK</li> 
  </ul> 
  <ul> 
   <li>PUT request OK</li> 
   <li>HEAD request OK</li> 
   <li>DELETE request OK</li> 
   <li>OTPIONS, PATCH request OK</li> 
   <li>set response headers OK</li> 
  </ul> 
  <ul> 
   <li>Java API TODO</li> 
   <li>extends simplyscala-server TODO</li> 
  </ul> 
  <h2><a id="user-content-installation" class="anchor" href="https://github.com/simplyscala/simplyscala-server#installation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Installation</h2> 
  <h3><a id="user-content-git-repo" class="anchor" href="https://github.com/simplyscala/simplyscala-server#git-repo" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Git repo</h3> 
  <p>simplyscala-server is a SBT project.<br> It use 0.12 sbt version.</p> 
  <h3><a id="user-content-maven-dependency" class="anchor" href="https://github.com/simplyscala/simplyscala-server#maven-dependency" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Maven dependency</h3> 
  <pre><code>
    &lt;dependency&gt;
        &lt;groupId&gt;com.github.simplyscala&lt;/groupId&gt;
        &lt;artifactId&gt;simplyscala-server_2.10&lt;/artifactId&gt;
        &lt;version&gt;0.5&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre> 
  <h3><a id="user-content-sbt-dependency" class="anchor" href="https://github.com/simplyscala/simplyscala-server#sbt-dependency" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SBT dependency</h3> 
  <pre><code>
    libraryDependencies += "com.github.simplyscala" %% "simplyscala-server" % "0.5"
</code></pre> Only the following Scala versions 2.10.x are currently supported. 
  <h4><a id="user-content-play-specific-dependency-management" class="anchor" href="https://github.com/simplyscala/simplyscala-server#play-specific-dependency-management" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Play! specific dependency management</h4> 
  <p>In your play! project Build file :</p> 
  <pre><code>
    object ApplicationBuild extends Build {

        val appDependencies = Seq (
            "com.github.simplyscala" %% "simplyscala-server" % "0.5"
        )
    }
</code></pre> 
  <h3><a id="user-content-simple-jar-file" class="anchor" href="https://github.com/simplyscala/simplyscala-server#simple-jar-file" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Simple JAR file</h3> 
  <p><a href="https://oss.sonatype.org/content/repositories/releases/com/github/simplyscala/simplyscala-server_2.10/0.5/simplyscala-server_2.10-0.5.jar" target="_blank">0.5 jar version</a></p> 
  <h3><a id="user-content-try-snapshot-version" class="anchor" href="https://github.com/simplyscala/simplyscala-server#try-snapshot-version" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Try SNAPSHOT version</h3> 
  <p>You could be tempted to try SNAPSHOT version to test project’s next features.</p> 
  <h4><a id="user-content-with-maven" class="anchor" href="https://github.com/simplyscala/simplyscala-server#with-maven" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>with Maven</h4> 
  <pre><code>
&lt;project ...&gt;

   &lt;repositories&gt;
      &lt;repository&gt;
         &lt;id&gt;maven snapshot&lt;/id&gt;
         &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;
      &lt;/repository&gt;
   &lt;/repositories&gt;

   ...

   &lt;dependency&gt;
      &lt;groupId&gt;com.github.simplyscala&lt;/groupId&gt;
      &lt;artifactId&gt;simplyscala-server_2.10&lt;/artifactId&gt;
      &lt;version&gt;0.6-SNAPSHOT&lt;/version&gt;
    &lt;/dependency&gt;
</code></pre> 
  <h4><a id="user-content-with-sbt" class="anchor" href="https://github.com/simplyscala/simplyscala-server#with-sbt" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>with SBT</h4> 
  <pre><code>
   resolvers += "Sonatype OSS Snapshots" at "https://oss.sonatype.org/content/repositories/snapshots"

   libraryDependencies += "com.github.simplyscala" %% "simplyscala-server" % "0.6-SNAPSHOT"
</code></pre> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/simplyscala/simplyscala-server#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>In order to use SimplyScala server API, import as follows:</p> 
  <p><code>import fr.simply._</code></p> 
  <h3><a id="user-content-basic-usage" class="anchor" href="https://github.com/simplyscala/simplyscala-server#basic-usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Basic Usage</h3> 
  <pre><code>
    val server = new StubServer(8080).start
    server.stop
</code>
</pre> 
  <p>By default, with no routes defined, SimplyScala server returns a 404 text/plain response with “error” in body</p> 
  <h3><a id="user-content-servers-custom-default-response" class="anchor" href="https://github.com/simplyscala/simplyscala-server#servers-custom-default-response" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Server’s custom default response</h3> 
  <p>You can define your own server’s default response like this :</p> 
  <p><code> val server = new StubServer(8080).defaultResponse(ContentType("text/plain"), "value return in body", 400).start </code></p> 
  <h3><a id="user-content-build-get-request-routes-with-param" class="anchor" href="https://github.com/simplyscala/simplyscala-server#build-get-request-routes-with-param" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Build GET request routes with param</h3> 
  <pre><code>
    val route = GET (
        path = "/test",
        params = Map("param1" -&gt; "toto"),
        response = StaticServerResponse(ContentType("text/plain"), "yo", 200)
    )

    val server = new StubServer(8080, route).start
</code>
</pre> 
  <p>when you request <code>http://localhost:8080/test?param1=toto</code>, the server returns with an http code 200 and a “text/plain”-typed body containing “yo”.</p> 
  <h3><a id="user-content-build-post-request-route-with-param" class="anchor" href="https://github.com/simplyscala/simplyscala-server#build-post-request-route-with-param" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Build POST request route with param</h3> 
  <pre><code>
    val route = POST (
        path = "/test",
        params = Map("param1" -&gt; "toto"),
        response = StaticServerResponse(ContentType("text/plain"), "yo", 200)
    )

    val server = new StubServer(8080, route).start
</code>
</pre> 
  <h3><a id="user-content-build-request-with-dynamic-server-response" class="anchor" href="https://github.com/simplyscala/simplyscala-server#build-request-with-dynamic-server-response" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Build request with dynamic server response</h3> 
  <p>Since 0.3 version, you able to define some dynamic server response.<br> To do that, you must define function typed as Request =&gt; StaticServerResponse, which permit use some parameters of the<br> server request to build a response.</p> 
  <pre><code>
    import org.simpleframework.http.Request
    ...

    val dynamicResponse: Request =&gt; StaticServerResponse = {
        request =&gt;
            println("I use dynamic code !!!")
            StaticServerResponse(Text_Plain, "OK dynamic", 200)
        }

    val route = GET (
        path = "/test",
        params = Map("param1" -&gt; "toto"),
        response = DynamicServerResponse(dynamicResponse)
    )

    val server = new StubServer(8080, route).start
</code>
</pre> 
  <h3><a id="user-content-what-to-do-when-the-configured-port-is-already-used-" class="anchor" href="https://github.com/simplyscala/simplyscala-server#what-to-do-when-the-configured-port-is-already-used-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>What to do when the configured port is already used ?</h3> 
  <p>Before creating the server instance, SimplyScala checks if the port you defined is not already in use.<br> If it is the case, SimplyScala will try the next value (+1) port to start the server.<br> You can retrieve the effective port like this:</p> 
  <pre><code>
    val server = new StubServer(8080).start
    server.portInUse    // perhaps 8081
</code>
</pre> 
  <h3><a id="user-content-contenttype-util" class="anchor" href="https://github.com/simplyscala/simplyscala-server#contenttype-util" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>ContentType util</h3> 
  <p>with fr.simply.util._ import you can use some utilities to declare server’s content type</p> 
  <pre><code>
    val route = GET (
        path = "/test",
        params = Map("param1" -&gt; "toto"),
        response = StaticServerResponse(Text_Plain, "yo", 200)
    )

    val server = new StubServer(8080, route).start
</code>
</pre> 
  <p>if we don’t have the needed content type util you can use <code>ContentType("your content type")</code></p> 
  <h2><a id="user-content-uses-in-test-context" class="anchor" href="https://github.com/simplyscala/simplyscala-server#uses-in-test-context" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Uses in test context</h2> 
  <h3><a id="user-content-simple-usage-in-test-context" class="anchor" href="https://github.com/simplyscala/simplyscala-server#simple-usage-in-test-context" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Simple usage in test context</h3> 
  <p>simplyscala-server is particularly useful in unit test context.<br> You can use it like that with <a href="http://www.scalatest.org/" target="_blank">ScalaTest</a> :</p> 
  <pre><code>
    class StubServerTest extends FunSuite {

        test("a test which needed simplyscala-server") {
            val route = GET (
                path = "/test",
                params = Map("param" -&gt; "toto"),
                response = StaticServerResponse(Text_Plain, "yo", 200)
            )

            val server = new StubServer(8080, route).start

            someHttpRequest("http://localhost:%s/test?param=toto".format(server.portInUse))
        }
    }
</code>
</pre> 
  <p>You you do not have to stop the server thanks to when a define port is already used, simplyscala-server start server with next port and return reference to it via portInUse method.</p> 
  <h3><a id="user-content-using-fixture-to-manipulate-immutable-server-reference-in-04-version" class="anchor" href="https://github.com/simplyscala/simplyscala-server#using-fixture-to-manipulate-immutable-server-reference-in-04-version" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>using fixture to manipulate immutable server reference (in 0.4 version)</h3> 
  <p>If you want to stop the server &amp; stay immutable, you can use StubServerFixtureTrait like that</p> 
  <pre><code>

import org.scalatest.FunSuite
import fr.simply.{StaticServerResponse, GET}
import fr.simply.util.Text_Plain
import fr.simply.fixture.StubServerFixture

    class StubServerFixtureTest extends FunSuite with StubServerFixture {

        test("test stub server fixture") {
            val route = GET (
                path = "/test",
                params = Map("param1" -&gt; "toto"),
                response = StaticServerResponse(Text_Plain, "yo", 200)
            )

            withStubServerFixture(8080, route) { server =&gt;
                // you can continue your test with server reference
                // in this fixture your server stub is started
                // at the en d of this fixture your server is stopped
            }
        }
    }
</code>
</pre> 
  <p><a href="http://www.scalatest.org/user_guide/sharing_fixtures" target="_blank">ScalaTestFixture</a></p> 
  <h3><a id="user-content-adding-values-in-server-responses-header-in-05-version" class="anchor" href="https://github.com/simplyscala/simplyscala-server#adding-values-in-server-responses-header-in-05-version" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>adding values in server response’s header (in 0.5 version)</h3> 
  <p>You might need manage server response header, for example in the case of HEAD response.</p> 
  <pre><code>

import org.scalatest.FunSuite
import fr.simply.{StaticServerResponse, HEAD}
import fr.simply.util.Text_Plain
import fr.simply.fixture.StubServerFixture

    class StubServerFixtureTest extends FunSuite with StubServerFixture {

        test("test stub server fixture") {
            val route = HEAD (
                path = "/test",
                response = StaticServerResponse(Text_Plain, "", 200, Map("headerName" -&gt; "value"))
            )

            withStubServerFixture(8080, route) { server =&gt;
                // the server will have key-value pair "headerName" -&gt; "value" in header response
            }
        }
    }
</code>
</pre> 
  <h5><a id="user-content-footpage" class="anchor" href="https://github.com/simplyscala/simplyscala-server#footpage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>footpage</h5> 
  <p>This file is written with .textile extension</p> 
  <ul> 
   <li><a href="http://en.wikipedia.org/wiki/Textile_%28markup_language%29" target="_blank">http://en.wikipedia.org/wiki/Textile_%28markup_language%29</a></li> 
   <li><a href="http://textile.sitemonks.com" target="_blank">http://textile.sitemonks.com</a></li> 
   <li><a href="http://redcloth.org/hobix.com/textile/" target="_blank">http://redcloth.org/hobix.com/textile/</a></li> 
  </ul> 
  <p><a href="https://docs.sonatype.org/display/Repository/Sonatype+OSS+Maven+Repository+Usage+Guide" target="_blank">Maven Repository Usage Guide</a><br> <a href="https://issues.sonatype.org/browse/OSSRH-5163" target="_blank">Sonatype project JIRA Page</a></p>
 </article>
</div>