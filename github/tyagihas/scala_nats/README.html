<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-scala_nats" class="anchor" href="https://github.com/tyagihas/scala_nats#scala_nats" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala_Nats</h1> 
  <p>Scala client library for the <a href="http://nats.io" target="_blank">NATS messaging system</a>.</p> 
  <h2><a id="user-content-supported-platforms" class="anchor" href="https://github.com/tyagihas/scala_nats#supported-platforms" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Supported Platforms</h2> 
  <div class="highlight highlight-source-js">
   <pre><span class="pl-k">-</span> Scala <span class="pl-c1">2.11</span>.<span class="pl-ii">8</span><span class="pl-k">+</span></pre>
  </div> 
  <h2><a id="user-content-getting-started" class="anchor" href="https://github.com/tyagihas/scala_nats#getting-started" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting Started</h2> 
  <ul> 
   <li>Install <a href="https://github.com/tyagihas/java_nats" target="_blank">java_nats</a> and add "java_nats-&lt;version&gt;.jar" to CLASSPATH</li> 
   <li>Download source files from scala_nats</li> 
  </ul> 
  <p>OR</p> 
  <ul> 
   <li>Adding dependency</li> 
  </ul> 
  <div class="highlight highlight-text-xml">
   <pre>// Maven pom.xml
&lt;<span class="pl-ent">dependency</span>&gt;
  &lt;<span class="pl-ent">groupId</span>&gt;com.github.tyagihas&lt;/<span class="pl-ent">groupId</span>&gt;
  &lt;<span class="pl-ent">artifactId</span>&gt;scala_nats_2.11&lt;/<span class="pl-ent">artifactId</span>&gt;
  &lt;<span class="pl-ent">version</span>&gt;0.3.0&lt;/<span class="pl-ent">version</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;

// SBT build.sbt
libraryDependencies += "com.github.tyagihas" % "scala_nats_2.11" % "0.3.0"</pre>
  </div> 
  <h2><a id="user-content-basic-usage" class="anchor" href="https://github.com/tyagihas/scala_nats#basic-usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Basic Usage</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">java.util.</span><span class="pl-v">Properties</span>
<span class="pl-k">import</span> <span class="pl-v">org.nats.</span><span class="pl-v">_</span>
...
<span class="pl-k">var</span> <span class="pl-en">conn</span> <span class="pl-k">=</span> <span class="pl-en">Conn</span>.connect(<span class="pl-k">new</span> <span class="pl-en">Properties)</span>

<span class="pl-c"><span class="pl-c">//</span> Simple Publisher</span>
conn.publish(<span class="pl-s"><span class="pl-pds">"</span>hello<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>world<span class="pl-pds">"</span></span>)

<span class="pl-c"><span class="pl-c">//</span> Simple Subscriber</span>
conn.subscribe(args(<span class="pl-c1">0</span>), (msg<span class="pl-k">:</span><span class="pl-en">Msg</span>) <span class="pl-k">=&gt;</span> {println(<span class="pl-s"><span class="pl-pds">"</span>Received update : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> msg.body)})

<span class="pl-c"><span class="pl-c">//</span> Unsubscribing</span>
<span class="pl-k">var</span> <span class="pl-en">sid</span> <span class="pl-k">:</span> <span class="pl-en">Integer</span> <span class="pl-k">=</span> conn.subscribe(args(<span class="pl-c1">0</span>), (msg<span class="pl-k">:</span><span class="pl-en">Msg</span>) <span class="pl-k">=&gt;</span> {println(<span class="pl-s"><span class="pl-pds">"</span>Received update : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> msg.body)})
conn.unsubscribe(sid);

<span class="pl-c"><span class="pl-c">//</span> Requests</span>
conn.request(<span class="pl-s"><span class="pl-pds">"</span>help<span class="pl-pds">"</span></span>, (msg<span class="pl-k">:</span><span class="pl-en">Msg</span>) <span class="pl-k">=&gt;</span> {
	println(<span class="pl-s"><span class="pl-pds">"</span>Got a response for help : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> msg.body)
	sys.exit
})		

<span class="pl-c"><span class="pl-c">//</span> Replies</span>
conn.subscribe(<span class="pl-s"><span class="pl-pds">"</span>help<span class="pl-pds">"</span></span>, (msg<span class="pl-k">:</span><span class="pl-en">Msg</span>) <span class="pl-k">=&gt;</span> {conn.publish(msg.reply, <span class="pl-s"><span class="pl-pds">"</span>I can help!<span class="pl-pds">"</span></span>)})

conn.close();</pre>
  </div> 
  <h2><a id="user-content-wildcard-subcriptions" class="anchor" href="https://github.com/tyagihas/scala_nats#wildcard-subcriptions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Wildcard Subcriptions</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> "*" matches any token, at any level of the subject.</span>
conn.subscribe(<span class="pl-s"><span class="pl-pds">"</span>foo.*.baz<span class="pl-pds">"</span></span>, (msg<span class="pl-k">:</span><span class="pl-en">Msg</span>) <span class="pl-k">=&gt;</span> {println(<span class="pl-s"><span class="pl-pds">"</span>Received a message on [<span class="pl-pds">"</span></span> <span class="pl-k">+</span> msg.subject <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>] : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> msg.body)})

conn.subscribe(<span class="pl-s"><span class="pl-pds">"</span>foo.bar.*<span class="pl-pds">"</span></span>, (msg<span class="pl-k">:</span><span class="pl-en">Msg</span>) <span class="pl-k">=&gt;</span> {println(<span class="pl-s"><span class="pl-pds">"</span>Received a message on [<span class="pl-pds">"</span></span> <span class="pl-k">+</span> msg.subject <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>] : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> msg.body)})

conn.subscribe(<span class="pl-s"><span class="pl-pds">"</span>*.bar.*<span class="pl-pds">"</span></span>, (msg<span class="pl-k">:</span><span class="pl-en">Msg</span>) <span class="pl-k">=&gt;</span> {println(<span class="pl-s"><span class="pl-pds">"</span>Received a message on [<span class="pl-pds">"</span></span> <span class="pl-k">+</span> msg.subject <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>] : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> msg.body)})

<span class="pl-c"><span class="pl-c">//</span> "&gt;" matches any length of the tail of a subject, and can only be the last token</span>
<span class="pl-c"><span class="pl-c">//</span> E.g. 'foo.&gt;' will match 'foo.bar', 'foo.bar.baz', 'foo.foo.bar.bax.22'</span>
conn.subscribe(<span class="pl-s"><span class="pl-pds">"</span>foo.&gt;<span class="pl-pds">"</span></span>, (msg<span class="pl-k">:</span><span class="pl-en">Msg</span>) <span class="pl-k">=&gt;</span> {println(<span class="pl-s"><span class="pl-pds">"</span>Received a message on [<span class="pl-pds">"</span></span> <span class="pl-k">+</span> msg.subject <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>] : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> msg.body)})</pre>
  </div> 
  <h2><a id="user-content-clustered-usage" class="anchor" href="https://github.com/tyagihas/scala_nats#clustered-usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Clustered Usage</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">var</span> <span class="pl-en">opts</span> <span class="pl-k">:</span> <span class="pl-en">Properties</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Properties</span>
opts.put(<span class="pl-s"><span class="pl-pds">"</span>servers<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>nats://user1:pass1@server1,nats://user1:pass1@server2:4243<span class="pl-pds">"</span></span>);
<span class="pl-k">var</span> <span class="pl-en">conn</span> <span class="pl-k">=</span> <span class="pl-en">Conn</span>.connect(opts)

println(<span class="pl-s"><span class="pl-pds">"</span>Publishing...<span class="pl-pds">"</span></span>)
conn.publish(<span class="pl-s"><span class="pl-pds">"</span>hello<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>world<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <h2><a id="user-content-binary-messages" class="anchor" href="https://github.com/tyagihas/scala_nats#binary-messages" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Binary Messages</h2> 
  <div class="highlight highlight-source-scala">
   <pre>conn.subscribe(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>, (msg<span class="pl-k">:</span><span class="pl-en">MsgB</span>) <span class="pl-k">=&gt;</span> {println(<span class="pl-s"><span class="pl-pds">"</span>Received update as binary : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> <span class="pl-k">new</span> <span class="pl-en">String</span>(msg.body))})

conn.publish(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Hello World<span class="pl-pds">"</span></span>.getBytes)</pre>
  </div> 
  <h2><a id="user-content-queues-groups" class="anchor" href="https://github.com/tyagihas/scala_nats#queues-groups" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Queues Groups</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> All subscriptions with the same queue name will form a queue group</span>
<span class="pl-c"><span class="pl-c">//</span> Each message will be delivered to only one subscriber per queue group, queuing semantics</span>
<span class="pl-c"><span class="pl-c">//</span> You can have as many queue groups as you wish</span>
<span class="pl-c"><span class="pl-c">//</span> Normal subscribers will continue to work as expected.</span>
<span class="pl-k">var</span> <span class="pl-en">opts</span> <span class="pl-k">:</span> <span class="pl-en">Properties</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Properties</span>
opts.put(<span class="pl-s"><span class="pl-pds">"</span>queue<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>job.workers<span class="pl-pds">"</span></span>);
<span class="pl-k">var</span> <span class="pl-en">conn</span> <span class="pl-k">=</span> <span class="pl-en">Conn</span>.connect(opts)

conn.subscribe(<span class="pl-s"><span class="pl-pds">"</span>help<span class="pl-pds">"</span></span>, (msg<span class="pl-k">:</span><span class="pl-en">Msg</span>) <span class="pl-k">=&gt;</span> {
  println(<span class="pl-s"><span class="pl-pds">"</span>Msg received only once through the 'job.workers' queue: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> msg.body)})</pre>
  </div> 
  <h2><a id="user-content-advanced-usage" class="anchor" href="https://github.com/tyagihas/scala_nats#advanced-usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Advanced Usage</h2> 
  <div class="highlight highlight-source-scala">
   <pre>conn.publish(<span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>You done?<span class="pl-pds">"</span></span>, () <span class="pl-k">=&gt;</span> {println(<span class="pl-s"><span class="pl-pds">"</span>Message processed!<span class="pl-pds">"</span></span>)})

<span class="pl-c"><span class="pl-c">//</span> Timeouts for subscriptions</span>
<span class="pl-k">var</span> <span class="pl-en">received</span> <span class="pl-k">=</span> <span class="pl-c1">0</span>
<span class="pl-k">var</span> <span class="pl-en">sid</span> <span class="pl-k">:</span> <span class="pl-en">Integer</span> <span class="pl-k">=</span> conn.subscribe(<span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>, (msg<span class="pl-k">:</span><span class="pl-en">Msg</span>) <span class="pl-k">=&gt;</span> {received <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-c1">1</span>})

conn.timeout(sid, <span class="pl-en">TIMEOUT_IN_SECS</span>, <span class="pl-c1">null</span>, (o<span class="pl-k">:</span><span class="pl-en">Object</span>) <span class="pl-k">=&gt;</span> {println(<span class="pl-s"><span class="pl-pds">"</span>Timeout waiting for a message!<span class="pl-pds">"</span></span>)})

<span class="pl-c"><span class="pl-c">//</span> Timeout unless a certain number of messages have been received</span>
<span class="pl-k">var</span> <span class="pl-en">opt</span> <span class="pl-k">:</span> <span class="pl-en">Properties</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Properties;</span>
opt.put(<span class="pl-s"><span class="pl-pds">"</span>expected<span class="pl-pds">"</span></span>, <span class="pl-k">new</span> <span class="pl-en">Integer</span>(<span class="pl-c1">2</span>));
conn.timeout(sid, <span class="pl-c1">10</span>, opt, (o<span class="pl-k">:</span><span class="pl-en">Object</span>) <span class="pl-k">=&gt;</span> {timeout_recv <span class="pl-k">=</span> <span class="pl-c1">true</span>})

<span class="pl-c"><span class="pl-c">//</span> Auto-unsubscribe after MAX_WANTED messages received</span>
conn.unsubscribe(sid, <span class="pl-en">MAX_WANTED</span>)

<span class="pl-c"><span class="pl-c">//</span> Multiple connections</span>
conn1.subscribe(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>, (msg<span class="pl-k">:</span><span class="pl-en">Msg</span>) <span class="pl-k">=&gt;</span> {println(<span class="pl-s"><span class="pl-pds">"</span>received : <span class="pl-pds">"</span></span> <span class="pl-k">+</span> msg.body)})

<span class="pl-c"><span class="pl-c">//</span> Form second connection to send message on</span>
<span class="pl-k">var</span> <span class="pl-en">conn2</span> <span class="pl-k">=</span> <span class="pl-en">Conn</span>.connect(<span class="pl-k">new</span> <span class="pl-en">Properties,</span> (conn<span class="pl-k">:</span><span class="pl-en">Object</span>) <span class="pl-k">=&gt;</span> {conn.<span class="pl-c1">asInstanceOf</span>[<span class="pl-en">Conn</span>].publish(<span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Hello World<span class="pl-pds">"</span></span>)})</pre>
  </div> 
  <h2><a id="user-content-tls" class="anchor" href="https://github.com/tyagihas/scala_nats#tls" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>TLS</h2> 
  <ul> 
   <li> <p>Use "keytool" to create TrustStore and KeyStore (if necessary) or specify existing ones in next step.</p> </li> 
   <li> <p>Set properties to configure TrustStore and KeyStore.</p> </li> 
  </ul> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">var</span> <span class="pl-en">props</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Properties</span>
props.put(<span class="pl-s"><span class="pl-pds">"</span>truststore<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>./truststore<span class="pl-pds">"</span></span>)
props.put(<span class="pl-s"><span class="pl-pds">"</span>truststore_pass<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>)
<span class="pl-c"><span class="pl-c">//</span> KeyStore is used only when tlsverify is set on the server.</span>
props.put(<span class="pl-s"><span class="pl-pds">"</span>keystore<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>./keystore<span class="pl-pds">"</span></span>)
props.put(<span class="pl-s"><span class="pl-pds">"</span>keystore_pass<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>)

<span class="pl-c"><span class="pl-c">//</span> Automatically detect if TLS is configured on the server.</span>
<span class="pl-k">var</span> <span class="pl-en">conn</span> <span class="pl-k">=</span> <span class="pl-en">Conn</span>.connect(props)</pre>
  </div> 
  <h2><a id="user-content-license" class="anchor" href="https://github.com/tyagihas/scala_nats#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>(The MIT License)</p> 
  <p>Copyright (c) 2015-2017 Teppei Yagihashi</p> 
  <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> 
  <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> 
  <p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p> 
 </article>
</div>