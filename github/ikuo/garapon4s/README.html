<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/ikuo/garapon4s#garapon4s-" aria-hidden="true" class="anchor" id="user-content-garapon4s-" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Garapon4S <a href="https://travis-ci.org/ikuo/garapon4s" target="_blank"><img src="https://camo.githubusercontent.com/9f7e6a696860c11bcd4ff32f74cd94861ea394b1/68747470733a2f2f7472617669732d63692e6f72672f696b756f2f67617261706f6e34732e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/ikuo/garapon4s.svg?branch=master" style="max-width:100%;"></a></h1> 
  <p>A client library of Garapon TV API for scala. Designed for Android App (but independent of Android SDK). Garapon TV API Version 3 is supported.</p> 
  <h2><a href="https://github.com/ikuo/garapon4s#usage" aria-hidden="true" class="anchor" id="user-content-usage" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>Setup dependencies in sbt:</p> 
  <div class="highlight highlight-source-scala">
   <pre>resolvers <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-s"><span class="pl-pds">"</span>Sonatype Releases<span class="pl-pds">"</span></span> at <span class="pl-s"><span class="pl-pds">"</span>http://oss.sonatype.org/content/repositories/releases<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>Big Bee Consultants<span class="pl-pds">"</span></span> at <span class="pl-s"><span class="pl-pds">"</span>http://repo.bigbeeconsultants.co.uk/repo<span class="pl-pds">"</span></span>
)

libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.github.ikuo<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>garapon4s_2.10<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.2.3<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Code example:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.github.ikuo.garapon4s.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">client</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">TVClient</span>(<span class="pl-s"><span class="pl-pds">"</span>my_developer_id<span class="pl-pds">"</span></span>)
<span class="pl-k">val</span> <span class="pl-en">session</span> <span class="pl-k">=</span> client.newSession(<span class="pl-s"><span class="pl-pds">"</span>my_user_name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>my_md5password<span class="pl-pds">"</span></span>)

<span class="pl-c"><span class="pl-c">//</span> 1) Print session ID</span>
println(<span class="pl-s"><span class="pl-pds">"</span>sessionID = <span class="pl-pds">"</span></span> <span class="pl-k">+</span> session.gtvsession)

<span class="pl-c"><span class="pl-c">//</span> 2) Search programs by keyword</span>
<span class="pl-k">val</span> <span class="pl-en">results</span> <span class="pl-k">=</span> session.search(key <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>News<span class="pl-pds">"</span></span>)
println(<span class="pl-s"><span class="pl-pds">"</span>search hit = <span class="pl-pds">"</span></span> <span class="pl-k">+</span> results.hit)

<span class="pl-c"><span class="pl-c">//</span> 3) Get web viewer URL for the first program in the search result</span>
<span class="pl-k">val</span> <span class="pl-en">p1</span> <span class="pl-k">=</span> results.programs(<span class="pl-c1">0</span>).gtvId
  <span class="pl-c"><span class="pl-c">//</span> =&gt; http://192.168.1.xx:80/main.garapon#/viewer/player.garapon?gtvid=1SJP7FE61399078800</span></pre>
  </div> 
  <p>See also <code>main()</code> method in <code>Garapon4S.scala</code></p> 
  <h2><a href="https://github.com/ikuo/garapon4s#using-in-android-app" aria-hidden="true" class="anchor" id="user-content-using-in-android-app" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Using in Android App</h2> 
  <p>This section describes a) manual setup of proguard and android manifest, and b) generating a project by a giter8 template.</p> 
  <p>See also <a href="https://github.com/ikuo/garaponoid" target="_blank">Garaponoid</a> that use Garapon4S in Android.</p> 
  <h3><a href="https://github.com/ikuo/garapon4s#a-set-up-manually" aria-hidden="true" class="anchor" id="user-content-a-set-up-manually" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>a) Set up manually</h3> 
  <p>Keep Jackson related classes and methods in proguard settings:</p> 
  <pre><code>-keep class com.fasterxml.jackson.databind.** { *; }
-keepattributes *Annotation*,EnclosingMethod
-keep public class com.github.ikuo.garapon4s.model.** {
  public void set*(***);
  public *** get*();
}
</code></pre> 
  <p>Add the following <code>uses-permission</code>s in AndroidManifest.xml:</p> 
  <div class="highlight highlight-text-xml">
   <pre>&lt;<span class="pl-ent">manifest</span> ...&gt;
  ...
  &lt;<span class="pl-ent">uses-permission</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.permission.INTERNET<span class="pl-pds">"</span></span> /&gt;
  &lt;<span class="pl-ent">uses-permission</span> <span class="pl-e">android</span><span class="pl-e">:</span><span class="pl-e">name</span>=<span class="pl-s"><span class="pl-pds">"</span>android.permission.ACCESS_NETWORK_STATE<span class="pl-pds">"</span></span> /&gt;
  ...
&lt;/<span class="pl-ent">manifest</span>&gt;</pre>
  </div> 
  <h3><a href="https://github.com/ikuo/garapon4s#b-set-up-using-project-template" aria-hidden="true" class="anchor" id="user-content-b-set-up-using-project-template" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>b) Set up using project template</h3> 
  <p>The following descriptions are tested under <a href="https://github.com/jberkel/android-plugin" target="_blank">sbt android-plugin</a> based environment.</p> 
  <p>Install <a href="https://github.com/n8han/giter8" target="_blank">giter8</a> and generate a project using the template of <a href="https://github.com/ikuo/android-app.g8/tree/garapon4s_client" target="_blank">garapo4s_client</a> as follows:</p> 
  <pre><code>$ g8 ikuo/android-app -b garapon4s_client
...(snip)...
Template applied in ./garaponapp1
</code></pre> 
  <p>And replace place holder of user name, MD5 password, and developer ID as follows:</p> 
  <pre><code>$ cd ./garaponapp1
$ vi src/main/scala/MainActivity.scala
# Edit my_user_name, my_md5password, my_developer_id in the source file.
</code></pre> 
  <p>Then build and start the app in sbt:</p> 
  <pre><code>$ sbt
&gt; package
&gt; start
</code></pre> 
  <h2><a href="https://github.com/ikuo/garapon4s#development" aria-hidden="true" class="anchor" id="user-content-development" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Development</h2> 
  <h3><a href="https://github.com/ikuo/garapon4s#running-specs" aria-hidden="true" class="anchor" id="user-content-running-specs" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Running Specs</h3> 
  <pre><code>$ sbt
&gt; test
</code></pre> 
  <h3><a href="https://github.com/ikuo/garapon4s#running-specs-with-http-requests" aria-hidden="true" class="anchor" id="user-content-running-specs-with-http-requests" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Running Specs with HTTP Requests</h3> 
  <p>Copy garapon4s.properties.sample to garapon4s.properties, and edit entries to match your environments.</p> 
  <p>Use md5sum command to make value of default.md5password property:</p> 
  <pre><code>echo -n "your-password" | md5sum
</code></pre> 
  <pre><code>$ sbt
&gt; run
gtvsession=e8dafbf3763d83f23364xxxxxxxxxxxx
</code></pre> 
  <p>It will show a gtvsession ID received from your Garapon TV device.</p> 
  <p>See also <code>src/main/scala/Garapon4S.scala</code>.</p> 
  <h3><a href="https://github.com/ikuo/garapon4s#generating-scaladoc" aria-hidden="true" class="anchor" id="user-content-generating-scaladoc" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Generating Scaladoc</h3> 
  <pre><code>$ sbt
&gt; doc
[info] Generating Scala API documentation for main sources to .../target/scala-2.10/api...
</code></pre> 
  <h2><a href="https://github.com/ikuo/garapon4s#publishing" aria-hidden="true" class="anchor" id="user-content-publishing" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Publishing</h2> 
  <p>Generate a GPG key or import existing key as follows:</p> 
  <pre><code>$ gpg --list-keys
$ gpg --allow-secret-key-import --import &lt;GPG-key-file&gt;
$ sbt
&gt; publish-local
</code></pre> 
  <p>To publish to maven central, put credential to <code>~/.sbt/sonatype.sbt</code> as described <a href="http://www.scala-sbt.org/0.13/docs/Using-Sonatype.html" target="_blank">here</a>. Then run <code>publish-signed</code> task on sbt.</p> 
  <h2><a href="https://github.com/ikuo/garapon4s#license" aria-hidden="true" class="anchor" id="user-content-license" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>Apache License 2.0</p> 
  <h2><a href="https://github.com/ikuo/garapon4s#credits" aria-hidden="true" class="anchor" id="user-content-credits" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Credits</h2> 
  <p>Garapon4S is using the following works:</p> 
  <ul> 
   <li><a href="http://wiki.fasterxml.com/JacksonHome" target="_blank">Jackson JSON Processor</a> - Apache License 2.0</li> 
   <li><a href="http://www.bigbeeconsultants.co.uk/bee-client" target="_blank">Bee Client</a> - MIT License</li> 
  </ul> 
 </article>
</div>