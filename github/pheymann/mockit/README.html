<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-mockit-mock-ups-in-a-distributed-environment" class="anchor" href="https://github.com/pheymann/mockit#mockit-mock-ups-in-a-distributed-environment" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>MockIt: Mock-Ups in a Distributed Environment</h1> 
  <p>MockIt is an open source mock up framework for Scala and Java originally written by Paul Heymann. It was released in October 2015.</p> 
  <p>A <a href="https://en.wikipedia.org/wiki/Mockup#Software_engineering" target="_blank">mock-up</a> simulates the behaviour of a certain interface or module without actually implementing it. It is used for unit tests, during the development of complex software projects or prototyping.</p> 
  <p>MockIt itself is a framework to mock services or clients in a distributed environment and to simulate some of the familiar problems accompanied with distribution in a network like:</p> 
  <ul> 
   <li>message transmission delay</li> 
   <li>message loss</li> 
   <li>message duplication</li> 
   <li>...</li> 
  </ul> 
  <p>Therefore it runs the mock instances as threads on the local machine or as stand alone services on remote machines. By now the following protocols are supported:</p> 
  <ul> 
   <li>tcp</li> 
   <li>udp</li> 
   <li>http</li> 
  </ul> 
  <p>MockIt provides an easy to use interface to create, run and manage the mocks from within your code.</p> 
  <h1><a id="user-content-full-documentation" class="anchor" href="https://github.com/pheymann/mockit#full-documentation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Full Documentation</h1> 
  <p>See the <a href="https://github.com/pheymann/MockIt/wiki" target="_blank">Wiki</a> for full documentation, examples, guide lines and other information.</p> 
  <h1><a id="user-content-contact" class="anchor" href="https://github.com/pheymann/mockit#contact" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contact</h1> 
  <p>There is a <a href="https://groups.google.com/forum/#!forum/comgithubpheymannmockit/new" target="_blank">Google Group</a> where you can ask questions.</p> 
  <h1><a id="user-content-project-structure" class="anchor" href="https://github.com/pheymann/mockit#project-structure" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Project Structure</h1> 
  <p>The structure of this project is follows:</p> 
  <ul> 
   <li>mockit: sources and tests of the core library</li> 
   <li>mockit-java-api: sources and tests of the Java interface</li> 
   <li>mockit-daemon: stand alone application running the <strong>MockIt Agent</strong></li> 
   <li>mockit-tool: command line tool to manage the daemons</li> 
   <li>demos: a collection of demo projects</li> 
   <li>images: images for the <a href="https://github.com/pheymann/MockIt/wiki" target="_blank">Wiki</a></li> 
  </ul> 
  <h1><a id="user-content-binaries" class="anchor" href="https://github.com/pheymann/mockit#binaries" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Binaries</h1> 
  <h2><a id="user-content-releases" class="anchor" href="https://github.com/pheymann/mockit#releases" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Releases</h2> 
  <p>If you want to have the Jar-files directly just download them from the the release <a href="https://github.com/pheymann/MockIt/releases" target="_blank">page</a>. There your get the core library, the command line tool and the daemon application.</p> 
  <h2><a id="user-content-sbt" class="anchor" href="https://github.com/pheymann/mockit#sbt" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SBT</h2> 
  <p>To integrate MockIt into your SBT project just add it as dependency to your build file:</p> 
  <pre><code>lazy val scalaVersion = "2.11"

"com.github.pheymann" % s"mockit_$scalaVersion" % "x.y.z"
</code></pre> 
  <p>Replace the x.y.z with the correct version number you want to use (<em>current: 0.2.0-beta</em>).</p> 
  <h2><a id="user-content-maven" class="anchor" href="https://github.com/pheymann/mockit#maven" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Maven</h2> 
  <p>To integrate MockIt into your Maven project just add it as dependency to your POM:</p> 
  <pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.github.pheymann&lt;/groupId&gt;
    &lt;artifactId&gt;mockit&lt;/artifactId&gt;
    &lt;version&gt;x.y.z&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
  <p>If you programming in Java you will need the Java API too:</p> 
  <pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.github.pheymann&lt;/groupId&gt;
    &lt;artifactId&gt;mockitjavaapi&lt;/artifactId&gt;
    &lt;version&gt;x.y.z&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
  <p>Replace the x.y.z with the correct version number you want to use (<em>current: 0.2.0-beta</em>).</p> 
  <h2><a id="user-content-small-example-hello-world" class="anchor" href="https://github.com/pheymann/mockit#small-example-hello-world" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Small Example: Hello World</h2> 
  <p>If you want to run one or several mock-ups on different machines you have to start <strong>MockIt Daemons</strong> with the <strong>MockIt Tool</strong> on this machines (<a href="https://github.com/pheymann/MockIt/wiki/How-To-Use#run-a-daemon" target="_blank">description</a>). The number of daemons has to be at least the number of mock-ups you want to run.</p> 
  <p>Otherwise if you use the library und create your own stand alone mock-up (<a href="https://github.com/pheymann/MockIt/wiki/How-To-Use#http-protocol" target="_blank">example</a>) daemons are not necessary at all.</p> 
  <p>This example shows how to create a small HTTP server:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">class</span> <span class="pl-en">HttpUnit</span> <span class="pl-k">extends</span> <span class="pl-e">HttpServerMockUnit</span> {

    <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">init</span><span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
        <span class="pl-c">// add a request-response pair</span>
        add(
            <span class="pl-en">HttpRequest</span>(<span class="pl-en">Get</span>, <span class="pl-s"><span class="pl-pds">"</span>/webapp/test<span class="pl-pds">"</span></span>),
            <span class="pl-en">HttpResponse</span>(<span class="pl-en">OK</span>)                        <span class="pl-k">+</span>
                (<span class="pl-s"><span class="pl-pds">"</span>this is a key<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>and the value<span class="pl-pds">"</span></span>)  <span class="pl-k">++</span>
                (<span class="pl-s"><span class="pl-pds">"</span>text/plain<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>hello world<span class="pl-pds">"</span></span>.getBytes(<span class="pl-s"><span class="pl-pds">"</span>UTF-8<span class="pl-pds">"</span></span>))
        )
    }

}</pre>
  </div> 
  <p>This is the Mock Unit which implements the servers behaviour. In this example the server just sends the response <strong>hello world</strong> when a call on <code>localhost:8080/webapp/test</code> appears.</p> 
  <p>To run the server just call:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">main</span>(<span class="pl-v">args</span>: <span class="pl-en">Array</span>[<span class="pl-k">String</span>])<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
    <span class="pl-k">val</span> <span class="pl-en">unit</span> <span class="pl-k">=</span> <span class="pl-c1">classOf</span>[<span class="pl-en">HttpUnit</span>]

    <span class="pl-c">// configure the server</span>
    <span class="pl-k">val</span> <span class="pl-en">container</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">MockUnitContainer</span>(
        unit.getCanonicalName,
        unit,
        <span class="pl-k">new</span> <span class="pl-en">ServerConfiguration</span>(
            <span class="pl-c1">8080</span>,
            <span class="pl-c1">1</span>,
            <span class="pl-en">ConnectionType</span>.http
        )
    )

    <span class="pl-k">val</span> <span class="pl-en">shutdown</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">ShutdownLatch</span>
    <span class="pl-k">val</span> <span class="pl-en">latch</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">ShutdownLatch</span>

    <span class="pl-c">// run the mock in the local process</span>
    <span class="pl-en">MockIt</span>.mockLocal(container <span class="pl-k">::</span> <span class="pl-c1">Nil</span>, shutdown, latch).call
}</pre>
  </div> 
  <p>The server will run in the current process as a thread and stops when the parent process stops.</p> 
  <p>For more examples take a look <a href="https://github.com/pheymann/MockIt/wiki/How-To-Use" target="_blank">here</a></p> 
  <h1><a id="user-content-build" class="anchor" href="https://github.com/pheymann/mockit#build" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Build</h1> 
  <p>If you want to build your own jar files from the raw source code just download the code from GitHub:</p> 
  <p><code>git clone git@https://github.com/MockIt</code></p> 
  <p>and for the core library run:</p> 
  <pre><code>$ cd MockIt/mockit
$ sbt package
</code></pre> 
  <p>for the Java API:</p> 
  <pre><code>$ cd MockIt/mockit-java-api
$ mvn clean package
</code></pre> 
  <p>for the daemon application:</p> 
  <pre><code>$ cd MockIt/mockit-daemon
$ sbt assembly
</code></pre> 
  <p>and for the command line tool:</p> 
  <pre><code>$ cd MockIt/mockit-tool
$ sbt assembly
</code></pre> 
  <h1><a id="user-content-development-guide" class="anchor" href="https://github.com/pheymann/mockit#development-guide" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Development Guide</h1> 
  <p>This project is written in Scala and maintains interfaces for Java. If you want to contribute to the project you should keep the following rules and principles in mind:</p> 
  <ul> 
   <li><a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" target="_blank">DRY</a> (don't repeat your self),</li> 
   <li>refactore the code if it is necessary,</li> 
   <li>write your code like a book, easy to read and understandable and use comments when necessary,</li> 
   <li>cover every new functionality directly or indirectly with in a unit test,</li> 
   <li>keep all available unit tests running,</li> 
   <li>do not push faulty code into the repository,</li> 
   <li>no IDE files in the repository.</li> 
  </ul> 
  <p>For further information have a look into the <a href="https://github.com/pheymann/MockIt/wiki/How-To-Contribute" target="_blank">extended guide</a>.</p> 
  <h1><a id="user-content-licence" class="anchor" href="https://github.com/pheymann/mockit#licence" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Licence</h1> 
  <p>This project is licensed under the MIT Licence.</p> 
  <h1><a id="user-content-external-projects" class="anchor" href="https://github.com/pheymann/mockit#external-projects" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>External Projects</h1> 
  <p>This projects are integrated into MockIt:</p> 
  <ul> 
   <li><a href="https://github.com/ronmamo/reflections" target="_blank">reflections</a></li> 
  </ul> 
 </article>
</div>