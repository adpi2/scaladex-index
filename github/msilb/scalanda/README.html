<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-scalanda" class="anchor" href="https://github.com/msilb/scalanda#scalanda" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>scalanda</h1> 
  <p><a href="https://travis-ci.org/msilb/scalanda" target="_blank"><img src="https://camo.githubusercontent.com/720ae417a15820e8039c77cfdf819fd52fb02160/68747470733a2f2f7472617669732d63692e6f72672f6d73696c622f7363616c616e64612e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/msilb/scalanda.svg?branch=master" style="max-width:100%;"></a> <a href="https://coveralls.io/r/msilb/scalanda?branch=master" target="_blank"><img src="https://camo.githubusercontent.com/6f7ac858cf2cef4564391d6bca27d9544070a210/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6d73696c622f7363616c616e64612f62616467652e7376673f6272616e63683d6d6173746572" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/msilb/scalanda/badge.svg?branch=master" style="max-width:100%;"></a> <a href="https://www.codacy.com/public/me_7/scalanda" target="_blank"><img src="https://camo.githubusercontent.com/1b1967d198d4072f18533c7cab99153df15a5025/68747470733a2f2f7777772e636f646163792e636f6d2f70726f6a6563742f62616467652f3262623664613861626565653438623438336137643965653864383864363566" alt="Codacy Badge" data-canonical-src="https://www.codacy.com/project/badge/2bb6da8abeee48b483a7d9ee8d88d65f" style="max-width:100%;"></a></p> 
  <p>Scalanda is a light-weight Scala/Akka/Spray-based wrapper for Oanda's REST and Stream APIs, which supports completely asynchronous non-blocking communication with the API. If you are using (or planning to use) Oanda as a broker for your automated trading needs, this library might be of interest.</p> 
  <h1><a id="user-content-install" class="anchor" href="https://github.com/msilb/scalanda#install" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Install</h1> 
  <p>If you are using <code>sbt</code> just drop this dependency into your <code>build.sbt</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.msilb<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>scalanda<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.3.7<span class="pl-pds">"</span></span></pre>
  </div> 
  <h1><a id="user-content-usage" class="anchor" href="https://github.com/msilb/scalanda#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h1> 
  <p>For the full description of Oanda's REST and Stream APIs please consult their great <a href="http://developer.oanda.com/rest-live/introduction" target="_blank">documentation</a>.</p> 
  <h2><a id="user-content-creating-an-instance-of-the-rest-connector" class="anchor" href="https://github.com/msilb/scalanda#creating-an-instance-of-the-rest-connector" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Creating an Instance of the REST Connector</h2> 
  <p>From within your Akka system instantiate the REST connector actor like this:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">restConnector</span> <span class="pl-k">=</span> system.actorOf(<span class="pl-en">RestConnector</span>.props(<span class="pl-en">Practice</span>, <span class="pl-en">Some</span>(authTokenPractice), practiceAccountId))</pre>
  </div> 
  <p>where:</p> 
  <ul> 
   <li><code>Practice</code> indicates you want to connect to Oanda's fxTrade Practice environment. Other possible values are <code>SandBox</code> and <code>Production</code>.</li> 
   <li><code>authTokenPractice</code> is your Personal Access Token. For details how to obtain one, please see <a href="http://developer.oanda.com/rest-live/authentication" target="_blank">here</a>. <em>Note: <code>SandBox</code> environment does not require authentication, hence just use <code>None</code></em></li> 
   <li><code>practiceAccountId</code> is your fxTrade Practice account ID.</li> 
  </ul> 
  <h2><a id="user-content-sending-requests-to-the-rest-connector" class="anchor" href="https://github.com/msilb/scalanda#sending-requests-to-the-rest-connector" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Sending Requests to the REST Connector</h2> 
  <p>After creating an instance of the REST connector you can use it from within your trading actors to send requests to the API, e.g. to create a market order to buy 10,000 units of EUR/USD send this message to your <code>restConnector</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>restConnector <span class="pl-k">!</span> <span class="pl-en">CreateOrderRequest</span>(<span class="pl-s"><span class="pl-pds">"</span>EUR_USD<span class="pl-pds">"</span></span>, <span class="pl-c1">10000</span>, <span class="pl-en">Buy</span>, <span class="pl-en">Market</span>)</pre>
  </div> 
  <p>Once the request is completed <code>restConnector</code> will reply with an instance of <code>CreateOrderResponse</code> containing details of the successfully created trade. Check out the full list of possible <a href="https://github.com/msilb/scalanda/blob/master/src/main/scala/com/msilb/scalanda/restapi/Request.scala" target="_blank">request</a> and <a href="https://github.com/msilb/scalanda/blob/master/src/main/scala/com/msilb/scalanda/restapi/Response.scala" target="_blank">response</a> types.</p> 
  <h2><a id="user-content-subscribing-for-price-and-event-streams-using-the-stream-api" class="anchor" href="https://github.com/msilb/scalanda#subscribing-for-price-and-event-streams-using-the-stream-api" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Subscribing for Price and Event Streams Using the Stream API</h2> 
  <p>Create a new connector actor for the Stream API and send <code>Connect</code> message to it:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">streamingConnector</span> <span class="pl-k">=</span> system.actorOf(<span class="pl-en">StreamingConnector</span>.props)
streamingConnector <span class="pl-k">!</span> <span class="pl-en">Connect</span>(<span class="pl-en">Practice</span>, <span class="pl-en">Some</span>(authTokenPractice))</pre>
  </div> 
  <p>then wait until <code>streamingConnector</code> responds with the <code>ConnectionEstablished</code> message. Register listeners that should be notified of price tick or event updates by sending</p> 
  <div class="highlight highlight-source-scala">
   <pre>streamingConnector <span class="pl-k">!</span> <span class="pl-en">AddListeners</span>(<span class="pl-en">Set</span>(listener1, listener2, listener3))</pre>
  </div> 
  <p>to the <code>streamingConnector</code>.</p> 
  <p>Finally, subscribe for the price stream with</p> 
  <div class="highlight highlight-source-scala">
   <pre>streamingConnector <span class="pl-k">!</span> <span class="pl-en">StartRatesStreaming</span>(accountId, instruments, sessionIdOpt)</pre>
  </div> 
  <p>or for the events stream with</p> 
  <div class="highlight highlight-source-scala">
   <pre>streamingConnector <span class="pl-k">!</span> <span class="pl-en">StartEventsStreaming</span>(accountIdsOpt)</pre>
  </div> 
  <p>For further information on request / response parameters see <a href="http://developer.oanda.com/rest-live/streaming" target="_blank">Oanda Stream API specification</a>.</p> 
 </article>
</div>