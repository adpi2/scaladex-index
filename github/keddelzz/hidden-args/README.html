<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <p><a href="https://travis-ci.org/keddelzz/hidden-args" target="_blank"><img src="https://camo.githubusercontent.com/67c88e12e22bddcd10bce653cea83a4fef5f4fdd/68747470733a2f2f7472617669732d63692e6f72672f6b656464656c7a7a2f68696464656e2d617267732e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/keddelzz/hidden-args.svg?branch=master" style="max-width:100%;"></a> <a href="https://ci.appveyor.com/project/keddelzz/hidden-args/branch/master" target="_blank"><img src="https://camo.githubusercontent.com/d170e68575a5f1045e06b4a6fa48c091f9302a82/68747470733a2f2f63692e6170707665796f722e636f6d2f6170692f70726f6a656374732f7374617475732f393767316f326368636f7364616461322f6272616e63682f6d61737465723f7376673d74727565" alt="Build status" data-canonical-src="https://ci.appveyor.com/api/projects/status/97g1o2chcosdada2/branch/master?svg=true" style="max-width:100%;"></a></p> 
  <h1><a href="https://github.com/keddelzz/hidden-args#hidden-arguments" aria-hidden="true" class="anchor" id="user-content-hidden-arguments" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Hidden Arguments</h1> 
  <h2><a href="https://github.com/keddelzz/hidden-args#description" aria-hidden="true" class="anchor" id="user-content-description" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Description</h2> 
  <p>A common pattern during development of tail-recursive functions is to introduce a helper function to hide the accumulator parameter.</p> 
  <p><strong>Hidden Arguments</strong> is a project that provides a language feature (implemented in Scala using macros), which helps the developer to define such functions without the necessary boilerplate.</p> 
  <p>--</p> 
  <p>The definition of the function</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">@</span>hiddenargs
<span class="pl-k">def</span> <span class="pl-en">sum</span>(<span class="pl-v">xs</span>: <span class="pl-en">List</span>[<span class="pl-k">Int</span>], <span class="pl-k">@</span>hidden <span class="pl-v">acc</span>: <span class="pl-k">Int</span> <span class="pl-k">=</span> <span class="pl-c1">0</span>)<span class="pl-k">:</span> <span class="pl-k">Int</span> <span class="pl-k">=</span> 
  xs <span class="pl-k">match</span> {
    <span class="pl-k">case</span> hd <span class="pl-k">::</span> tl <span class="pl-k">=&gt;</span> sum(tl, hd <span class="pl-k">+</span> acc)
    <span class="pl-k">case</span> _        <span class="pl-k">=&gt;</span> acc
  }</pre>
  </div> 
  <p>will be rewritten to hide the parameter <code>acc</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">sum</span>(<span class="pl-v">xs</span>: <span class="pl-en">List</span>[<span class="pl-k">Int</span>])<span class="pl-k">:</span> <span class="pl-k">Int</span> <span class="pl-k">=</span> {
  <span class="pl-k">def</span> <span class="pl-en">sum_impl</span>(<span class="pl-v">xs</span>: <span class="pl-en">List</span>[<span class="pl-k">Int</span>], <span class="pl-v">acc</span>: <span class="pl-k">Int</span>)<span class="pl-k">:</span> <span class="pl-k">Int</span> <span class="pl-k">=</span>
    xs <span class="pl-k">match</span> {
      <span class="pl-k">case</span> hd <span class="pl-k">::</span> tl <span class="pl-k">=&gt;</span> sum_impl(tl, hd <span class="pl-k">+</span> acc)
      <span class="pl-k">case</span> _        <span class="pl-k">=&gt;</span> acc
    }

  sum_impl(xs, <span class="pl-c1">0</span>)
}</pre>
  </div> 
  <p>--</p> 
  <p>The defined function, which should be rewritten, has to be marked with the annotation 'hiddenargs'. Every parameter of such function, which is marked with the 'hidden' annotation, will be hidden using a nested function. The default value of the hidden paramter is used to call the nested function.</p> 
  <h2><a href="https://github.com/keddelzz/hidden-args#building-the-project" aria-hidden="true" class="anchor" id="user-content-building-the-project" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Building the project</h2> 
  <p>This project is built using <a href="http://www.scala-sbt.org/" target="_blank">sbt</a>.</p> 
  <p>To build the project:</p> 
  <ul> 
   <li>Install <a href="http://www.scala-sbt.org/" target="_blank">sbt</a></li> 
   <li>Clone this project</li> 
   <li>Open a terminal and <code>cd</code> into the root directory of the cloned repository</li> 
   <li>Run 
    <ul> 
     <li><code>sbt compile</code> to build the project</li> 
     <li><code>sbt packageBin</code> to publish the project locally</li> 
     <li><code>sbt test</code> to run the unit tests</li> 
    </ul> </li> 
  </ul> 
  <h2><a href="https://github.com/keddelzz/hidden-args#usage" aria-hidden="true" class="anchor" id="user-content-usage" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <ul> 
   <li>Add dependency on Scala compiler plugin <a href="https://github.com/scalamacros/paradise" target="_blank">Macro Paradise</a>. 
    <ul> 
     <li>This can be done by adding <code>addCompilerPlugin("org.scalamacros" % "paradise" % "2.1.0" cross CrossVersion.full)</code> to the build settings in build.sbt.</li> 
     <li>An example project, which uses Macro Paradise can be found <a href="https://github.com/scalamacros/sbt-example-paradise" target="_blank">here</a>.</li> 
    </ul> </li> 
   <li>Add the following resolver to your <code>build.sbt</code>:</li> 
  </ul> 
  <pre><code>resolvers += Resolver.jcenterRepo
</code></pre> 
  <ul> 
   <li>Add the following dependency to your <code>build.sbt</code>:</li> 
  </ul> 
  <pre><code>libraryDependencies += "com.github.keddelzz.hidden-args" %% "hidden-args" % "0.0.1"
</code></pre> 
  <ul> 
   <li>Define tail-recursive functions, mark them with 'hiddenargs' and let the compiler hide those arguments, which are marked as 'hidden'.</li> 
  </ul> 
  <h2><a href="https://github.com/keddelzz/hidden-args#license" aria-hidden="true" class="anchor" id="user-content-license" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>See the <a href="https://github.com/keddelzz/hidden-args/blob/master/LICENSE" target="_blank">LICENSE</a> file for license rights and limitations (MIT).</p> 
 </article>
</div>