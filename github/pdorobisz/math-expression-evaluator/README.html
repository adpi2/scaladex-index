<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h2><a id="user-content-mathematical-expressions-evaluator" class="anchor" href="https://github.com/pdorobisz/math-expression-evaluator#mathematical-expressions-evaluator" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Mathematical expressions evaluator</h2> 
  <h3><a id="user-content-overview" class="anchor" href="https://github.com/pdorobisz/math-expression-evaluator#overview" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Overview</h3> 
  <p>Implementation of mathematical expressions evaluator in Scala. Supported operations and expressions:</p> 
  <ul> 
   <li>Addition (+)</li> 
   <li>Subtraction (-)</li> 
   <li>Multiplication (*)</li> 
   <li>Division (/)</li> 
   <li>Unary minus</li> 
   <li>Parentheses</li> 
  </ul> 
  <h3><a id="user-content-set-up" class="anchor" href="https://github.com/pdorobisz/math-expression-evaluator#set-up" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Set up</h3> 
  <p>Add dependency to your project (currently there is only version for Scala 2.11):</p> 
  <pre><code>libraryDependencies += "com.github.pdorobisz" %% "math-expression-evaluator" % "1.0.0"
</code></pre> 
  <h3><a id="user-content-usage" class="anchor" href="https://github.com/pdorobisz/math-expression-evaluator#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h3> 
  <h4><a id="user-content-evaluating-expressions" class="anchor" href="https://github.com/pdorobisz/math-expression-evaluator#evaluating-expressions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Evaluating expressions</h4> 
  <p><code>com.github.pdorobisz.mathexpressionevaluator.Evaluator.evaluate</code> takes string representing expression in infix notation (may contain spaces) and returns evaluation result as <code>Validation</code> from <a href="https://github.com/scalaz/scalaz" target="_blank">Scalaz</a>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.github.pdorobisz.mathexpressionevaluator.</span><span class="pl-v">Evaluator</span>
<span class="pl-k">import</span> <span class="pl-v">com.github.pdorobisz.mathexpressionevaluator.errors.</span><span class="pl-v">EvaluatorError</span>
<span class="pl-k">import</span> <span class="pl-v">spire.math.</span><span class="pl-v">Rational</span>
<span class="pl-k">import</span> <span class="pl-v">scalaz.</span><span class="pl-v">Validation</span>

<span class="pl-k">val</span> <span class="pl-en">result</span><span class="pl-k">:</span> <span class="pl-en">Validation</span>[<span class="pl-en">EvaluatorError</span>, <span class="pl-en">Rational</span>] <span class="pl-k">=</span> <span class="pl-en">Evaluator</span>.evaluate(<span class="pl-s"><span class="pl-pds">"</span>1+2*3<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p><code>EvaluatorError</code> contains position at which evaluation error has occurred. <code>Rational</code> (from <a href="https://github.com/non/spire" target="_blank">Spire</a>) represents evaluated value.</p> 
  <p>Some examples:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.github.pdorobisz.mathexpressionevaluator.</span><span class="pl-v">Evaluator</span>

println(<span class="pl-en">Evaluator</span>.evaluate(<span class="pl-s"><span class="pl-pds">"</span>1+2*3<span class="pl-pds">"</span></span>))         <span class="pl-c">// Success(7)</span>
println(<span class="pl-en">Evaluator</span>.evaluate(<span class="pl-s"><span class="pl-pds">"</span>4 / (2*3 + 2)<span class="pl-pds">"</span></span>)) <span class="pl-c">// Success(1/2)</span>
println(<span class="pl-en">Evaluator</span>.evaluate(<span class="pl-s"><span class="pl-pds">"</span>4/(1-1)<span class="pl-pds">"</span></span>))       <span class="pl-c">// Failure(DivideByZero(1))</span>
println(<span class="pl-en">Evaluator</span>.evaluate(<span class="pl-s"><span class="pl-pds">"</span>2*(3+4<span class="pl-pds">"</span></span>))        <span class="pl-c">// Failure(ParenthesisNotMatched(2))</span></pre>
  </div> 
  <h4><a id="user-content-converting-expressions-to-postfix-form-reverse-polish-notation" class="anchor" href="https://github.com/pdorobisz/math-expression-evaluator#converting-expressions-to-postfix-form-reverse-polish-notation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Converting expressions to postfix form (<strong>Reverse Polish Notation</strong>)</h4> 
  <p>As a part of evaluation process expression is converted to <em>Reverse Polish Notation</em>. It is possible to get expression converted to this form instead of evaluated value:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.github.pdorobisz.mathexpressionevaluator.errors.</span><span class="pl-v">EvaluatorError</span>
<span class="pl-k">import</span> <span class="pl-v">com.github.pdorobisz.mathexpressionevaluator.tokens.</span><span class="pl-v">TokenPosition</span>
<span class="pl-k">import</span> <span class="pl-v">com.github.pdorobisz.mathexpressionevaluator.utils.</span><span class="pl-v">RPNConverter</span>
<span class="pl-k">import</span> <span class="pl-v">scalaz.</span><span class="pl-v">Validation</span>

<span class="pl-k">val</span> <span class="pl-en">result</span><span class="pl-k">:</span> <span class="pl-en">Validation</span>[<span class="pl-en">EvaluatorError</span>, <span class="pl-en">Seq</span>[<span class="pl-en">TokenPosition</span>]] <span class="pl-k">=</span> <span class="pl-en">RPNConverter</span>.convert(<span class="pl-s"><span class="pl-pds">"</span>(3+7)*2<span class="pl-pds">"</span></span>)
println(result) <span class="pl-c">// Success(List(TokenPosition(1,Value(3)), TokenPosition(3,Value(7)), TokenPosition(2,Operator(Addition)), TokenPosition(6,Value(2)), TokenPosition(5,Operator(Multiplication))))</span></pre>
  </div> 
  <h4><a id="user-content-evaluating-expressions-in-postfix-form-reverse-polish-notation" class="anchor" href="https://github.com/pdorobisz/math-expression-evaluator#evaluating-expressions-in-postfix-form-reverse-polish-notation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Evaluating expressions in postfix form (<strong>Reverse Polish Notation</strong>)</h4> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.github.pdorobisz.mathexpressionevaluator.tokens.TokenFactory.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">com.github.pdorobisz.mathexpressionevaluator.utils.</span><span class="pl-v">RPNEvaluator</span>

<span class="pl-k">val</span> <span class="pl-en">rpn</span> <span class="pl-k">=</span> <span class="pl-en">Seq</span>(value(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>), value(<span class="pl-c1">3</span>, <span class="pl-c1">3</span>), addition(<span class="pl-c1">2</span>), value(<span class="pl-c1">6</span>, <span class="pl-c1">5</span>), multiplication(<span class="pl-c1">5</span>)) <span class="pl-c">// (2+3)*5</span>
println(<span class="pl-en">RPNEvaluator</span>.evaluate(rpn))</pre>
  </div> 
  <h4><a id="user-content-implicit-conversions" class="anchor" href="https://github.com/pdorobisz/math-expression-evaluator#implicit-conversions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Implicit conversions</h4> 
  <p>To make your life easier you can use implicit conversions to add new methods:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.github.pdorobisz.mathexpressionevaluator.utils.EvaluatorImplicits.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">rpnForm</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>3+5*6<span class="pl-pds">"</span></span>.toRPN
<span class="pl-k">val</span> <span class="pl-en">evaluationResult</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>3+5*6<span class="pl-pds">"</span></span>.evaluateExpression</pre>
  </div> 
 </article>
</div>