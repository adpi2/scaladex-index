<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <p>#qbProject</p> 
  <p><strong><em>NOTE</em></strong>: This project is currently unmaintained for the time being. You are nevertheless encouraged to leave feedback or open issues. If you are interested in maintaining this project, please <a href="mailto:emueller@eclipsesource.com" target="_blank">contact us</a>.</p> 
  <p>==== <strong>qbProject is a set of scala libraries around JSON and API development using the Play Framework.</strong></p> 
  <p><a href="http://travis-ci.org/qb-project/qbproject" target="_blank"><img src="https://camo.githubusercontent.com/43df067b7275f9d78fc1c202514e3c9e9f51f8dc/68747470733a2f2f7472617669732d63692e6f72672f71622d70726f6a6563742f716270726f6a6563742e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/qb-project/qbproject.svg?branch=master" style="max-width:100%;"></a> <a href="https://coveralls.io/r/qb-project/qbproject?branch=master" target="_blank"><img src="https://camo.githubusercontent.com/4ac04343338eefd220040f564edb3bcc78ecee6f/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f71622d70726f6a6563742f716270726f6a6563742f62616467652e706e673f6272616e63683d6d6173746572" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/qb-project/qbproject/badge.png?branch=master" style="max-width:100%;"></a></p> 
  <p>Developed by M Cube, EclipseSource and Contributors 2014. Licensed under Apache License 2.</p> 
  <p>###qbSchema The core component is qbSchema, a library allowing to declare JSON schemas which can be used for <strong>validation, transformation and meta description for your JSON</strong> entities. Especially the meta descriptions open ups some very useful usecases: It can be exported and consumed by UI generation libraries. It helps with data imports from different sources and it can be used to inject schemas/validation to your application at runtime.</p> 
  <p>Defining a schema is as simple as:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">todoSchema</span> <span class="pl-k">=</span> qbClass(
  <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> qbString(maxLength(<span class="pl-c1">140</span>)),
  <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> qbString,
  <span class="pl-s"><span class="pl-pds">"</span>dueDate<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> qbDateTime
)</pre>
  </div> 
  <p>Then it can be used for validation of JSON. It uses JsResult from Play for monadique results and proper error aggregation.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">input</span> <span class="pl-k">=</span> <span class="pl-en">Json</span>.obj(
  <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>Hello World<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>Say hello to all the peeps out there<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>dueDate<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-k">new</span> <span class="pl-en">DateTime</span>().toString()
)

<span class="pl-c"><span class="pl-c">//</span> Validate JSON directly</span>
<span class="pl-k">val</span> <span class="pl-en">result</span><span class="pl-k">:</span> <span class="pl-en">JsResult</span>[<span class="pl-en">JsObject</span>] <span class="pl-k">=</span> <span class="pl-en">QBValidator</span>.validate(todoSchema)(input)

<span class="pl-c"><span class="pl-c">//</span> Or use the Action provided by qbplay</span>
<span class="pl-k">def</span> <span class="pl-en">echoAction</span> <span class="pl-k">=</span> <span class="pl-en">ValidatingAction</span>(todoSchema) { 
  request <span class="pl-k">=&gt;</span> <span class="pl-en">Ok</span>(request.validatedJson)
}</pre>
  </div> 
  <p>qbSchema offers a variety of schema manipulation operations, so-called SchemaOps. They allow to add and remove fields, merge schemas, make fields optional and so on.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> make the description field optional</span>
<span class="pl-k">val</span> <span class="pl-en">optionalDescriptionSchema</span> <span class="pl-k">=</span> todoSchema <span class="pl-k">?</span> <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">//</span> add an author to the todoSchema</span>
<span class="pl-k">val</span> <span class="pl-en">todoWithAuthor</span> <span class="pl-k">=</span> todoSchema <span class="pl-k">++</span> qbClass( 
  <span class="pl-s"><span class="pl-pds">"</span>author<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> qbClass(
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> qbString,
    <span class="pl-s"><span class="pl-pds">"</span>email<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> qbEmail
  )
)</pre>
  </div> 
  <p>qbSchemas can be serailized to JSON schema, which can be used for JSON schema compliant clients such as form generators. qbSchema can also be generated by incoming JSON schema. This allows to inject new schemas into your system at runtime.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-en">Json</span>.prettyPrint(<span class="pl-en">Json</span>.toJson(todoSchema))</pre>
  </div> 
  <p>results in a JSON schema based representation:</p> 
  <div class="highlight highlight-source-json">
   <pre>{
  <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>object<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>properties<span class="pl-pds">"</span></span> : {
    <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span> : {
      <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>maxLength<span class="pl-pds">"</span></span> : <span class="pl-c1">140</span>
    },
    <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span> : {
      <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span>
    },
    <span class="pl-s"><span class="pl-pds">"</span>dueDate<span class="pl-pds">"</span></span> : {
      <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>format<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>date-time<span class="pl-pds">"</span></span>
    }
  },
  <span class="pl-s"><span class="pl-pds">"</span>additionalProperties<span class="pl-pds">"</span></span> : <span class="pl-c1">false</span>,
  <span class="pl-s"><span class="pl-pds">"</span>required<span class="pl-pds">"</span></span> : [ <span class="pl-s"><span class="pl-pds">"</span>title<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>description<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>dueDate<span class="pl-pds">"</span></span> ]
}</pre>
  </div> 
  <p>qbSchema was designed with extensibility in mind and as such allows introducing new types or annotating existing types with rules or additional meta data.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> Define your new QBType</span>
<span class="pl-k">class</span> <span class="pl-en">QBImage</span>(<span class="pl-v">rules</span>: <span class="pl-en">Set</span>[<span class="pl-en">ValidationRule</span>[<span class="pl-en">JsString</span>]]) <span class="pl-k">extends</span> <span class="pl-e">QBStringImpl</span>(rules)
<span class="pl-c"><span class="pl-c">//</span> Create a DSL helper</span>
<span class="pl-k">def</span> <span class="pl-en">image</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">QBImage</span>(<span class="pl-en">Set</span>.empty)

<span class="pl-c"><span class="pl-c">//</span> Create a schema with your newly created type.</span>
<span class="pl-k">val</span> <span class="pl-en">schema</span> <span class="pl-k">=</span> qbClass(<span class="pl-s"><span class="pl-pds">"</span>img<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> image)
<span class="pl-k">val</span> <span class="pl-en">instance</span> <span class="pl-k">=</span> <span class="pl-en">Json</span>.obj(<span class="pl-s"><span class="pl-pds">"</span>img<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>otto.png<span class="pl-pds">"</span></span>)

<span class="pl-k">val</span> <span class="pl-en">isQBImage</span> <span class="pl-k">=</span> (<span class="pl-v">qbType</span>: <span class="pl-en">QBType</span>) <span class="pl-k">=&gt;</span> qbType.<span class="pl-c1">isInstanceOf</span>[<span class="pl-en">QBImage</span>]

<span class="pl-c"><span class="pl-c">//</span> Use the helpers provided by QB to transform your JSON. E.g. prepending an URL to every QBImage type.</span>
schema.transform(instance)(
  isQBImage <span class="pl-k">-</span><span class="pl-k">&gt;</span> { <span class="pl-k">case</span> <span class="pl-en">JsString</span>(path) <span class="pl-k">=&gt;</span> <span class="pl-en">JsString</span>(<span class="pl-s"><span class="pl-pds">"</span>public/images/<span class="pl-pds">"</span></span> <span class="pl-k">+</span> path) }
)</pre>
  </div> 
  <h3><a id="user-content-getting-started" class="anchor" href="https://github.com/qb-project/qbproject#getting-started" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting started</h3> 
  <p>For a tutorial on how to get started please see the <a href="http://qb-project.github.io/learn" target="_blank">qb homepage</a>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> Add a resolver</span>
<span class="pl-s"><span class="pl-pds">"</span>QB repository<span class="pl-pds">"</span></span> at <span class="pl-s"><span class="pl-pds">"</span>http://dl.bintray.com/qbproject/maven<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">//</span> Add these dependencies</span>
<span class="pl-k">val</span> <span class="pl-en">qbSchema</span>        <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.qbproject<span class="pl-pds">"</span></span>    <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>qbschema<span class="pl-pds">"</span></span>    <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.4.2<span class="pl-pds">"</span></span></pre>
  </div> 
  <h3><a id="user-content-contribute" class="anchor" href="https://github.com/qb-project/qbproject#contribute" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contribute</h3> 
  <p>QB is under constant developement and we appreciate any feedback, suggestions, feature requests, bug reports or contributions.</p> 
  <p>So please don't hesitate to open an issue on the bugtracker or drop us an email.</p> 
  <h3><a id="user-content-build" class="anchor" href="https://github.com/qb-project/qbproject#build" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Build</h3> 
  <p>We use <a href="http://travis-ci.org/" target="_blank">Travis CI</a> to build qb: <a href="http://travis-ci.org/qb-project/qbproject" target="_blank"><img src="https://camo.githubusercontent.com/43df067b7275f9d78fc1c202514e3c9e9f51f8dc/68747470733a2f2f7472617669732d63692e6f72672f71622d70726f6a6563742f716270726f6a6563742e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/qb-project/qbproject.svg?branch=master" style="max-width:100%;"></a> <a href="https://coveralls.io/r/qb-project/qbproject?branch=master" target="_blank"><img src="https://camo.githubusercontent.com/4ac04343338eefd220040f564edb3bcc78ecee6f/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f71622d70726f6a6563742f716270726f6a6563742f62616467652e706e673f6272616e63683d6d6173746572" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/qb-project/qbproject/badge.png?branch=master" style="max-width:100%;"></a></p> 
 </article>
</div>