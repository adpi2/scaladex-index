<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-scala-clippy" class="anchor" href="https://github.com/softwaremill/scala-clippy#scala-clippy" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala clippy</h1> 
  <p><a href="https://gitter.im/softwaremill/scala-clippy?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/ec74f339cd2322e70367876b4376e69c7ddd669e/68747470733a2f2f6261646765732e6769747465722e696d2f736f6674776172656d696c6c2f7363616c612d636c697070792e737667" alt="Join the chat at https://gitter.im/softwaremill/scala-clippy" data-canonical-src="https://badges.gitter.im/softwaremill/scala-clippy.svg" style="max-width:100%;"></a> <a href="https://travis-ci.org/softwaremill/scala-clippy" target="_blank"><img src="https://camo.githubusercontent.com/1e52e43268b70f2dfcfb08034fcc9322b1a9feca/68747470733a2f2f7472617669732d63692e6f72672f736f6674776172656d696c6c2f7363616c612d636c697070792e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/softwaremill/scala-clippy.svg?branch=master" style="max-width:100%;"></a> <a href="https://app.updateimpact.com/latest/634276070333485056/clippy" target="_blank"><img src="https://camo.githubusercontent.com/f54f3b0e723698f359049ac6dee4bc7303a4fa7d/68747470733a2f2f6170702e757064617465696d706163742e636f6d2f62616467652f3633343237363037303333333438353035362f636c697070792e7376673f636f6e6669673d636f6d70696c65" alt="Dependencies" data-canonical-src="https://app.updateimpact.com/badge/634276070333485056/clippy.svg?config=compile" style="max-width:100%;"></a> <a href="https://maven-badges.herokuapp.com/maven-central/com.softwaremill.clippy/plugin_2.11" target="_blank"><img src="https://camo.githubusercontent.com/a45972d81958cc1e3f34f637a978d63058007c58/68747470733a2f2f6d6176656e2d6261646765732e6865726f6b756170702e636f6d2f6d6176656e2d63656e7472616c2f636f6d2e736f6674776172656d696c6c2e636c697070792f706c7567696e5f322e31312f62616467652e737667" alt="Maven Central" data-canonical-src="https://maven-badges.herokuapp.com/maven-central/com.softwaremill.clippy/plugin_2.11/badge.svg" style="max-width:100%;"></a></p> 
  <p>Did you ever see a Scala compiler error such as:</p> 
  <div class="highlight highlight-source-scala">
   <pre>[error] <span class="pl-en">TheNextFacebook</span>.scala<span class="pl-k">:</span><span class="pl-c1">16</span><span class="pl-k">:</span> <span class="pl-k">type</span> <span class="pl-en">mismatch</span>;
[error]  <span class="pl-v">found</span>   : akka.http.scaladsl.server.<span class="pl-en">StandardRoute</span>
[error]  <span class="pl-v">required</span>: akka.stream.scaladsl.<span class="pl-en">Flow</span>[akka.http.scaladsl.model.<span class="pl-en">HttpRequest</span>,akka.http.scaladsl.model.<span class="pl-en">HttpResponse</span>,<span class="pl-en">Any</span>]
[error]   <span class="pl-en">Http</span>().bindAndHandle(r, <span class="pl-s"><span class="pl-pds">"</span>localhost<span class="pl-pds">"</span></span>, <span class="pl-c1">8080</span>)</pre>
  </div> 
  <p>and had no idea what to do next? Well in this case, you need to provide an implicit instance of an <code>ActorMaterializer</code>, but the compiler isn't smart enough to be able to tell you that. Luckily, <strong>ScalaClippy is here to help</strong>!</p> 
  <p>Just add the compiler plugin, and you'll see this additional helpful message:</p> 
  <div class="highlight highlight-source-scala">
   <pre>[error]  <span class="pl-en">Clippy</span> <span class="pl-v">advises</span>: did you forget to define an <span class="pl-k">implicit</span> akka.stream.<span class="pl-en">ActorMaterializer</span><span class="pl-k">?</span>
[error]  <span class="pl-en">It</span> allows routes to be converted into a flow.
[error]  <span class="pl-en">You</span> can read more at http<span class="pl-k">:</span><span class="pl-c"><span class="pl-c">//</span>doc.akka.io/docs/akka-stream-and-http-experimental/2.0/scala/http/routing-dsl/index.html</span></pre>
  </div> 
  <h1><a id="user-content-adding-the-plugin" class="anchor" href="https://github.com/softwaremill/scala-clippy#adding-the-plugin" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Adding the plugin</h1> 
  <p>The easiest to use Clippy is via an SBT plugin. If you'd like Clippy to be enabled for all projects, without the need to modify each project's build, add the following to <code>~/.sbt/0.13/plugins/build.sbt</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>addSbtPlugin(<span class="pl-s"><span class="pl-pds">"</span>com.softwaremill.clippy<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>plugin-sbt<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.5.0<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>Upon first use, the plugin will download the advice dataset from <code>https://scala-clippy.org</code> and store it in the <code>$HOME/.clippy</code> directory. The dataset will be updated at most once a day, in the background. You can customize the dataset URL and local store by setting the <code>clippyUrl</code> and <code>clippyLocalStoreDir</code> sbt options to non-<code>None</code>-values.</p> 
  <p>Note: to customize a global sbt plugin (a plugin which is added via <code>~/.sbt/0.13/plugins/build.sbt</code>) keep in mind that:</p> 
  <ul> 
   <li>customize the plugin settings in <code>~/.sbt/0.13/build.sbt</code> (one directory up!). These settings will be automatically added to all of your projects.</li> 
   <li>you'll need to add <code>import com.softwaremill.clippy.ClippySbtPlugin._</code> to access the setting names as auto-imports don't work in the global settings</li> 
   <li>the clippy sbt settings are just a convenient syntax for adding compiler options (e.g., enabling colors is same as <code>scalacOptions += "-P:clippy:colors=true"</code>)</li> 
  </ul> 
  <h1><a id="user-content-enabling-syntax-and-type-mismatch-diffs-highlighting" class="anchor" href="https://github.com/softwaremill/scala-clippy#enabling-syntax-and-type-mismatch-diffs-highlighting" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Enabling syntax and type mismatch diffs highlighting</h1> 
  <p>Clippy can highlight:</p> 
  <ul> 
   <li>in type mismatch errors, the diff between expected and actual types. This may be especially helpful for long type signatures</li> 
   <li>syntax when displaying code fragments with errors</li> 
  </ul> 
  <p>If you'd like to enable this feature in sbt globally, add the following to <code>~/.sbt/0.13/build.sbt</code>: (see also notes above)</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.softwaremill.clippy.ClippySbtPlugin.</span><span class="pl-v">_ </span><span class="pl-c"><span class="pl-c">//</span> needed in global configuration only</span>
clippyColorsEnabled <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-c1">true</span></pre>
  </div> 
  <p>To customize the colors, set any of <code>clippyColorDiff</code>, <code>clippyColorComment</code>, <code>clippyColorType</code>, <code>clippyColorLiteral</code>, <code>clippyColorKeyword</code> to <code>Some(ClippyColor.[name])</code>, where <code>[name]</code> can be: <code>Black</code>, <code>Red</code>, <code>Green</code>, <code>Yellow</code>, <code>Blue</code>, <code>Magenta</code>, <code>Cyan</code>, <code>White</code> or <code>None</code>.</p> 
  <p>You can of course add clippy on a per-project basis as well.</p> 
  <h1><a id="user-content-contributing-advice" class="anchor" href="https://github.com/softwaremill/scala-clippy#contributing-advice" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contributing advice</h1> 
  <p>Scala Clippy is only as good as its advice database. Help other users by submitting a fix for a compilation error that you have encountered!</p> 
  <p>It will only take you a couple of minutes, no registration required. Just head over to <a href="https://scala-clippy.org" target="_blank">https://scala-clippy.org</a>! Thanks!</p> 
  <h1><a id="user-content-project-specific-advice" class="anchor" href="https://github.com/softwaremill/scala-clippy#project-specific-advice" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Project specific advice</h1> 
  <p>If you have advice that you feel is too specific to be worth sharing on <a href="https://scala-clippy.org" target="_blank">https://scala-clippy.org</a> you can add it to your project specific advice file. First set your project root:</p> 
  <pre><code>clippyProjectRoot := Some((baseDirectory in ThisBuild).value) 
</code></pre> 
  <p>Then create a file named .clippy.json in the root of your project directory and add the advice json in the format illustrated below:</p> 
  <pre><code>{
  "advices": [
    {
      "error": {
        "type": "typeMismatch",
        "found": "scala\\.concurrent\\.Future\\[Int\\]",
        "required": "Int"
      },
      "text": "Maybe you used map where you should have used flatMap?",
      "library": {
        "groupId": "scala.lang",
        "artifactId": "Future",
        "version": "1.0"
      }
    }
  ]
}
</code></pre> 
  <h1><a id="user-content-library-specific-advice" class="anchor" href="https://github.com/softwaremill/scala-clippy#library-specific-advice" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Library specific advice</h1> 
  <p>If you have advice that is specific to a library or library version you can also bundle the advice with your library. If your users have Scala-Clippy installed they will see your advice if your library is inclued in their project. This can be helpful in the common case where users of your library need specific imports to be able to use your functionality. To bundle clippy advice with your library just put it in a file named clippy.json in your resources directory</p> 
  <p>For examples on how to write tests for advice to ensure it does not go out of date see <a href="https://github.com/softwaremill/scala-clippy/blob/master/tests/src/test/scala/org/softwaremill/clippy/CompileTests.scala" target="_blank">CompileTests.scala</a></p> 
  <h1><a id="user-content-alternative-ways-to-use-clippy" class="anchor" href="https://github.com/softwaremill/scala-clippy#alternative-ways-to-use-clippy" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Alternative ways to use Clippy</h1> 
  <p>You can also use Clippy directly as a compiler plugin. If you use SBT, add the following setting to your project's <code>.sbt</code> file:</p> 
  <div class="highlight highlight-source-scala">
   <pre>addCompilerPlugin(<span class="pl-s"><span class="pl-pds">"</span>com.softwaremill.clippy<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>plugin<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.5.0<span class="pl-pds">"</span></span> classifier <span class="pl-s"><span class="pl-pds">"</span>bundle<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>If you are using <code>scalac</code> directly, add the following option:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">-</span><span class="pl-en">Xplugin</span><span class="pl-k">:</span>clippy<span class="pl-k">-</span>plugin_2<span class="pl-c1">.11</span><span class="pl-k">-</span><span class="pl-c1">0.5.0</span><span class="pl-k">-</span>bundle.jar</pre>
  </div> 
  <p>This can be followed by any of the available options, e.g. <code>-P:clippy:colors=true</code>.</p> 
  <p>If you would like local advice to work in intellij which defaults to running in a different directory than the project:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">-</span><span class="pl-en">P</span><span class="pl-k">:</span>clippy<span class="pl-k">:</span>projectRoot<span class="pl-k">=</span>$projectDir</pre>
  </div> 
  <h1><a id="user-content-contributing-to-the-project" class="anchor" href="https://github.com/softwaremill/scala-clippy#contributing-to-the-project" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contributing to the project</h1> 
  <p>You can also help developing the plugin and/or the UI for submitting new advices! The module structure is:</p> 
  <ul> 
   <li><code>model</code> - code shared between the UI and the plugin. Contains basic model case classes, such as <code>CompilationError</code> + parser</li> 
   <li><code>plugin</code> - the compiler plugin which actually displays the advices and matches errors agains the database of known errors</li> 
   <li><code>tests</code> - tests for the compiler plugin. Must be a separate project, as it requires the plugin jar to be ready</li> 
   <li><code>ui</code> - the ui server project in Play</li> 
   <li><code>ui-client</code> - the Scala.JS client-side code</li> 
   <li><code>ui-shared</code> - code shared between the UI server and UI client (but not needed for the plugin)</li> 
  </ul> 
  <p>If you want to write your own tests with compilation using <code>mkToolbox</code>, remember to add a <code>-P:clippy:testmode=true</code> compiler option. It ensures that a correct reporter replacement mechanism is used, which needs to be different specifically for tests. See <a href="https://github.com/softwaremill/scala-clippy/blob/master/tests/src/test/scala/org/softwaremill/clippy/CompileTests.scala" target="_blank">CompileTests.scala</a> for reference.</p> 
  <p>To publish locally append "-SNAPSHOT" to the version number then run</p> 
  <div class="highlight highlight-source-scala">
   <pre>sbt <span class="pl-s"><span class="pl-pds">"</span>project plugin<span class="pl-pds">"</span></span> <span class="pl-s"><span class="pl-pds">"</span>+ publishLocal<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Run advice tests with</p> 
  <div class="highlight highlight-source-scala">
   <pre>sbt tests<span class="pl-k">/</span>test</pre>
  </div> 
  <h1><a id="user-content-heroku-deployment" class="anchor" href="https://github.com/softwaremill/scala-clippy#heroku-deployment" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Heroku deployment</h1> 
  <p>Locally:</p> 
  <ul> 
   <li>Install the Heroku Toolbelt</li> 
   <li>link the local git repository with the Heroku application: <code>heroku git:remote -a scala-clippy</code></li> 
   <li>run <code>sbt deployHeroku</code> to deploy the current code as a fat-jar</li> 
  </ul> 
  <p>Currently deployed on <code>https://www.scala-clippy.org</code></p> 
  <h1><a id="user-content-credits" class="anchor" href="https://github.com/softwaremill/scala-clippy#credits" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Credits</h1> 
  <p>Clippy contributors:</p> 
  <ul> 
   <li><a href="https://github.com/kciesielski" target="_blank">Krzysztof Ciesielski</a></li> 
   <li><a href="https://github.com/Zuchos" target="_blank">Łukasz Żuchowski</a></li> 
   <li><a href="https://github.com/ShaneDelmore" target="_blank">Shane Delmore</a></li> 
   <li><a href="https://github.com/adamw" target="_blank">Adam Warski</a></li> 
  </ul> 
  <p>Syntax highlighting code is copied from <a href="http://www.lihaoyi.com/Ammonite/" target="_blank">Ammonite</a>.</p> 
 </article>
</div>