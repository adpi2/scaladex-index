<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <p><a href="https://travis-ci.org/n1analytics/javallier" target="_blank"><img src="https://camo.githubusercontent.com/2ef137deb56249961a6c0a5d411e96b569c77a93/68747470733a2f2f7472617669732d63692e6f72672f6e31616e616c79746963732f6a6176616c6c6965722e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/n1analytics/javallier.svg?branch=master" style="max-width:100%;"></a> <a href="https://www.javadoc.io/doc/com.n1analytics/javallier_2.10" target="_blank"><img src="https://camo.githubusercontent.com/c5106e2f59e4bf1698979a212233aaa42268b8c3/68747470733a2f2f7777772e6a617661646f632e696f2f62616467652f636f6d2e6e31616e616c79746963732f6a6176616c6c6965725f322e31302e737667" alt="Javadocs" data-canonical-src="https://www.javadoc.io/badge/com.n1analytics/javallier_2.10.svg" style="max-width:100%;"></a></p> 
  <h1><a id="user-content-javallier" class="anchor" href="https://github.com/n1analytics/javallier#javallier" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>javallier</h1> 
  <p>A Java library for <a href="https://en.wikipedia.org/wiki/Paillier_cryptosystem" target="_blank">Paillier partially homomorphic encryption</a> based on <a href="https://github.com/NICTA/python-paillier" target="_blank">python-paillier</a>.</p> 
  <p>The homomorphic properties of the paillier cryptosystem are:</p> 
  <ul> 
   <li>Encrypted numbers can be multiplied by a non encrypted scalar.</li> 
   <li>Encrypted numbers can be added together.</li> 
   <li>Encrypted numbers can be added to non encrypted scalars.</li> 
  </ul> 
  <p>To use the library add the following dependency to your SBT configuration:</p> 
  <pre><code>libraryDependencies += "com.n1analytics" % "javallier_2.10" % "0.6.0"
</code></pre> 
  <p>Example usages are provided in the <code>/examples</code> source directory. A benchmarking script can be found in <code>/benchmark</code>.</p> 
  <h2><a id="user-content-build" class="anchor" href="https://github.com/n1analytics/javallier#build" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Build</h2> 
  <p>Compile the library:</p> 
  <pre><code>$ sbt compile
</code></pre> 
  <p>Create a jar file:</p> 
  <pre><code>$ sbt package
</code></pre> 
  <p>Run all tests with <code>sbt</code>:</p> 
  <pre><code>$ sbt test
</code></pre> 
  <p>Or run just fast tests:</p> 
  <pre><code>$ ./test-fast.sh
</code></pre> 
  <h2><a id="user-content-command-line-tool" class="anchor" href="https://github.com/n1analytics/javallier#command-line-tool" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Command Line Tool</h2> 
  <p>A small command line tool has been created to wrap the <code>javallier</code> library.</p> 
  <p>Use the <code>javallier</code> cli tool to:</p> 
  <ul> 
   <li>generate and serialize key pairs (of different key sizes)</li> 
   <li>encrypt and serialize signed floating point numbers given a public key</li> 
   <li>add two encrypted numbers together</li> 
   <li>add an encrypted number to a plaintext number</li> 
   <li>multiply an encrypted number by a plaintext number</li> 
   <li>decrypt an encrypted number given the private key</li> 
  </ul> 
  <p>Build the <code>javallier</code> CLI tool:</p> 
  <pre><code>sbt assembly
</code></pre> 
  <p>This creates a <code>javallier.jar</code> jar file in:</p> 
  <pre><code>./target/scala-2.10
</code></pre> 
  <p>To run it:</p> 
  <pre><code>java -jar javallier.jar &lt;COMMAND&gt;  
</code></pre> 
  <p>Alternatively you can run directly with sbt:</p> 
  <pre><code>sbt "runMain com.n1analytics.paillier.cli.Main"
</code></pre> 
  <h3><a id="user-content-example-cli-session" class="anchor" href="https://github.com/n1analytics/javallier#example-cli-session" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Example CLI session</h3> 
  <pre><code>$ java -jar javallier.jar genpkey --keysize 256 -m "Example keypair" examplekey.priv
$ cat examplekey.priv | python -m json.tool
{
    "kty": "DAJ",
    "key_ops": [
        "decrypt"
    ],
    "pub": {
        "alg": "PAI-GN1",
        "kty": "DAJ",
        "kid": "Example keypair",
        "n": "AI9TjNmoL7p3j_D-RNK5AJQC1uDMtVvdy0MNi6ctj6Xn",
        "key_ops": [
            "encrypt"
        ]
    },
    "kid": "Example keypair",
    "lambda": "AI9TjNmoL7p3j_D-RNK5AJJ3odV_yUj39nLtFBMcrsoQ",
    "mu": "MDo136LqeN-R5W4kT2azGc6Y-cD77f6r_B6zncj48Eo"
}


$ java -jar javallier.jar extract examplekey.priv examplekey.pub
$ java -jar javallier.jar encrypt examplekey.pub "12" -o encA.json
$ java -jar javallier.jar encrypt examplekey.pub "8" -o encB.json
$ java -jar javallier.jar addenc examplekey.pub encA.json encB.json -o encC.json
$ java -jar javallier.jar decrypt examplekey.priv encC.json
20.0
$ java -jar javallier.jar add -o encD.json examplekey.pub encA.json 12
$ java -jar javallier.jar decrypt examplekey.priv encD.json
24.0
</code></pre> 
  <h2><a id="user-content-releases" class="anchor" href="https://github.com/n1analytics/javallier#releases" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Releases</h2> 
  <p>Releases will be signed by <a href="https://keybase.io/hardbyte" target="_blank">Brian Thorne</a> with the PGP key <a href="https://pgp.mit.edu/pks/lookup?op=vindex&amp;search=0x22ADF3BFC18347DE" target="_blank">22AD F3BF C183 47DE</a></p> 
  <h3><a id="user-content-creating-a-release" class="anchor" href="https://github.com/n1analytics/javallier#creating-a-release" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Creating a release</h3> 
  <p>Update the version in <code>build.sbt</code> using <a href="http://semver.org/" target="_blank">semantic versioning</a>. Update the <a href="https://github.com/n1analytics/javallier/blob/master/CHANGELOG" target="_blank">CHANGELOG</a>, git tag the new release.</p> 
  <p>Ensure you have sonatype credentials in <code>~/.sbt/0.13/sonatype.sbt</code>, and <a href="http://www.scala-sbt.org/sbt-pgp/" target="_blank">install the pgp plugin</a> (<code>~/.sbt/0.13/plugins/pgp.sbt</code>). Run <code>sbt publishSigned</code>, then visit the <a href="https://oss.sonatype.org/#stagingRepositories" target="_blank">staging repositories</a> of sonatype. <strong>Close</strong> the staging repository which will allow you to move to the release channel. Once you have successfully closed the staging repository, you can <strong>release</strong> it.</p> 
  <p>For more information:</p> 
  <ul> 
   <li><a href="http://www.scala-sbt.org/release/docs/Using-Sonatype.html" target="_blank">http://www.scala-sbt.org/release/docs/Using-Sonatype.html</a></li> 
   <li><a href="http://central.sonatype.org/pages/releasing-the-deployment.html" target="_blank">http://central.sonatype.org/pages/releasing-the-deployment.html</a></li> 
  </ul> 
  <h2><a id="user-content-limitation" class="anchor" href="https://github.com/n1analytics/javallier#limitation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Limitation</h2> 
  <p>Adding two encrypted numbers where the exponents differs wildly may result in overflow in the <code>EncryptedNumber</code> domain. The addition result can be successfully decrypted and decoded but the computation result is incorrect. Current implementation does not detect such overflow. </p> 
 </article>
</div>