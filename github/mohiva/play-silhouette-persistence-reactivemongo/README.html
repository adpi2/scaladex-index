<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/mohiva/play-silhouette-persistence-reactivemongo#silhouette-persistence-reactivemongo----" aria-hidden="true" class="anchor" id="user-content-silhouette-persistence-reactivemongo----" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Silhouette Persistence ReactiveMongo <a href="https://maven-badges.herokuapp.com/maven-central/com.mohiva/play-silhouette-persistence-reactivemongo_2.11" target="_blank"><img src="https://camo.githubusercontent.com/58ed2696f216c52e813740c80c7250a8659d7f62/68747470733a2f2f6d6176656e2d6261646765732e6865726f6b756170702e636f6d2f6d6176656e2d63656e7472616c2f636f6d2e6d6f686976612f706c61792d73696c686f75657474652d70657273697374656e63652d72656163746976656d6f6e676f5f322e31312f62616467652e737667" alt="Maven Central" data-canonical-src="https://maven-badges.herokuapp.com/maven-central/com.mohiva/play-silhouette-persistence-reactivemongo_2.11/badge.svg" style="max-width:100%;"></a> <a href="https://travis-ci.org/mohiva/play-silhouette-persistence-reactivemongo" target="_blank"><img src="https://camo.githubusercontent.com/634e900ee2afefbaac01a082b01fe44074068826/68747470733a2f2f7472617669732d63692e6f72672f6d6f686976612f706c61792d73696c686f75657474652d70657273697374656e63652d72656163746976656d6f6e676f2e706e67" alt="Build Status" data-canonical-src="https://travis-ci.org/mohiva/play-silhouette-persistence-reactivemongo.png" style="max-width:100%;"></a> <a href="https://coveralls.io/github/mohiva/play-silhouette-persistence-reactivemongo?branch=master" target="_blank"><img src="https://camo.githubusercontent.com/f35f36696889c8c40ef275d893e53acedadb8a6f/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6d6f686976612f706c61792d73696c686f75657474652d70657273697374656e63652d72656163746976656d6f6e676f2f62616467652e7376673f6272616e63683d6d617374657226736572766963653d676974687562" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/mohiva/play-silhouette-persistence-reactivemongo/badge.svg?branch=master&amp;service=github" style="max-width:100%;"></a> <a href="https://gitter.im/mohiva/play-silhouette?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Gitter" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"></a></h1> 
  <p>An implementation of the <a href="http://www.silhouette.rocks/" target="_blank">Silhouette</a> persistence layer using <a href="http://reactivemongo.org/" target="_blank">ReactiveMongo</a>.</p> 
  <h2><a href="https://github.com/mohiva/play-silhouette-persistence-reactivemongo#usage" aria-hidden="true" class="anchor" id="user-content-usage" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>In your project/Build.scala:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-s"><span class="pl-pds">"</span>com.mohiva<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>play-silhouette-persistence-reactivemongo<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>5.0.0<span class="pl-pds">"</span></span>
)</pre>
  </div> 
  <p>An instance of the DAO can be created as follow:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">implicit</span> <span class="pl-k">lazy</span> <span class="pl-k">val</span> <span class="pl-en">format</span> <span class="pl-k">=</span> <span class="pl-en">Json</span>.format[<span class="pl-en">OAuth1Info</span>]
<span class="pl-k">val</span> <span class="pl-en">dao</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">MongoAuthInfoDAO</span>[<span class="pl-en">OAuth1Info</span>](reactiveMongoApi, config)</pre>
  </div> 
  <p>The Json format is needed to serialize the auth info data into Json. It will be passed implicitly to the DAO instance. The ReactiveMongo API and the Play configuration instance should be provided through dependency injection.</p> 
  <p>To provide bindings for Guice, you should implement a provider for every auth info type:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">/**</span></span>
<span class="pl-c"> * Provides the implementation of the delegable OAuth1 auth info DAO.</span>
<span class="pl-c"> *</span>
<span class="pl-c"> * <span class="pl-k">@param</span> <span class="pl-v">reactiveMongoApi</span> The ReactiveMongo API.</span>
<span class="pl-c"> * <span class="pl-k">@param</span> <span class="pl-v">config</span> The Play configuration.</span>
<span class="pl-c"> * <span class="pl-k">@return</span> The implementation of the delegable OAuth1 auth info DAO.</span>
<span class="pl-c"> <span class="pl-c">*/</span></span>
<span class="pl-k">@</span><span class="pl-en">Provides</span>
<span class="pl-k">def</span> <span class="pl-en">provideOAuth1InfoDAO</span>(<span class="pl-v">reactiveMongoApi</span>: <span class="pl-en">ReactiveMongoApi</span>, <span class="pl-v">config</span>: <span class="pl-en">Configuration</span>)<span class="pl-k">:</span> <span class="pl-en">DelegableAuthInfoDAO</span>[<span class="pl-en">OAuth1Info</span>] <span class="pl-k">=</span> {
  <span class="pl-k">implicit</span> <span class="pl-k">lazy</span> <span class="pl-k">val</span> <span class="pl-en">format</span> <span class="pl-k">=</span> <span class="pl-en">Json</span>.format[<span class="pl-en">OAuth1Info</span>]
  <span class="pl-k">new</span> <span class="pl-en">MongoAuthInfoDAO</span>[<span class="pl-en">OAuth1Info</span>](reactiveMongoApi, config)
}</pre>
  </div> 
  <h2><a href="https://github.com/mohiva/play-silhouette-persistence-reactivemongo#configuration" aria-hidden="true" class="anchor" id="user-content-configuration" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Configuration</h2> 
  <p>To define the collection name under which the auth info data should be saved, you must provide a configuration setting in the form <code>silhouette.persistence.reactivemongo.collection.[AuthInfo]</code>.</p> 
  <p>As example:</p> 
  <pre><code>silhouette {
  persistence.reactivemongo.collection.OAuth1Info = "auth.info.oauth1"
  persistence.reactivemongo.collection.OAuth2Info = "auth.info.oauth2"
  persistence.reactivemongo.collection.OpenIDInfo = "auth.info.oauth1"
  persistence.reactivemongo.collection.PasswordInfo = "auth.info.passwords"
}
</code></pre> 
  <p>If no configuration can be found, then the DAO uses automatically the name of the auth info class prefixed with <code>auth.</code>. So for the <code>OAuth1Info</code> type, it uses the collection name <code>auth.OAuth1Info</code>.</p> 
  <h2><a href="https://github.com/mohiva/play-silhouette-persistence-reactivemongo#license" aria-hidden="true" class="anchor" id="user-content-license" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>The code is licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License v2.0</a> and the documentation under <a href="http://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a>.</p> 
 </article>
</div>