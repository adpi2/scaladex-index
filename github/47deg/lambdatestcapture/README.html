<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-lambdatestcapture" class="anchor" href="https://github.com/47deg/lambdatestcapture#lambdatestcapture" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>LambdaTestCapture</h1> 
  <p><a href="https://maven-badges.herokuapp.com/maven-central/com.fortysevendeg/lambda-test-capture_2.12" target="_blank"><img src="https://camo.githubusercontent.com/9f8196e27a7d43ec01b1915270e295dd0d16db70/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f636f6d2e666f727479736576656e6465672f6c616d6264612d746573742d636170747572655f322e31322e737667" alt="Maven Central" data-canonical-src="https://img.shields.io/maven-central/v/com.fortysevendeg/lambda-test-capture_2.12.svg" style="max-width:100%;"></a></p> 
  <p>LambdaTestCapture is an extension to <a href="https://github.com/47deg/LambdaTest" target="_blank">LambdaTest</a>. LambdaTest is a functional testing library for Scala. LambdaTestCapture extends LambdaTest with support for capturing test output as an in-memory data structure or as Json to a file or log.</p> 
  <p>One of the goals of LambdaTest was to provide a small clean system that can be easily extended to suport new features and to customize it for specific projects. LambdaTest includes the ability to define reporters, classes that receive test results and output them. LambdaTestCapture is a good example of this extensibility where without any changes to the base system, it adds test result capture by defining the new <code>capture</code> function and a new capture reporter.</p> 
  <p>You should review the features of the base LambdaTest system before reading the documentation below.</p> 
  <h2><a id="user-content-quick-start" class="anchor" href="https://github.com/47deg/lambdatestcapture#quick-start" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Quick Start</h2> 
  <p>Include LambdaTestCapture jar</p> 
  <pre><code>"com.fortysevendeg" % "lambda-test-capture_2.12" % "1.3.0" % "test"
</code></pre> 
  <p>In your tests include</p> 
  <pre><code>import com.fortysevendeg.lambdatest._
import CaptureLambdaReporter.capture
</code></pre> 
  <h2><a id="user-content-example" class="anchor" href="https://github.com/47deg/lambdatestcapture#example" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Example</h2> 
  <p>See the <a href="https://github.com/47deg/LambdaTestAsync/blob/master/src/test/scala/demo/Example.scala" target="_blank">Example</a> demo. Here we run the test using <code>capture</code> rather than <code>run</code>. The result of <code>capture</code> is a data structure consisting of maps and lists that contains the test results.</p> 
  <p>This data structure can be converted to Json using the <code>Pretty</code> or <code>Compact</code> fucntions defined in <a href="https://github.com/nestorpersist/json" target="_blank">https://github.com/nestorpersist/json</a>.</p> 
  <p>Test results can also be logged using the Persist Scala logger <a href="https://github.com/nestorpersist/logging" target="_blank">https://github.com/nestorpersist/logging</a>.</p> 
  <h2><a id="user-content-example-json" class="anchor" href="https://github.com/47deg/lambdatestcapture#example-json" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Example Json</h2> 
  <p>Here is the Json output from the Example demo. Note that for the in-memory data structure, Json objects are represented as<code>Map[String,Any]</code> and Json arrays are represented as <code>List[Any]</code>.</p> 
  <pre><code>{"name":"example",
 "result":{"failed":1,"tests":2},
 "sub":
   [{"cmd":"label",
     "msg":"Initial Tests",
     "sub":
       [{"cmd":"test",
         "msg":"Eq test",
         "ok":true,
         "sub":
           [{"cmd":"assert",
             "data":"3",
             "msg":"Int eq test",
             "ok":true,
             "pos":{"file":"Example.scala","line":15}
            }
           ]
        }
       ]
    },
    {"cmd":"label",
     "msg":"Simple Tests",
     "sub":
       [{"cmd":"test",
         "msg":"Assert Test",
         "ok":false,
         "sub":
           [{"cmd":"assert",
             "data":"1 != 2",
             "msg":"Bad Int eq test",
             "ok":false,
             "pos":{"file":"Example.scala","line":20}
            },
            {"cmd":"assert",
             "msg":"should work",
             "ok":true,
             "pos":{"file":"Example.scala","line":21}
            }
           ]
        }
       ]
    }
   ]
}
</code></pre> 
 </article>
</div>