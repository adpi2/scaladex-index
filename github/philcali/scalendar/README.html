<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-scalendar" class="anchor" href="https://github.com/philcali/scalendar#scalendar" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scalendar</h1> 
  <p>Scalendar is a pure Scala date api that interoperates quite nicely with <code>java.util.Calendar</code> and <code>java.util.Date</code>. Ideas evolved from <a href="http://philcalicode.blogspot.com/" target="_blank">my blog</a>.</p> 
  <h2><a id="user-content-goals" class="anchor" href="https://github.com/philcali/scalendar#goals" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Goals</h2> 
  <ul> 
   <li>Immutability</li> 
   <li>Interoperability</li> 
   <li>Easy date traversal</li> 
   <li>Easy date arithmetic</li> 
  </ul> 
  <h2><a id="user-content-construction" class="anchor" href="https://github.com/philcali/scalendar#construction" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Construction</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// Everything in single import</span>
<span class="pl-k">import</span> <span class="pl-v">scalendar.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">now</span> <span class="pl-k">=</span> <span class="pl-en">Scalendar</span>.now

<span class="pl-c">// Normalcy</span>
<span class="pl-c">// 3 is March</span>
<span class="pl-c">// Include these enumerations if you get confused</span>
<span class="pl-c">// ie: What day is Sunday? 0, 1, 7? Use Day.Sunday</span>
<span class="pl-k">import</span> <span class="pl-v">Month.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">Day.</span><span class="pl-v">_</span>
now.day(<span class="pl-c1">3</span>).hour(<span class="pl-c1">15</span>).month(<span class="pl-c1">3</span>)

<span class="pl-k">val</span> <span class="pl-en">april</span> <span class="pl-k">=</span> <span class="pl-en">Scalendar</span>(year <span class="pl-k">=</span> <span class="pl-c1">2012</span>,
                      month <span class="pl-k">=</span> <span class="pl-en">April</span>,
                      day <span class="pl-k">=</span> <span class="pl-c1">1</span>)

<span class="pl-k">val</span> <span class="pl-en">wed</span> <span class="pl-k">=</span> now.day.inWeek(<span class="pl-en">Wednesday</span>)</pre>
  </div> 
  <h2><a id="user-content-date-arithmetic" class="anchor" href="https://github.com/philcali/scalendar#date-arithmetic" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Date Arithmetic</h2> 
  <p>Adding to a time could not be easier.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">tomorrow</span> <span class="pl-k">=</span> <span class="pl-en">Scalendar</span>.now <span class="pl-k">+</span> <span class="pl-c1">1.</span>day

<span class="pl-k">val</span> <span class="pl-en">far</span> <span class="pl-k">=</span> tomorrow <span class="pl-k">+</span> <span class="pl-c1">3.</span>months <span class="pl-k">-</span> <span class="pl-c1">4.</span>weeks

<span class="pl-k">val</span> <span class="pl-en">away</span> <span class="pl-k">=</span> far <span class="pl-k">+</span> <span class="pl-c1">5.</span>years <span class="pl-k">+</span> <span class="pl-c1">14.</span>months <span class="pl-k">-</span> <span class="pl-c1">5667.</span>days</pre>
  </div> 
  <h2><a id="user-content-obtaining-fields" class="anchor" href="https://github.com/philcali/scalendar#obtaining-fields" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Obtaining fields</h2> 
  <p>Scalendar API provides a very uniform way to access calendar fields. Every field has a <code>name</code> that tries to create an English name for the field, and a <code>value</code>, which is its numeric value:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">now</span> <span class="pl-k">=</span> <span class="pl-en">Scalendar</span>.now

now.day.name
now.day.value
now.month.name
now.month.value
now.isWeekday
now.isWeekend
now.day.inWeek
now.day.inYear
now.week.value
now.isMorning
now.isAM
<span class="pl-c">// etc</span></pre>
  </div> 
  <h2><a id="user-content-timezone-support" class="anchor" href="https://github.com/philcali/scalendar#timezone-support" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>TimeZone Support</h2> 
  <p>Given a <code>Scalendar</code> object, one can easily finding the TimeZone associated with it. All TimeZone related operations are acquired from the <code>tz</code> field.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">tz</span> <span class="pl-k">=</span> now.tz

<span class="pl-k">val</span> <span class="pl-en">pst</span> <span class="pl-k">=</span> now.tz(<span class="pl-s"><span class="pl-pds">"</span>PST<span class="pl-pds">"</span></span>)

<span class="pl-c">// Find the offset (in millis) from UTC</span>
tz.offset

<span class="pl-c">// Find the offset (in millis) from another TZ</span>
tz.offset(pst)</pre>
  </div> 
  <h2><a id="user-content-time-converions--periods" class="anchor" href="https://github.com/philcali/scalendar#time-converions--periods" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Time Converions / Periods</h2> 
  <p>The Scalendar library now supports periods of time, and easy time conversions. The programmer should never have to write silly mathematical conversions.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">period</span> <span class="pl-k">=</span> <span class="pl-c1">4.</span>weeks <span class="pl-k">+</span> <span class="pl-c1">30.</span>hours <span class="pl-k">-</span> <span class="pl-c1">8.</span>minutes

println(period.into.seconds) <span class="pl-c">// Going to be big!</span>
println(period.into.days) <span class="pl-c">// A lot smaller</span>

println(<span class="pl-s"><span class="pl-pds">"</span>Whoa, that timespan you mentioned is actually %d hours<span class="pl-pds">"</span></span> format(period.into.hours))

<span class="pl-k">val</span> <span class="pl-en">future</span> <span class="pl-k">=</span> <span class="pl-en">Scalendar</span>.now <span class="pl-k">+</span> period</pre>
  </div> 
  <p>You get the idea.</p> 
  <h2><a id="user-content-creating-durations" class="anchor" href="https://github.com/philcali/scalendar#creating-durations" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Creating Durations</h2> 
  <p>Creating a meaningful duration of time very simple to create with the <code>to</code> dsl word.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">duration</span> <span class="pl-k">=</span> <span class="pl-en">Scalendar</span>.now to <span class="pl-en">Scalendar</span>.now <span class="pl-k">+</span> <span class="pl-c1">1.</span>week

<span class="pl-c">// Determining delta</span>
duration.delta.days
duration.delta.months
<span class="pl-c">// etc</span></pre>
  </div> 
  <h2><a id="user-content-traversing-a-duration" class="anchor" href="https://github.com/philcali/scalendar#traversing-a-duration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Traversing a Duration</h2> 
  <p>There are two ways to traverse a duration:</p> 
  <ol> 
   <li>The <code>traverse</code> method</li> 
   <li>The <code>by</code> dsl word</li> 
  </ol> 
  <p>The following code will illustrate their use:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// by will return a list of durations, which</span>
<span class="pl-c">// can be operated on as a List</span>
<span class="pl-c">// This only returns MWF</span>
<span class="pl-k">val</span> <span class="pl-en">mwf</span> <span class="pl-k">=</span> duration by <span class="pl-c1">1.</span>day filter(_.day.name <span class="pl-k">match</span> {
  <span class="pl-k">case</span> <span class="pl-s"><span class="pl-pds">"</span>Monday<span class="pl-pds">"</span></span> <span class="pl-k">|</span> <span class="pl-s"><span class="pl-pds">"</span>Wednesday<span class="pl-pds">"</span></span> <span class="pl-k">|</span> <span class="pl-s"><span class="pl-pds">"</span>Friday<span class="pl-pds">"</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">true</span>
  <span class="pl-k">case</span> _ <span class="pl-k">=&gt;</span> <span class="pl-c1">false</span>
})

<span class="pl-c">// traverse returns by traversal</span>
<span class="pl-k">val</span> <span class="pl-en">html</span> <span class="pl-k">=</span>
&lt;<span class="pl-ent">table</span>&gt;{
  duration.traverse(<span class="pl-c1">1.</span>week) { weekDur <span class="pl-k">=&gt;</span>
    &lt;<span class="pl-ent">tr</span>&gt;{
      weekDur.traverse(<span class="pl-c1">1.</span>day) { dayDur <span class="pl-k">=&gt;</span>
        &lt;<span class="pl-ent">td</span>&gt;{ dayDur.day.value.toString }&lt;/<span class="pl-ent">td</span>&gt;
      }
    }&lt;/<span class="pl-ent">tr</span>&gt;
  }
}&lt;/<span class="pl-ent">table</span>&gt;

println(html)</pre>
  </div> 
  <p>View more examples of how to use the library in the test source file.</p> 
  <h2><a id="user-content-requirements" class="anchor" href="https://github.com/philcali/scalendar#requirements" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Requirements</h2> 
  <ul> 
   <li>scala (Cross compiled / published) 
    <ul> 
     <li>2.10.0</li> 
     <li>2.9.2</li> 
     <li>2.9.1-1</li> 
     <li>2.9.1</li> 
     <li>2.9.0-1</li> 
     <li>2.9.0 </li> 
     <li>2.8.2 </li> 
     <li>2.8.1</li> 
    </ul></li> 
  </ul> 
  <h2><a id="user-content-using" class="anchor" href="https://github.com/philcali/scalendar#using" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Using</h2> 
  <p>Installing the library as a dependency is easy using maven or sbt. In sbt,</p> 
  <pre><code>libraryDependencies += "com.github.philcali" %% "scalendar" % "0.1.4"
</code></pre> 
  <h2><a id="user-content-example-program" class="anchor" href="https://github.com/philcali/scalendar#example-program" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Example Program</h2> 
  <p>I have included a sample program, which includes parsing data from a log file, and checking its date.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scalendar.</span><span class="pl-v">_</span>

<span class="pl-c">// Log time pattern</span>
<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">pattern</span> <span class="pl-k">=</span> <span class="pl-en">Pattern</span>(<span class="pl-s"><span class="pl-pds">"</span>M/d/yyy<span class="pl-pds">"</span></span>)

<span class="pl-k">val</span> <span class="pl-en">tomorrow</span> <span class="pl-k">=</span> <span class="pl-en">Scalendar</span>.now <span class="pl-k">+</span> <span class="pl-c1">1.</span>day

<span class="pl-c">// Day duration from yesterday's run </span>
<span class="pl-k">val</span> <span class="pl-en">dayIn</span> <span class="pl-k">=</span> (<span class="pl-en">Scalendar</span>.now <span class="pl-k">-</span> <span class="pl-c1">1.</span>day) to <span class="pl-en">Scalendar</span>.now

<span class="pl-c">// open csv</span>
<span class="pl-k">import</span> <span class="pl-v">scala.io.Source.</span>{ <span class="pl-v">fromFile</span> <span class="pl-k">=&gt;</span> <span class="pl-v">open</span> }

<span class="pl-c">// Prints out log entry</span>
<span class="pl-k">for</span>(line <span class="pl-k">&lt;</span><span class="pl-k">-</span> open(<span class="pl-s"><span class="pl-pds">"</span>test.log<span class="pl-pds">"</span></span>).getLines;
  <span class="pl-k">val</span> <span class="pl-en">split</span> <span class="pl-k">=</span> line.split(<span class="pl-s"><span class="pl-pds">"</span>,<span class="pl-pds">"</span></span>);
  <span class="pl-k">val</span> <span class="pl-en">time</span> <span class="pl-k">=</span> split(<span class="pl-c1">3</span>);
  <span class="pl-k">if</span> (time isIn dayIn) {
  println(line)
}

println(<span class="pl-s"><span class="pl-pds">"</span>Expect the next run on %d<span class="pl-pds">"</span></span> format(pattern.format(tomorrow)))</pre>
  </div> 
 </article>
</div>