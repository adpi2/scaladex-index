<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-authentikat-jwt---claims-based-jwt-implementation-for-scala" class="anchor" href="https://github.com/jasongoodwin/authentikat-jwt#authentikat-jwt---claims-based-jwt-implementation-for-scala" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>authentikat-jwt - Claims Based JWT Implementation for Scala</h1> 
  <p><a href="https://gitter.im/jasongoodwin/authentikat-jwt?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Join the chat at https://gitter.im/jasongoodwin/authentikat-jwt" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"></a></p> 
  <p><a href="https://camo.githubusercontent.com/0b422b00e042cdff8d019ab79e2357ab525c5916/68747470733a2f2f7472617669732d63692e6f72672f6a61736f6e676f6f6477696e2f61757468656e74696b61742d6a77742e7376673f6272616e63683d6d6173746572" target="_blank"><img src="https://camo.githubusercontent.com/0b422b00e042cdff8d019ab79e2357ab525c5916/68747470733a2f2f7472617669732d63692e6f72672f6a61736f6e676f6f6477696e2f61757468656e74696b61742d6a77742e7376673f6272616e63683d6d6173746572" alt="travis-icon" data-canonical-src="https://travis-ci.org/jasongoodwin/authentikat-jwt.svg?branch=master" style="max-width:100%;"></a></p> 
  <p>A simple scala-jwt library. JWT - pronounced 'jot' - is a claims-based authentication standard.</p> 
  <h1><a id="user-content-045" class="anchor" href="https://github.com/jasongoodwin/authentikat-jwt#045" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.4.5</h1> 
  <p>Please update to 0.4.5 as soon as possible. Previous versions may be vulnerable to injection in cases where user controls values in the claims.</p> 
  <h1><a id="user-content-100-milestone-status" class="anchor" href="https://github.com/jasongoodwin/authentikat-jwt#100-milestone-status" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>1.0.0 Milestone Status</h1> 
  <p>Currently 1.0.0-M1 is in central which has experimental changes:</p> 
  <ul> 
   <li>All signing algorithms supported (RSA, PS, ES, HS)</li> 
   <li>Seperate verifier and signer to allow eg public and private keys depending on signing algorithm</li> 
   <li>Because the verifier must be explicitly passed, the API is inherently safer in ensuring the token is signed with the expected algorithm.</li> 
  </ul> 
  <p>When released, the API will contain additional methods to aid in validating different areas of the tokens.</p> 
  <h1><a id="user-content-setup" class="anchor" href="https://github.com/jasongoodwin/authentikat-jwt#setup" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Setup</h1> 
  <p>Authentikat-Jwt has been published for scala 2.10, 2.11 and 2.12:</p> 
  <p>Add the resolver and the dependency:</p> 
  <pre><code>resolvers ++= Seq("snapshots", "releases").map(Resolver.sonatypeRepo)

libraryDependencies ++= Seq(
  "com.jason-goodwin" %% "authentikat-jwt" % "0.4.5"
)
</code></pre> 
  <h1><a id="user-content-jwt---a-claims-based-authentication" class="anchor" href="https://github.com/jasongoodwin/authentikat-jwt#jwt---a-claims-based-authentication" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>JWT - A Claims Based Authentication</h1> 
  <p>Before we get into how to use the library, we'll explore a usage example to demonstrate how claims based authentication can be used.</p> 
  <p>Let's assume we have a secret key, and the key is "secret-key". Let's start the usage example imagining we have an http based service or web application. We receive an http request to do something in our http server application with a header containing a JWT (pronounced "Jot") We need to validate the request is authenticated by analyzing the JWT. First, let's look at the structure of a JWT.</p> 
  <p>A token consists of 3 dot separated values. The token our server receives:</p> 
  <pre><code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJIZXkiOiJmb28ifQ==.e89b48f1e2016b78b805c1430d5a139e62bba9237ff3e34bad56dae6499b2647
^JwtHeader                           ^JwtClaimsSet        ^JsonWebSignature - One way hash of the JwtHeader and JwtClaimsSet
</code></pre> 
  <p>The JwtHeader and JwtClaimsSet are Base64Encoded Json - they can be decoded and used. The signiture is used to validate the claims were created by someone with the secret key and to ensure they have not been modified since issuing.</p> 
  <p>In the example above, the header and claims contain the following simple json:</p> 
  <pre><code>Header:
{"alg":"HS256","typ":"JWT"}

ClaimsSet:
{"Hey":"foo"}
</code></pre> 
  <h2><a id="user-content-jwtheader" class="anchor" href="https://github.com/jasongoodwin/authentikat-jwt#jwtheader" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>JwtHeader</h2> 
  <pre><code>Header:
{"alg":"HS256","typ":"JWT"} + Base64Encoding = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9
</code></pre> 
  <p>The first part of the token is the header. The header contains info needed to understand the content of the key.</p> 
  <ul> 
   <li>alg: It contains the algorith used for the Signature - in the example case, HMAC SHA-256 .</li> 
   <li>typ: It contains an optional typ (mimeType) field - default containing "JWT" to indicate this is a Json Web Token.</li> 
   <li>cty: It can also contain a content type ("cty") field, This field, if used, could indicate that the content is another token. (This feature is not currently supported.)</li> 
  </ul> 
  <p>Currently supported encryption algorithms:</p> 
  <ul> 
   <li>"none" gives a blank signature. It could be used for passing data around in a small space such as a header.</li> 
   <li>"HS256"</li> 
   <li>"HS384"</li> 
   <li>"HS512"</li> 
  </ul> 
  <h2><a id="user-content-jwtclaimsset" class="anchor" href="https://github.com/jasongoodwin/authentikat-jwt#jwtclaimsset" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>JwtClaimsSet</h2> 
  <pre><code>ClaimsSet:
{"Hey":"foo"} + Base64Encoding = eyJIZXkiOiJmb28ifQ==
</code></pre> 
  <p>The second part of the token is the claims. Jwt is claims based authentication. See: <a href="http://en.wikipedia.org/wiki/Claims-based_identity" target="_blank">http://en.wikipedia.org/wiki/Claims-based_identity</a></p> 
  <p>The Claims Set can contain any number of public or private claims. Because the claims are used to create a signature with a secret key, they cannot be modified after the token is signed.</p> 
  <p>The optional public claims that the standard supports are defined in the JWT draft here: <a href="http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html" target="_blank">http://self-issued.info/docs/draft-ietf-oauth-json-web-token.html</a> They include items like Issuer (iss) that indicates who the token was created by. It can contain an Expiry (exp) to indicate when the token will expire.</p> 
  <p>Private claims can be anything (but obviously should not duplicate keys in the public claims space). Consider data that might be used to draw user session info in a UI. Including a username in the private claims is useful for validating the token is being used by the appropriate user.</p> 
  <h2><a id="user-content-signature" class="anchor" href="https://github.com/jasongoodwin/authentikat-jwt#signature" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Signature</h2> 
  <pre><code>{"Hey":"foo"} + Base64Encoding + HmacSha256 = e89b48f1e2016b78b805c1430d5a139e62bba9237ff3e34bad56dae6499b2647
</code></pre> 
  <p>The third portion of the token is a one way hash of the Base64 encoded claims set. In the example, it's a hash using a secret key "secretkey" of the string "eyJIZXkiOiJmb28ifQ==" using Hmac SHA256. The result is Hex String encoded for a value of: e89b48f1e2016b78b805c1430d5a139e62bba9237ff3e34bad56dae6499b2647</p> 
  <h2><a id="user-content-jwt-use-cases" class="anchor" href="https://github.com/jasongoodwin/authentikat-jwt#jwt-use-cases" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>JWT Use Cases</h2> 
  <p>Let's take a moment to take stock of what this gives us. We have a set of claims that can include any data at all including an issuer and an expiry time. Whenever your Security Token Service issues a token, it will be signed against claims. The claims on any token we recieve back can always be validated as no-one will have the secret key so any attempt to change the claims will result in a failure to validate the token.</p> 
  <p>A couple quick use cases: If used between services behind a firewall, both the message creator and the receiver would have the secret key. In this way, they can validate the authenticity of messages between servers.</p> 
  <p>For a user of a web application, a token can issued by the security token service on login. That can then be used for both writing use info in the UI from the claims and also for authenticating requests for other assets. As an example, the claims could have username, age, timezone, etc which can be used on the client side. Then the user always provides the token in an "authorization" header on requests for restricted resources such as creating a post on their timeline. The token can be authenticated to validate the user is infact who they say they are. If used like this, the token can be used instead of, or in conjunction with, a session store.</p> 
  <p>The nice thing about JWT is that you use a header for the data so it gets around CORS problems seen with cookies. The token can be validated by any service that can validate the token with the secret key.</p> 
  <h1><a id="user-content-usage-examples" class="anchor" href="https://github.com/jasongoodwin/authentikat-jwt#usage-examples" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage Examples</h1> 
  <h2><a id="user-content-creating-a-token" class="anchor" href="https://github.com/jasongoodwin/authentikat-jwt#creating-a-token" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Creating a Token</h2> 
  <p>You can follow along by running 'sbt console' and typing the commands.</p> 
  <p>We will recreate the token from the example here. First, import jwt:</p> 
  <pre><code>import authentikat.jwt._
</code></pre> 
  <p>There are two classes you first need to create: JwtHeader and JwtClaimsSest</p> 
  <p>The header takes an Algorithm. Eg:</p> 
  <pre><code>val header = JwtHeader("HS256")
</code></pre> 
  <p>There are 3 ClaimsSet constructors. Here we'll use the Map[String, Any] constructor. Other options are passing in a Json4s JValue or a Json String. You should check the spec to see what common public claims are in use.</p> 
  <p>We will use a private claim called 'Hey'. Eg:</p> 
  <pre><code>val claimsSet = JwtClaimsSet(Map("Hey" -&gt; "foo"))
</code></pre> 
  <p>Once you have a JwtClaimsSet and JwtHeader, you can make a new token with your secret key:</p> 
  <pre><code>val jwt: String = JsonWebToken(header, claimsSet, "secretkey")
</code></pre> 
  <p>That will return your token - you can use it now!</p> 
  <pre><code>jwt: String = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJIZXkiOiJmb28ifQ==.e89b48f1e2016b78b805c1430d5a139e62bba9237ff3e34bad56dae6499b2647
</code></pre> 
  <h2><a id="user-content-validating-a-token" class="anchor" href="https://github.com/jasongoodwin/authentikat-jwt#validating-a-token" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Validating a Token</h2> 
  <p>Validating a token is easy - you just pass it in to a method with the key: Note you validate the entire token - don't make the mistake of passing in the encrypted claims only.</p> 
  <pre><code>val isValid = JsonWebToken.validate(jwt, "secretkey")
</code></pre> 
  <p>isValid: Boolean = true</p> 
  <h2><a id="user-content-parsing-a-token" class="anchor" href="https://github.com/jasongoodwin/authentikat-jwt#parsing-a-token" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Parsing a Token</h2> 
  <p>Pasing a Token is also simple thanks to an extractor. You just pattern match against the jwt string. You will get the a JwtHeader, a JwtClaimsSetJvalue (json4s AST) and the signature. We can import some implicits to pimp out the object and give it some extra functionality. Here is an example that will give you back the claims in a scala.util.Try[Map[String, String]]. (It will fail if the json tree is not flat.)</p> 
  <pre><code>val claims: Option[Map[String, String]] = jwt match {
        case JsonWebToken(header, claimsSet, signature) =&gt;
          claimsSet.asSimpleMap.toOption
        case x =&gt;
          None
}
</code></pre> 
  <p>This is the simplest way to get your data. Now you can work with at like any Option[Map[String, String].</p> 
  <pre><code>scala&gt; claims.getOrElse(Map.empty[String, String]).get("Hey")
res1: Option[String] = Some(foo)
</code></pre> 
  <p>For complex json (eg nested objects), it is possible to work with the json4s JValue directly to allow for more complex use cases.</p> 
  <pre><code>import org.json4s.JsonDSL._
import org.json4s.JValue

val claims: Option[JValue] = jwt match {
        case JsonWebToken(header, claimsSet, signature) =&gt;
          Option(claimsSet.jvalue)
        case x =&gt;
          None
}
</code></pre> 
  <p>That will leave you with an Option[JValue] Now you can work with the jvalue as described in the json4s documentation here: <a href="https://github.com/json4s/json4s" target="_blank">https://github.com/json4s/json4s</a> It's similar to the native scala xml parsing.</p> 
  <pre><code>scala&gt; scala&gt; (claims.get \ "Hey").values == "foo"
       res13: Boolean = true
</code></pre> 
  <h1><a id="user-content-contributing" class="anchor" href="https://github.com/jasongoodwin/authentikat-jwt#contributing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contributing</h1> 
  <p>Contributions very welcome. Fork the repo and make a pull request. Please validate any JWTs created here after making a change: <a href="http://jwt.io/" target="_blank">http://jwt.io/</a> Or create a test with a known correct JWT :)</p> 
  <h1><a id="user-content-licensing" class="anchor" href="https://github.com/jasongoodwin/authentikat-jwt#licensing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Licensing</h1> 
  <p>See attached LICENSE file. Apache2 licenced.</p> 
  <h1><a id="user-content-contributors" class="anchor" href="https://github.com/jasongoodwin/authentikat-jwt#contributors" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contributors</h1> 
  <p>Jason Goodwin</p> 
 </article>
</div>