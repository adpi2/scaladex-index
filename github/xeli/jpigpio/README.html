<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-jpigpio" class="anchor" href="https://github.com/xeli/jpigpio#jpigpio" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>jpigpio</h1> 
  <p>A Java interface to the Raspberry Pi pigpio library</p> 
  <p><a href="http://abyz.co.uk/rpi/pigpio/index.html" target="_blank">Pigpio</a> is a great library for accessing the GPIO pins and other inputs and outputs of a Raspberry Pi. Pigpio provides interfaces for C and Python. However, if what you want to do is use the functions of the library from a Java application, you are stuck. The purpose of this project is to provide a Java interface to the pigpio library.</p> 
  <p>The core of the solution is a Java interface called <code>jpigpio.JPigpio</code>. It is this interface that provides the exposed functions that perform the pigpio requests. Currently, the following pigpio operations are supported:</p> 
  <ul> 
   <li> <p>gpioInitialize</p> </li> 
   <li> <p>gpioTerminate</p> </li> 
   <li> <p>gpioGetMode</p> </li> 
   <li> <p>gpioSetMode</p> </li> 
   <li> <p>gpioRead</p> </li> 
   <li> <p>gpioWrite</p> </li> 
   <li> <p>gpioTrigger</p> </li> 
   <li> <p>gpioSetAlertFunc (Not available for sockets)</p> </li> 
   <li> <p>gpioSetPullUpDown</p> </li> 
   <li> <p>gpioDelay</p> </li> 
   <li> <p>gpioTick</p> </li> 
   <li> <p>gpioShiftOut (Extra)</p> </li> 
   <li> <p>gpioServo</p> </li> 
   <li> <p>i2cOpen</p> </li> 
   <li> <p>i2cClose</p> </li> 
   <li> <p>i2cReadDevice</p> </li> 
   <li> <p>i2cWriteDevice</p> </li> 
   <li> <p>spiOpen</p> </li> 
   <li> <p>spiClose</p> </li> 
   <li> <p>spiRead</p> </li> 
   <li> <p>spiWrite</p> </li> 
   <li> <p>spiXfer</p> </li> 
  </ul> 
  <p>Obviously, this is only a subset of the full and rich capabilities of C and Python pigpio. However, the subset is the starter set we chose to create. If you find you need a pigpio function that is not provided by Java, simply let us know and we will turn it around very quickly. We simply don't want to spend time porting if there is no demand.</p> 
  <p>Since <code>jpigpio.JPigpio</code> is a Java interface, something must implement it. Two separate implementations are provided. One called <code>jpigpio.Pigpio</code> and one called <code>jpigpio.PigpioSocket</code>. Both of them implement the <code>jpigpio.JPigpio</code> interface. The difference between them is how the calls from Java to pigpio are achieved.</p> 
  <h2><a id="user-content-jpigpiopigpiosocket" class="anchor" href="https://github.com/xeli/jpigpio#jpigpiopigpiosocket" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>jpigpio.PigpioSocket</h2> 
  <p>Using this class, your custom Java code can run either on the Raspberry Pi or on a separate machine as long as there is a network connection (TCP/IP). The pigpio function requests are transmitted via sockets to the pigpio supplied demon which is called <code>pigpiod</code> which can listen for incoming requests and service them when they arrive.</p> 
  <p><a href="https://github.com/xeli/jpigpio/blob/master/images/Sockets.png" target="_blank"><img src="https://github.com/xeli/jpigpio/raw/master/images/Sockets.png" alt="text" style="max-width:100%;"></a></p> 
  <h2><a id="user-content-exception-handling" class="anchor" href="https://github.com/xeli/jpigpio#exception-handling" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Exception handling</h2> 
  <p>The pigpio library returns code values which indicate the outcome of a function call. In Java, we have the ability to throw exceptions. As such, if an error is detected when making a jpigpio method call, an exception of type <code>PigpioException</code> is thrown. This makes our logic for error handling much cleaner as we do not have to explicitly check the response values for each of the calls.</p> 
  <p>Upon catching a PigpioException, we can ask for the error code value with the <code>getErrorCode()</code> method.</p> 
  <p>Symbolic definitions for each of the potential errors are supplied as statics on the PigpioException class. For example:</p> 
  <pre><code> PigpioException.PI_BAD_GPIO
</code></pre> 
  <p>will have a value of <code>-3</code> which is the underlying code for the corresponding pigpio error.</p> 
  <pre><code>try {
	// Perform a pigpio function
}
catch(PigpioException e) {
	e.printStackTrace();
	if (e.getErrorCode() == PigpioException.PI_BAD_GPIO) {
		System.out.println("You supplied a bad pin!");
	}
}
</code></pre> 
  <h2><a id="user-content-alert-callbacks" class="anchor" href="https://github.com/xeli/jpigpio#alert-callbacks" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Alert callbacks</h2> 
  <p>The <code>gpioSetAlertFunc</code> method takes a gpio pin and an instance of an <code>Alert</code> class. The <code>Alert</code> is a Java interface that has the following signature:</p> 
  <pre><code>public interface Alert {
	public void alert(int gpio, int level, long tick);
}
</code></pre> 
  <p>This is a callback class. When the state of the gpio pin changes, the <code>alert</code> method is invoked to indicate that a state change event has occurred. Because the <code>Alert</code> interface only has a single member function, it is eligible to be used as a Java 8 lambda function which makes it very convenient to use:</p> 
  <pre><code>pigpio.gpioSetAlertFunc(TESTPIN, (gpio, level, tick) -&gt; {
	System.out.println(
		String.format("Callback in Java: We received an alert on: %d with %d at %d",
			gpio, level, tick));
});
</code></pre> 
  <h2><a id="user-content-utilities" class="anchor" href="https://github.com/xeli/jpigpio#utilities" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Utilities</h2> 
  <p>A class called <code>Utils</code> provides some Java utilities that can be used in conjunction with JPigpio.</p> 
  <ul> 
   <li><code>static void addShutdown(JPigpio pigpio)</code> - Register a JVM shutdown handler that automatically gets called when the JVM ends. This shutdown handler cleans up (terminates) any resources allocated on behalf of pigpio.</li> 
  </ul> 
  <h2><a id="user-content-constant-definitions" class="anchor" href="https://github.com/xeli/jpigpio#constant-definitions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Constant definitions</h2> 
  <p>The JPigpio interface defines a set of constants for use with the library:</p> 
  <ul> 
   <li>PI_HIGH - A high value</li> 
   <li>PI_LOW - A low value</li> 
   <li>PI_ON - A high value</li> 
   <li>PI_OFF - A low value</li> 
   <li>PI_INPUT - The mode of a gpio for input</li> 
   <li>PI_OUTPUT - The mode of a gpio for output</li> 
   <li>PI_PUD_OFF - No pull-up associated with the gpio</li> 
   <li>PI_PUD_UP - Pull-up the gpio to high</li> 
   <li>PI_PUD_DOWN - Pull-down the gpio to low</li> 
  </ul> 
  <hr> 
  <h1><a id="user-content-running-an-application" class="anchor" href="https://github.com/xeli/jpigpio#running-an-application" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Running an application</h1> 
  <h2><a id="user-content-jpigpio-is-built-against-java-version-8-and-hence-requires-a-java-8-environment-in-order-to-run--this-is-the-current-level-of-java-supplied-with-raspbian" class="anchor" href="https://github.com/xeli/jpigpio#jpigpio-is-built-against-java-version-8-and-hence-requires-a-java-8-environment-in-order-to-run--this-is-the-current-level-of-java-supplied-with-raspbian" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>JPigpio is built against Java version 8 and hence requires a Java 8 environment in order to run. This is the current level of Java supplied with Raspbian.</h2> 
  <h1><a id="user-content-installation" class="anchor" href="https://github.com/xeli/jpigpio#installation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Installation</h1> 
  <p>A prerequisite of this package is the correct installation of pigpio on the Raspberry Pi by itself. Please see the Pigpio <a href="http://abyz.co.uk/rpi/pigpio/download.html" target="_blank">Download &amp; Install</a> page for details. A quick way to check that a version of pigpio is present is to look for the following files:</p> 
  <ul> 
   <li><code>/usr/local/lib/libpigpio.a</code></li> 
   <li><code>/usr/local/bin/pigpiod</code></li> 
   <li><code>/usr/local/include/pigpio.h</code></li> 
  </ul> 
  <p>Details of the installation techniques for this project to be provided here ...</p> 
  <hr> 
  <h1><a id="user-content-mapping" class="anchor" href="https://github.com/xeli/jpigpio#mapping" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Mapping</h1> 
  <p>On occasion, you may find existing code written for either an Arduino (a sketch) or for alternate Raspberry Pi libraries such as Wiring Pi. Here we provide a mapping from similar capabilities to those found in the JPigpio package.</p> 
  <h2><a id="user-content-arduino" class="anchor" href="https://github.com/xeli/jpigpio#arduino" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Arduino</h2> 
  <ul> 
   <li>digitalWrite - gpioWrite</li> 
   <li>digitalRead - gpioRead</li> 
   <li>shiftOut - gpioShiftOut</li> 
   <li>pinMode - gpioSetMode</li> 
  </ul> 
  <h2><a id="user-content-wiring-pi" class="anchor" href="https://github.com/xeli/jpigpio#wiring-pi" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Wiring Pi</h2> 
  <ul> 
   <li>digitalWrite - gpioWrite</li> 
   <li>digitalRead - gpioRead</li> 
   <li>pinMode - gpioSetMode</li> 
  </ul> 
  <hr> 
  <h1><a id="user-content-future-of-the-project" class="anchor" href="https://github.com/xeli/jpigpio#future-of-the-project" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Future of the project</h1> 
  <p>I will be delighted to accept change requests and bug reports (if any can be found) and turn those around as quickly as possible.</p> 
 </article>
</div>