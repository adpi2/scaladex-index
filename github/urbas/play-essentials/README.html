<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-play-essentials" class="anchor" href="https://github.com/urbas/play-essentials#play-essentials" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Play Essentials</h1> 
  <p><a href="https://drone.io/bitbucket.org/urbas/play-essentials/latest" target="_blank"><img src="https://camo.githubusercontent.com/74c82f443118c5e3024cb9d867f043105e110049/68747470733a2f2f64726f6e652e696f2f6269746275636b65742e6f72672f75726261732f706c61792d657373656e7469616c732f7374617475732e706e67" alt="Build Status" data-canonical-src="https://drone.io/bitbucket.org/urbas/play-essentials/status.png" style="max-width:100%;"></a> <a href="https://travis-ci.org/urbas/play-essentials" target="_blank"><img src="https://camo.githubusercontent.com/e97be75e72adaaf203ad110aeccd924bdd4adc55/68747470733a2f2f7472617669732d63692e6f72672f75726261732f706c61792d657373656e7469616c732e706e673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/urbas/play-essentials.png?branch=master" style="max-width:100%;"></a></p> 
  <blockquote> 
   <p>Play Essentials is in development. Do not use it in production until release <code>1.0.0</code>.</p> 
  </blockquote> 
  <p>Play Essentials (Pless) is a library that helps you develop Play Framework applications in Java super quickly. Just follow the Quickstart instructions below, and you'll get a working application with authentication, user management, emailing support and all that other jazz.</p> 
  <p>Pless takes away the worry of having to develop all the silly login, email-sending, and user-management boilerplate. It lets you focus on what matters to your business.</p> 
  <p>Pless provides a Java 8 API and focuses on testability. It's easy to use (for casual users), and it's super configurable (for power-users).</p> 
  <p>Some features (not exhaustive):</p> 
  <ul> 
   <li> User management (sign up, sign up emails, account activation, deletion, password reset, account detail modification)</li> 
   <li> Authentication management (login, logout, secure authentication sessions, authentication session timeout)</li> 
   <li> Emailing support</li> 
   <li> JUnit test support with completely mocked applications or with an in-memory JPA database.</li> 
  </ul> 
  <p>NOTE: some of the features above are otherwise available through <a href="http://www.playframework.com/modules" target="_blank">Play Modules</a>. Pless packages these modules where appropriate. However, Pless also implements its own Java APIs wherever the Scala API of Play modules impedes reusability from Java, testability from JUnit, and general configurability.</p> 
  <h1><a id="user-content-quickstart" class="anchor" href="https://github.com/urbas/play-essentials#quickstart" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Quickstart</h1> 
  <ol> 
   <li><p>Install <a href="http://www.playframework.com/download" target="_blank">Play Framework</a>.</p></li> 
   <li><p>Create a new Play application.</p></li> 
   <li><p>Add these lines into <code>build.sbt</code>:</p> 
    <div class="highlight highlight-source-scala">
     <pre>resolvers <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Sonatype Public Repository<span class="pl-pds">"</span></span> at <span class="pl-s"><span class="pl-pds">"</span>https://oss.sonatype.org/content/groups/public<span class="pl-pds">"</span></span>

libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>si.urbas<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>pless-jpa<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.0.16<span class="pl-pds">"</span></span></pre>
    </div></li> 
   <li><p>Put the following route into <code>conf/routes</code> (just after <code>GET /</code>)</p> 
    <div class="highlight highlight-source-scala">
     <pre><span class="pl-k">-</span><span class="pl-k">&gt;</span>    <span class="pl-k">/</span>                  si.urbas.pless.pages.<span class="pl-en">Routes</span>
<span class="pl-k">-</span><span class="pl-k">&gt;</span>    <span class="pl-k">/</span>                  si.urbas.pless.api.<span class="pl-en">Routes</span></pre>
    </div></li> 
   <li><p>Copy <a href="https://github.com/urbas/play-essentials/blob/master/plessJpaSample/conf/META-INF/persistence.xml" target="_blank">persistence.xml</a> to <code>conf/META-INF</code> and add this line to <code>conf/application.conf</code>:</p> <pre><code>jpa.default=pless.jpasample.defaultPersistenceUnit
</code></pre></li> 
  </ol> 
  <p>That's it. Start developing!</p> 
  <blockquote> 
   <p>TODO: make Quickstart easier by providing an Activator template.</p> 
  </blockquote> 
  <h1><a id="user-content-usage" class="anchor" href="https://github.com/urbas/play-essentials#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h1> 
  <h2><a id="user-content-jpa-based-applications" class="anchor" href="https://github.com/urbas/play-essentials#jpa-based-applications" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>JPA-based applications</h2> 
  <p>Make sure your controllers look like this:</p> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-k">import</span> <span class="pl-smi">si.urbas.pless.PlessJpaController</span>;

<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">MyController</span> <span class="pl-k">extends</span> <span class="pl-e">PlessJpaController</span> {

}</pre>
  </div> 
  <p>Now you can use any of the below examples from within your controllers.</p> 
  <h2><a id="user-content-authentication" class="anchor" href="https://github.com/urbas/play-essentials#authentication" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Authentication</h2> 
  <p>Executing an action with an authenticated user:</p> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-k">import</span> <span class="pl-smi">play.mvc.Result</span>;
<span class="pl-k">import</span> <span class="pl-smi">si.urbas.pless.PlessJpaController</span>;

<span class="pl-k">import static</span> <span class="pl-smi">si.urbas.pless.authentication.AuthenticationHelpers.withAuthenticatedUser</span>;
<span class="pl-k">import static</span> <span class="pl-smi">si.urbas.pless.util.ApiResults.SUCCESS</span>;

<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">WithAuthenticatedUserController</span> <span class="pl-k">extends</span> <span class="pl-e">PlessJpaController</span> {

  <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-smi">Result</span> <span class="pl-en">myAction</span>() {
    <span class="pl-k">return</span> withAuthenticatedUser(loggedInUserInfo <span class="pl-k">-</span><span class="pl-k">&gt;</span> {
      performSomeOperation(loggedInUserInfo<span class="pl-k">.</span>userId);
      <span class="pl-k">return</span> <span class="pl-c1">SUCCESS</span>;
    });
  }

  <span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">performSomeOperation</span>(<span class="pl-k">long</span> <span class="pl-v">userId</span>) {}
}</pre>
  </div> 
  <h3><a id="user-content-authentication-pages" class="anchor" href="https://github.com/urbas/play-essentials#authentication-pages" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Authentication pages</h3> 
  <blockquote> 
   <p>TODO: Web pages for authentication have not been created yet.</p> 
  </blockquote> 
  <h3><a id="user-content-authentication-rest-api" class="anchor" href="https://github.com/urbas/play-essentials#authentication-rest-api" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Authentication REST API</h3> 
  <p>Consumers of your application can log-in through the following REST API:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-en">POST</span>  <span class="pl-k">/</span>api<span class="pl-k">/</span>auth<span class="pl-k">/</span>login      si.urbas.pless.authentication.api.<span class="pl-en">AuthenticationController</span>.logIn()</pre>
  </div> 
  <h3><a id="user-content-lower-level-authentication-api" class="anchor" href="https://github.com/urbas/play-essentials#lower-level-authentication-api" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Lower-level authentication API</h3> 
  <p>You can get access to the entire authentication API like this (from within your controller):</p> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-smi">AuthenticationService</span> authenticationService <span class="pl-k">=</span> auth();</pre>
  </div> 
  <p>Check that a user is currently logged in:</p> 
  <div class="highlight highlight-source-java">
   <pre>auth()<span class="pl-k">.</span>isLoggedIn();</pre>
  </div> 
  <p>To get the email of the currently logged-in user:</p> 
  <div class="highlight highlight-source-java">
   <pre>auth()<span class="pl-k">.</span>getLoggedInUserEmail();</pre>
  </div> 
  <p>You can log-in a user directly from your controller. Here's an example of password authentication:</p> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-smi">AuthenticationController</span><span class="pl-k">.</span>logIn(email, password);</pre>
  </div> 
  <p>To log the user out:</p> 
  <div class="highlight highlight-source-java">
   <pre>auth()<span class="pl-k">.</span>logOut();</pre>
  </div> 
  <blockquote> 
   <p>TODO: Implement authentication through Play's authenticator mechanism.</p> 
  </blockquote> 
  <h3><a id="user-content-custom-authentication-mechanism" class="anchor" href="https://github.com/urbas/play-essentials#custom-authentication-mechanism" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Custom authentication mechanism</h3> 
  <p>You can introduce a custom authentication procedure through the generic login method:</p> 
  <div class="highlight highlight-source-java">
   <pre>auth()<span class="pl-k">.</span>logIn(<span class="pl-k">new</span> <span class="pl-smi">PlessUser</span>(userId, email, username, password));</pre>
  </div> 
  <p>The above method starts an authentication session for the given user (even if the user does not exist in the user repository).</p> 
  <h2><a id="user-content-emailing" class="anchor" href="https://github.com/urbas/play-essentials#emailing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Emailing</h2> 
  <p>Here's how you send an email:</p> 
  <div class="highlight highlight-source-java">
   <pre>emailing()<span class="pl-k">.</span>sendEmail(email, subject, htmlBody);</pre>
  </div> 
  <p>Note that <code>htmlBody</code> is a Play HTML view template. Say you have a Play view named <code>OfferUpdateEmailTemplate.scala.html</code>, then you can send an email like this:</p> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-smi">String</span> subject <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Offer <span class="pl-pds">"</span></span> <span class="pl-k">+</span> offerName <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> updated<span class="pl-pds">"</span></span>;
<span class="pl-smi">Html</span> emailBody <span class="pl-k">=</span> <span class="pl-smi">OfferUpdateEmail</span><span class="pl-k">.</span>apply(userToNotify, offerName, offerDescription, offerPrice);
emailing()<span class="pl-k">.</span>sendEmail(userToNotify<span class="pl-k">.</span>getEmail(), subject, emailBody);</pre>
  </div> 
  <h3><a id="user-content-advanced-emailing" class="anchor" href="https://github.com/urbas/play-essentials#advanced-emailing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Advanced emailing</h3> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-smi">Email</span> email <span class="pl-k">=</span> emailing()<span class="pl-k">.</span>createEmail();
email<span class="pl-k">.</span>setSubject(subject);
email<span class="pl-k">.</span>setRecipient(recipient);
email<span class="pl-k">.</span>setFrom(sender);
email<span class="pl-k">.</span>setBody(body);
email<span class="pl-k">.</span>send();</pre>
  </div> 
  <h3><a id="user-content-emailing-configuration" class="anchor" href="https://github.com/urbas/play-essentials#emailing-configuration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Emailing configuration</h3> 
  <p>You can put these configuration settings into <code>conf/application.conf</code>:</p> 
  <div class="highlight highlight-source-java">
   <pre>smtp<span class="pl-k">.</span>from<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>Your email &lt;your.email@gmail.com&gt;<span class="pl-pds">"</span></span>
smtp<span class="pl-k">.</span>host<span class="pl-k">=</span>smtp<span class="pl-k">.</span>gmail<span class="pl-k">.</span>com
smtp<span class="pl-k">.</span>port<span class="pl-k">=</span><span class="pl-c1">587</span>
smtp<span class="pl-k">.</span>ssl<span class="pl-k">=</span>yes
smtp<span class="pl-k">.</span>tls<span class="pl-k">=</span>yes
smtp<span class="pl-k">.</span>user<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>your.email@gmail.com<span class="pl-pds">"</span></span>
smtp<span class="pl-k">.</span>password<span class="pl-k">=</span>test1234</pre>
  </div> 
  <h2><a id="user-content-testing" class="anchor" href="https://github.com/urbas/play-essentials#testing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Testing</h2> 
  <p>Pless comes with classes that make tests in JUnit easier. To use them, just add this dependency:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>si.urbas<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>pless-jpa-test<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.0.16<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span></pre>
  </div> 
  <h3><a id="user-content-testing-with-an-in-memory-jpa-database" class="anchor" href="https://github.com/urbas/play-essentials#testing-with-an-in-memory-jpa-database" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Testing with an in-memory JPA database</h3> 
  <p>You tests should extend from our test base-class that brings up an in-memory JPA database together with a working test Play aplication. You only have to override the following function:</p> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-k">import</span> <span class="pl-smi">si.urbas.pless.test.PlayJpaControllerTest</span>;

<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">MyControllerTest</span> <span class="pl-k">extends</span> <span class="pl-e">PlayJpaControllerTest</span> {

  <span class="pl-k">@Override</span>
  <span class="pl-k">protected</span> <span class="pl-smi">String</span> <span class="pl-en">getTestPersistenceUnit</span>() {
    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>pless.jpasample.testPersistenceUnit<span class="pl-pds">"</span></span>;
  }
}</pre>
  </div> 
 </article>
</div>