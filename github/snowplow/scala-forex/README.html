<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-scala-forex" class="anchor" href="https://github.com/snowplow/scala-forex#scala-forex" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala Forex</h1> 
  <p><a href="https://travis-ci.org/snowplow/scala-forex" target="_blank"> <img src="https://camo.githubusercontent.com/b35038a9f823d8e6daab1517541a2de5dc8f96d8/68747470733a2f2f7472617669732d63692e6f72672f736e6f77706c6f772f7363616c612d666f7265782e706e673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/snowplow/scala-forex.png?branch=master" style="max-width:100%;"> </a> <a href="https://github.com/snowplow/scala-forex/releases" target="_blank"> <img src="https://camo.githubusercontent.com/2dd1f5679768425e3c8cc1bb08e0feb03de7d639/687474703a2f2f696d672e736869656c64732e696f2f62616467652f72656c656173652d302e352e302d626c75652e7376673f7374796c653d666c6174" alt="Release" data-canonical-src="http://img.shields.io/badge/release-0.5.0-blue.svg?style=flat" style="max-width:100%;"> </a> <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank"> <img src="https://camo.githubusercontent.com/0257a158db7f15a3a2b76dfd75be916fda130867/687474703a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4170616368652d2d322d626c75652e7376673f7374796c653d666c6174" alt="License" data-canonical-src="http://img.shields.io/badge/license-Apache--2-blue.svg?style=flat" style="max-width:100%;"> </a></p> 
  <h2><a id="user-content-1-introduction" class="anchor" href="https://github.com/snowplow/scala-forex#1-introduction" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>1. Introduction</h2> 
  <p>Scala Forex is a high-performance Scala library for performing exchange rate lookups and currency conversions, using <a href="http://www.joda.org/joda-money/" target="_blank">Joda-Money</a> and <a href="http://www.joda.org/joda-time/" target="_blank">Joda-Time</a>.</p> 
  <p>It includes configurable LRU (Least Recently Used) caches to minimize calls to the API; this makes the library usable in high-volume environments such as Hadoop and Storm.</p> 
  <p>Currently Scala Forex uses the <a href="https://openexchangerates.org/signup?r=snowplow" target="_blank">Open Exchange Rates API</a> to perform currency lookups.</p> 
  <h2><a id="user-content-2-setup" class="anchor" href="https://github.com/snowplow/scala-forex#2-setup" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>2. Setup</h2> 
  <h3><a id="user-content-21-oer-sign-up" class="anchor" href="https://github.com/snowplow/scala-forex#21-oer-sign-up" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>2.1 OER Sign Up</h3> 
  <p>First <a href="https://openexchangerates.org/signup?r=snowplow" target="_blank">sign up</a> to Open Exchange Rates to get your App ID for API access.</p> 
  <p>There are three types of accounts supported by OER API, Unlimited, Enterprise and Developer levels. See the <a href="https://openexchangerates.org/signup?r=snowplow" target="_blank">sign up</a> page for specific account descriptions. For Scala Forex, we recommend an Enterprise or Unlimited account, unless all of your conversions are to or from USD (see section 4.5 OER accounts for an explanation). For 10-minute rate updates, you will need an Unlimited account (other accounts are hourly).</p> 
  <h3><a id="user-content-22-installation" class="anchor" href="https://github.com/snowplow/scala-forex#22-installation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>2.2 Installation</h3> 
  <p>The latest version of Scala Forex is 0.5.0, which is cross-built against 2.10.x and 2.11.x.</p> 
  <p>If you're using SBT, add the following lines to your build file:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-s"><span class="pl-pds">"</span>com.snowplowanalytics<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>scala-forex<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.5.0<span class="pl-pds">"</span></span>
)</pre>
  </div> 
  <p>Note the double percent (<code>%%</code>) between the group and artifactId. That'll ensure you get the right package for your Scala version.</p> 
  <h2><a id="user-content-3-usage" class="anchor" href="https://github.com/snowplow/scala-forex#3-usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3. Usage</h2> 
  <p>The Scala Forex supports two types of usage:</p> 
  <ol> 
   <li>Exchange rate lookups</li> 
   <li>Currency conversions</li> 
  </ol> 
  <p>Both usage types support live, near-live or historical (end-of-day) exchange rates.</p> 
  <h3><a id="user-content-31-configuration" class="anchor" href="https://github.com/snowplow/scala-forex#31-configuration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.1 Configuration</h3> 
  <p>Scala Forex is configured via two case classes:</p> 
  <ol> 
   <li><code>ForexConfig</code> contains general configuration</li> 
   <li><code>OerClientConfig</code> contains Open Exchange Rates-specific configuration</li> 
  </ol> 
  <h4><a id="user-content-311-forexconfig" class="anchor" href="https://github.com/snowplow/scala-forex#311-forexconfig" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.1.1 ForexConfig</h4> 
  <p>Case class with defaults:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">ForexConfig</span>(
  <span class="pl-v">nowishCacheSize</span>: <span class="pl-k">Int</span>       <span class="pl-k">=</span> <span class="pl-c1">13530</span>,
  <span class="pl-v">nowishSecs</span>: <span class="pl-k">Int</span>            <span class="pl-k">=</span> <span class="pl-c1">300</span>,  
  <span class="pl-v">eodCacheSize</span>: <span class="pl-k">Int</span>          <span class="pl-k">=</span> <span class="pl-c1">405900</span>,  
  <span class="pl-v">getNearestDay</span>: <span class="pl-en">EodRounding</span> <span class="pl-k">=</span> <span class="pl-en">EodRoundDown</span>,
  <span class="pl-v">baseCurrency</span>: <span class="pl-k">String</span>       <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>USD<span class="pl-pds">"</span></span>  
)</pre>
  </div> 
  <p>To go through each in turn:</p> 
  <ol> 
   <li><p><code>nowishCacheSize</code> is the size configuration for near-live(nowish) lookup cache, it can be disabled by setting its value to 0. The key to nowish cache is a currency pair so the size of the cache equals to the number of pairs of currencies available.</p></li> 
   <li><p><code>nowishSecs</code> is the time configuration for near-live lookup. Nowish call will use the exchange rates stored in nowish cache if its time stamp is less than or equal to <code>nowishSecs</code> old.</p></li> 
   <li><p><code>eodCacheSize</code> is the size configuration for end-of-day(eod) lookup cache, it can be disabled by setting its value to 0. The key to eod cache is a tuple of currency pair and time stamp, so the size of eod cache equals to the number of currency pairs times the days which the cache will remember the data for.</p></li> 
   <li><p><code>getNearestDay</code> is the rounding configuration for latest eod(at) lookup. The lookup will be performed on the next day if the rounding mode is set to EodRoundUp, and on the previous day if EodRoundDown.</p></li> 
   <li><p><code>baseCurrency</code> can be configured to different currencies by the users.</p></li> 
  </ol> 
  <p>For an explanation for the default values please see section <strong>4.4 Explanation of defaults</strong> below.</p> 
  <h4><a id="user-content-312-oerclientconfig" class="anchor" href="https://github.com/snowplow/scala-forex#312-oerclientconfig" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.1.2 OerClientConfig</h4> 
  <p>Case class with defaults:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">OerClientConfig</span>(
  <span class="pl-v">appId</span>: <span class="pl-k">String</span>,            
  <span class="pl-v">accountLevel</span>: <span class="pl-en">AccountType</span>
) <span class="pl-k">extends</span> <span class="pl-e">ForexClientConfig</span></pre>
  </div> 
  <p>To go through each in turn:</p> 
  <ol> 
   <li><code>appId</code> is the unique key for the user's account</li> 
   <li><code>accountLevel</code> is the account type provided by the user which should obviously be consistent with the app ID. There are three types of account levels, users should provide the exact account type name to configure the OER Client: 
    <ol> 
     <li>UnlimitedAccount</li> 
     <li>EnterpriseAccount</li> 
     <li>DeveloperAccount</li> 
    </ol></li> 
  </ol> 
  <h3><a id="user-content-32-rate-lookup" class="anchor" href="https://github.com/snowplow/scala-forex#32-rate-lookup" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.2 Rate lookup</h3> 
  <p>For the required imports, please see section <strong>4.2 REPL setup</strong> below.</p> 
  <h4><a id="user-content-321-live-rate" class="anchor" href="https://github.com/snowplow/scala-forex#321-live-rate" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.2.1 Live rate</h4> 
  <p>Lookup a live rate <em>(no cacheing available)</em>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> USD =&gt; JPY</span>
<span class="pl-k">val</span> <span class="pl-en">fx</span> <span class="pl-k">=</span> <span class="pl-en">Forex</span>(<span class="pl-en">ForexConfig</span>(), <span class="pl-en">OerClientConfig</span>(appId, <span class="pl-en">DeveloperAccount</span>))
<span class="pl-k">val</span> <span class="pl-en">usd2jpy</span> <span class="pl-k">=</span> fx.rate.to(<span class="pl-s"><span class="pl-pds">"</span>JPY<span class="pl-pds">"</span></span>).now   <span class="pl-c"><span class="pl-c">//</span> =&gt; Right(JPY 105)           </span></pre>
  </div> 
  <h4><a id="user-content-322-near-live-rate" class="anchor" href="https://github.com/snowplow/scala-forex#322-near-live-rate" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.2.2 Near-live rate</h4> 
  <p>Lookup a near-live rate <em>(cacheing available)</em>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> JPY =&gt; GBP</span>
<span class="pl-k">val</span> <span class="pl-en">fx</span> <span class="pl-k">=</span> <span class="pl-en">Forex</span>(<span class="pl-en">ForexConfig</span>(), <span class="pl-en">OerClientConfig</span>(appId, <span class="pl-en">DeveloperAccount</span>))
<span class="pl-k">val</span> <span class="pl-en">jpy2gbp</span> <span class="pl-k">=</span> fx.rate(<span class="pl-s"><span class="pl-pds">"</span>JPY<span class="pl-pds">"</span></span>).to(<span class="pl-s"><span class="pl-pds">"</span>GBP<span class="pl-pds">"</span></span>).nowish   <span class="pl-c"><span class="pl-c">//</span> =&gt; Right(GBP 0.01)</span></pre>
  </div> 
  <h4><a id="user-content-323-near-live-rate-without-cache" class="anchor" href="https://github.com/snowplow/scala-forex#323-near-live-rate-without-cache" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.2.3 Near-live rate without cache</h4> 
  <p>Lookup a near-live rate (<em>uses cache selectively</em>):</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> JPY =&gt; GBP</span>
<span class="pl-k">val</span> <span class="pl-en">fx</span> <span class="pl-k">=</span> <span class="pl-en">Forex</span>(<span class="pl-en">ForexConfig</span>(nowishCacheSize <span class="pl-k">=</span> <span class="pl-c1">0</span>), <span class="pl-en">OerClientConfig</span>(appId, <span class="pl-en">DeveloperAccount</span>))
<span class="pl-k">val</span> <span class="pl-en">jpy2gbp</span> <span class="pl-k">=</span> fx.rate(<span class="pl-s"><span class="pl-pds">"</span>JPY<span class="pl-pds">"</span></span>).to(<span class="pl-s"><span class="pl-pds">"</span>GBP<span class="pl-pds">"</span></span>).nowish   <span class="pl-c"><span class="pl-c">//</span> =&gt; Right(GBP 0.01)</span></pre>
  </div> 
  <h4><a id="user-content-324-latest-prior-eod-rate" class="anchor" href="https://github.com/snowplow/scala-forex#324-latest-prior-eod-rate" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.2.4 Latest-prior EOD rate</h4> 
  <p>Lookup the latest EOD (end-of-date) rate prior to your event <em>(cacheing available)</em>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">org.joda.time.</span>{<span class="pl-v">DateTime</span>, <span class="pl-v">DateTimeZone</span>}

<span class="pl-c"><span class="pl-c">//</span> USD =&gt; JPY at the end of 12/03/2011</span>
<span class="pl-k">val</span> <span class="pl-en">fx</span> <span class="pl-k">=</span> <span class="pl-en">Forex</span>(<span class="pl-en">ForexConfig</span>(), <span class="pl-en">OerClientConfig</span>(appId, <span class="pl-en">DeveloperAccount</span>)) <span class="pl-c"><span class="pl-c">//</span> round down to previous day by default</span>
<span class="pl-k">val</span> <span class="pl-en">tradeDate</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">DateTime</span>(<span class="pl-c1">2011</span>, <span class="pl-c1">3</span>, <span class="pl-c1">13</span>, <span class="pl-c1">11</span>, <span class="pl-c1">39</span>, <span class="pl-c1">27</span>, <span class="pl-c1">567</span>, <span class="pl-en">DateTimeZone</span>.forID(<span class="pl-s"><span class="pl-pds">"</span>America/New_York<span class="pl-pds">"</span></span>))
<span class="pl-k">val</span> <span class="pl-en">usd2yen</span> <span class="pl-k">=</span> fx.rate.to(<span class="pl-s"><span class="pl-pds">"</span>JPY<span class="pl-pds">"</span></span>).at(tradeDate)   <span class="pl-c"><span class="pl-c">//</span> =&gt; Right(JPY 82)</span></pre>
  </div> 
  <h4><a id="user-content-325-latest-post-eod-rate" class="anchor" href="https://github.com/snowplow/scala-forex#325-latest-post-eod-rate" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.2.5 Latest-post EOD rate</h4> 
  <p>Lookup the latest EOD (end-of-date) rate post to your event <em>(cacheing available)</em>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">org.joda.time.</span>{<span class="pl-v">DateTime</span>, <span class="pl-v">DateTimeZone</span>}
<span class="pl-k">import</span> <span class="pl-v">com.snowplowanalytics.forex.</span><span class="pl-v">EodRoundUp</span>

<span class="pl-c"><span class="pl-c">//</span> USD =&gt; JPY at the end of 13/03/2011</span>
<span class="pl-k">val</span> <span class="pl-en">fx</span> <span class="pl-k">=</span> <span class="pl-en">Forex</span>(<span class="pl-en">ForexConfig</span>(getNearestDay <span class="pl-k">=</span> <span class="pl-en">EodRoundUp</span>), <span class="pl-en">OerClientConfig</span>(appId, <span class="pl-en">DeveloperAccount</span>))
<span class="pl-k">val</span> <span class="pl-en">tradeDate</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">DateTime</span>(<span class="pl-c1">2011</span>, <span class="pl-c1">3</span>, <span class="pl-c1">13</span>, <span class="pl-c1">11</span>, <span class="pl-c1">39</span>, <span class="pl-c1">27</span>, <span class="pl-c1">567</span>, <span class="pl-en">DateTimeZone</span>.forID(<span class="pl-s"><span class="pl-pds">"</span>America/New_York<span class="pl-pds">"</span></span>))
<span class="pl-k">val</span> <span class="pl-en">usd2yen</span> <span class="pl-k">=</span> fx.rate.to(<span class="pl-s"><span class="pl-pds">"</span>JPY<span class="pl-pds">"</span></span>).at(tradeDate)   <span class="pl-c"><span class="pl-c">//</span> =&gt; Right(JPY 82)</span></pre>
  </div> 
  <h4><a id="user-content-326-specific-eod-rate" class="anchor" href="https://github.com/snowplow/scala-forex#326-specific-eod-rate" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.2.6 Specific EOD rate</h4> 
  <p>Lookup the EOD rate for a specific date <em>(cacheing available)</em>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">org.joda.time.</span><span class="pl-v">DateTime</span>

<span class="pl-c"><span class="pl-c">//</span> GBP =&gt; JPY at the end of 13/03/2011</span>
<span class="pl-k">val</span> <span class="pl-en">fx</span> <span class="pl-k">=</span> <span class="pl-en">Forex</span>(<span class="pl-en">ForexConfig</span>(baseCurrency<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>GBP<span class="pl-pds">"</span></span>), <span class="pl-en">OerClientConfig</span>(appId, <span class="pl-en">EnterpriseAccount</span>)) <span class="pl-c"><span class="pl-c">//</span> Your app ID should be an Enterprise account</span>
<span class="pl-k">val</span> <span class="pl-en">eodDate</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">DateTime</span>(<span class="pl-c1">2011</span>, <span class="pl-c1">3</span>, <span class="pl-c1">13</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>)
<span class="pl-k">val</span> <span class="pl-en">gbp2jpy</span> <span class="pl-k">=</span> fx.rate.to(<span class="pl-s"><span class="pl-pds">"</span>JPY<span class="pl-pds">"</span></span>).eod(eodDate)   <span class="pl-c"><span class="pl-c">//</span> =&gt; Right(JPY 131)</span></pre>
  </div> 
  <h4><a id="user-content-327-specific-eod-rate-without-cache" class="anchor" href="https://github.com/snowplow/scala-forex#327-specific-eod-rate-without-cache" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.2.7 Specific EOD rate without cache</h4> 
  <p>Lookup the EOD rate for a specific date <em>(no cacheing)</em>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">org.joda.time.</span><span class="pl-v">DateTime</span>

<span class="pl-c"><span class="pl-c">//</span> GBP =&gt; JPY at the end of 13/03/2011</span>
<span class="pl-k">val</span> <span class="pl-en">fx</span> <span class="pl-k">=</span> <span class="pl-en">Forex</span>(<span class="pl-en">ForexConfig</span>(eodCacheSize <span class="pl-k">=</span> <span class="pl-c1">0</span>, baseCurrency<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>GBP<span class="pl-pds">"</span></span>), <span class="pl-en">OerClientConfig</span>(appId, <span class="pl-en">EnterpriseAccount</span>)) <span class="pl-c"><span class="pl-c">//</span> Your app ID should be an Enterprise account</span>
<span class="pl-k">val</span> <span class="pl-en">eodDate</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">DateTime</span>(<span class="pl-c1">2011</span>, <span class="pl-c1">3</span>, <span class="pl-c1">13</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>)
<span class="pl-k">val</span> <span class="pl-en">gbp2jpy</span> <span class="pl-k">=</span> fx.rate.to(<span class="pl-s"><span class="pl-pds">"</span>JPY<span class="pl-pds">"</span></span>).eod(eodDate)   <span class="pl-c"><span class="pl-c">//</span> =&gt; Right(JPY 131)</span></pre>
  </div> 
  <h3><a id="user-content-33-currency-conversion" class="anchor" href="https://github.com/snowplow/scala-forex#33-currency-conversion" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.3 Currency conversion</h3> 
  <p>For the required imports, please see section <strong>4.2 REPL setup</strong> below.</p> 
  <h4><a id="user-content-331-live-rate" class="anchor" href="https://github.com/snowplow/scala-forex#331-live-rate" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.3.1 Live rate</h4> 
  <p>Conversion using the live exchange rate <em>(no cacheing available)</em>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> 9.99 USD =&gt; EUR</span>
<span class="pl-k">val</span> <span class="pl-en">fx</span> <span class="pl-k">=</span> <span class="pl-en">Forex</span>(<span class="pl-en">ForexConfig</span>(), <span class="pl-en">OerClientConfig</span>(appId, <span class="pl-en">DeveloperAccount</span>))
<span class="pl-k">val</span> <span class="pl-en">priceInEuros</span> <span class="pl-k">=</span> fx.convert(<span class="pl-c1">9.99</span>).to(<span class="pl-s"><span class="pl-pds">"</span>EUR<span class="pl-pds">"</span></span>).now</pre>
  </div> 
  <h4><a id="user-content-332-near-live-rate" class="anchor" href="https://github.com/snowplow/scala-forex#332-near-live-rate" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.3.2 Near-live rate</h4> 
  <p>Conversion using a near-live exchange rate with 500 seconds nowishSecs <em>(cacheing available)</em>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> 9.99 GBP =&gt; EUR</span>
<span class="pl-k">val</span> <span class="pl-en">fx</span> <span class="pl-k">=</span> <span class="pl-en">Forex</span>(<span class="pl-en">ForexConfig</span>(nowishSecs <span class="pl-k">=</span> <span class="pl-c1">500</span>), <span class="pl-en">OerClientConfig</span>(appId, <span class="pl-en">DeveloperAccount</span>))
<span class="pl-k">val</span> <span class="pl-en">priceInEuros</span> <span class="pl-k">=</span> fx.convert(<span class="pl-c1">9.99</span>, <span class="pl-s"><span class="pl-pds">"</span>GBP<span class="pl-pds">"</span></span>).to(<span class="pl-s"><span class="pl-pds">"</span>EUR<span class="pl-pds">"</span></span>).nowish</pre>
  </div> 
  <h4><a id="user-content-333-near-live-rate-without-cache" class="anchor" href="https://github.com/snowplow/scala-forex#333-near-live-rate-without-cache" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.3.3 Near-live rate without cache</h4> 
  <p>Note that this will be a live rate conversion if cache is not available. Conversion using a live exchange rate with 500 seconds nowishSecs, this conversion will be done via HTTP request:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> 9.99 GBP =&gt; EUR</span>
<span class="pl-k">val</span> <span class="pl-en">fx</span> <span class="pl-k">=</span> <span class="pl-en">Forex</span>(<span class="pl-en">ForexConfig</span>(nowishSecs <span class="pl-k">=</span> <span class="pl-c1">500</span>, nowishCacheSize <span class="pl-k">=</span> <span class="pl-c1">0</span>), <span class="pl-en">OerClientConfig</span>(appId, <span class="pl-en">DeveloperAccount</span>))
<span class="pl-k">val</span> <span class="pl-en">priceInEuros</span> <span class="pl-k">=</span> fx.convert(<span class="pl-c1">9.99</span>, <span class="pl-s"><span class="pl-pds">"</span>GBP<span class="pl-pds">"</span></span>).to(<span class="pl-s"><span class="pl-pds">"</span>EUR<span class="pl-pds">"</span></span>).nowish</pre>
  </div> 
  <h4><a id="user-content-334-latest-prior-eod-rate" class="anchor" href="https://github.com/snowplow/scala-forex#334-latest-prior-eod-rate" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.3.4 Latest-prior EOD rate</h4> 
  <p>Conversion using the latest EOD (end-of-date) rate prior to your event <em>(cacheing available)</em>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">org.joda.time.</span>{<span class="pl-v">DateTime</span>, <span class="pl-v">DateTimeZone</span>}

<span class="pl-c"><span class="pl-c">//</span> 10000 GBP =&gt; JPY at the end of 12/03/2011</span>
<span class="pl-k">val</span> <span class="pl-en">fx</span> <span class="pl-k">=</span> <span class="pl-en">Forex</span>(<span class="pl-en">ForexConfig</span>(), <span class="pl-en">OerClientConfig</span>(appId, <span class="pl-en">DeveloperAccount</span>))
<span class="pl-k">val</span> <span class="pl-en">tradeDate</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">DateTime</span>(<span class="pl-c1">2011</span>, <span class="pl-c1">3</span>, <span class="pl-c1">13</span>, <span class="pl-c1">11</span>, <span class="pl-c1">39</span>, <span class="pl-c1">27</span>, <span class="pl-c1">567</span>, <span class="pl-en">DateTimeZone</span>.forID(<span class="pl-s"><span class="pl-pds">"</span>America/New_York<span class="pl-pds">"</span></span>))
<span class="pl-k">val</span> <span class="pl-en">tradeInYen</span> <span class="pl-k">=</span> fx.convert(<span class="pl-c1">10000</span>, <span class="pl-s"><span class="pl-pds">"</span>GBP<span class="pl-pds">"</span></span>).to(<span class="pl-s"><span class="pl-pds">"</span>JPY<span class="pl-pds">"</span></span>).at(tradeDate)                   </pre>
  </div> 
  <h4><a id="user-content-335-latest-post-eod-rate" class="anchor" href="https://github.com/snowplow/scala-forex#335-latest-post-eod-rate" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.3.5 Latest-post EOD rate</h4> 
  <p>Lookup the latest EOD (end-of-date) rate following your event <em>(cacheing available)</em>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">org.joda.time.</span>{<span class="pl-v">DateTime</span>, <span class="pl-v">DateTimeZone</span>}
<span class="pl-k">import</span> <span class="pl-v">com.snowplowanalytics.forex.</span><span class="pl-v">EodRoundUp</span>

<span class="pl-c"><span class="pl-c">//</span> 10000 GBP =&gt; JPY at the end of 13/03/2011</span>
<span class="pl-k">val</span> <span class="pl-en">fx</span> <span class="pl-k">=</span> <span class="pl-en">Forex</span>(<span class="pl-en">ForexConfig</span>(getNearestDay <span class="pl-k">=</span> <span class="pl-en">EodRoundUp</span>), <span class="pl-en">OerClientConfig</span>(appId, <span class="pl-en">DeveloperAccount</span>))
<span class="pl-k">val</span> <span class="pl-en">tradeDate</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">DateTime</span>(<span class="pl-c1">2011</span>, <span class="pl-c1">3</span>, <span class="pl-c1">13</span>, <span class="pl-c1">11</span>, <span class="pl-c1">39</span>, <span class="pl-c1">27</span>, <span class="pl-c1">567</span>, <span class="pl-en">DateTimeZone</span>.forID(<span class="pl-s"><span class="pl-pds">"</span>America/New_York<span class="pl-pds">"</span></span>))
<span class="pl-k">val</span> <span class="pl-en">usd2yen</span> <span class="pl-k">=</span> fx.convert(<span class="pl-c1">10000</span>, <span class="pl-s"><span class="pl-pds">"</span>GBP<span class="pl-pds">"</span></span>).to(<span class="pl-s"><span class="pl-pds">"</span>JPY<span class="pl-pds">"</span></span>).at(tradeDate)</pre>
  </div> 
  <h4><a id="user-content-336-specific-eod-rate" class="anchor" href="https://github.com/snowplow/scala-forex#336-specific-eod-rate" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.3.6 Specific EOD rate</h4> 
  <p>Conversion using the EOD rate for a specific date <em>(cacheing available)</em>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">org.joda.time.</span><span class="pl-v">DateTime</span>

<span class="pl-c"><span class="pl-c">//</span> 10000 GBP =&gt; JPY at the end of 13/03/2011</span>
<span class="pl-k">val</span> <span class="pl-en">fx</span> <span class="pl-k">=</span> <span class="pl-en">Forex</span>(<span class="pl-en">ForexConfig</span>(baseCurrency<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>GBP<span class="pl-pds">"</span></span>), <span class="pl-en">OerClientConfig</span>(appId, <span class="pl-en">DeveloperAccount</span>))
<span class="pl-k">val</span> <span class="pl-en">eodDate</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">DateTime</span>(<span class="pl-c1">2011</span>, <span class="pl-c1">3</span>, <span class="pl-c1">13</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>)
<span class="pl-k">val</span> <span class="pl-en">tradeInYen</span> <span class="pl-k">=</span> fx.convert(<span class="pl-c1">10000</span>).to(<span class="pl-s"><span class="pl-pds">"</span>JPY<span class="pl-pds">"</span></span>).eod(eodDate)</pre>
  </div> 
  <h4><a id="user-content-337-specific-eod-rate-without-cache" class="anchor" href="https://github.com/snowplow/scala-forex#337-specific-eod-rate-without-cache" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.3.7 Specific EOD rate without cache</h4> 
  <p>Conversion using the EOD rate for a specific date, <em>(no cacheing)</em>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">org.joda.time.</span><span class="pl-v">DateTime</span>

<span class="pl-c"><span class="pl-c">//</span> 10000 GBP =&gt; JPY at the end of 13/03/2011</span>
<span class="pl-k">val</span> <span class="pl-en">fx</span> <span class="pl-k">=</span> <span class="pl-en">Forex</span>(<span class="pl-en">ForexConfig</span>(eodCacheSize <span class="pl-k">=</span> <span class="pl-c1">0</span>, baseCurrency<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>GBP<span class="pl-pds">"</span></span>), <span class="pl-en">OerClientConfig</span>(appId, <span class="pl-en">DeveloperAccount</span>))
<span class="pl-k">val</span> <span class="pl-en">eodDate</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">DateTime</span>(<span class="pl-c1">2011</span>, <span class="pl-c1">3</span>, <span class="pl-c1">13</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>)
<span class="pl-k">val</span> <span class="pl-en">tradeInYen</span> <span class="pl-k">=</span> fx.convert(<span class="pl-c1">10000</span>).to(<span class="pl-s"><span class="pl-pds">"</span>JPY<span class="pl-pds">"</span></span>).eod(eodDate)</pre>
  </div> 
  <h3><a id="user-content-34-usage-notes" class="anchor" href="https://github.com/snowplow/scala-forex#34-usage-notes" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.4 Usage notes</h3> 
  <h4><a id="user-content-341-lru-cache" class="anchor" href="https://github.com/snowplow/scala-forex#341-lru-cache" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.4.1 LRU cache</h4> 
  <p>The <code>lruCache</code> value determines the maximum number of values to keep in the LRU cache, which the Client will check prior to making an API lookup. To disable the LRU cache, set its size to zero, i.e. <code>lruCache = 0</code>.</p> 
  <h4><a id="user-content-342-from-currency-selection" class="anchor" href="https://github.com/snowplow/scala-forex#342-from-currency-selection" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3.4.2 From currency selection</h4> 
  <p>A default <em>"from currency"</em> can be specified for all operations, using the <code>baseCurrency</code> argument to the <code>ForexConfig</code> object. If not specified, <code>baseCurrency</code> is set to USD by default.</p> 
  <h2><a id="user-content-4-development" class="anchor" href="https://github.com/snowplow/scala-forex#4-development" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>4. Development</h2> 
  <h3><a id="user-content-41-building" class="anchor" href="https://github.com/snowplow/scala-forex#41-building" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>4.1 Building</h3> 
  <p>Assuming git, <a href="http://docs.vagrantup.com/v2/installation/index.html" target="_blank">Vagrant</a> and <a href="https://www.virtualbox.org/wiki/Downloads" target="_blank">VirtualBox</a> installed:</p> 
  <div class="highlight highlight-source-shell">
   <pre> host<span class="pl-k">&gt;</span> git clone https://github.com/snowplow/scala-forex
 host<span class="pl-k">&gt;</span> <span class="pl-c1">cd</span> scala-forex
 host<span class="pl-k">&gt;</span> vagrant up <span class="pl-k">&amp;&amp;</span> vagrant ssh
guest<span class="pl-k">&gt;</span> <span class="pl-c1">cd</span> /vagrant
guest<span class="pl-k">&gt;</span> sbt build</pre>
  </div> 
  <h3><a id="user-content-42-repl-setup" class="anchor" href="https://github.com/snowplow/scala-forex#42-repl-setup" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>4.2 REPL setup</h3> 
  <p>To try out Scala Forex in the Scala REPL:</p> 
  <pre><code>guest&gt; sbt console
...
scala&gt; val appId = "&lt;&lt;key&gt;&gt;"
scala&gt; import com.snowplowanalytics.forex.{Forex, ForexConfig}
scala&gt; import com.snowplowanalytics.forex.oerclient.{OerClientConfig, DeveloperAccount}  
scala&gt; val fx = Forex(ForexConfig(), OerClientConfig(appId, DeveloperAccount))
scala&gt; val usd2jpy = fx.rate.to("JPY").now
</code></pre> 
  <h3><a id="user-content-43-running-tests" class="anchor" href="https://github.com/snowplow/scala-forex#43-running-tests" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>4.3 Running tests</h3> 
  <p>You <strong>must</strong> export your <code>OER_KEY</code> or else the test suite will fail. To run the test suite locally:</p> 
  <pre><code>$ export OER_KEY=&lt;&lt;key&gt;&gt;
$ git clone https://github.com/snowplow/scala-forex.git
$ cd scala-forex
$ sbt test
</code></pre> 
  <h2><a id="user-content-5-implementation-details" class="anchor" href="https://github.com/snowplow/scala-forex#5-implementation-details" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>5. Implementation details</h2> 
  <h3><a id="user-content-51-end-of-day-definition" class="anchor" href="https://github.com/snowplow/scala-forex#51-end-of-day-definition" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>5.1 End-of-day definition</h3> 
  <p>The end of today is 00:00 on the next day.</p> 
  <h3><a id="user-content-52-exchange-rate-lookup" class="anchor" href="https://github.com/snowplow/scala-forex#52-exchange-rate-lookup" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>5.2 Exchange rate lookup</h3> 
  <p>When <code>.now</code> is specified, the <strong>live</strong> exchange rate available from Open Exchange Rates is used.</p> 
  <p>When <code>.nowish</code> is specified, a <strong>cached</strong> version of the <strong>live</strong> exchange rate is used, if the timestamp of that exchange rate is less than or equal to <code>nowishSecs</code> (see above) ago. Otherwise a new lookup is performed.</p> 
  <p>When <code>.at(...)</code> is specified, the <strong>latest end-of-day rate prior</strong> to the datetime is used by default. Or users can configure that Scala Forex "round up" to the end of the occurring day.</p> 
  <p>When <code>.eod(...)</code> is specified, the end-of-day rate for the <strong>specified day</strong> is used. Any hour/minute/second/etc portion of the datetime is ignored.</p> 
  <h3><a id="user-content-53-lru-cache" class="anchor" href="https://github.com/snowplow/scala-forex#53-lru-cache" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>5.3 LRU cache</h3> 
  <p>We recommend trying different LRU cache sizes to see what works best for you.</p> 
  <p>Please note that the LRU cache implementation is <strong>not</strong> thread-safe (<a href="http://twitter.github.com/commons/apidocs/com/twitter/common/util/caching/LRUCache.html" target="_blank">see this note</a>). Switch it off if you are working with threads.</p> 
  <h3><a id="user-content-54-explanation-of-defaults" class="anchor" href="https://github.com/snowplow/scala-forex#54-explanation-of-defaults" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>5.4 Explanation of defaults</h3> 
  <h4><a id="user-content-541-nowishcache--165--164--2--13530" class="anchor" href="https://github.com/snowplow/scala-forex#541-nowishcache--165--164--2--13530" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>5.4.1 <code>nowishCache</code> = (165 * 164 / 2) = 13530</h4> 
  <p>There are 165 currencies provided by the OER API, hence 165 * 164 pairs of currency combinations. The key in nowish cache is a tuple of source currency and target currency, and the nowish cache was implemented in a way such that a lookup from CurrencyA to CurrencyB or from CurrencyB to CurrencyA will use the same exchange rate, so we don't need to store both in the caches. Hence there are (165 * 164 / 2) pairs of currencies for nowish cache.</p> 
  <h4><a id="user-content-542-eodcache--165--164--2--30--405900" class="anchor" href="https://github.com/snowplow/scala-forex#542-eodcache--165--164--2--30--405900" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>5.4.2 <code>eodCache</code> = (165 * 164 / 2) * 30 = 405900</h4> 
  <p>Assume the eod cache stores the rates to each pair of currencies for 1 month(i.e. 30 days). There are 165 * 164 / 2 pairs of currencies, hence (165 * 164 / 2) * 30 entries.</p> 
  <h4><a id="user-content-543-nowishsecs--300" class="anchor" href="https://github.com/snowplow/scala-forex#543-nowishsecs--300" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>5.4.3 <code>nowishSecs</code> = 300</h4> 
  <p>Assume nowish cache stores data for 5 mins.</p> 
  <h4><a id="user-content-544-getnearestday--eodrounddown" class="anchor" href="https://github.com/snowplow/scala-forex#544-getnearestday--eodrounddown" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>5.4.4 <code>getNearestDay</code> = EodRoundDown</h4> 
  <p>By convention, we are always interested in the exchange rates prior to the query date, hence EodRoundDown.</p> 
  <h4><a id="user-content-545-basecurrency--usd" class="anchor" href="https://github.com/snowplow/scala-forex#545-basecurrency--usd" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>5.4.5 <code>baseCurrency</code> = USD</h4> 
  <p>We selected USD for the base currency because this is the OER default as well.</p> 
  <h3><a id="user-content-55-oer-accounts" class="anchor" href="https://github.com/snowplow/scala-forex#55-oer-accounts" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>5.5 OER accounts</h3> 
  <p>With Open Exchange Rates' Unlimited and Enterprise accounts, Scala Forex can specify the base currency to use when looking up exchange rates; Developer-level accounts will always retrieve rates against USD, so a rate lookup from e.g. GBY to EUR will require two conversions (GBY -&gt; USD -&gt; EUR). For this reason, we recommend Unlimited and Enterprise-level accounts for slightly more accurate non-USD-related lookups.</p> 
  <h2><a id="user-content-6-copyright-and-license" class="anchor" href="https://github.com/snowplow/scala-forex#6-copyright-and-license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>6. Copyright and license</h2> 
  <p>Scala Forex is copyright 2013-2016 Snowplow Analytics Ltd.</p> 
  <p>Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License, Version 2.0</a> (the "License"); you may not use this software except in compliance with the License.</p> 
  <p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p> 
 </article>
</div>