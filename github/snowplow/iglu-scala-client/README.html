<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-scala-client-for-iglu" class="anchor" href="https://github.com/snowplow/iglu-scala-client#scala-client-for-iglu" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala client for Iglu</h1> 
  <p><a href="https://travis-ci.org/snowplow/iglu-scala-client" target="_blank"> <img src="https://camo.githubusercontent.com/8cd443ce63342ad2f1185871f2d5e0d391d52626/68747470733a2f2f7472617669732d63692e6f72672f736e6f77706c6f772f69676c752d7363616c612d636c69656e742e706e673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/snowplow/iglu-scala-client.png?branch=master" style="max-width:100%;"> </a> <a href="https://github.com/snowplow/scala-weather/releases" target="_blank"> <img src="https://camo.githubusercontent.com/16f436b85d124b27fa39fc2fa8c2820d31a9d830/687474703a2f2f696d672e736869656c64732e696f2f62616467652f72656c656173652d302e342e302d626c75652e7376673f7374796c653d666c6174" alt="Release" data-canonical-src="http://img.shields.io/badge/release-0.4.0-blue.svg?style=flat" style="max-width:100%;"> </a> <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank"> <img src="https://camo.githubusercontent.com/0257a158db7f15a3a2b76dfd75be916fda130867/687474703a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4170616368652d2d322d626c75652e7376673f7374796c653d666c6174" alt="License" data-canonical-src="http://img.shields.io/badge/license-Apache--2-blue.svg?style=flat" style="max-width:100%;"> </a></p> 
  <p>A Scala client and resolver for <strong><a href="https://github.com/snowplow/iglu/wiki" target="_blank">Iglu schema repositories</a></strong> from the team at <strong><a href="http://snowplowanalytics.com" target="_blank">Snowplow Analytics</a></strong>.</p> 
  <p>Iglu Scala Client is used extensively in <strong><a href="https://github.com/snowplow/snowplow" target="_blank">Snowplow</a></strong> to validate self-describing JSONs. For a presentation on how we came to build Iglu, see <strong><a href="http://snowplowanalytics.com/blog/2014/06/06/making-snowplow-schemas-flexible-a-technical-approach/" target="_blank">this blog post</a></strong>.</p> 
  <p><a href="https://github.com/snowplow/iglu/wiki/technical-documentation/images/iglu-clients.png" target="_blank"><img src="https://github.com/snowplow/iglu/wiki/technical-documentation/images/iglu-clients.png" alt="scala-client-img" style="max-width:100%;"></a></p> 
  <h2><a id="user-content-installation" class="anchor" href="https://github.com/snowplow/iglu-scala-client#installation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Installation</h2> 
  <p>The latest version of Iglu Scala Client is 0.4.0, which is cross-built against Scala 2.10.x and 2.11.x.</p> 
  <p>If you're using SBT, add the following lines to your build file:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> Resolvers</span>
<span class="pl-k">val</span> <span class="pl-en">snowplowRepo</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Snowplow Repo<span class="pl-pds">"</span></span> at <span class="pl-s"><span class="pl-pds">"</span>http://maven.snplow.com/releases/<span class="pl-pds">"</span></span>
<span class="pl-k">val</span> <span class="pl-en">sonatypeRepo</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Sonatype<span class="pl-pds">"</span></span> at <span class="pl-s"><span class="pl-pds">"</span>https://oss.sonatype.org/content/repositories/releases<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">//</span> Dependency</span>
<span class="pl-k">val</span> <span class="pl-en">igluClient</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.snowplowanalytics<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>iglu-scala-client<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.4.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Note the double percent (<code>%%</code>) between the group and artifactId. That'll ensure you get the right package for your Scala version.</p> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/snowplow/iglu-scala-client#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>Primary entity for working with Iglu Scala Client is <code>com.snowplowanalytics.iglu.client.Resolver</code>. Resolver companion object has <code>parse</code> method which allows you to create Resolver instance from <strong><a href="https://github.com/snowplow/iglu/wiki/Iglu-client-configuration" target="_blank">resolver configuration</a></strong>. Second working method is <code>lookupSchema</code>, receiving Schema key as String or directly <code>com.snowplowanalytics.iglu.SchemaKey</code> object, this method traverse all configured repositories trying to find Schema by its key.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scalaz.</span><span class="pl-v">ValidationNel</span>
<span class="pl-k">import</span> <span class="pl-v">com.fasterxml.jackson.databind.</span><span class="pl-v">JsonNode</span>
<span class="pl-k">import</span> <span class="pl-v">com.github.fge.jsonschema.core.report.</span><span class="pl-v">ProcessingMessage</span>
<span class="pl-k">import</span> <span class="pl-v">com.snowplowanalytics.iglu.client.</span>{ <span class="pl-v">Resolver</span>, <span class="pl-v">SchemaKey</span> }

<span class="pl-k">val</span> <span class="pl-en">resolverConfig</span><span class="pl-k">:</span> <span class="pl-en">JsonNode</span> <span class="pl-k">=</span> <span class="pl-k">???</span>
<span class="pl-k">val</span> <span class="pl-en">schema</span><span class="pl-k">:</span> <span class="pl-en">ValidationNel</span>[<span class="pl-en">ProcessingMessage</span>, <span class="pl-en">JsonNode</span>] <span class="pl-k">=</span> <span class="pl-k">for</span> {
  schemaKey <span class="pl-k">&lt;</span><span class="pl-k">-</span> <span class="pl-en">SchemaKey</span>.parseNel(<span class="pl-s"><span class="pl-pds">"</span>iglu:com.snowplowanalytics.snowplow/mobile_context/jsonschema/1-0-0<span class="pl-pds">"</span></span>)
  resolver <span class="pl-k">&lt;</span><span class="pl-k">-</span> <span class="pl-en">Resolver</span>.parse(resolverConfig)
  schema <span class="pl-k">&lt;</span><span class="pl-k">-</span> resolver.lookupSchema(schemaKey)
} <span class="pl-k">yield</span> schema</pre>
  </div> 
  <p>Above snippet returns mobile context JSON Schema if you provide correct <code>resolverConfig</code>. If not you will get all errors (like invalid format, network failure, etc) accumulated in <code>scalaz.NonEmptyList</code>, which itself is left side of <code>scalaz.ValidationNel</code>, structure isomorphic to native Scala <code>Either</code>.</p> 
  <h2><a id="user-content-developer-quickstart" class="anchor" href="https://github.com/snowplow/iglu-scala-client#developer-quickstart" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Developer quickstart</h2> 
  <p>Assuming git, <strong><a href="http://docs.vagrantup.com/v2/installation/index.html" target="_blank">Vagrant</a></strong> and <strong><a href="https://www.virtualbox.org/wiki/Downloads" target="_blank">VirtualBox</a></strong> installed:</p> 
  <div class="highlight highlight-source-shell">
   <pre> host<span class="pl-k">&gt;</span> git clone https://github.com/snowplow/iglu-scala-client
 host<span class="pl-k">&gt;</span> <span class="pl-c1">cd</span> iglu-scala-client
 host<span class="pl-k">&gt;</span> vagrant up <span class="pl-k">&amp;&amp;</span> vagrant ssh
guest<span class="pl-k">&gt;</span> <span class="pl-c1">cd</span> /vagrant
guest<span class="pl-k">&gt;</span> sbt compile</pre>
  </div> 
  <h2><a id="user-content-find-out-more" class="anchor" href="https://github.com/snowplow/iglu-scala-client#find-out-more" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Find out more</h2> 
  <table>
   <thead> 
    <tr> 
     <th><strong><a href="https://github.com/snowplow/iglu/wiki/Scala-client" target="_blank">Technical Docs</a></strong></th> 
     <th><strong><a href="https://github.com/snowplow/iglu/wiki/Scala-client-setup" target="_blank">Setup Guide</a></strong></th> 
     <th><strong><a href="https://github.com/snowplow/iglu/wiki/Product-roadmap" target="_blank">Roadmap</a></strong></th> 
     <th><strong><a href="https://github.com/snowplow/iglu/wiki/Contributing" target="_blank">Contributing</a></strong></th> 
    </tr> 
   </thead>
   <tbody> 
    <tr> 
     <td><a href="https://github.com/snowplow/iglu/wiki/Scala-client" target="_blank"><img src="https://camo.githubusercontent.com/8c6159b25596bb5a534a95784f8c7bd38fefe95a/68747470733a2f2f64336936666d7331636d316a30692e636c6f756466726f6e742e6e65742f6769746875622f696d616765732f74656368646f63732e706e67" alt="i1" data-canonical-src="https://d3i6fms1cm1j0i.cloudfront.net/github/images/techdocs.png" style="max-width:100%;"></a></td> 
     <td><a href="https://github.com/snowplow/iglu/wiki/Scala-client-setup" target="_blank"><img src="https://camo.githubusercontent.com/0390397513935043e56a7829a27810eee31458d9/68747470733a2f2f64336936666d7331636d316a30692e636c6f756466726f6e742e6e65742f6769746875622f696d616765732f73657475702e706e67" alt="i2" data-canonical-src="https://d3i6fms1cm1j0i.cloudfront.net/github/images/setup.png" style="max-width:100%;"></a></td> 
     <td><a href="https://github.com/snowplow/iglu/wiki/Product-roadmap" target="_blank"><img src="https://camo.githubusercontent.com/80cb14d5c90978bd9ac999eaaeedb559a7621eb7/68747470733a2f2f64336936666d7331636d316a30692e636c6f756466726f6e742e6e65742f6769746875622f696d616765732f726f61646d61702e706e67" alt="i3" data-canonical-src="https://d3i6fms1cm1j0i.cloudfront.net/github/images/roadmap.png" style="max-width:100%;"></a></td> 
     <td><a href="https://github.com/snowplow/iglu/wiki/Contributing" target="_blank"><img src="https://camo.githubusercontent.com/b0be97a372fd4a9c0b0478066e70526d869da250/68747470733a2f2f64336936666d7331636d316a30692e636c6f756466726f6e742e6e65742f6769746875622f696d616765732f636f6e747269627574696e672e706e67" alt="i4" data-canonical-src="https://d3i6fms1cm1j0i.cloudfront.net/github/images/contributing.png" style="max-width:100%;"></a></td> 
    </tr> 
   </tbody>
  </table> 
  <h2><a id="user-content-copyright-and-license" class="anchor" href="https://github.com/snowplow/iglu-scala-client#copyright-and-license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Copyright and license</h2> 
  <p>Iglu Scala Client is copyright 2014 Snowplow Analytics Ltd.</p> 
  <p>Licensed under the <strong><a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License, Version 2.0</a></strong> (the "License"); you may not use this software except in compliance with the License.</p> 
  <p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p> 
 </article>
</div>