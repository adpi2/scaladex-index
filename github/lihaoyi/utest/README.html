<div class="announce instapaper_body md" data-path="readme.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-µtest-048--" class="anchor" href="https://github.com/lihaoyi/utest#µtest-048--" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>µTest 0.4.8 <a href="https://travis-ci.org/lihaoyi/utest" target="_blank"><img src="https://camo.githubusercontent.com/cf9ba5b37031830ca2c64a01b923f6d872085dc9/68747470733a2f2f7472617669732d63692e6f72672f6c6968616f79692f75746573742e737667" alt="Build Status" data-canonical-src="https://travis-ci.org/lihaoyi/utest.svg" style="max-width:100%;"></a> <a href="https://gitter.im/lihaoyi/utest?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Gitter Chat" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"></a></h1> 
  <p>uTest (pronounced micro-test) is a lightweight testing library for Scala. Its key features are:</p> 
  <ul> 
   <li><a href="https://github.com/lihaoyi/utest/graphs/contributors" target="_blank">Less than 1000 lines of code</a></li> 
   <li><a href="https://github.com/lihaoyi/utest#macro-asserts" target="_blank">A fancy set of macro-powered asserts</a></li> 
   <li><a href="https://github.com/lihaoyi/utest#execution-model" target="_blank">A unique execution model</a></li> 
   <li><a href="https://github.com/lihaoyi/utest#getting-started" target="_blank">Integration with SBT</a></li> 
   <li><a href="https://github.com/lihaoyi/utest#scalajs" target="_blank">Cross compiles to ScalaJS</a></li> 
   <li><a href="http://scala-native.org/" target="_blank">Cross compiles to Scala Native</a></li> 
  </ul> 
  <h2><a id="user-content-contents" class="anchor" href="https://github.com/lihaoyi/utest#contents" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contents</h2> 
  <ul> 
   <li><a href="https://github.com/lihaoyi/utest#getting-started" target="_blank">Getting Started</a></li> 
   <li><a href="https://github.com/lihaoyi/utest#defining-and-running-a-test-suite" target="_blank">Defining and Running a Test Suite</a> 
    <ul> 
     <li><a href="https://github.com/lihaoyi/utest#nesting-tests" target="_blank">Nesting Tests</a></li> 
     <li><a href="https://github.com/lihaoyi/utest#sharing-setup-fixtures" target="_blank">Sharing Setup Fixtures</a></li> 
     <li><a href="https://github.com/lihaoyi/utest#other-ways-of-naming-tests" target="_blank">Other Ways of Naming tests</a></li> 
     <li><a href="https://github.com/lihaoyi/utest#asynchronous-tests" target="_blank">Asynchronous Tests</a></li> 
    </ul> </li> 
   <li><a href="https://github.com/lihaoyi/utest#macro-asserts" target="_blank">Macro Asserts</a> 
    <ul> 
     <li><a href="https://github.com/lihaoyi/utest#arrow-asserts" target="_blank">Arrow Asserts</a></li> 
     <li><a href="https://github.com/lihaoyi/utest#intercept" target="_blank">Intercept</a></li> 
     <li><a href="https://github.com/lihaoyi/utest#eventually-and-continually" target="_blank">Eventually and Continually</a></li> 
     <li><a href="https://github.com/lihaoyi/utest#assert-match" target="_blank">Assert Match</a></li> 
     <li><a href="https://github.com/lihaoyi/utest#compile-error" target="_blank">Compile Error</a></li> 
    </ul> </li> 
   <li><a href="https://github.com/lihaoyi/utest#test-utilities" target="_blank">Test Utilities</a> 
    <ul> 
     <li><a href="https://github.com/lihaoyi/utest#testpath" target="_blank">TestPath</a></li> 
     <li><a href="https://github.com/lihaoyi/utest#local-retries" target="_blank">Local Retries</a></li> 
    </ul> </li> 
   <li><a href="https://github.com/lihaoyi/utest#configuring-utest" target="_blank">Configuring uTest</a> 
    <ul> 
     <li><a href="https://github.com/lihaoyi/utest#output-formatting" target="_blank">Output Formatting</a></li> 
     <li><a href="https://github.com/lihaoyi/utest#suite-retries" target="_blank">Suite Retries</a></li> 
     <li><a href="https://github.com/lihaoyi/utest#test-wrapping" target="_blank">Test Wrapping</a></li> 
    </ul> </li> 
   <li><a href="https://github.com/lihaoyi/utest#execution-model" target="_blank">Execution Model</a></li> 
   <li><a href="https://github.com/lihaoyi/utest#sbt-command-line-interface" target="_blank">SBT Command-line Interface</a></li> 
   <li><a href="https://github.com/lihaoyi/utest#scalajs" target="_blank">ScalaJS</a></li> 
   <li><a href="https://github.com/lihaoyi/utest#why-utest" target="_blank">Why uTest</a></li> 
   <li><a href="https://github.com/lihaoyi/utest#development-tips" target="_blank">Development Tips</a></li> 
   <li><a href="https://github.com/lihaoyi/utest#changelog" target="_blank">Changelog</a></li> 
  </ul> 
  <h1><a id="user-content-getting-started" class="anchor" href="https://github.com/lihaoyi/utest#getting-started" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting Started</h1> 
  <p>Most people coming to uTest will be running tests through <a href="http://www.scala-sbt.org/" target="_blank">SBT</a>. Add the following to your <code>build.sbt</code> and you can immediately begin defining and running tests programmatically.</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.lihaoyi<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>utest<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.4.8<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>

testFrameworks <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">TestFramework</span>(<span class="pl-s"><span class="pl-pds">"</span>utest.runner.Framework<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>To use it with Scala.js, swap out the <code>libraryDependencies</code> with</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.lihaoyi<span class="pl-pds">"</span></span> <span class="pl-k">%%%</span> <span class="pl-s"><span class="pl-pds">"</span>utest<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.4.8<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>

testFrameworks <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">TestFramework</span>(<span class="pl-s"><span class="pl-pds">"</span>utest.runner.Framework<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <h1><a id="user-content-defining-and-running-a-test-suite" class="anchor" href="https://github.com/lihaoyi/utest#defining-and-running-a-test-suite" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Defining and Running a Test Suite</h1> 
  <p>Put this in your <code>src/test/scala/</code> folder:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">package</span> <span class="pl-en">test.utest.examples.examples</span>

<span class="pl-k">import</span> <span class="pl-v">utest.</span><span class="pl-v">_</span>

<span class="pl-k">object</span> <span class="pl-en">HelloTests</span> <span class="pl-k">extends</span> <span class="pl-e">TestSuite</span>{
  <span class="pl-k">val</span> <span class="pl-en">tests</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>{
    <span class="pl-en">'test1</span>{
      <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">Exception</span>(<span class="pl-s"><span class="pl-pds">"</span>test1<span class="pl-pds">"</span></span>)
    }
    <span class="pl-en">'test2</span>{
      <span class="pl-c1">1</span>
    }
    <span class="pl-en">'test3</span>{
      <span class="pl-k">val</span> <span class="pl-en">a</span> <span class="pl-k">=</span> <span class="pl-en">List</span>[<span class="pl-k">Byte</span>](<span class="pl-c1">1</span>, <span class="pl-c1">2</span>)
      a(<span class="pl-c1">10</span>)
    }
  }
}</pre>
  </div> 
  <p>You can then run this via</p> 
  <pre><code>sbt myproject/test
</code></pre> 
  <p>Which should produce this output:</p> 
  <div class="highlight highlight-source-js">
   <pre>[info] <span class="pl-k">----------------------</span><span class="pl-k">-</span>Starting Suite <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">HelloTests</span><span class="pl-k">----------------------</span><span class="pl-k">-</span>
[info] <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">HelloTests</span>.<span class="pl-smi">test1</span>
[info]      		<span class="pl-smi">java</span>.<span class="pl-c1">lang</span>.<span class="pl-smi">Exception</span><span class="pl-k">:</span> test1
[info] <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">HelloTests</span>.<span class="pl-smi">test2</span>		Success
[info] <span class="pl-c1">1</span>
[info] <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">HelloTests</span>.<span class="pl-smi">test3</span>
[info]      		<span class="pl-smi">java</span>.<span class="pl-c1">lang</span>.<span class="pl-smi">IndexOutOfBoundsException</span><span class="pl-k">:</span> <span class="pl-c1">10</span>
[info] <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">HelloTests</span>		Success
[info] <span class="pl-k">----------------------------------</span><span class="pl-k">-</span>Results<span class="pl-k">----------------------------------</span><span class="pl-k">-</span>
[info] <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">HelloTests</span>		Success
[info]     test1		<span class="pl-en">Failure</span>(<span class="pl-s"><span class="pl-pds">'</span>java.lang.Exception: test1<span class="pl-pds">'</span></span>)
[info]     test2		Success
[info]          <span class="pl-c1">1</span>
[info]     test3		<span class="pl-en">Failure</span>(<span class="pl-s"><span class="pl-pds">'</span>java.lang.IndexOutOfBoundsException: 10<span class="pl-pds">'</span></span>)
[info] Failures<span class="pl-k">:</span>
[info] <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">HelloTests</span>.<span class="pl-smi">test1</span>
[info]      		<span class="pl-smi">java</span>.<span class="pl-c1">lang</span>.<span class="pl-smi">Exception</span><span class="pl-k">:</span> test1
[info] <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">HelloTests$$anonfun$4$$anonfun$apply$1</span>.<span class="pl-c1">apply</span>(<span class="pl-smi">HelloTests</span>.<span class="pl-smi">scala</span><span class="pl-k">:</span><span class="pl-c1">8</span>)
[info] <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">HelloTests$$anonfun$4$$anonfun$apply$1</span>.<span class="pl-c1">apply</span>(<span class="pl-smi">HelloTests</span>.<span class="pl-smi">scala</span><span class="pl-k">:</span><span class="pl-c1">6</span>)
[info] <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">HelloTests</span>.<span class="pl-smi">test3</span>
[info]      		<span class="pl-smi">java</span>.<span class="pl-c1">lang</span>.<span class="pl-smi">IndexOutOfBoundsException</span><span class="pl-k">:</span> <span class="pl-c1">10</span>
[info] <span class="pl-smi">scala</span>.<span class="pl-smi">collection</span>.<span class="pl-smi">LinearSeqOptimized$class</span>.<span class="pl-c1">apply</span>(<span class="pl-smi">LinearSeqOptimized</span>.<span class="pl-smi">scala</span><span class="pl-k">:</span><span class="pl-c1">51</span>)
[info] <span class="pl-smi">scala</span>.<span class="pl-smi">collection</span>.<span class="pl-smi">immutable</span>.<span class="pl-smi">List</span>.<span class="pl-c1">apply</span>(<span class="pl-smi">List</span>.<span class="pl-smi">scala</span><span class="pl-k">:</span><span class="pl-c1">83</span>)
[info] <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">HelloTests$$anonfun$4$$anonfun$apply$3</span>.<span class="pl-c1">apply</span>(<span class="pl-smi">HelloTests</span>.<span class="pl-smi">scala</span><span class="pl-k">:</span><span class="pl-c1">15</span>)
[info] <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">HelloTests$$anonfun$4$$anonfun$apply$3</span>.<span class="pl-c1">apply</span>(<span class="pl-smi">HelloTests</span>.<span class="pl-smi">scala</span><span class="pl-k">:</span><span class="pl-c1">6</span>)
[info] Tests<span class="pl-k">:</span> <span class="pl-c1">4</span>
[info] Passed<span class="pl-k">:</span> <span class="pl-c1">2</span>
[info] Failed<span class="pl-k">:</span> <span class="pl-c1">2</span>
[error] Failed tests<span class="pl-k">:</span>
[error] 	<span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">HelloTests</span>
[error] (utestJVM<span class="pl-k">/</span>test<span class="pl-k">:</span>testOnly) <span class="pl-smi">sbt</span>.<span class="pl-smi">TestsFailedException</span><span class="pl-k">:</span> Tests unsuccessful
[error] Total time<span class="pl-k">:</span> <span class="pl-c1">1</span> s, completed Mar <span class="pl-c1">12</span>, <span class="pl-c1">2016</span> <span class="pl-c1">5</span><span class="pl-k">:</span><span class="pl-c1">24</span><span class="pl-k">:</span><span class="pl-c1">54</span> <span class="pl-c1">PM</span></pre>
  </div> 
  <p>At first the tests are run one at a time; after they've all completed, a summary is printed, followed by the stack traces for any tests which failed. You can configure the test suite to change how these things are printed.</p> 
  <h2><a id="user-content-nesting-tests" class="anchor" href="https://github.com/lihaoyi/utest#nesting-tests" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Nesting Tests</h2> 
  <p>Note that tests within the suite can nested within each other, but only directly. E.g. you cannot define tests within <code>if</code>-statements or <code>for</code>-loops. uTest relies on the test structure to be statically known at compile time. They can be nested arbitrarily deep:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">package</span> <span class="pl-en">test.utest.examples</span>

<span class="pl-k">import</span> <span class="pl-v">utest.</span><span class="pl-v">_</span>

<span class="pl-k">object</span> <span class="pl-en">NestedTests</span> <span class="pl-k">extends</span> <span class="pl-e">TestSuite</span>{
  <span class="pl-k">val</span> <span class="pl-en">tests</span> <span class="pl-k">=</span>  <span class="pl-c1">this</span>{
    <span class="pl-k">val</span> <span class="pl-en">x</span> <span class="pl-k">=</span> <span class="pl-c1">1</span>
    <span class="pl-en">'outer</span>{
      <span class="pl-k">val</span> <span class="pl-en">y</span> <span class="pl-k">=</span> x <span class="pl-k">+</span> <span class="pl-c1">1</span>
      <span class="pl-en">'inner</span>{
        <span class="pl-k">val</span> <span class="pl-en">z</span> <span class="pl-k">=</span> y <span class="pl-k">+</span> <span class="pl-c1">1</span>
        <span class="pl-en">'innerest</span>{
          assert(
            x <span class="pl-k">==</span> <span class="pl-c1">1</span>,
            y <span class="pl-k">==</span> <span class="pl-c1">2</span>,
            z <span class="pl-k">==</span> <span class="pl-c1">3</span>
          )
          (x, y, z)
        }
      }
    }
  }
}</pre>
  </div> 
  <p>Which when run prints:</p> 
  <div class="highlight highlight-source-js">
   <pre>[info] <span class="pl-k">----------------</span><span class="pl-k">-</span>Starting Suite <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">NestedTests</span><span class="pl-k">----------------</span><span class="pl-k">-</span>
[info] <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">NestedTests</span>.<span class="pl-smi">outer</span>.<span class="pl-smi">inner</span>.<span class="pl-smi">innerest</span>		Success
[info] (<span class="pl-c1">1</span>,<span class="pl-c1">2</span>,<span class="pl-c1">3</span>)
[info] <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">NestedTests</span>.<span class="pl-smi">outer</span>.<span class="pl-smi">inner</span>		Success
[info] <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">NestedTests</span>.<span class="pl-smi">outer</span>		Success
[info] <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">NestedTests</span>		Success
[info] <span class="pl-k">----------------------------------</span><span class="pl-k">-</span>Results<span class="pl-k">----------------------------------</span><span class="pl-k">-</span>
[info] <span class="pl-smi">test</span>.<span class="pl-smi">utest</span>.<span class="pl-smi">examples</span>.<span class="pl-smi">NestedTests</span>		Success
[info]     outer		Success
[info]         inner		Success
[info]             innerest		Success
[info]                     (<span class="pl-c1">1</span>,<span class="pl-c1">2</span>,<span class="pl-c1">3</span>)
[info]
[info] Tests<span class="pl-k">:</span> <span class="pl-c1">4</span>
[info] Passed<span class="pl-k">:</span> <span class="pl-c1">4</span>
[info] Failed<span class="pl-k">:</span> <span class="pl-c1">0</span></pre>
  </div> 
  <p>As you can see, the various three are nested within each other.</p> 
  <h2><a id="user-content-sharing-setup-fixtures" class="anchor" href="https://github.com/lihaoyi/utest#sharing-setup-fixtures" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Sharing Setup Fixtures</h2> 
  <p>You can use the nested of tests to group related tests together, and have them share common initialization code or fixtures by defining them in the enclosing test:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">package</span> <span class="pl-en">test.utest.examples</span>

<span class="pl-k">import</span> <span class="pl-v">utest.</span><span class="pl-v">_</span>

<span class="pl-k">object</span> <span class="pl-en">SharedSetupTests</span> <span class="pl-k">extends</span> <span class="pl-e">TestSuite</span>{
  <span class="pl-k">val</span> <span class="pl-en">tests</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>{
    <span class="pl-k">var</span> <span class="pl-en">x</span> <span class="pl-k">=</span> <span class="pl-c1">0</span>
    <span class="pl-en">'A</span>{
      x <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-c1">1</span>
      <span class="pl-en">'X</span>{
        x <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-c1">2</span>
        assert(x <span class="pl-k">==</span> <span class="pl-c1">3</span>)
        x
      }
      <span class="pl-en">'Y</span>{
        x <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-c1">3</span>
        assert(x <span class="pl-k">==</span> <span class="pl-c1">4</span>)
        x
      }
    }
    <span class="pl-en">'B</span>{
      x <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-c1">4</span>
      <span class="pl-en">'Z</span>{
        x <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-c1">5</span>
        assert(x <span class="pl-k">==</span> <span class="pl-c1">9</span>)
        x
      }
    }
  }
}</pre>
  </div> 
  <p>Here, we are sharing the initialization of the variable <code>x</code> between all the various sub-tests in the same folder.</p> 
  <p>Despite being shared lexically, these helpers are re-created for each test that is run, so if they contain mutable state (e.g. mutable collections, or <code>var</code>s) you do not need to worry about the mutations from multiple tests interfering with each other. This gives lets you concisely share common setup code between related tests in the same grouping, while avoiding interference between tests due to mutation of shared fixtures. If you want the fixtures to really-truly be shared between individual tests, define it outside the <code>this{}</code> block:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">package</span> <span class="pl-en">test.utest.examples</span>

<span class="pl-k">import</span> <span class="pl-v">utest.</span><span class="pl-v">_</span>

<span class="pl-k">object</span> <span class="pl-en">SharedFixturesTests</span> <span class="pl-k">extends</span> <span class="pl-e">TestSuite</span>{
  <span class="pl-k">var</span> <span class="pl-en">x</span> <span class="pl-k">=</span> <span class="pl-c1">0</span>
  <span class="pl-k">val</span> <span class="pl-en">tests</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>{
    <span class="pl-en">'A</span>{
      x <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-c1">1</span>
      <span class="pl-en">'X</span>{
        x <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-c1">2</span>
        assert(x <span class="pl-k">==</span> <span class="pl-c1">4</span>)
        x
      }
      <span class="pl-en">'Y</span>{
        x <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-c1">3</span>
        assert(x <span class="pl-k">==</span> <span class="pl-c1">8</span>)
        x
      }
    }
    <span class="pl-en">'B</span>{
      x <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-c1">4</span>
      <span class="pl-en">'Z</span>{
        x <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-c1">5</span>
        assert(x <span class="pl-k">==</span> <span class="pl-c1">21</span>)
        x
      }
    }
  }
}</pre>
  </div> 
  <p>And you'll see that the changes to <code>x</code> are being shared between the invocations of all the tests: <code>A</code> increments it by 1, <code>X</code> by 1 then 2, to 4, <code>Y</code> by 1 and 3 to 8, and so on. This allows you to avoid doing work repeatedly initializing things, but you need to be careful the tests aren't mutating shared state that could interfere! For more detail on this and other things related to test execution, see <a href="https://github.com/lihaoyi/utest#execution-model" target="_blank">below</a>.</p> 
  <h2><a id="user-content-other-ways-of-naming-tests" class="anchor" href="https://github.com/lihaoyi/utest#other-ways-of-naming-tests" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Other Ways of Naming tests</h2> 
  <p>uTest also allows you to use strings to define test keys, if you wish to make your test names longer and more descriptive:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-s"><span class="pl-pds">"</span>test with spaces<span class="pl-pds">"</span></span><span class="pl-k">-</span>{
  <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">Exception</span>(<span class="pl-s"><span class="pl-pds">"</span>test1<span class="pl-pds">"</span></span>)
}
<span class="pl-en">'test2</span><span class="pl-k">-</span>run(<span class="pl-c1">1</span>)
</pre>
  </div> 
  <p>Note that you can also use the <code>'symbol-...</code> syntax, if your tests are concise and you want to make them <em>really</em> concise. The <code>"string"-{...}</code>, <code>'symbol{...}</code> and <code>'symbol-...</code> syntaxes are all entirely equivalent.</p> 
  <p>The last way of defining tests is with the <code>utest.*</code> symbol, e.g.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">utest.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">test</span> <span class="pl-k">=</span> <span class="pl-en">TestSuite</span>{
  <span class="pl-en">'test1</span>{
    <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">Exception</span>(<span class="pl-s"><span class="pl-pds">"</span>test1<span class="pl-pds">"</span></span>)
  }
  <span class="pl-en">'test2</span>{
    <span class="pl-k">*</span> <span class="pl-k">-</span> {<span class="pl-c1">1</span> <span class="pl-k">==</span> <span class="pl-c1">1</span>}
    <span class="pl-k">*</span> <span class="pl-k">-</span> {<span class="pl-c1">2</span> <span class="pl-k">==</span> <span class="pl-c1">2</span>}
    <span class="pl-k">*</span> <span class="pl-k">-</span> {<span class="pl-c1">3</span> <span class="pl-k">==</span> <span class="pl-c1">3</span>}
  }
  <span class="pl-en">'test3</span>{
    <span class="pl-k">val</span> <span class="pl-en">a</span> <span class="pl-k">=</span> <span class="pl-en">List</span>[<span class="pl-k">Byte</span>](<span class="pl-c1">1</span>, <span class="pl-c1">2</span>)
    a(<span class="pl-c1">10</span>)
  }
}</pre>
  </div> 
  <p>Tests defined using the <code>*</code> symbol are give the numerical names "0", "1", "2", etc.. This is handy if you have a very large number of very simple test cases (perhaps you've delegated the heavy lifting to a helper function), but still want to be able to run them separately.</p> 
  <h2><a id="user-content-asynchronous-tests" class="anchor" href="https://github.com/lihaoyi/utest#asynchronous-tests" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Asynchronous Tests</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">tests</span> <span class="pl-k">=</span> <span class="pl-c1">this</span> {
  <span class="pl-s"><span class="pl-pds">"</span>testSuccess<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
    <span class="pl-en">Future</span> {
      assert(<span class="pl-c1">true</span>)
    }
  }
  <span class="pl-s"><span class="pl-pds">"</span>testFail<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
    <span class="pl-en">Future</span> {
      assert(<span class="pl-c1">false</span>)
    }
  }
  <span class="pl-s"><span class="pl-pds">"</span>normalSuccess<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
    assert(<span class="pl-c1">true</span>)
  }
  <span class="pl-s"><span class="pl-pds">"</span>normalFail<span class="pl-pds">"</span></span> <span class="pl-k">-</span> {
    assert(<span class="pl-c1">false</span>)
  }
}

tests.runAsync().map {    results <span class="pl-k">=&gt;</span>
  assert(results.toSeq(<span class="pl-c1">0</span>).value.isSuccess) <span class="pl-c"><span class="pl-c">//</span> root</span>
  assert(results.toSeq(<span class="pl-c1">1</span>).value.isSuccess) <span class="pl-c"><span class="pl-c">//</span> testSuccess</span>
  assert(results.toSeq(<span class="pl-c1">2</span>).value.isFailure) <span class="pl-c"><span class="pl-c">//</span> testFail</span>
  assert(results.toSeq(<span class="pl-c1">3</span>).value.isSuccess) <span class="pl-c"><span class="pl-c">//</span> normalSuccess</span>
}</pre>
  </div> 
  <p>You can have tests which return (have a last expression being) a <code>Future[T]</code> instead of a normal value. You can run the suite using <code>.runAsync</code> to return a <code>Future</code> of the results, or you can continue using <code>.run</code> which will wait for all the futures to complete before returning.</p> 
  <p>In Scala.js, calling <code>.run</code> on a test suite with futures in it throws an error instead of waiting, since you cannot wait in Scala.js.</p> 
  <p>When running the test suites from SBT, you do not need worry about any of this <code>run</code> vs <code>runAsync</code> stuff: the test runner will handle it for you and provide the correct results.</p> 
  <h1><a id="user-content-macro-asserts" class="anchor" href="https://github.com/lihaoyi/utest#macro-asserts" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Macro Asserts</h1> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">x</span> <span class="pl-k">=</span> <span class="pl-c1">1</span>
<span class="pl-k">val</span> <span class="pl-en">y</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>2<span class="pl-pds">"</span></span>
assert(
  x <span class="pl-k">&gt;</span> <span class="pl-c1">0</span>,
  x <span class="pl-k">==</span> y
)

<span class="pl-c"><span class="pl-c">//</span> utest.AssertionError: x == y</span>
<span class="pl-c"><span class="pl-c">//</span> x: Int = 1</span>
<span class="pl-c"><span class="pl-c">//</span> y: String = 2</span></pre>
  </div> 
  <p>uTest comes with a macro-powered <code>assert</code>s that provide useful debugging information in the error message. These take one or more boolean expressions, and when they fail, will print out the names, types and values of any local variables used in the expression that failed. This makes it much easier to see what's going on than Scala's default <code>assert</code>, which gives you the stack trace and nothing else.</p> 
  <p>uTest also wraps any exceptions thrown within the assert, to help trace what went wrong:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">x</span> <span class="pl-k">=</span> <span class="pl-c1">1L</span>
<span class="pl-k">val</span> <span class="pl-en">y</span> <span class="pl-k">=</span> <span class="pl-c1">0L</span>
assert(x <span class="pl-k">/</span> y <span class="pl-k">==</span> <span class="pl-c1">10</span>)

<span class="pl-c"><span class="pl-c">//</span> utest.AssertionError: assert(x / y == 10)</span>
<span class="pl-c"><span class="pl-c">//</span> caused by: java.lang.ArithmeticException: / by zero</span>
<span class="pl-c"><span class="pl-c">//</span> x: Long = 1</span>
<span class="pl-c"><span class="pl-c">//</span> y: Long = 0</span></pre>
  </div> 
  <p>The origin exception is stored as the <code>cause</code> of the <code>utest.AssertionError</code>, so the original stack trace is still available for you to inspect.</p> 
  <h2><a id="user-content-arrow-asserts" class="anchor" href="https://github.com/lihaoyi/utest#arrow-asserts" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Arrow Asserts</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c1">1</span> <span class="pl-k">==&gt;</span> <span class="pl-c1">1</span> <span class="pl-c"><span class="pl-c">//</span> passes</span>
<span class="pl-en">Array</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>) <span class="pl-k">==&gt;</span> <span class="pl-en">Array</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>) <span class="pl-c"><span class="pl-c">//</span> passes</span>
<span class="pl-k">try</span>{
  <span class="pl-c1">1</span> <span class="pl-k">==&gt;</span> <span class="pl-c1">2</span> <span class="pl-c"><span class="pl-c">//</span> throws</span>
}<span class="pl-k">catch</span>{<span class="pl-k">case</span> <span class="pl-v">e</span>: java.lang.<span class="pl-en">AssertionError</span> <span class="pl-k">=&gt;</span>
  e
}</pre>
  </div> 
  <p>You can use <code>a ==&gt; b</code> as a shorthand for <code>assert(a == b)</code>. This results in pretty code you can easily copy-paste into documentation.</p> 
  <h2><a id="user-content-intercept" class="anchor" href="https://github.com/lihaoyi/utest#intercept" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Intercept</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">e</span> <span class="pl-k">=</span> intercept[<span class="pl-en">MatchError</span>]{
  (<span class="pl-c1">0</span><span class="pl-k">:</span> <span class="pl-en">Any</span>) <span class="pl-k">match</span> { <span class="pl-k">case</span> <span class="pl-v">_</span>: <span class="pl-k">String</span> <span class="pl-k">=&gt;</span> }
}
println(e)

<span class="pl-c"><span class="pl-c">//</span> scala.MatchError: 0 (of class java.lang.Integer)</span></pre>
  </div> 
  <p><code>intercept</code> allows you to verify that a block raises an exception. This exception is caught and returned so you can perform further validation on it, e.g. checking that the message is what you expect. If the block does not raise one, an <code>AssertionError</code> is raised.</p> 
  <p>As with <code>assert</code>, <code>intercept</code> adds debugging information to the error messages if the <code>intercept</code> fails or throws an unexpected Exception.</p> 
  <h2><a id="user-content-eventually-and-continually" class="anchor" href="https://github.com/lihaoyi/utest#eventually-and-continually" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Eventually and Continually</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">x</span> <span class="pl-k">=</span> <span class="pl-en">Seq</span>(<span class="pl-c1">12</span>)
eventually(x <span class="pl-k">==</span> <span class="pl-c1">Nil</span>)

<span class="pl-c"><span class="pl-c">//</span> utest.AssertionError: eventually(x == Nil)</span>
<span class="pl-c"><span class="pl-c">//</span> x: Seq[Int] = List(12)</span></pre>
  </div> 
  <p>In addition to a macro-powered <code>assert</code>, uTest also provides macro-powered versions of <code>eventually</code> and <code>continually</code>. These are used to test asynchronous concurrent operations:</p> 
  <ul> 
   <li><code>eventually(tests: Boolean*)</code>: ensure that the boolean values of <code>tests</code> all become true at least once within a certain period of time.</li> 
   <li><code>continually(tests: Boolean*)</code>: ensure that the boolean values of <code>tests</code> all remain true and never become false within a certain period of time.</li> 
  </ul> 
  <p>These are implemented via a retry-loop, with a default retry interval of 0.1 second and retries up to a total of 1 second. If you want to change this behavior, you can shadow the implicit values <code>retryInterval</code> and <code>retryMax</code>, for example this:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">retryMax</span> <span class="pl-k">=</span> <span class="pl-en">RetryMax</span>(<span class="pl-c1">300.</span>millis)
<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">retryInterval</span> <span class="pl-k">=</span> <span class="pl-en">RetryInterval</span>(<span class="pl-c1">50.</span>millis)</pre>
  </div> 
  <p>Would set the retry-loop to happen every 50ms up to a max of 300ms.</p> 
  <p>Together, these two operations allow you to easily test asynchronous operations. You can use them to help verify Liveness properties (that condition must eventually be met) and Safety properties (that a condition is never met)</p> 
  <p>As with <code>assert</code>, <code>eventually</code> and <code>continually</code> add debugging information to the error messages if they fail.</p> 
  <h2><a id="user-content-assert-match" class="anchor" href="https://github.com/lihaoyi/utest#assert-match" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Assert Match</h2> 
  <div class="highlight highlight-source-scala">
   <pre>assertMatch(<span class="pl-en">Seq</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>)){<span class="pl-k">case</span> <span class="pl-en">Seq</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>) <span class="pl-k">=&gt;</span>}
<span class="pl-c"><span class="pl-c">//</span> AssertionError: Matching failed Seq(1, 2, 3)</span></pre>
  </div> 
  <p><code>assertMatch</code> is a convenient way of checking that a value matches a particular shape, using Scala's pattern matching syntax. This includes support for use of <code>|</code> or <code>_</code> or <code>if</code>-guards within the pattern match. This gives you additional flexibility over a traditional <code>assert(a == Seq(1, 2))</code>, as you can use <code>_</code> as a wildcard e.g. using <code>assertMatch(a){case Seq(1, _)=&gt;}</code> to match any 2-item <code>Seq</code> whose first item is <code>1</code>.</p> 
  <p>As with <code>assert</code>, <code>assertMatch</code> adds debugging information to the error messages if the value fails to match or throws an unexpected Exception while evaluating.</p> 
  <h2><a id="user-content-compile-error" class="anchor" href="https://github.com/lihaoyi/utest#compile-error" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Compile Error</h2> 
  <div class="highlight highlight-source-scala">
   <pre>compileError(<span class="pl-s"><span class="pl-pds">"</span>true * false<span class="pl-pds">"</span></span>)
<span class="pl-c"><span class="pl-c">//</span> CompileError.Type("value * is not a member of Boolean")</span>

compileError(<span class="pl-s"><span class="pl-pds">"</span>(}<span class="pl-pds">"</span></span>)
<span class="pl-c"><span class="pl-c">//</span> CompileError.Parse("')' expected but '}' found.")</span></pre>
  </div> 
  <p><code>compileError</code> is a macro that can be used to assert that a fragment of code (given as a literal String) fails to compile.</p> 
  <ul> 
   <li>If the code compiles successfully, <code>compileError</code> will fail the compilation run with a message.</li> 
   <li>If the code fails to compile, <code>compileError</code> will return an instance of <code>CompileError</code>, one of <code>CompileError.Type(pos: String, msgs: String*)</code> or <code>CompileError.Parse(pos: String, msgs: String*)</code> to represent typechecker errors or parser errors</li> 
  </ul> 
  <p>In general, <code>compileError</code> works similarly to <code>intercept</code>, except it does its checks (that a snippet of code fails) and errors (if it doesn't fail) at compile-time rather than run-time. If the code fails as expected, the failure message is propagated to runtime in the form of a <code>CompileError</code> object. You can then do whatever additional checks you want on the failure message, such as verifying that the failure message contains some string you expect to be there.</p> 
  <p>The <code>compileError</code> macro compiles the given string in the local scope and context. This means that you can refer to variables in the enclosing scope, i.e. the following example will fail to compile because the variable <code>x</code> exists.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">x</span> <span class="pl-k">=</span> <span class="pl-c1">0</span>

compileError(<span class="pl-s"><span class="pl-pds">"</span>x + x<span class="pl-pds">"</span></span>),
<span class="pl-c"><span class="pl-c">//</span> [error] compileError check failed to have a compilation error</span></pre>
  </div> 
  <p>The returned <code>CompileError</code> object also has a handy <code>.check</code> method, which takes a position-string indicating where the error is expected to occur, as well as zero-or-more messages which are expected to be part of the final error message. This is used as follows:</p> 
  <div class="highlight highlight-source-scala">
   <pre>    compileError(<span class="pl-s"><span class="pl-pds">"</span>true * false<span class="pl-pds">"</span></span>).check(
      <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">    compileError("true * false").check(</span>
<span class="pl-s">                       ^</span>
<span class="pl-s">      <span class="pl-pds">"""</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>value * is not a member of Boolean<span class="pl-pds">"</span></span>
    )</pre>
  </div> 
  <p>Note that the position-string needs to exactly match the line of code the compile-error occured on. This includes any whitespace on the left, as well as any unrelated code or comments sharing the same line as the <code>compileError</code> expression.</p> 
  <h1><a id="user-content-test-utilities" class="anchor" href="https://github.com/lihaoyi/utest#test-utilities" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Test Utilities</h1> 
  <p>uTest provides a range of test utilities that aren't strictly necessary, but aim to make your writing of tests much more convenient and DRY.</p> 
  <h2><a id="user-content-testpath" class="anchor" href="https://github.com/lihaoyi/utest#testpath" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>TestPath</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">package</span> <span class="pl-en">test.utest.examples</span>

<span class="pl-k">import</span> <span class="pl-v">utest.</span><span class="pl-v">_</span>

<span class="pl-k">object</span> <span class="pl-en">TestPathTests</span> <span class="pl-k">extends</span> <span class="pl-e">TestSuite</span>{
  <span class="pl-k">val</span> <span class="pl-en">tests</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>{
    <span class="pl-en">'testPath</span>{
      <span class="pl-en">'foo</span> {
        assert(implicitly[utest.framework.<span class="pl-en">TestPath</span>].value <span class="pl-k">==</span> <span class="pl-en">Seq</span>(<span class="pl-s"><span class="pl-pds">"</span>testPath<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>))
      }
    }
  }
}</pre>
  </div> 
  <p>uTest exposes the path to the current test to the body of the test via the <code>utest.framework.TestPath</code> implicit. This can be used to</p> 
  <p>One example is the Fastparse test suite, which uses the name of the test to provide the repository that it needs to clone and parse:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">checkRepo</span>(<span class="pl-v">filter</span>: <span class="pl-k">String</span> <span class="pl-k">=&gt;</span> <span class="pl-k">Boolean</span> <span class="pl-k">=</span> _ <span class="pl-k">=&gt;</span> <span class="pl-c1">true</span>)
             (<span class="pl-k">implicit</span> <span class="pl-v">testPath</span>: utest.framework.<span class="pl-en">TestPath</span>) <span class="pl-k">=</span> {
  <span class="pl-k">val</span> <span class="pl-en">url</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>https://github.com/<span class="pl-pds">"</span></span> <span class="pl-k">+</span> testPath.value.last
  <span class="pl-k">import</span> <span class="pl-v">sys.process.</span><span class="pl-v">_</span>
  <span class="pl-k">val</span> <span class="pl-en">name</span> <span class="pl-k">=</span> url.split(<span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span>).last
  <span class="pl-k">if</span> (<span class="pl-k">!</span><span class="pl-en">Files</span>.exists(<span class="pl-en">Paths</span>.get(<span class="pl-s"><span class="pl-pds">"</span>target<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>repos<span class="pl-pds">"</span></span>, name))){
    println(<span class="pl-s"><span class="pl-pds">"</span>CLONING<span class="pl-pds">"</span></span>)
    <span class="pl-en">Seq</span>(<span class="pl-s"><span class="pl-pds">"</span>git<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>clone<span class="pl-pds">"</span></span>, url, <span class="pl-s"><span class="pl-pds">"</span>target/repos/<span class="pl-pds">"</span></span><span class="pl-k">+</span>name, <span class="pl-s"><span class="pl-pds">"</span>--depth<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>1<span class="pl-pds">"</span></span>).<span class="pl-k">!</span>
  }
  checkDir(<span class="pl-s"><span class="pl-pds">"</span>target/repos/<span class="pl-pds">"</span></span><span class="pl-k">+</span>name, filter)
}

<span class="pl-s"><span class="pl-pds">"</span>lihaoyi/fastparse<span class="pl-pds">"</span></span> <span class="pl-k">-</span> checkRepo()
<span class="pl-s"><span class="pl-pds">"</span>scala-js/scala-js<span class="pl-pds">"</span></span> <span class="pl-k">-</span> checkRepo()
<span class="pl-s"><span class="pl-pds">"</span>scalaz/scalaz<span class="pl-pds">"</span></span> <span class="pl-k">-</span> checkRepo()
<span class="pl-s"><span class="pl-pds">"</span>milessabin/shapeless<span class="pl-pds">"</span></span> <span class="pl-k">-</span> checkRepo()
<span class="pl-s"><span class="pl-pds">"</span>akka/akka<span class="pl-pds">"</span></span><span class="pl-k">-</span> checkRepo()
<span class="pl-s"><span class="pl-pds">"</span>lift/framework<span class="pl-pds">"</span></span> <span class="pl-k">-</span> checkRepo()
<span class="pl-s"><span class="pl-pds">"</span>playframework/playframework<span class="pl-pds">"</span></span> <span class="pl-k">-</span> checkRepo()
<span class="pl-s"><span class="pl-pds">"</span>PredictionIO/PredictionIO<span class="pl-pds">"</span></span> <span class="pl-k">-</span> checkRepo()
<span class="pl-s"><span class="pl-pds">"</span>apache/spark<span class="pl-pds">"</span></span> <span class="pl-k">-</span> checkRepo()</pre>
  </div> 
  <p>This allows us to keep the tests DRY - avoiding having to repeat the name of the repo in the name of the test for every test we define - as well as ensuring that they always stay in sync.</p> 
  <p>If you need additional metadata such as line-numbers or file-paths or class or package names, you can use the <a href="https://github.com/lihaoyi/sourcecode" target="_blank">SourceCode</a> library's implicits to pull them in for you.</p> 
  <h2><a id="user-content-local-retries" class="anchor" href="https://github.com/lihaoyi/utest#local-retries" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Local Retries</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">object</span> <span class="pl-en">LocalRetryTests</span> <span class="pl-k">extends</span> <span class="pl-e">utest.TestSuite</span>{
  <span class="pl-k">val</span> <span class="pl-en">flaky</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">FlakyThing</span>
  <span class="pl-k">def</span> <span class="pl-en">tests</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>{
    <span class="pl-en">'hello</span> <span class="pl-k">-</span> retry(<span class="pl-c1">3</span>){
      flaky.run
    }
  }
}</pre>
  </div> 
  <p>You can wrap individual tests, or even individual expressions, in a <code>retry</code> block to make them retry a number of times before failing. That is very useful for dealing with small points of flakiness within your test suite. A <code>retry</code> block simply retries its body up to the specified number of times; the first run that doesn't throw an exception returns the value returned by that run.</p> 
  <p>You can also use <a href="https://github.com/lihaoyi/utest#suite-retries" target="_blank">Suite Retries</a> if you want to configure retries more globally across your test suite.</p> 
  <h1><a id="user-content-configuring-utest" class="anchor" href="https://github.com/lihaoyi/utest#configuring-utest" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Configuring uTest</h1> 
  <p>uTest allows for some basic configuration:</p> 
  <h2><a id="user-content-output-formatting" class="anchor" href="https://github.com/lihaoyi/utest#output-formatting" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Output Formatting</h2> 
  <p>You can control how the output of tests gets printed via overriding methods on the <code>TestSuite</code> object:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">/**</span></span>
<span class="pl-c"> * Override this to control how individual test results get pretty-printed</span>
<span class="pl-c"> * while a test run is in progress; return `None` to print nothing</span>
<span class="pl-c"> <span class="pl-c">*/</span></span>
<span class="pl-k">def</span> <span class="pl-en">formatSingle</span>(<span class="pl-v">path</span>: <span class="pl-en">Seq</span>[<span class="pl-k">String</span>], <span class="pl-v">r</span>: <span class="pl-en">Result</span>)<span class="pl-k">:</span> <span class="pl-en">Option</span>[<span class="pl-k">String</span>]
<span class="pl-c"><span class="pl-c">/**</span></span>
<span class="pl-c"> * Override this to control how the entire suite gets pretty-printed; return</span>
<span class="pl-c"> * `None` to print nothing.</span>
<span class="pl-c"> <span class="pl-c">*/</span></span>
<span class="pl-k">def</span> <span class="pl-en">format</span>(<span class="pl-v">results</span>: <span class="pl-en">Tree</span>[<span class="pl-en">Result</span>])<span class="pl-k">:</span> <span class="pl-en">Option</span>[<span class="pl-k">String</span>]

<span class="pl-c"><span class="pl-c">/**</span></span>
<span class="pl-c"> * Controls how many characters are printed for any test results before or</span>
<span class="pl-c"> * the contents of variables in failed assertions before it gets truncated</span>
<span class="pl-c"> <span class="pl-c">*/</span></span>
<span class="pl-k">def</span> <span class="pl-en">utestTruncateLength</span><span class="pl-k">:</span> <span class="pl-k">Int</span>
<span class="pl-c"><span class="pl-c">/**</span></span>
<span class="pl-c"> * Whether output gets printed in color</span>
<span class="pl-c"> <span class="pl-c">*/</span></span><span class="pl-k">*</span>
<span class="pl-k">def</span> <span class="pl-en">formatColor</span><span class="pl-k">:</span> <span class="pl-k">Boolean</span></pre>
  </div> 
  <p>Note that you can override these on every <code>TestSuite</code> individually, to configure them differently for each set of tests if you want. If you want to share your configuration across every test, pull these into a custom <code>MyTestSuite</code> class extending <code>TestSuite</code> and have your test suites extend from <code>MyTestSuite</code> instead.</p> 
  <h2><a id="user-content-suite-retries" class="anchor" href="https://github.com/lihaoyi/utest#suite-retries" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Suite Retries</h2> 
  <p>You can mix in the <code>TestSuite.Retries</code> trait and define the <code>utestRetryCount</code> int to enable test-level retries for all tests within a suite:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">object</span> <span class="pl-en">SuiteRetryTests</span> <span class="pl-k">extends</span> <span class="pl-e">TestSuite</span> <span class="pl-k">with</span> <span class="pl-e">TestSuite.Retries</span>{
  <span class="pl-k">override</span> <span class="pl-k">val</span> <span class="pl-en">utestRetryCount</span> <span class="pl-k">=</span> <span class="pl-c1">3</span>
  <span class="pl-k">val</span> <span class="pl-en">flaky</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">FlakyThing</span>
  <span class="pl-k">def</span> <span class="pl-en">tests</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>{
    <span class="pl-en">'hello</span>{
      flaky.run
    }
  }
}
</pre>
  </div> 
  <p>You can also use <a href="https://github.com/lihaoyi/utest#local-retries" target="_blank">Local Retries</a> if you want to only retry within specific tests or expressions instead of throughout the entire suite.</p> 
  <h2><a id="user-content-test-wrapping" class="anchor" href="https://github.com/lihaoyi/utest#test-wrapping" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Test Wrapping</h2> 
  <p>uTest exposes the <code>utestWrap</code> function that you can override on any test suite:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">utestWrap</span>(<span class="pl-v">runBody</span>: <span class="pl-k">=&gt;</span> concurrent.<span class="pl-en">Future</span>[<span class="pl-en">Any</span>])
               (<span class="pl-k">implicit</span> <span class="pl-v">ec</span>: <span class="pl-en">ExecutionContext</span>)<span class="pl-k">:</span> concurrent.<span class="pl-en">Future</span>[<span class="pl-en">Any</span>]</pre>
  </div> 
  <p>This is a flexible function that wraps every test call; you can use it to perform initialization before evaluating <code>runBody</code>, or to perform cleanup after the completion of <code>runBody</code> via <code>runBody.onComplete</code>, or even to perform retries by executing <code>runBody</code> multiple times. If you want to perform messy before/after logic around every individual test, override <code>utestWrap</code>.</p> 
  <p><code>runBody</code> is a future to support asynchronous testing, which is the only way to test things like Ajax calls in <a href="https://github.com/lihaoyi/utest#scalajs" target="_blank">Scala.js</a></p> 
  <h2><a id="user-content-per-run-setupteardown" class="anchor" href="https://github.com/lihaoyi/utest#per-run-setupteardown" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Per-Run Setup/Teardown</h2> 
  <p>If you need to perform some action (initialize a database, cleanup the filesystem, etc.) not just per-test but per-run, you can do that by defining a custom <code>utest.runner.Framework</code> and overriding the <code>setup</code> and <code>teardown</code> methods:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">class</span> <span class="pl-en">CustomFramework</span> <span class="pl-k">extends</span> <span class="pl-e">utest.runner.Framework</span>{
  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">setup</span>() <span class="pl-k">=</span> {
    println(<span class="pl-s"><span class="pl-pds">"</span>Setting up CustomFramework<span class="pl-pds">"</span></span>)
  }
  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">teardown</span>() <span class="pl-k">=</span> {
    println(<span class="pl-s"><span class="pl-pds">"</span>Tearing down CustomFramework<span class="pl-pds">"</span></span>)
  }
}</pre>
  </div> 
  <p>And then telling SBT to run tests using the custom framework:</p> 
  <div class="highlight highlight-source-scala">
   <pre>testFrameworks <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">TestFramework</span>(<span class="pl-s"><span class="pl-pds">"</span>test.utest.CustomFramework<span class="pl-pds">"</span></span>),</pre>
  </div> 
  <p>This is handy for setup/teardown that is necessary but too expensive to do before/after every single test, which would be the case if you used <a href="https://github.com/lihaoyi/utest#test-wrapping" target="_blank">Test Wrapping</a> to do it.</p> 
  <h1><a id="user-content-execution-model" class="anchor" href="https://github.com/lihaoyi/utest#execution-model" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Execution Model</h1> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">test</span> <span class="pl-k">=</span> <span class="pl-en">TestSuite</span>{
  <span class="pl-k">var</span> <span class="pl-en">x</span> <span class="pl-k">=</span> <span class="pl-c1">0</span>
  <span class="pl-en">'A</span>{
    x <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-c1">1</span>
    <span class="pl-en">'X</span>{
      x <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-c1">2</span>
      assert(x <span class="pl-k">==</span> <span class="pl-c1">3</span>)
    }
    <span class="pl-en">'Y</span>{
      x <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-c1">3</span>
      assert(x <span class="pl-k">==</span> <span class="pl-c1">4</span>)
    }
  }
  <span class="pl-en">'B</span>{
    x <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-c1">4</span>
    <span class="pl-en">'Z</span>{
      x <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-c1">5</span>
      assert(x <span class="pl-k">==</span> <span class="pl-c1">9</span>)
    }
  }
}

<span class="pl-k">val</span> <span class="pl-en">results</span> <span class="pl-k">=</span> test.run()
println(results.leaves.count(_.value.isSuccess)) <span class="pl-c"><span class="pl-c">//</span> 3</span></pre>
  </div> 
  <p>The example above demonstrates a subtlety of how uTest suites are run: despite all the tests being able to refer to the same lexically-scoped value <code>x</code>, each tests modifications to <code>x</code> happen entirely independently of the others, allowing all three of the leaf-tests to pass. This allows you to easily place re-usable fixtures anywhere convenient within the test tree.</p> 
  <p>If you want to create a shared resource that is lazily initialized when needed in one of the tests and used throughout them, simply make it a <code>lazy val</code> outside the <code>TestSuite{ ... }</code> block.</p> 
  <p>Test-discovery is done entirely at compile-time by the <code>TestSuite{ ... }</code> macro, and is independent of execution of the tests:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">tests</span> <span class="pl-k">=</span> <span class="pl-en">TestSuite</span>{
  timesRun <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-c1">1</span>
  <span class="pl-en">'A</span>{
    assert(<span class="pl-c1">false</span>)
    <span class="pl-en">'B</span>{
      <span class="pl-en">'C</span>{
        <span class="pl-c1">1</span>
      }
    }
  }
}

<span class="pl-c"><span class="pl-c">//</span> listing tests B and C works despite failure of A</span>
println(tests.toSeq.map(_.name)) <span class="pl-c"><span class="pl-c">//</span> Seq(_, A, B, C)</span></pre>
  </div> 
  <p>As you can see, even though the <code>assert(false)</code> comes before the declaration of tests <code>B</code> and <code>C</code>, these tests are still listable and inspectable because they were registered at compile time using the <code>TestSuite{ ... }</code> macro.</p> 
  <p>Having a clean separation between test-discovery and test-execution is generally considered to be a good thing, and uTest's execution model strictly enforces this by doing test-discovery at compile-time. Thus, you can always inspect the test hierarchy without having to execute arbitrary test code. At the same time, uTest preserves all the convenience of sharing common setup code via lexical scoping, while avoiding the pitfall of shared-state between tests, giving you the best of both worlds in terms of convenience and isolation.</p> 
  <h1><a id="user-content-sbt-command-line-interface" class="anchor" href="https://github.com/lihaoyi/utest#sbt-command-line-interface" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SBT Command-line Interface</h1> 
  <pre><code>sbt&gt; test
</code></pre> 
  <p>Runs all tests in your project. Tests are defined in any class inheriting from <code>TestSuite</code>, e.g.:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">package</span> <span class="pl-en">HelloTests</span>


<span class="pl-k">object</span> <span class="pl-en">HelloTestsuite</span> <span class="pl-k">extends</span> <span class="pl-e">TestSuite</span>{
  <span class="pl-k">val</span> <span class="pl-en">tests</span> <span class="pl-k">=</span> <span class="pl-c1">this</span>{
    <span class="pl-en">'hello</span>{
      <span class="pl-en">'world</span>{
        <span class="pl-k">val</span> <span class="pl-en">x</span> <span class="pl-k">=</span> <span class="pl-c1">1</span>
        <span class="pl-k">val</span> <span class="pl-en">y</span> <span class="pl-k">=</span> <span class="pl-c1">2</span>
        assert(x <span class="pl-k">!=</span> y)
        (x, y)
      }
    }
    <span class="pl-en">'test2</span>{
      <span class="pl-k">val</span> <span class="pl-en">a</span> <span class="pl-k">=</span> <span class="pl-c1">1</span>
      <span class="pl-k">val</span> <span class="pl-en">b</span> <span class="pl-k">=</span> <span class="pl-c1">2</span>
      assert(a <span class="pl-k">==</span> b)
    }
  }
}</pre>
  </div> 
  <p>If you want to only run a particular test file:</p> 
  <pre><code>
sbt&gt; test-only -- HelloTests.HelloTestsuite

</code></pre> 
  <p>Or even a particular test within a particular file</p> 
  <pre><code>sbt&gt; test-only -- HelloTests.HelloTestsuite.hello
sbt&gt; test-only -- HelloTests.HelloTestsuite.hello.world
sbt&gt; test-only -- HelloTests.HelloTestsuite.test2
</code></pre> 
  <p>The total number of tests includes the non-leaf tests like <code>hello</code> and <code>HelloTestsuite</code>. Also, the tests which return a value (like <code>world</code>) have that value printed out inside the <code>Success()</code> tag: this is handy for doing a visual sanity-check at the end of the run to make sure the tests are doing what you think they are</p> 
  <h1><a id="user-content-scalajs" class="anchor" href="https://github.com/lihaoyi/utest#scalajs" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>ScalaJS</h1> 
  <p>uTest is completely compatible with ScalaJS: the above sections on defining a test suite, asserts and the test-running API all work unchanged under ScalaJS, with minor differences:</p> 
  <ul> 
   <li>ScalaJS does not support parallelism, and as such only single-threaded <code>ExecutionContexts</code> like <code>utest.ExecutionContext.runNow</code> or <code>scala.scalajs.concurrent.JSExecutionContext.runNow</code> work. When run via SBT, <code>--parallel</code> has no effect.</li> 
   <li><a href="https://github.com/lihaoyi/utest#eventually" target="_blank">eventually</a> and <a href="https://github.com/lihaoyi/utest#continually" target="_blank">continually</a> are not supported, as they rely on a blocking retry-loop whereas you can't block in ScalaJS</li> 
  </ul> 
  <p>Apart from these differences, there should be no problem compiling uTest TestSuites via ScalaJS and running them using Rhino or in the browser.</p> 
  <h1><a id="user-content-why-utest" class="anchor" href="https://github.com/lihaoyi/utest#why-utest" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Why uTest</h1> 
  <p>uTest began as an attempt to port <a href="http://www.scalatest.org/" target="_blank">ScalaTest</a> and <a href="http://etorreborre.github.io/specs2/" target="_blank">Specs2</a> to <a href="https://github.com/lihaoyi/utest/blob/master" target="_blank">ScalaJS</a>. After struggling with that, I realized that both ScalaTest and Specs2 were going to be difficult to port to ScalaJS for a few reasons:</p> 
  <ul> 
   <li>They have a large number of dependencies on JVM-specific things, such as <a href="http://www.scalatest.org/user_guide/using_matchers#checkingArbitraryProperties" target="_blank">Symbols or Reflection</a> or <a href="https://github.com/lihaoyi/utest/blob/master" target="_blank">ClassLoaders</a>, which are not supported by ScalaJS</li> 
   <li>They have huge codebases: <a href="https://github.com/scalatest/scalatest/graphs/contributors" target="_blank">400,000 lines of code for ScalaTest</a> and <a href="https://github.com/etorreborre/specs2/graphs/contributors" target="_blank">50,000 lines for Specs2</a>. This huge mass of code makes it difficult to pinpoint the parts which are incompatible with ScalaJS.</li> 
  </ul> 
  <p>If you don't believe that uTest is much smaller than the alternatives, let the jars speak for themselves:</p> 
  <p><a href="https://github.com/lihaoyi/utest/blob/master/Sizes.png" target="_blank"><img src="https://github.com/lihaoyi/utest/raw/master/Sizes.png" alt="Sizes.png" style="max-width:100%;"></a></p> 
  <p>uTest tries to provide most of what you want as a developer, while leaving out all the unnecessary functionality that ScalaTest and Specs2 provide:</p> 
  <ul> 
   <li>Fluent English-like code: matchers like <a href="http://www.scalatest.org/user_guide/using_matchers#checkingForEmptiness" target="_blank"><code>shouldBe</code> or <code>should not be</code></a> or <a href="http://etorreborre.github.io/specs2/guide/org.specs2.guide.Matchers.html" target="_blank"><code>mustbe_==</code></a> don't really add anything, and it doesn't really matter whether you name each test block using <a href="http://doc.scalatest.org/2.0/#org.scalatest.Spec" target="_blank"><code>should</code>, <code>when</code>, <code>can</code>, <code>must</code></a>, <a href="http://doc.scalatest.org/2.0/#org.scalatest.FlatSpec" target="_blank"><code>feature("...")</code></a> or <a href="http://doc.scalatest.org/2.0/#org.scalatest.FlatSpec" target="_blank"><code>it should "..."</code></a> These add nothing and clutter up the API and code base. You certainly don't need <a href="http://www.scalatest.org/user_guide/selecting_a_style" target="_blank">8 different sets of them</a>.</li> 
   <li>Legacy code, like ScalaTests <a href="http://doc.scalatest.org/2.0/#org.scalatest.time.package" target="_blank">time package</a>, now obsolete with the introduction of <a href="http://www.scala-lang.org/api/current/index.html#scala.concurrent.duration.package" target="_blank">scala.concurrent.duration</a>.</li> 
   <li>Such a a rich command-line interface: with a simple API, any user who wants to do heavy customization of the test running can simply do it in code, and writing a small amount of Scala with a trivial command-line runner will likely be easier than wrestling with mountains of command-line configuration flags to try to make the runner do what you want.</li> 
  </ul> 
  <p>While improving on the basic things that matters</p> 
  <ul> 
   <li>Better <a href="https://github.com/lihaoyi/utest#macro-assserts" target="_blank">macro-asserts</a> which are both more-useful and more-simply-implemented than those provided by ScalaTest</li> 
   <li>Compile-time test registration, which allows <a href="https://github.com/lihaoyi/utest#execution-model" target="_blank">completely separating test-discovery and execution</a>.</li> 
   <li>A simpler, straightforward <a href="https://github.com/lihaoyi/utest#test-running-api" target="_blank">API</a> that makes using uTest as a library much easier.</li> 
   <li>Raw size: at less than 1000 lines of code, uTest is 1/400th the size of <a href="https://github.com/scalatest/scalatest/graphs/contributors" target="_blank">ScalaTest</a> and 1/50th the size of <a href="https://github.com/etorreborre/specs2/graphs/contributors" target="_blank">Specs2</a>, and with almost no dependencies. Its small size means that you can trivially use uTest as a library within a larger application without worrying about it significantly increasing the size of your packaged artifacts, or pulling in weird dependencies.</li> 
  </ul> 
  <h1><a id="user-content-development-tips" class="anchor" href="https://github.com/lihaoyi/utest#development-tips" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Development Tips</h1> 
  <p>To run all the test on the entire matrix of Scala versions (2.10.4 and 2.11.0) and backends (JVM and JS), simply run:</p> 
  <pre><code>sbt +test
</code></pre> 
  <p>You can also use more targeted commands e.g. <code>utestJS/test</code> which would only re-test the Javascript backend under scala 2.10.4.</p> 
  <p>To publish use</p> 
  <pre><code>sbt +publishSigned
</code></pre> 
  <h1><a id="user-content-changelog" class="anchor" href="https://github.com/lihaoyi/utest#changelog" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Changelog</h1> 
  <h2><a id="user-content-048" class="anchor" href="https://github.com/lihaoyi/utest#048" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.4.8</h2> 
  <ul> 
   <li>Scala Native support.</li> 
  </ul> 
  <h2><a id="user-content-047" class="anchor" href="https://github.com/lihaoyi/utest#047" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.4.7</h2> 
  <ul> 
   <li>Scala 2.13 support</li> 
   <li>Compile for Scala 2.12 with method optimisations (<code>-opt:l:method</code>)</li> 
  </ul> 
  <h2><a id="user-content-046" class="anchor" href="https://github.com/lihaoyi/utest#046" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.4.6</h2> 
  <ul> 
   <li>Upgrade Scala.JS to 0.6.16.</li> 
   <li>Upgrade Scala to 2.11.11 and 2.12.2.</li> 
   <li>Avoid using <code>getStackTraceString</code> deprecated in Scala 2.13</li> 
  </ul> 
  <h2><a id="user-content-045" class="anchor" href="https://github.com/lihaoyi/utest#045" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.4.5</h2> 
  <ul> 
   <li>Catch Fatal exceptions like ClassCasts in Scala.JS.</li> 
  </ul> 
  <h2><a id="user-content-044" class="anchor" href="https://github.com/lihaoyi/utest#044" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.4.4</h2> 
  <ul> 
   <li>Scala 2.12 support</li> 
  </ul> 
  <h2><a id="user-content-043" class="anchor" href="https://github.com/lihaoyi/utest#043" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.4.3</h2> 
  <ul> 
   <li>Generalize <code>==&gt;</code> asserts to work on <code>Array</code>s</li> 
   <li>Shiny new <a href="https://travis-ci.org/lihaoyi/utest" target="_blank">CI build</a> and <a href="https://gitter.im/lihaoyi/utest?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank">Gitter Chat</a></li> 
  </ul> 
  <h2><a id="user-content-042" class="anchor" href="https://github.com/lihaoyi/utest#042" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.4.2</h2> 
  <ul> 
   <li>Move errors into <code>utest.*</code> from <code>utest.framework.*</code></li> 
   <li>Removed <code>acyclic</code> hack variable</li> 
  </ul> 
  <h2><a id="user-content-041" class="anchor" href="https://github.com/lihaoyi/utest#041" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.4.1</h2> 
  <ul> 
   <li>Fix usage of by-name function calls within tests #55</li> 
  </ul> 
  <h2><a id="user-content-040" class="anchor" href="https://github.com/lihaoyi/utest#040" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.4.0</h2> 
  <ul> 
   <li> <p><code>foo: @Show</code> annotation lets you tell uTest to print out arbitrary expressions within the test suite when things fail, in addition to the default of local variables</p> </li> 
   <li> <p>You can use <code>a ==&gt; b</code> to assert equality within a test suite, in a form that's pretty enough to use as documentation</p> </li> 
   <li> <p><code>compileError</code> now properly passes when an expression would fail to compile due to <code>@compileTimeOnly</code> annotations</p> </li> 
   <li> <p><a href="https://github.com/lihaoyi/utest#configuring-utest" target="_blank">Configuring uTest</a> has been overhauled.</p> </li> 
   <li> <p>Scala <code>2.12.0-M3</code> support</p> </li> 
   <li> <p>Fix some warnings appearing when the <code>-Ydead-code</code> flag is used</p> </li> 
   <li> <p>Added <a href="https://github.com/lihaoyi/utest#testpath" target="_blank">TestPath</a> implicit to make the path to the current test available for usage inside the test body or helpers.</p> </li> 
  </ul> 
  <h2><a id="user-content-031" class="anchor" href="https://github.com/lihaoyi/utest#031" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.3.1</h2> 
  <ul> 
   <li>Published for Scala.js 0.6.1</li> 
  </ul> 
  <h2><a id="user-content-030" class="anchor" href="https://github.com/lihaoyi/utest#030" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.3.0</h2> 
  <ul> 
   <li>Published for Scala.js 0.6.0</li> 
   <li>Removed <code>JsCrossBuild</code> now that Scala.js supports cross-building via <code>crossProject</code></li> 
   <li><code>compileTimeOnly</code> has been re-introduced, so invalid use of test DSL should fail with nice errors</li> 
   <li>Removed <code>--throw</code> flag in favor of "native" SBT error reporting</li> 
  </ul> 
  <h2><a id="user-content-024" class="anchor" href="https://github.com/lihaoyi/utest#024" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.2.4</h2> 
  <ul> 
   <li>Added support for asynchronous tests which return a <code>Future</code>.</li> 
  </ul> 
  <h2><a id="user-content-023" class="anchor" href="https://github.com/lihaoyi/utest#023" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.2.3</h2> 
  <ul> 
   <li>Updated to work against ScalaJS 0.5.4</li> 
  </ul> 
  <h2><a id="user-content-022" class="anchor" href="https://github.com/lihaoyi/utest#022" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.2.2</h2> 
  <ul> 
   <li>Introduced <code>CompileError.check(pos: String, msgs: String*)</code> to simplify the common pattern of checking that the error occurs in the right place and with the message you expect.</li> 
   <li>Changed the file layout expected by <code>JsCrossBuild</code>, to expect the shared files to be in <code>js/shared/</code> and <code>jvm/shared/</code>, rather than in <code>shared/</code>. This is typically achieved via symlinks, and should make the cross-build play much more nicely with IDEs.</li> 
  </ul> 
  <h2><a id="user-content-021" class="anchor" href="https://github.com/lihaoyi/utest#021" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.2.1</h2> 
  <ul> 
   <li>Fix bug in <code>utestJsSettings</code> pulling in the wrong version of uTest</li> 
  </ul> 
  <h2><a id="user-content-020" class="anchor" href="https://github.com/lihaoyi/utest#020" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.2.0</h2> 
  <ul> 
   <li>Introduced the <code>compileError</code> macro to allow testing of compilation errors.</li> 
   <li>Stack traces are now only shown for the user code, with the uTest/SBT internal stack trace ignored, making them much less spammy and noisy.</li> 
   <li>Introduced the <code>*</code> symbol, which can be used in place of a test name to get sequentially numbered test names.</li> 
  </ul> 
  <h2><a id="user-content-019" class="anchor" href="https://github.com/lihaoyi/utest#019" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.1.9</h2> 
  <ul> 
   <li>ScalaJS version is now built against ScalaJS 0.5.3</li> 
   <li>Fixed linking errors in ScalaJS version, to allow proper operation of the new optimization</li> 
  </ul> 
  <h2><a id="user-content-018" class="anchor" href="https://github.com/lihaoyi/utest#018" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.1.8</h2> 
  <ul> 
   <li>Fixed bug causing local-defs in assert macro to fail</li> 
  </ul> 
  <h2><a id="user-content-017" class="anchor" href="https://github.com/lihaoyi/utest#017" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.1.7</h2> 
  <ul> 
   <li>Extracted out <code>utestJvmSettings</code> and <code>utestJsSettings</code> for use outside the <code>JsCrossBuild</code> plugin, for people who don't want to use the plugin.</li> 
  </ul> 
  <h2><a id="user-content-016" class="anchor" href="https://github.com/lihaoyi/utest#016" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>0.1.6</h2> 
  <ul> 
   <li>Print paths of failing tests after completion to make C&amp;P-ing re-runs more convenient</li> 
  </ul> 
 </article>
</div>