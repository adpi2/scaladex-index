<div class="announce instapaper_body md" data-path="readme.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-ammonite-----" class="anchor" href="https://github.com/lihaoyi/ammonite#ammonite-----" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Ammonite <a href="https://travis-ci.org/lihaoyi/Ammonite" target="_blank"><img src="https://camo.githubusercontent.com/927fa5d869eb17ec89a60d01074c811450d3dc34/68747470733a2f2f7472617669732d63692e6f72672f6c6968616f79692f416d6d6f6e6974652e737667" alt="Build Status" data-canonical-src="https://travis-ci.org/lihaoyi/Ammonite.svg" style="max-width:100%;"></a> <a href="https://ci.appveyor.com/project/lihaoyi/ammonite" target="_blank"><img src="https://camo.githubusercontent.com/f39abd030e8a7dbcef8b63b408c4b9194f61b1d0/68747470733a2f2f63692e6170707665796f722e636f6d2f6170692f70726f6a656374732f7374617475732f6769746875622f6c6968616f79692f416d6d6f6e697465" alt="Build (Windows)" data-canonical-src="https://ci.appveyor.com/api/projects/status/github/lihaoyi/Ammonite" style="max-width:100%;"></a> <a href="https://gitter.im/lihaoyi/Ammonite?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Gitter Chat" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"></a> <a href="https://maven-badges.herokuapp.com/maven-central/com.lihaoyi/ammonite_2.11.8" target="_blank"><img src="https://camo.githubusercontent.com/c9f5a16b35e8689f3a23967abf1f2f4bd26da629/68747470733a2f2f6d6176656e2d6261646765732e6865726f6b756170702e636f6d2f6d6176656e2d63656e7472616c2f636f6d2e6c6968616f79692f616d6d6f6e6974655f322e31312e382f62616467652e737667" alt="Maven Central" data-canonical-src="https://maven-badges.herokuapp.com/maven-central/com.lihaoyi/ammonite_2.11.8/badge.svg" style="max-width:100%;"></a> <a href="https://www.patreon.com/lihaoyi" target="_blank"><img src="https://camo.githubusercontent.com/4be74f8d6fe6e730fdf31e71c3a39d6b80143cdd/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f70617472656f6e2d73706f6e736f722d6666363962342e737667" alt="Patreon" data-canonical-src="https://img.shields.io/badge/patreon-sponsor-ff69b4.svg" style="max-width:100%;"></a></h1> 
  <p>This is where the code for the <a href="https://lihaoyi.github.io/Ammonite" target="_blank">Ammonite</a> project lives; Both:</p> 
  <ul> 
   <li><a href="https://lihaoyi.github.io/Ammonite" target="_blank">Ammonite-REPL</a>, the improved Scala REPL</li> 
   <li><a href="https://lihaoyi.github.io/Ammonite/#Ammonite-Ops" target="_blank">Ammonite-Ops</a>, the Scala file-system library</li> 
   <li><a href="https://lihaoyi.github.io/Ammonite/#Ammonite-Shell" target="_blank">Ammonite-Shell</a>, the Bash-replacement system shell</li> 
  </ul> 
  <p>If you want to learn more about Ammonite or how to use it, check out the links above, or ask on the <a href="https://gitter.im/lihaoyi/Ammonite" target="_blank">Gitter Channel</a>. The remainder of this document is developer-docs for people who want to work on the Ammonite source code itself.</p> 
  <p>If you are interested in living more "on the edge", we also publish artifacts and the doc-site every commit; the doc-site is available at</p> 
  <ul> 
   <li><a href="http://www.lihaoyi.com/Ammonite/#UnstableVersions" target="_blank">http://www.lihaoyi.com/Ammonite/#UnstableVersions</a></li> 
  </ul> 
  <p>And contains instructions on how to download the per-commit executable or depend on the perf-commit maven artifact.</p> 
  <h1><a id="user-content-developer-docs" class="anchor" href="https://github.com/lihaoyi/ammonite#developer-docs" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Developer Docs</h1> 
  <p>The layout of the repository is roughly:</p> 
  <ul> 
   <li><code>ops/</code> is <a href="https://lihaoyi.github.io/Ammonite/#Ammonite-Ops" target="_blank">Ammonite-Ops</a></li> 
   <li><code>amm/</code> is <a href="https://lihaoyi.github.io/Ammonite" target="_blank">Ammonite</a>'s core, REPL and script runner</li> 
   <li><code>shell/</code> is <a href="https://lihaoyi.github.io/Ammonite/#Ammonite-Shell" target="_blank">Ammonite-Shell</a></li> 
   <li><code>terminal/</code> is the JLine re-implementation used by Ammonite-REPL to provide syntax highlighting and multiline editing</li> 
   <li><code>readme/</code> is the source code for the <a href="https://lihaoyi.github.io/Ammonite/#Ammonite-Ops" target="_blank">Documentation</a>, written in <a href="https://lihaoyi.github.io/Scalatex/" target="_blank">Scalatex</a>.</li> 
   <li><code>published/</code> is a synthetic project used for publishing, excluding the readme and integration tests</li> 
  </ul> 
  <p>For more detailed information, check out the internals documentation for high-level overviews of some facets of the codebase</p> 
  <ul> 
   <li><a href="https://github.com/lihaoyi/Ammonite/tree/master/internals-docs" target="_blank">Internals Documentation</a></li> 
  </ul> 
  <h2><a id="user-content-common-commands" class="anchor" href="https://github.com/lihaoyi/ammonite#common-commands" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Common Commands</h2> 
  <h3><a id="user-content-manual-testing" class="anchor" href="https://github.com/lihaoyi/ammonite#manual-testing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Manual Testing</h3> 
  <p>Although most features should be unit tested, it's still useful to fire up a REPL from the current codebase to see things work (or not). There are a variety of shells you can spin up for testing different things:</p> 
  <ul> 
   <li><code>sbt ~terminal/test:run</code> is useful for manual testing the terminal interaction; it basically contains a minimal echo-anything terminal, with multiline input based on the count of open- and closed-parentheses. This lets you test all terminal interactions without all the complexity of the Scala compiler, classloaders, etc. that comes in <code>repl/</code></li> 
   <li><code>sbt ~amm/test:run</code> brings up the Ammonite-REPL using the source code in the repository, and automatically restarts it on-exit if you have made a change to the code. Useful for manual testing both of <code>amm/</code> as well as <code>ops/</code>, since you can just <code>import ammonite.ops._</code> and start using them. Note that this does not bring in filesystem utilities like the <code>wd</code> variable, <code>cd!</code> command. You can also pass in the path to a <code>.sc</code> file to run it using Ammonite's script runner</li> 
   <li><code>sbt ~shell/test:run</code> brings up a fully-loaded shell with all filesystem utilities included: <code>wd</code>, <code>cd!</code>, autocomplete for filesystem paths, and more. This uses <code>readme/resources/example-predef.scala</code> instead of your default predef, for easier experimentation and development.</li> 
   <li><code>sbt ~integration/test:run</code> runs the trivial main method in the <code>integration</code> subproject, letting you manually test running Ammonite programmatically, whether through <code>run</code> or <code>debug</code></li> 
   <li><code>sbt ~integration/test:console</code> brings up a console in the <code>integration</code> subproject, loading Ammonite-REPL as a test console, as described in the readme. Similar to <code>integration/test:run</code> but useful for verifying the different classloader/execution environment we get by starting Ammonite inside the Scala REPL doesn't break things</li> 
   <li><code>sbt ~amm/test:assembly</code> creates an assembly at <code>amm/target/scala-2.11/amm</code> that you</li> 
  </ul> 
  <h3><a id="user-content-automated-testing" class="anchor" href="https://github.com/lihaoyi/ammonite#automated-testing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Automated Testing</h3> 
  <p>While working on a arbitrary <code>xyz</code> subproject, <code>sbt ~xyz/test</code> runs tests after every change. <code>amm/test</code> can be a bit slow because of the amount of code it compiles, so you may want to specify the test manually via <code>amm/test-only -- ammonite.TestObject.path.to.test</code>.</p> 
  <ul> 
   <li><code>ops/test</code> tests the filesystem operations, without any REPL present</li> 
   <li><code>amm/test</code> tests the Ammonite-REPL/Script-runner, without filesystem-shell integration.</li> 
   <li><code>terminal/test</code> tests the readline re-implementation: keyboard navigation, shortcuts, editing, without any filesystem/scala-repl logic</li> 
   <li><code>shell/test</code> tests the integration between the standalone <code>ops/</code> and <code>amm/</code> projects: features like <code>cd!</code>/<code>wd</code>, path-completion, ops-related pretty-printing and tools</li> 
   <li><code>integration/test</code> kicks off the integration tests, which bundle <code>amm/</code> and <code>shell/</code> into their respective jars and invoke them as subprocesses. Somewhat slow, but exercises all the command-line-parsing stuff that the other unit tests do not exercise, and makes sure that everything works when run from <code>.jar</code>s instead of loose class-files</li> 
  </ul> 
  <h3><a id="user-content-publishing" class="anchor" href="https://github.com/lihaoyi/ammonite#publishing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Publishing</h3> 
  <ul> 
   <li> <p>Publishing is automatic, controlled by scripts in the <code>ci/</code> folder.</p> </li> 
   <li> <p>Every commit that lands in master will publish a new <a href="http://www.lihaoyi.com/Ammonite/#UnstableVersions" target="_blank">unstable version</a>, that you can already use and download. This includes publishing the unstable version to maven central to the <a href="https://github.com/lihaoyi/Ammonite/releases/tag/snapshot-commit-uploads" target="_blank">snapshot-commit-uploads</a> tag, and updating the documentation-site so it's <a href="http://www.lihaoyi.com/Ammonite/#UnstableVersions" target="_blank">Unstable Version</a> download instructions to point to it, though the "main" download/install instructions in the doc-site will not be changed.</p> </li> 
   <li> <p>Every commit that lands in master <em>with a tag</em> will re-publish a stable version to maven central and upload a new versioned release (using the tag as the version) and the doc-site is updated so the main download/install instructions point at the new published stable version.</p> </li> 
  </ul> 
  <p>In general, if you land a change in master, once CI completes (1-2hrs) you should be able to download it via the <a href="http://www.lihaoyi.com/Ammonite/#UnstableVersions" target="_blank">Unstable Version</a> instructions and make use of your changes standalone or in an SBT project.</p> 
  <p>Occasionally, the CI job building and publishing one of the above steps flakes and fails, and needs to be re-run through the travis web interface.</p> 
  <h2><a id="user-content-issue-tags" class="anchor" href="https://github.com/lihaoyi/ammonite#issue-tags" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Issue Tags</h2> 
  <p>I've started tagging open issues in the issue tracker to try and keep things neat. This is what the various tags mean:</p> 
  <p>Each issue should only have one of these:</p> 
  <ul> 
   <li><code>bug</code>: this behavior clearly wrong, and needs to be fixed</li> 
   <li><code>enhancement</code>: something relatively speccable, that can be worked on, finished, and will make Ammonite better</li> 
   <li><code>wishlist</code>: could be totally awesome, but we're uncertain if it is worth doing at all, what it would look like, or if it will ever reach a "finished" state.</li> 
  </ul> 
  <p>And possibly:</p> 
  <ul> 
   <li><code>help wanted</code>: I don't have context, hardware, or for some other reason am unlikely to ever do this. But I know people out there care, so one of you should step up and fix it.</li> 
  </ul> 
  <h2><a id="user-content-contribution-guidelines" class="anchor" href="https://github.com/lihaoyi/ammonite#contribution-guidelines" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contribution Guidelines</h2> 
  <ul> 
   <li><strong>All code PRs should come with</strong>: a meaningful description, inline-comments for important things, unit tests (positive and negative), and a green build in <a href="https://travis-ci.org/lihaoyi/Ammonite" target="_blank">CI</a></li> 
   <li><strong>Try to keep lines below 80 characters width</strong>, with a hard limit of 100 characters.</li> 
   <li><strong>PRs for features should generally come with <em>something</em> added to the <a href="https://lihaoyi.github.io/Ammonite" target="_blank">Documentation</a></strong>, so people can discover that it exists</li> 
   <li><strong>Be prepared to discuss/argue-for your changes if you want them merged</strong>! You will probably need to refactor so your changes fit into the larger codebase</li> 
   <li><strong>If your code is hard to unit test, and you don't want to unit test it, that's ok</strong>. But be prepared to argue why that's the case!</li> 
   <li><strong>It's entirely possible your changes won't be merged</strong>, or will get ripped out later. This is also the case for my changes, as the Author!</li> 
   <li><strong>Even a rejected/reverted PR is valuable</strong>! It helps explore the solution space, and know what works and what doesn't. For every line in the repo, at least three lines were tried, committed, and reverted/refactored, and more than 10 were tried without committing.</li> 
   <li><strong>Feel free to send Proof-Of-Concept PRs</strong> that you don't intend to get merged.</li> 
  </ul> 
 </article>
</div>