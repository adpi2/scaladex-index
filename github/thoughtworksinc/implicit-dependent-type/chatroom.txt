https://gitter.im/thoughtworksinc/implicit-dependent-type