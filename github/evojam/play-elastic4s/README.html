<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-play-elastic4s-" class="anchor" href="https://github.com/evojam/play-elastic4s#play-elastic4s-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>play-elastic4s <a href="https://travis-ci.org/evojam/play-elastic4s" target="_blank"><img src="https://camo.githubusercontent.com/fcdc47873c7897d840ce6fc96b4a3d4691245b64/68747470733a2f2f7472617669732d63692e6f72672f65766f6a616d2f706c61792d656c617374696334732e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/evojam/play-elastic4s.svg?branch=master" style="max-width:100%;"></a></h1> 
  <p>We've been using <a href="https://github.com/sksamuel/elastic4s" target="_blank">elastic4s</a> with <a href="https://www.playframework.com/" target="_blank">Play framework</a> for a while. Without convenient way of configuration and injecting ElasticClient instance there was a lot boilerplate work to do. This module enhances elastic4s with two main features:</p> 
  <ol> 
   <li>Loading driver configuration from <code>application.conf</code>.</li> 
   <li>Automatic JSON conversions for Elasticsearch based on <a href="https://www.playframework.com/documentation/2.4.x/ScalaJson" target="_blank">Play JSON formatters</a>.</li> 
  </ol> 
  <p>As a bonus, the Elasticsearch driver will automatically disconnect on Play application shutdown.</p> 
  <h2><a id="user-content-quick-start" class="anchor" href="https://github.com/evojam/play-elastic4s#quick-start" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Quick Start</h2> 
  <p>There are no stable releases yet. We're testing the current version with Elasticsearch 2.4.0 and it will not work with Elasticsearch other than 2.2.X. Moreover, we depend on Play 2.5.9 which in turn requires Java 8.</p> 
  <h3><a id="user-content-1-installation" class="anchor" href="https://github.com/evojam/play-elastic4s#1-installation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>1. Installation</h3> 
  <p>Add the dependency to your <code>build.sbt</code>:</p> 
  <pre><code>libraryDependencies += "com.evojam" %% "play-elastic4s" % "0.3.2"

resolvers += Resolver.sonatypeRepo("snapshots")
</code></pre> 
  <h4><a id="user-content-play-25x-compatibility-note" class="anchor" href="https://github.com/evojam/play-elastic4s#play-25x-compatibility-note" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Play 2.5.x compatibility note</h4> 
  <p>Due to the difference in underlying Netty version (4.1.x in ES client and 4.0.x in Play) that are binary incompatible you have to use Akka transport. Please ensure you have appropriate plugins' setup in your <code>build.sbt</code>:</p> 
  <pre><code>enablePlugins(PlayScala, PlayAkkaHttpServer)

disablePlugins(PlayNettyServer)
</code></pre> 
  <h3><a id="user-content-2-setup" class="anchor" href="https://github.com/evojam/play-elastic4s#2-setup" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>2. Setup</h3> 
  <p>Extend your application.conf to load the module and get all goodies injectable:</p> 
  <pre lang="hocon"><code>elastic4s {
    clusters {
        myCluster {
           type: "transport"               // &lt;-- either "transport" or "node"
           cluster.name: "mycluster"       // &lt;-- set your cluster name here
           uri: elasticsearch://host:port  // &lt;-- if using transport client, pass uri to the cluster
        }
    }
    indexAndTypes {                        // &lt;-- this section is not required, but
        book {                             //     this index/type pair will be injectable later
            index: "library"
            type: "book"
        }
    }
}

play.modules.enabled += "com.evojam.play.elastic4s.Elastic4sModule"
</code></pre> 
  <p>You may define any number of clusters. Transport clients require an <code>uri</code> field with elasticsearch uri. This field determines whether an embedded client or transport client will be created. If the <code>uri</code> field is present Transport client will be used, embedded client otherwise. Also, each cluster needs to have <code>cluster.name</code> set. Any other fields will be passed to Elasticsearch Java driver settings builder. Please refer to <a href="https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/client.html" target="_blank">Java Client docs</a>, paying attention to <a href="https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/node-client.html" target="_blank">Node Client docs</a> and <a href="https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/transport-client.html" target="_blank">Transport Client docs</a>.</p> 
  <p>If you have <code>elasticsearch.yml</code> file in your classpath, it will also be loaded. In case of conflicts, <code>application.conf</code> wins. It is discouraged to have configuration in two places, though, so we'd rather you dropped the <code>elasticsearch.yml</code>.</p> 
  <p><strong>Warning: Node clients will hurt you unless properly configured.</strong> By default, an embedded client will join the ES cluster and will try and store some data (meaning that some shards will be allocated to it). Then on application shutdown these shards will be lost. Moreover, the default settings allow the embedded client to become the master node in the cluster. This is probably not what you want.</p> 
  <p>As a final note on connection setup, please bear in mind that Elasticsearch nodes have autodiscovery system and will automatically form clusters. Therefore running multiple node clients in a single application may lead to strange behavior.</p> 
  <p>You may use the <code>indexAndTypes</code> node to configure names of your indexes in ES. As a good practice, you should probably put aliases here, not hard names (refer to <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-aliases.html" target="_blank">ES docs on aliases</a>). Every key in that node will be transformed to an injectable <a href="https://github.com/sksamuel/elastic4s/blob/master/elastic4s-core/src/main/scala/com/sksamuel/elastic4s/IndexAndTypes.scala" target="_blank"><code>IndexAndType</code></a> instance.</p> 
  <h3><a id="user-content-3-enjoy-injectable-configuration" class="anchor" href="https://github.com/evojam/play-elastic4s#3-enjoy-injectable-configuration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>3. Enjoy injectable configuration</h3> 
  <p>Instead of instantiating <code>ElasticClient</code> manually, have the configuration and our factory <a href="https://www.playframework.com/documentation/2.4.x/ScalaDependencyInjection" target="_blank">injected</a>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">class</span> <span class="pl-en">BookDao</span> <span class="pl-k">@</span><span class="pl-en">Inject</span>()(
	<span class="pl-v">cs</span>: <span class="pl-en">ClusterSetup</span>,
	<span class="pl-v">elasticFactory</span>: <span class="pl-en">PlayElasticFactory</span>,
	<span class="pl-k">@</span><span class="pl-en">Named</span>(<span class="pl-s"><span class="pl-pds">"</span>book<span class="pl-pds">"</span></span>) <span class="pl-v">indexAndType</span>: <span class="pl-en">IndexAndType</span>) extends
		<span class="pl-en">ElasticDsl</span> {

	<span class="pl-k">private</span>[<span class="pl-c1">this</span>] <span class="pl-k">lazy</span> <span class="pl-k">val</span> <span class="pl-en">client</span> <span class="pl-k">=</span> elasticFactory(cs)

	<span class="pl-k">def</span> <span class="pl-en">searchByAnything</span>(<span class="pl-v">q</span>: <span class="pl-k">String</span>)<span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-en">RichSearchResponse</span>] <span class="pl-k">=</span> client execute {
		search in indexAndType query q
	}
}</pre>
  </div> 
  <p>Apart from the injection, nothing changes. The <code>client</code> generated by the factory is a regular <code>ElasticClient</code> from <code>elastic4s</code> library, so all the original API stays. Calling the factory twice with the same <code>ClusterSetup</code> will reuse the same client, so feel free to use the factory whenever you need a client instance. Moreover, the created client instances are hooked to Play application lifecycle and will gracefully disconnect on application shutdown.</p> 
  <h3><a id="user-content-4-enjoy-seamless-json-conversions" class="anchor" href="https://github.com/evojam/play-elastic4s#4-enjoy-seamless-json-conversions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>4. Enjoy seamless JSON conversions</h3> 
  <p>The original elastic4s API already provides automatic JSON conversions, but it requires you to provide specific typeclasses (<a href="https://github.com/sksamuel/elastic4s#indexing-from-classes" target="_blank">Indexable</a> and <a href="https://github.com/sksamuel/elastic4s#search-conversion" target="_blank">HitAs</a>). Play-elastic4s will derive them automatically based on your Play JSON formatters - just mix in the <code>PlayElasticJsonSupport</code> trait:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Book</span>(<span class="pl-v">title</span>: <span class="pl-k">String</span>, <span class="pl-v">author</span>: <span class="pl-k">String</span>, <span class="pl-v">publishDate</span>: <span class="pl-en">DateTime</span>)
<span class="pl-k">object</span> <span class="pl-en">Book</span> {
	<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">format</span><span class="pl-k">:</span> <span class="pl-en">Format</span>[<span class="pl-en">Book</span>] <span class="pl-k">=</span> <span class="pl-en">Json</span>.format[<span class="pl-en">Book</span>]
}

<span class="pl-k">class</span> <span class="pl-en">BookDao</span> <span class="pl-k">@</span><span class="pl-en">Inject</span>()(
	<span class="pl-v">cs</span>: <span class="pl-en">ClusterSetup</span>,
	<span class="pl-v">elasticFactory</span>: <span class="pl-en">PlayElasticFactory</span>,
	<span class="pl-k">@</span><span class="pl-en">Named</span>(<span class="pl-s"><span class="pl-pds">"</span>book<span class="pl-pds">"</span></span>) <span class="pl-v">indexAndType</span>: <span class="pl-en">IndexAndType</span>) extends
		<span class="pl-en">ElasticDsl</span> with
		<span class="pl-en">PlayElasticJsonSupport</span> {

	<span class="pl-k">private</span>[<span class="pl-c1">this</span>] <span class="pl-k">lazy</span> <span class="pl-k">val</span> <span class="pl-en">client</span> <span class="pl-k">=</span> elasticFactory(cs)

	<span class="pl-k">def</span> <span class="pl-en">searchByAnything</span>(<span class="pl-v">q</span>: <span class="pl-k">String</span>)<span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-en">Array</span>[<span class="pl-en">Book</span>]] <span class="pl-k">=</span> client execute {
		search in indexAndType query q
	} map (_.as[<span class="pl-en">Book</span>])   <span class="pl-c"><span class="pl-c">//</span> here the conversion happens. Will throw if documents are malformed.</span>

	<span class="pl-k">def</span> <span class="pl-en">add</span>(<span class="pl-v">bookId</span>: <span class="pl-k">String</span>, <span class="pl-v">book</span>: <span class="pl-en">Book</span>) <span class="pl-k">=</span> client execute {
		index into indexAndType source book id bookId
	}

	<span class="pl-c"><span class="pl-c">//</span> as an extra, you also get an extension method when getting by ID.</span>
	<span class="pl-c"><span class="pl-c">//</span> It returns None if there is no document with the given ID</span>
	<span class="pl-c"><span class="pl-c">//</span> and throws an exception if the document cannot be parsed:</span>
	<span class="pl-k">def</span> <span class="pl-en">getById</span>(<span class="pl-v">bookId</span>: <span class="pl-k">String</span>)<span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-en">Option</span>[<span class="pl-en">Book</span>]] <span class="pl-k">=</span> client.execute {
		get id bookId from indexAndType
	} map (_.as[<span class="pl-en">Book</span>])
}</pre>
  </div> 
  <p>Note that this does not provide interoperability with the magic ES fields (<code>_type</code>, <code>_id</code> and similar). Even worse, if your custom type produces an <code>_id</code> field during serialization to JSON, the driver will produce a request with <code>_id</code> field in the source document. Such requests are invalid and will be rejected.</p> 
  <h2><a id="user-content-advanced-usage" class="anchor" href="https://github.com/evojam/play-elastic4s#advanced-usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Advanced usage</h2> 
  <h3><a id="user-content-detailed-es-connection-configuration" class="anchor" href="https://github.com/evojam/play-elastic4s#detailed-es-connection-configuration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Detailed ES connection configuration</h3> 
  <p>Simply add more options to "elastic4s.clusters." node in the config file. They will be passed to the ES java driver.</p> 
  <h3><a id="user-content-using-mutliple-es-clusters" class="anchor" href="https://github.com/evojam/play-elastic4s#using-mutliple-es-clusters" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Using mutliple ES clusters</h3> 
  <p>Specify them all in the config file:</p> 
  <pre lang="hocon"><code>elastic4s {
		clusters {
				firstCluster {
					 uri: elasticsearch://main.es.example.com:9300
					 cluster.name: "first-es-cluster"
				}
				loggingCluster {
					uri: elasticsearch://log.es.example.com:9300
					cluster.name: "log-es-cluster"
				}

		}
		indexAndTypes {
				book {
						index: "library"
						type: "book"
				}
		}
}

play.modules.enabled += "com.evojam.play.elastic4s.Elastic4sModule"
</code></pre> 
  <p>The unnamed binding for <code>ClusterSetup</code> is available only if there is exactly one cluster configured. With multiple clusters, use <code>@Named</code> annotation:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">class</span> <span class="pl-en">BookDao</span> <span class="pl-k">@</span><span class="pl-en">Inject</span>()(
	<span class="pl-k">@</span><span class="pl-en">Named</span>(<span class="pl-s"><span class="pl-pds">"</span>firstCluster<span class="pl-pds">"</span></span>) <span class="pl-v">firstCs</span>: <span class="pl-en">ClusterSetup</span>,
	<span class="pl-k">@</span><span class="pl-en">Named</span>(<span class="pl-s"><span class="pl-pds">"</span>loggingCluster<span class="pl-pds">"</span></span>) <span class="pl-v">loggingCs</span>: <span class="pl-en">ClusterSetup</span>,
	<span class="pl-v">elasticFactory</span>: <span class="pl-en">PlayElasticFactory</span>,
	<span class="pl-k">@</span><span class="pl-en">Named</span>(<span class="pl-s"><span class="pl-pds">"</span>book<span class="pl-pds">"</span></span>) <span class="pl-v">indexAndType</span>: <span class="pl-en">IndexAndType</span>) extends
		<span class="pl-en">ElasticDsl</span> {

	<span class="pl-k">private</span>[<span class="pl-c1">this</span>] <span class="pl-k">lazy</span> <span class="pl-k">val</span> <span class="pl-en">client</span> <span class="pl-k">=</span> elasticFactory(firstCs)
	<span class="pl-k">private</span>[<span class="pl-c1">this</span>] <span class="pl-k">lazy</span> <span class="pl-k">val</span> <span class="pl-en">logClient</span> <span class="pl-k">=</span> elasticFactory(loggingCs)
	
	...
}</pre>
  </div> 
  <h1><a id="user-content-for-developers" class="anchor" href="https://github.com/evojam/play-elastic4s#for-developers" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>For developers</h1> 
  <p>Please use <a href="http://jeffkreeftmeijer.com/2010/why-arent-you-using-git-flow/" target="_blank">git-flow</a>, with one exception regarding finishing features: instead of doing <code>git flow feature finish X</code>, submit a pull request and merge it in GitHub.</p> 
  <p><strong>Releasing:</strong> all commits to master branch automatically trigger publishing to <a href="https://oss.sonatype.org" target="_blank">Sonatype OSS</a> from Travis CI. For snapshot versions, this is enough. For release versions, one needs to login to the repository manager and close the staging repository, as described at <a href="http://central.sonatype.org/pages/releasing-the-deployment.html" target="_blank">Sonatype releasing guide</a>. Also make sure to tag released versions, preferably using GitHub release feature. Finally, after having released a <code>X.Y.Z</code> version, make another commit that changes version number in <code>build.sbt</code> to <code>X.Y.(Z+1)-SNAPSHOT</code> in order to avoid a duplicate release with the same number.</p> 
 </article>
</div>