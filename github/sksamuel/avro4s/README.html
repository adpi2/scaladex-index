<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-avro4s" class="anchor" href="https://github.com/sksamuel/avro4s#avro4s" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>avro4s</h1> 
  <p><a href="https://travis-ci.org/sksamuel/avro4s" target="_blank"><img src="https://camo.githubusercontent.com/bfbe6f625c39d10459518a5740ce6e9fa9f38069/68747470733a2f2f7472617669732d63692e6f72672f736b73616d75656c2f6176726f34732e706e67" alt="Build Status" data-canonical-src="https://travis-ci.org/sksamuel/avro4s.png" style="max-width:100%;"></a> <a href="http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22avro4s-core_2.11%22" target="_blank"><img src="https://camo.githubusercontent.com/c58fd91a5939bf64305c87334248c324fb7d239c/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f636f6d2e736b73616d75656c2e6176726f34732f6176726f34732d636f72655f322e31312e7376673f6c6162656c3d6c617465737425323072656c65617365253230666f72253230322e3131" data-canonical-src="https://img.shields.io/maven-central/v/com.sksamuel.avro4s/avro4s-core_2.11.svg?label=latest%20release%20for%202.11" style="max-width:100%;"></a> <a href="http://search.maven.org/#search%7Cga%7C1%7Cavro4s-core_2.12" target="_blank"><img src="https://camo.githubusercontent.com/cbf0cc7fe311a86134fd9c7e9156e8094fbd3874/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f636f6d2e736b73616d75656c2e6176726f34732f6176726f34732d636f72655f322e31322e7376673f6c6162656c3d6c617465737425323072656c65617365253230666f72253230322e3132" data-canonical-src="https://img.shields.io/maven-central/v/com.sksamuel.avro4s/avro4s-core_2.12.svg?label=latest%20release%20for%202.12" style="max-width:100%;"></a></p> 
  <p>Avro4s is a schema/class generation and serializing/deserializing library for <a href="http://avro.apache.org/" target="_blank">Avro</a> written in Scala. The objective is to allow seamless use with Scala without the need to to write boilerplate conversions yourself, and without the runtime overhead of reflection. Hence, this is a macro based library and generates code for use with Avro at <em>compile time</em>.</p> 
  <p>The features of the library are:</p> 
  <ul> 
   <li>Schema generation from classes at compile time</li> 
   <li>Class generation from schemas at build time</li> 
   <li>Boilerplate free serialization of classes to Avro</li> 
   <li>Boilerplate free deserialization of Avro to classes</li> 
  </ul> 
  <h2><a id="user-content-changelog" class="anchor" href="https://github.com/sksamuel/avro4s#changelog" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Changelog</h2> 
  <ul> 
   <li>1.6.4 - Added support for Vectors</li> 
   <li>1.6.3 - Fixed issue with decimal schema using strings instead of ints for scale and precision</li> 
   <li>1.6.2 - Removed unused imports, fixed compiler warnings</li> 
   <li>1.6.1 - Fixed bug when using Option with a default value of None. Updated sbt generator. Added better way to discrimate between tpyes (Ilya Epifanov). Optimized reflection lookup @simonsouter.</li> 
   <li>1.6.0 - Added support for Coproducts (see section on coproducts) @SohumB. Added support for value classes. Bumped 2.12 cross build to M4.</li> 
   <li>1.5.6 - Added support for setting scale and precision on BigDecimal @blbradley</li> 
   <li>1.5.5 - Skipped</li> 
   <li>1.5.4 - Added support for recursive types @SohumB</li> 
   <li>1.5.3 - Added support for Option[X] in default parameters @jecos</li> 
   <li>1.5.2 - Added support for ints, longs, booleans, doubles, arrays, enums and maps in default parameters @whazenberg</li> 
   <li>1.5.1 - Fixed macro bug introduced in 1.5.0 which broke macro generation.</li> 
   <li>1.5.0 - Upgraded to Avro 1.8.1. Deprecated factory methods in io classes in favour of more explicit naming. Added caching for the macro generation (thanks @jtvoorde).</li> 
   <li>1.4.3 - Added support for json serialization</li> 
   <li>1.4.1 - Added support for parameter defaults</li> 
   <li>1.4.0 - Added better support for enums. Added support for UUIDs. Rewrote the macro backend. Added better binary support.</li> 
   <li>1.3.3 - Added missing support for deserializing byte arrays</li> 
   <li>1.3.0 - Added support for Scala 2.12. Removed 2.10 cross build. Fixed issues with private vals. Added binary (no schema) output stream. Exposed RecordFormat[T] typeclass to enable easy conversion of T to/from an Avro Record.</li> 
   <li>1.2.0 - Added support for properties, doc fields, and aliases. These are set via annotations.</li> 
   <li>1.1.0 - Added JSON document to Avro schema converter</li> 
   <li>1.0.0 - Migrated all macros to use Shapeless. Fixed some trickier nested case class issues. Simplified API. Added support for java enums.</li> 
   <li>0.94.0 - Added support for writing/reading Either and Option in serializer/deserializer. Fixed bug with array serialization.</li> 
   <li>0.93.0 - Added support for either and options in schema generator. Added support for aliases via scala annotation.</li> 
   <li>0.92.0 - Added support for unions (and unions of nulls to Options) and enums to class generator.</li> 
  </ul> 
  <h2><a id="user-content-schemas" class="anchor" href="https://github.com/sksamuel/avro4s#schemas" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Schemas</h2> 
  <p>Avro4s allows us to generate schemas directly from classes in a totally straightforward way. Let's define some classes.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Ingredient</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">sugar</span>: <span class="pl-k">Double</span>, <span class="pl-v">fat</span>: <span class="pl-k">Double</span>)
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Pizza</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">ingredients</span>: <span class="pl-en">Seq</span>[<span class="pl-en">Ingredient</span>], <span class="pl-v">vegetarian</span>: <span class="pl-k">Boolean</span>, <span class="pl-v">vegan</span>: <span class="pl-k">Boolean</span>, <span class="pl-v">calories</span>: <span class="pl-k">Int</span>)</pre>
  </div> 
  <p>Next is to invoke the <code>apply</code> method of <code>AvroSchema</code> passing in the top level type. This will return an <code>org.apache.avro.Schema</code> instance, from which you can output, write to a file etc.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.sksamuel.avro4s.</span><span class="pl-v">AvroSchema</span>
<span class="pl-k">val</span> <span class="pl-en">schema</span> <span class="pl-k">=</span> <span class="pl-en">AvroSchema</span>[<span class="pl-en">Pizza</span>]</pre>
  </div> 
  <p>Which will output the following schema:</p> 
  <div class="highlight highlight-source-json">
   <pre>{
  <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>record<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>Pizza<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>namespace<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>com.sksamuel.avro4s.json<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>fields<span class="pl-pds">"</span></span> : [ {
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span>
  }, {
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>ingredients<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> : {
      <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>array<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>items<span class="pl-pds">"</span></span> : {
        <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>record<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>Ingredient<span class="pl-pds">"</span></span>,
        <span class="pl-s"><span class="pl-pds">"</span>fields<span class="pl-pds">"</span></span> : [ {
          <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>,
          <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span>
        }, {
          <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>sugar<span class="pl-pds">"</span></span>,
          <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>double<span class="pl-pds">"</span></span>
        }, {
          <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>fat<span class="pl-pds">"</span></span>,
          <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>double<span class="pl-pds">"</span></span>
        } ]
      }
    }
  }, {
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>vegetarian<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>boolean<span class="pl-pds">"</span></span>
  }, {
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>vegan<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>boolean<span class="pl-pds">"</span></span>
  }, {
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>calories<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span> : <span class="pl-s"><span class="pl-pds">"</span>int<span class="pl-pds">"</span></span>
  } ]
}</pre>
  </div> 
  <p>You can see that the schema generator handles nested case classes, sequences, primitives, etc. For a full list of supported object types, see the table later.</p> 
  <h2><a id="user-content-recursive-schemas" class="anchor" href="https://github.com/sksamuel/avro4s#recursive-schemas" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Recursive Schemas</h2> 
  <p>Avro4s supports recursive schemas, but you will have to manually force the <code>SchemaFor</code> instance, instead of letting it be generated.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Recursive</span>(<span class="pl-v">payload</span>: <span class="pl-k">Int</span>, <span class="pl-v">next</span>: <span class="pl-en">Option</span>[<span class="pl-en">Recursive</span>])

<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">schemaFor</span> <span class="pl-k">=</span> <span class="pl-en">SchemaFor</span>[<span class="pl-en">Recursive</span>]
<span class="pl-k">val</span> <span class="pl-en">schema</span> <span class="pl-k">=</span> <span class="pl-en">AvroSchema</span>[<span class="pl-en">Recursive</span>]</pre>
  </div> 
  <h2><a id="user-content-input--output" class="anchor" href="https://github.com/sksamuel/avro4s#input--output" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Input / Output</h2> 
  <h3><a id="user-content-serializing" class="anchor" href="https://github.com/sksamuel/avro4s#serializing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Serializing</h3> 
  <p>Avro4s allows us to easily serialize case classes using an instance of <code>AvroOutputStream</code> which we write to, and close, just like you would any regular output stream. An <code>AvroOutputStream</code> can be created from a <code>File</code>, <code>Path</code>, or by wrapping another <code>OutputStream</code>. When we create one, we specify the type of objects that we will be serializing. Eg, to serialize instances of our Pizza class:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">java.io.</span><span class="pl-v">File</span>
<span class="pl-k">import</span> <span class="pl-v">com.sksamuel.avro4s.</span><span class="pl-v">AvroOutputStream</span>

<span class="pl-k">val</span> <span class="pl-en">pepperoni</span> <span class="pl-k">=</span> <span class="pl-en">Pizza</span>(<span class="pl-s"><span class="pl-pds">"</span>pepperoni<span class="pl-pds">"</span></span>, <span class="pl-en">Seq</span>(<span class="pl-en">Ingredient</span>(<span class="pl-s"><span class="pl-pds">"</span>pepperoni<span class="pl-pds">"</span></span>, <span class="pl-c1">12</span>, <span class="pl-c1">4.4</span>), <span class="pl-en">Ingredient</span>(<span class="pl-s"><span class="pl-pds">"</span>onions<span class="pl-pds">"</span></span>, <span class="pl-c1">1</span>, <span class="pl-c1">0.4</span>)), <span class="pl-c1">false</span>, <span class="pl-c1">false</span>, <span class="pl-c1">98</span>)
<span class="pl-k">val</span> <span class="pl-en">hawaiian</span> <span class="pl-k">=</span> <span class="pl-en">Pizza</span>(<span class="pl-s"><span class="pl-pds">"</span>hawaiian<span class="pl-pds">"</span></span>, <span class="pl-en">Seq</span>(<span class="pl-en">Ingredient</span>(<span class="pl-s"><span class="pl-pds">"</span>ham<span class="pl-pds">"</span></span>, <span class="pl-c1">1.5</span>, <span class="pl-c1">5.6</span>), <span class="pl-en">Ingredient</span>(<span class="pl-s"><span class="pl-pds">"</span>pineapple<span class="pl-pds">"</span></span>, <span class="pl-c1">5.2</span>, <span class="pl-c1">0.2</span>)), <span class="pl-c1">false</span>, <span class="pl-c1">false</span>, <span class="pl-c1">91</span>)

<span class="pl-k">val</span> <span class="pl-en">os</span> <span class="pl-k">=</span> <span class="pl-en">AvroOutputStream</span>.data[<span class="pl-en">Pizza</span>](<span class="pl-k">new</span> <span class="pl-en">File</span>(<span class="pl-s"><span class="pl-pds">"</span>pizzas.avro<span class="pl-pds">"</span></span>))
os.write(<span class="pl-en">Seq</span>(pepperoni, hawaiian))
os.flush()
os.close()</pre>
  </div> 
  <h3><a id="user-content-deserializing" class="anchor" href="https://github.com/sksamuel/avro4s#deserializing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Deserializing</h3> 
  <p>With avro4s we can easily deserialize a file back into Scala case classes. Given the <code>pizzas.avro</code> file we generated in the previous section on serialization, we will read this back in using the <code>AvroInputStream</code> class. We first create an instance of the input stream specifying the types we will read back, and the file. Then we call iterator which will return a lazy iterator (reads on demand) of the data in the file. In this example, we'll load all data at once from the iterator via <code>toSet</code>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.sksamuel.avro4s.</span><span class="pl-v">AvroInputStream</span>

<span class="pl-k">val</span> <span class="pl-en">is</span> <span class="pl-k">=</span> <span class="pl-en">AvroInputStream</span>.data[<span class="pl-en">Pizza</span>](<span class="pl-k">new</span> <span class="pl-en">File</span>(<span class="pl-s"><span class="pl-pds">"</span>pizzas.avro<span class="pl-pds">"</span></span>))
<span class="pl-k">val</span> <span class="pl-en">pizzas</span> <span class="pl-k">=</span> is.iterator.toSet
is.close()
println(pizzas.mkString(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>))</pre>
  </div> 
  <p>Will print out:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-en">Pizza</span>(pepperoni,<span class="pl-en">List</span>(<span class="pl-en">Ingredient</span>(pepperoni,<span class="pl-c1">12.2</span>,<span class="pl-c1">4.4</span>), <span class="pl-en">Ingredient</span>(onions,<span class="pl-c1">1.2</span>,<span class="pl-c1">0.4</span>)),<span class="pl-c1">false</span>,<span class="pl-c1">false</span>,<span class="pl-c1">500</span>) <span class="pl-en">Pizza</span>(hawaiian,<span class="pl-en">List</span>(<span class="pl-en">Ingredient</span>(ham,<span class="pl-c1">1.5</span>,<span class="pl-c1">5.6</span>), <span class="pl-en">Ingredient</span>(pineapple,<span class="pl-c1">5.2</span>,<span class="pl-c1">0.2</span>)),<span class="pl-c1">false</span>,<span class="pl-c1">false</span>,<span class="pl-c1">500</span>)</pre>
  </div> 
  <h3><a id="user-content-binary-serializing" class="anchor" href="https://github.com/sksamuel/avro4s#binary-serializing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Binary Serializing</h3> 
  <p>You can serialize to Binary using the <code>AvroBinaryOutputStream</code> which you can create directly or by using <code>AvroOutputStream.binary</code>. The difference with binary serialization is that the schema is not included in the output.</p> 
  <p>Simply</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Composer</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">birthplace</span>: <span class="pl-k">String</span>, <span class="pl-v">compositions</span>: <span class="pl-en">Seq</span>[<span class="pl-k">String</span>])
<span class="pl-k">val</span> <span class="pl-en">ennio</span> <span class="pl-k">=</span> <span class="pl-en">Composer</span>(<span class="pl-s"><span class="pl-pds">"</span>ennio morricone<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>rome<span class="pl-pds">"</span></span>, <span class="pl-en">Seq</span>(<span class="pl-s"><span class="pl-pds">"</span>legend of 1900<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>ecstasy of gold<span class="pl-pds">"</span></span>))

<span class="pl-k">val</span> <span class="pl-en">baos</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">ByteArrayOutputStream</span>()
<span class="pl-k">val</span> <span class="pl-en">output</span> <span class="pl-k">=</span> <span class="pl-en">AvroOutputStream</span>.binary[<span class="pl-en">Composer</span>](baos)
output.write(ennio)
output.close()
<span class="pl-k">val</span> <span class="pl-en">bytes</span> <span class="pl-k">=</span> baos.toByteArray</pre>
  </div> 
  <h3><a id="user-content-binary-deserializing" class="anchor" href="https://github.com/sksamuel/avro4s#binary-deserializing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Binary Deserializing</h3> 
  <p>You can deserialize Binary using the <code>AvroBinaryInputStream</code> which you can create directly or by using <code>AvroInputStream.binary</code> The difference with binary serialization is that the schema is not included in the data.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">in</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">ByteArrayInputStream</span>(bytes)
<span class="pl-k">val</span> <span class="pl-en">input</span> <span class="pl-k">=</span> <span class="pl-en">AvroInputStream</span>.binary[<span class="pl-en">Composer</span>](in)
<span class="pl-k">val</span> <span class="pl-en">result</span> <span class="pl-k">=</span> input.iterator.toSeq
result shouldBe <span class="pl-en">Vector</span>(ennio)</pre>
  </div> 
  <h3><a id="user-content-json-serializing" class="anchor" href="https://github.com/sksamuel/avro4s#json-serializing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>JSON Serializing</h3> 
  <p>You can serialize to JSON using the <code>AvroJsonOutputStream</code> which you can create directly or by using <code>AvroOutputStream.json</code></p> 
  <p>Simply</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Composer</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">birthplace</span>: <span class="pl-k">String</span>, <span class="pl-v">compositions</span>: <span class="pl-en">Seq</span>[<span class="pl-k">String</span>])
<span class="pl-k">val</span> <span class="pl-en">ennio</span> <span class="pl-k">=</span> <span class="pl-en">Composer</span>(<span class="pl-s"><span class="pl-pds">"</span>ennio morricone<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>rome<span class="pl-pds">"</span></span>, <span class="pl-en">Seq</span>(<span class="pl-s"><span class="pl-pds">"</span>legend of 1900<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>ecstasy of gold<span class="pl-pds">"</span></span>))

<span class="pl-k">val</span> <span class="pl-en">baos</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">ByteArrayOutputStream</span>()
<span class="pl-k">val</span> <span class="pl-en">output</span> <span class="pl-k">=</span> <span class="pl-en">AvroOutputStream</span>.json[<span class="pl-en">Composer</span>](baos)
output.write(ennio)
output.close()
println(baos.toString(<span class="pl-s"><span class="pl-pds">"</span>UTF-8<span class="pl-pds">"</span></span>))</pre>
  </div> 
  <h3><a id="user-content-json-deserializing" class="anchor" href="https://github.com/sksamuel/avro4s#json-deserializing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>JSON Deserializing</h3> 
  <p>You can deserialize JSON using the <code>AvroJsonInputStream</code> which you can create directly or by using <code>AvroInputStream.json</code></p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">json</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>{<span class="pl-cce">\"</span>name<span class="pl-cce">\"</span>:<span class="pl-cce">\"</span>ennio morricone<span class="pl-cce">\"</span>,<span class="pl-cce">\"</span>birthplace<span class="pl-cce">\"</span>:<span class="pl-cce">\"</span>rome<span class="pl-cce">\"</span>,<span class="pl-cce">\"</span>compositions<span class="pl-cce">\"</span>:[<span class="pl-cce">\"</span>legend of 1900<span class="pl-cce">\"</span>,<span class="pl-cce">\"</span>ecstasy of gold<span class="pl-cce">\"</span>]}<span class="pl-pds">"</span></span>
<span class="pl-k">val</span> <span class="pl-en">in</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">ByteInputStream</span>(json.getBytes(<span class="pl-s"><span class="pl-pds">"</span>UTF-8<span class="pl-pds">"</span></span>), json.size)
<span class="pl-k">val</span> <span class="pl-en">input</span> <span class="pl-k">=</span> <span class="pl-en">AvroInputStream</span>.json[<span class="pl-en">Composer</span>](in)
<span class="pl-k">val</span> <span class="pl-en">result</span> <span class="pl-k">=</span> input.singleEntity
result shouldBe <span class="pl-en">Success</span>(ennio)</pre>
  </div> 
  <h2><a id="user-content-conversions-tofrom-genericrecord" class="anchor" href="https://github.com/sksamuel/avro4s#conversions-tofrom-genericrecord" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Conversions to/from GenericRecord</h2> 
  <p>To interface with the Java API it is sometimes desirable to convert between your classes and the Avro <code>GenericRecord</code> type. You can do this easily in avro4s using the <code>RecordFormat</code> typeclass (this is what the input/output streams use behind the scenes). Eg,</p> 
  <p>To convert from a class into a record:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Composer</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">birthplace</span>: <span class="pl-k">String</span>, <span class="pl-v">compositions</span>: <span class="pl-en">Seq</span>[<span class="pl-k">String</span>])
<span class="pl-k">val</span> <span class="pl-en">ennio</span> <span class="pl-k">=</span> <span class="pl-en">Composer</span>(<span class="pl-s"><span class="pl-pds">"</span>ennio morricone<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>rome<span class="pl-pds">"</span></span>, <span class="pl-en">Seq</span>(<span class="pl-s"><span class="pl-pds">"</span>legend of 1900<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>ecstasy of gold<span class="pl-pds">"</span></span>))
<span class="pl-k">val</span> <span class="pl-en">format</span> <span class="pl-k">=</span> <span class="pl-en">RecordFormat</span>[<span class="pl-en">Composer</span>]
<span class="pl-c"><span class="pl-c">//</span> record is of type GenericRecord</span>
<span class="pl-k">val</span> <span class="pl-en">record</span> <span class="pl-k">=</span> format.to(ennio)</pre>
  </div> 
  <p>And to go from a record back into a type:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> given some record from earlier</span>
<span class="pl-k">val</span> <span class="pl-en">record</span> <span class="pl-k">=</span> ...
<span class="pl-k">val</span> <span class="pl-en">format</span> <span class="pl-k">=</span> <span class="pl-en">RecordFormat</span>[<span class="pl-en">Composer</span>]
<span class="pl-c"><span class="pl-c">//</span> is an instance of Composer</span>
<span class="pl-k">val</span> <span class="pl-en">ennio</span> <span class="pl-k">=</span> format.from(record)</pre>
  </div> 
  <h2><a id="user-content-set-a-schemas-decimal-scale-and-precision" class="anchor" href="https://github.com/sksamuel/avro4s#set-a-schemas-decimal-scale-and-precision" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Set a schema's decimal scale and precision</h2> 
  <p>Bring an implicit <code>ScaleAndPrecision</code> into scope before using <code>AvroSchema</code>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.sksamuel.avro4s.</span><span class="pl-v">ScaleAndPrecision</span>

<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">MyDecimal</span>(<span class="pl-v">d</span>: <span class="pl-en">BigDecimal</span>)

<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">sp</span> <span class="pl-k">=</span> <span class="pl-en">ScaleAndPrecision</span>(<span class="pl-c1">8</span>, <span class="pl-c1">20</span>)
<span class="pl-k">val</span> <span class="pl-en">schema</span> <span class="pl-k">=</span> <span class="pl-en">AvroSchema</span>[<span class="pl-en">MyDecimal</span>]</pre>
  </div> 
  <div class="highlight highlight-source-json">
   <pre>{
  <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>record<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>MyDecimal<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>namespace<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>$iw<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>fields<span class="pl-pds">"</span></span>:[{
    <span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>d<span class="pl-pds">"</span></span>,
    <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span>:{
      <span class="pl-s"><span class="pl-pds">"</span>type<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>bytes<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>logicalType<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>decimal<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>scale<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>8<span class="pl-pds">"</span></span>,
      <span class="pl-s"><span class="pl-pds">"</span>precision<span class="pl-pds">"</span></span>:<span class="pl-s"><span class="pl-pds">"</span>20<span class="pl-pds">"</span></span>
    }
  }]
}</pre>
  </div> 
  <h2><a id="user-content-coproducts" class="anchor" href="https://github.com/sksamuel/avro4s#coproducts" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Coproducts</h2> 
  <p>Avro supports generalised unions, eithers of more than two values. To represent these in scala, we use <code>shapeless.:+:</code>, such that <code>A :+: B :+: C :+: CNil</code> represents cases where a type is <code>A</code> OR <code>B</code> OR <code>C</code>. See shapeless' <a href="https://github.com/milessabin/shapeless/wiki/Feature-overview:-shapeless-2.0.0#coproducts-and-discriminated-unions" target="_blank">documentation on coproducts</a> for more on how to use coproducts.</p> 
  <h2><a id="user-content-sealed-hierarchies" class="anchor" href="https://github.com/sksamuel/avro4s#sealed-hierarchies" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Sealed hierarchies</h2> 
  <p>Scala sealed traits/classes are supported both when it comes to schema generation and conversions to/from <code>GenericRecord</code>. Generally sealed hierarchies are encoded as unions - in the same way like Coproducts. Under the hood, shapeless <code>Generic</code> is used to derive Coproduct representation for sealed hierarchy.</p> 
  <p>When all descendants of sealed trait/class are singleton objects, optimized, enum-based encoding is used instead.</p> 
  <h2><a id="user-content-type-mappings" class="anchor" href="https://github.com/sksamuel/avro4s#type-mappings" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Type Mappings</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scala.collection.</span>{<span class="pl-v">Array</span>, <span class="pl-v">List</span>, <span class="pl-v">Seq</span>, <span class="pl-v">Iterable</span>, <span class="pl-v">Set</span>, <span class="pl-v">Map</span>, <span class="pl-v">Option</span>, <span class="pl-v">Either</span>}
<span class="pl-k">import</span> <span class="pl-v">shapeless.</span>{<span class="pl-v">:+:</span>, <span class="pl-v">CNil</span>}</pre>
  </div> 
  <table> 
   <thead> 
    <tr> 
     <th>Scala Type</th> 
     <th>Avro Type</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td>Boolean</td> 
     <td>boolean</td> 
    </tr> 
    <tr> 
     <td>Array[Byte]</td> 
     <td>bytes</td> 
    </tr> 
    <tr> 
     <td>String</td> 
     <td>string or fixed</td> 
    </tr> 
    <tr> 
     <td>Int</td> 
     <td>int</td> 
    </tr> 
    <tr> 
     <td>Long</td> 
     <td>long</td> 
    </tr> 
    <tr> 
     <td>BigDecimal</td> 
     <td><a href="https://avro.apache.org/docs/1.7.7/spec.html#Decimal" target="_blank">decimal</a> with default scale 2 and precision 8</td> 
    </tr> 
    <tr> 
     <td>Double</td> 
     <td>double</td> 
    </tr> 
    <tr> 
     <td>Float</td> 
     <td>float</td> 
    </tr> 
    <tr> 
     <td>java.util.UUID</td> 
     <td>string</td> 
    </tr> 
    <tr> 
     <td>Java Enums</td> 
     <td>enum</td> 
    </tr> 
    <tr> 
     <td>sealed trait T</td> 
     <td>union</td> 
    </tr> 
    <tr> 
     <td>sealed trait with only case objects</td> 
     <td>enum</td> 
    </tr> 
    <tr> 
     <td>Array[T]</td> 
     <td>array</td> 
    </tr> 
    <tr> 
     <td>List[T]</td> 
     <td>array</td> 
    </tr> 
    <tr> 
     <td>Seq[T]</td> 
     <td>array</td> 
    </tr> 
    <tr> 
     <td>Iterable[T]</td> 
     <td>array</td> 
    </tr> 
    <tr> 
     <td>Set[T]</td> 
     <td>array</td> 
    </tr> 
    <tr> 
     <td>Map[String, T]</td> 
     <td>map</td> 
    </tr> 
    <tr> 
     <td>Option[T]</td> 
     <td>union:null,T</td> 
    </tr> 
    <tr> 
     <td>Either[L, R]</td> 
     <td>union:L,R</td> 
    </tr> 
    <tr> 
     <td>A :+: B :+: C :+: CNil</td> 
     <td>union:A,B,C</td> 
    </tr> 
    <tr> 
     <td>Option[Either[L, R]]</td> 
     <td>union:null,L,R</td> 
    </tr> 
    <tr> 
     <td>Option[A :+: B :+: C :+: CNil]</td> 
     <td>union:null,A,B,C</td> 
    </tr> 
    <tr> 
     <td>T</td> 
     <td>record</td> 
    </tr>
   </tbody>
  </table> 
  <h2><a id="user-content-custom-type-mappings" class="anchor" href="https://github.com/sksamuel/avro4s#custom-type-mappings" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Custom Type Mappings</h2> 
  <p>It is very easy to add custom type mappings. To do this, you need to create instances of <code>ToSchema</code>, <code>ToValue</code> and <code>FromValue</code> typeclasses.</p> 
  <p><code>ToSchema</code> is used to generate an Avro schema for a given JVM type. <code>ToValue</code> is used to convert an instance of a JVM type into an instance of the Avro type. And <code>FromValue</code> is used to convert an instance of the Avro type into the JVM type.</p> 
  <p>For example, to create a mapping for <code>org.joda.time.DateTime</code> that we wish to store as an ISO Date string, then we can do the following:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">implicit</span> <span class="pl-k">object</span> <span class="pl-en">DateTimeToSchema</span> <span class="pl-k">extends</span> <span class="pl-e">ToSchema</span>[<span class="pl-en">DateTime</span>] {
  <span class="pl-k">override</span> <span class="pl-k">val</span> <span class="pl-en">schema</span><span class="pl-k">:</span> <span class="pl-en">Schema</span> <span class="pl-k">=</span> <span class="pl-en">Schema</span>.create(<span class="pl-en">Schema</span>.<span class="pl-en">Type</span>.<span class="pl-en">STRING</span>)
}

<span class="pl-k">implicit</span> <span class="pl-k">object</span> <span class="pl-en">DateTimeToValue</span> <span class="pl-k">extends</span> <span class="pl-e">ToValue</span>[<span class="pl-en">DateTime</span>] {
  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">apply</span>(<span class="pl-v">value</span>: <span class="pl-en">DateTime</span>)<span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> <span class="pl-en">ISODateTimeFormat</span>.dateTime().print(value)
}

<span class="pl-k">implicit</span> <span class="pl-k">object</span> <span class="pl-en">DateTimeFromValue</span> <span class="pl-k">extends</span> <span class="pl-e">FromValue</span>[<span class="pl-en">DateTime</span>] {
  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">apply</span>(<span class="pl-v">value</span>: <span class="pl-en">Any</span>, <span class="pl-v">field</span>: <span class="pl-en">Field</span>)<span class="pl-k">:</span> <span class="pl-en">DateTime</span> <span class="pl-k">=</span> <span class="pl-en">ISODateTimeFormat</span>.dateTime().parseDateTime(value.toString())
}</pre>
  </div> 
  <p>These typeclasses must be implicit and in scope when you invoke <code>AvroSchema</code> or create an <code>AvroInputStream</code>/<code>AvroOutputStream</code>.</p> 
  <h2><a id="user-content-selective-customisation" class="anchor" href="https://github.com/sksamuel/avro4s#selective-customisation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Selective Customisation</h2> 
  <p>You can selectively customise the way Avro4s generates certain parts of your hierarchy, thanks to implicit precedence. Suppose you have the following classes:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Product</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">price</span>: <span class="pl-en">Price</span>, <span class="pl-v">litres</span>: <span class="pl-en">BigDecimal</span>)
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Price</span>(<span class="pl-v">currency</span>: <span class="pl-k">String</span>, <span class="pl-v">amount</span>: <span class="pl-en">BigDecimal</span>)</pre>
  </div> 
  <p>And you want to selectively use different scale/precision for the <code>price</code> and <code>litres</code> quantities. You can do this by forcing the implicits in the corresponding companion objects.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">object</span> <span class="pl-en">Price</span> {
  <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">sp</span> <span class="pl-k">=</span> <span class="pl-en">ScaleAndPrecision</span>(<span class="pl-c1">10</span>,<span class="pl-c1">2</span>)
  <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">schema</span> <span class="pl-k">=</span> <span class="pl-en">SchemaFor</span>[<span class="pl-en">Price</span>]
}

<span class="pl-k">object</span> <span class="pl-en">Product</span> {
  <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">sp</span> <span class="pl-k">=</span> <span class="pl-en">ScaleAndPrecision</span>(<span class="pl-c1">8</span>,<span class="pl-c1">4</span>)
  <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">schema</span> <span class="pl-k">=</span> <span class="pl-en">SchemaFor</span>[<span class="pl-en">Product</span>]
}</pre>
  </div> 
  <p>This will result in a schema where both <code>BigDecimal</code> quantities have their own separate scale and precision.</p> 
  <h2><a id="user-content-using-avro4s-in-your-project" class="anchor" href="https://github.com/sksamuel/avro4s#using-avro4s-in-your-project" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Using avro4s in your project</h2> 
  <h4><a id="user-content-gradle" class="anchor" href="https://github.com/sksamuel/avro4s#gradle" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Gradle</h4> 
  <p><code>compile 'com.sksamuel.avro4s:avro4s-core_2.11:xxx'</code></p> 
  <h4><a id="user-content-sbt" class="anchor" href="https://github.com/sksamuel/avro4s#sbt" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SBT</h4> 
  <p><code>libraryDependencies += "com.sksamuel.avro4s" %% "avro4s-core" % "xxx"</code></p> 
  <h4><a id="user-content-maven" class="anchor" href="https://github.com/sksamuel/avro4s#maven" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Maven</h4> 
  <div class="highlight highlight-text-xml">
   <pre>&lt;<span class="pl-ent">dependency</span>&gt;
    &lt;<span class="pl-ent">groupId</span>&gt;com.sksamuel.avro4s&lt;/<span class="pl-ent">groupId</span>&gt;
    &lt;<span class="pl-ent">artifactId</span>&gt;avro4s-core_2.11&lt;/<span class="pl-ent">artifactId</span>&gt;
    &lt;<span class="pl-ent">version</span>&gt;xxx&lt;/<span class="pl-ent">version</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;</pre>
  </div> 
  <p>Check the latest released version on <a href="http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.sksamuel.avro4s%22" target="_blank">Maven Central</a></p> 
  <h2><a id="user-content-building-and-testing" class="anchor" href="https://github.com/sksamuel/avro4s#building-and-testing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Building and Testing</h2> 
  <p>This project is built with SBT. So to build</p> 
  <pre><code>sbt compile
</code></pre> 
  <p>And to test</p> 
  <pre><code>sbt test
</code></pre> 
  <h2><a id="user-content-contributions" class="anchor" href="https://github.com/sksamuel/avro4s#contributions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contributions</h2> 
  <p>Contributions to avro4s are always welcome. Good ways to contribute include:</p> 
  <ul> 
   <li>Raising bugs and feature requests</li> 
   <li>Fixing bugs and enhancing the DSL</li> 
   <li>Improving the performance of avro4s</li> 
   <li>Adding to the documentation</li> 
  </ul> 
  <h2><a id="user-content-license" class="anchor" href="https://github.com/sksamuel/avro4s#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <pre><code>The MIT License (MIT)

Copyright (c) 2015 Stephen Samuel

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

</code></pre> 
 </article>
</div>