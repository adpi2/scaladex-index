<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/pishen/lsh4s#lsh4s" aria-hidden="true" class="anchor" id="user-content-lsh4s" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>lsh4s</h1> 
  <p><a href="https://travis-ci.org/pishen/lsh4s" target="_blank"><img src="https://camo.githubusercontent.com/feac2ac4f5ae63353750ce5a2b8731426a929dda/68747470733a2f2f7472617669732d63692e6f72672f70697368656e2f6c736834732e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/pishen/lsh4s.svg?branch=master" style="max-width:100%;"></a></p> 
  <h2><a href="https://github.com/pishen/lsh4s#usage" aria-hidden="true" class="anchor" id="user-content-usage" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>Add the dependency</p> 
  <pre><code>libraryDependencies += "net.pishen" %% "lsh4s" % "0.6.0"
</code></pre> 
  <p>Add the resolver</p> 
  <pre><code>resolvers += Resolver.bintrayRepo("pishen", "maven")
</code></pre> 
  <p>Hash the vectors (the whole hashing process will run in memory, you may need to enlarge your JVM's heap size.)</p> 
  <pre><code>import lsh4s._

val lsh = LSH.hash("./input_vectors", numOfHashGroups = 10, bucketSize = 10000, outputPath = "mem")

val neighbors: Seq[Long] = lsh.query(itemId, maxReturnSize = 30).get.map(_.id)
</code></pre> 
  <ul> 
   <li>The format of <code>./input_vectors</code> is <code>&lt;item id&gt; &lt;vector&gt;</code> for each line, here is an example:</li> 
  </ul> 
  <pre><code>3 0.2 -1.5 0.3
5 0.4 0.01 -0.5
0 1.1 0.9 -0.1
2 1.2 0.8 0.2
</code></pre> 
  <ul> 
   <li>All the hash groups will be combined in the end to find the neighbors, larger <code>numOfHashGroups</code> will produce a more accurate model, but takes more memory when hashing.</li> 
   <li>Larger <code>bucketSize</code> will produce a more accurate model as well, but takes more time when finding neighbors.</li> 
   <li><code>outputPath = "mem"</code> is for memory mode, otherwise it will be the output file for LSH model (we recommend pointing this file to an empty directory, since we will create and delete several intermediate files around it.)</li> 
  </ul> 
  <p>lsh4s uses slf4j, remember to add your own backend to see the log. For example, to print the log on screen, add</p> 
  <pre><code>libraryDependencies += "org.slf4j" % "slf4j-simple" % "1.7.14"
</code></pre> 
 </article>
</div>