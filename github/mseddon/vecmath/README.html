<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/mseddon/vecmath#vecmath" aria-hidden="true" class="anchor" id="user-content-vecmath" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>vecmath</h1> 
  <p>A simple vector maths library for graphics programming.</p> 
  <h2><a href="https://github.com/mseddon/vecmath#quickstart" aria-hidden="true" class="anchor" id="user-content-quickstart" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Quickstart</h2> 
  <p>Add the following to your build.sbt:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.scryetek<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>vecmath<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.3.1<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Or if you're using ScalaJS</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.scryetek<span class="pl-pds">"</span></span> <span class="pl-k">%%%</span> <span class="pl-s"><span class="pl-pds">"</span>vecmath<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.3.1<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Proper documentation to follow shortly</p> 
  <h3><a href="https://github.com/mseddon/vecmath#scope" aria-hidden="true" class="anchor" id="user-content-scope" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scope</h3> 
  <p>Currently, <code>vecmath</code> supports common operations on the following classes of matrices of Floats:</p> 
  <ul> 
   <li>4x4 matrix (<code>Mat4</code>)</li> 
   <li>3x3 matrix (<code>Mat3</code>)</li> 
   <li>2x2 matrix (<code>Mat2</code>)</li> 
   <li>2x3 matrix (<code>Mat2d</code>) - a 3x3 matrix with a fixed bottom row of <code>0 0 1</code></li> 
  </ul> 
  <p>The following vector sizes are supported</p> 
  <p><code>Vec4</code>, <code>Vec3</code>, <code>Vec2</code></p> 
  <p>And of course, no graphics library would be complete without Quaternions, in the <code>Quat</code> package.</p> 
  <p>Matrices are stored in <em>column major</em> order- that is, how you would write them. Angles are always assumed to be given in radians. A 4x4 matrix (<code>Mat4</code>) has the following positions:</p> 
  <pre><code>m00 m01 m02 m03
m10 m11 m12 m13
m20 m21 m22 m23
m30 m31 m32 m33
</code></pre> 
  <p>Quaternions are defined with imaginary components <code>x</code>, <code>y</code>, <code>z</code>, and real component <code>w</code>, in that order.</p> 
  <p>Every class supports a <code>.copy()</code> method, which works like a case class copy method (but these classes are not case classes, since they contain mutable members).</p> 
  <p>Every class also supports an analogous <code>.set()</code> command, with two variants. The first variant has the same signature as <code>.copy()</code>, and destructively re-assigns fields, and the second takes a single parameter of the same type, and sets the object to an exact copy of the parameter.</p> 
  <h2><a href="https://github.com/mseddon/vecmath#mutable-vs-immutable-usage" aria-hidden="true" class="anchor" id="user-content-mutable-vs-immutable-usage" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Mutable vs Immutable usage.</h2> 
  <p>There are usually two ways of doing things (particularly for common operations) with the vecmath library. You can use the pleasant to use and read operator way, which I'd recommend you stick with until it's too slow:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">v</span> <span class="pl-k">=</span> <span class="pl-en">Vec2</span>(<span class="pl-c1">1</span>,<span class="pl-c1">2</span>) <span class="pl-k">+</span> <span class="pl-en">Vec2</span>(<span class="pl-c1">3</span>,<span class="pl-c1">4</span>) <span class="pl-k">*</span> <span class="pl-c1">5</span></pre>
  </div> 
  <p>Or you can use the hairier but potentially far more efficient mutable way:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">v2</span> <span class="pl-k">=</span> <span class="pl-en">Vec2</span>(<span class="pl-c1">1</span>,<span class="pl-c1">2</span>)
v2.add(<span class="pl-en">Vec2</span>(<span class="pl-c1">3</span>,<span class="pl-c1">4</span>)) <span class="pl-c"><span class="pl-c">//</span> or even v2.add(3,4)</span>
<span class="pl-c"><span class="pl-c">//</span> v2 is now Vec(4,6)</span></pre>
  </div> 
  <p>Most mutating methods take an optional 'out' parameter, which stores the result in another object entirely.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">v2</span> <span class="pl-k">=</span> <span class="pl-en">Vec2</span>(<span class="pl-c1">1</span>,<span class="pl-c1">2</span>)
<span class="pl-k">val</span> <span class="pl-en">out</span> <span class="pl-k">=</span> <span class="pl-en">Vec2</span>()
v2.add(<span class="pl-en">Vec2</span>(<span class="pl-c1">3</span>,<span class="pl-c1">4</span>), out) <span class="pl-c"><span class="pl-c">//</span> or v2.add(3,4, out)</span>
<span class="pl-c"><span class="pl-c">//</span> out is now Vec(4,6), but v2 is unchanged</span></pre>
  </div> 
  <p>Nearly all methods are marked <code>@inline</code>, but since neither <code>scalac</code> nor <code>proguard</code> dare inline constructors, we sadly can't expect to get purely stack allocated code like you might in C++. However- inlining using the mutable methods does work, if you care to compile with <code>-optimise</code>.</p> 
  <h4><a href="https://github.com/mseddon/vecmath#common-sense-alert" aria-hidden="true" class="anchor" id="user-content-common-sense-alert" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Common Sense Alert</h4> 
  <p>You must look after what is mutable and what is not yourself, don't go mutating other people's Vec2's, and for heaven's sake don't place vectors as keys in hashtables and then mutate them unless you like losing them forever. For less pain, create a defensive copy of the object you want to mangle using the <code>.copy()</code> method.</p> 
  <h3><a href="https://github.com/mseddon/vecmath#matrix-operations" aria-hidden="true" class="anchor" id="user-content-matrix-operations" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Matrix Operations</h3> 
  <p>Assume we have <code>Mat4</code> matrices, M1 and M2. We can say:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-en">M3</span> <span class="pl-k">=</span> <span class="pl-en">M1</span> <span class="pl-k">*</span> <span class="pl-en">M2</span></pre>
  </div> 
  <p>This is equivalent to:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-en">M1</span>.postMultiply(<span class="pl-en">M2</span>, <span class="pl-en">M3</span>)</pre>
  </div> 
  <p>The opposite direction is also supported:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-en">M3</span> <span class="pl-k">=</span> <span class="pl-en">M2</span> <span class="pl-k">*</span> <span class="pl-en">M1</span></pre>
  </div> 
  <p>Is the same as:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-en">M1</span>.preMultiply(<span class="pl-en">M2</span>, <span class="pl-en">M3</span>)</pre>
  </div> 
  <p>Note sometimes we have verb and adjective variations of the same method.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-en">M1</span>.invert(<span class="pl-en">M2</span>)</pre>
  </div> 
  <p>The verb form is mutating, while the adjective creates a copy:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-en">M2</span> <span class="pl-k">=</span> <span class="pl-en">M1</span>.inverted</pre>
  </div> 
  <h2><a href="https://github.com/mseddon/vecmath#documentation" aria-hidden="true" class="anchor" id="user-content-documentation" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Documentation</h2> 
  <p>See the <a href="http://mseddon.github.io/vecmath/api/#scryetek.vecmath.package" target="_blank">ScalaDoc</a></p> 
  <h3><a href="https://github.com/mseddon/vecmath#test-coveragecorrectness" aria-hidden="true" class="anchor" id="user-content-test-coveragecorrectness" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Test coverage/correctness</h3> 
  <p>The methods employed in this library are verified using Mathematica 10, (primarily to quickly ensure implementations conform to the same conventions etc, since there is some variation) and nearly every method is property tested using the excellent <a href="https://www.scalacheck.org/" target="_blank">Scalacheck</a> based on the derived laws, and standard definitions.</p> 
  <p>Speed is always considered over precision, and numerically this library is not overly stable.</p> 
  <p>Occasionally we get unlucky and numerically a test fails once in a while. This is not considered a huge loss unless the error is way above expectations. Each property is tested 5000 times, though the generators could probably be made more evil, particularly with respect to triggering singularities.</p> 
  <h3><a href="https://github.com/mseddon/vecmath#future-plans" aria-hidden="true" class="anchor" id="user-content-future-plans" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Future Plans</h3> 
  <p>Currently, this library is simply a 'vector math library', whatever that means. It includes enough linear algebra to get things done conveniently with WebGL for example. In future I will extend it to support raytracing primitives, spatial partitioning and probably things like triangulation. At which point, maybe 'vecmath' will be a fairly bad name.</p> 
  <p>Such is life.</p> 
  <h3><a href="https://github.com/mseddon/vecmath#acknowledgements" aria-hidden="true" class="anchor" id="user-content-acknowledgements" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Acknowledgements</h3> 
  <p>This library contains implementations based on the excellent <a href="http://www.euclideanspace.com/" target="_blank">Euclidean Space</a> site, and probably more things from the <a href="http://www.graphicsgems.org" target="_blank">Graphics Gems</a> series than I realise.</p> 
 </article>
</div>