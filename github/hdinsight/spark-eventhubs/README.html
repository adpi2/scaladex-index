<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-spark-eventhubs-" class="anchor" href="https://github.com/hdinsight/spark-eventhubs#spark-eventhubs-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>spark-eventhubs <a href="https://travis-ci.org/hdinsight/spark-eventhubs" target="_blank"><img src="https://camo.githubusercontent.com/5327ee3c98354d1f9d1372f9d13103d43e81d2bb/68747470733a2f2f7472617669732d63692e6f72672f6864696e73696768742f737061726b2d6576656e74687562732e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/hdinsight/spark-eventhubs.svg?branch=master" style="max-width:100%;"></a></h1> 
  <p>This is the source code of EventHubsReceiver for Spark Streaming.</p> 
  <p><a href="https://github.com/hdinsight/spark-eventhubs/tree/master/examples" target="_blank">Here</a> is the examples that use this library to process streaming data from Azure Eventhubs.</p> 
  <p>For latest integration of EventHubs and Spark Streaming, the document can be found <a href="https://github.com/hdinsight/spark-eventhubs/blob/master/docs/direct_stream.md" target="_blank">here</a>.</p> 
  <h2><a id="user-content-latest-release-205-16x" class="anchor" href="https://github.com/hdinsight/spark-eventhubs#latest-release-205-16x" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Latest Release: 2.0.5, 1.6.x</h2> 
  <p><a href="https://github.com/hdinsight/spark-eventhubs/blob/master/docs/change_log.md" target="_blank">Change Log</a></p> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/hdinsight/spark-eventhubs#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <h3><a id="user-content-getting-officially-released-version" class="anchor" href="https://github.com/hdinsight/spark-eventhubs#getting-officially-released-version" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting Officially Released Version</h3> 
  <p>We will have the official release in the maven central repo, you can add the following dependency to your project to reference Spark-EventHubs</p> 
  <h4><a id="user-content-maven-dependency" class="anchor" href="https://github.com/hdinsight/spark-eventhubs#maven-dependency" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Maven Dependency</h4> 
  <pre><code>&lt;!-- https://mvnrepository.com/artifact/com.microsoft.azure/spark-streaming-eventhubs_[2.10 for spark 1.6 or 2.11 for spark 2.x] --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;
    &lt;artifactId&gt;spark-streaming-eventhubs_[2.10 for spark 1.6 or 2.11 for spark 2.x]&lt;/artifactId&gt;
    &lt;version&gt;[change it to latest version]&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
  <h4><a id="user-content-sbt-dependency" class="anchor" href="https://github.com/hdinsight/spark-eventhubs#sbt-dependency" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SBT Dependency</h4> 
  <pre><code>// https://mvnrepository.com/artifact/com.microsoft.azure/spark-streaming-eventhubs_2.11
libraryDependencies += "com.microsoft.azure" % "spark-streaming-eventhubs_[2.10 for spark 1.6 or 2.11 for spark 2.x]" % "[change it to latest version]"
</code></pre> 
  <h4><a id="user-content-maven-central-for-other-dependency-co-ordinates" class="anchor" href="https://github.com/hdinsight/spark-eventhubs#maven-central-for-other-dependency-co-ordinates" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Maven Central for other dependency co-ordinates</h4> 
  <p><a href="https://mvnrepository.com/artifact/com.microsoft.azure/spark-streaming-eventhubs_%5B2.10" target="_blank">https://mvnrepository.com/artifact/com.microsoft.azure/spark-streaming-eventhubs_[2.10</a> for spark 1.6 or 2.11 for spark 2.x]/[change it to latest version]</p> 
  <h3><a id="user-content-getting-staging-version" class="anchor" href="https://github.com/hdinsight/spark-eventhubs#getting-staging-version" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting Staging Version</h3> 
  <p>We will also publish the staging version of Spark-EventHubs in GitHub. To use the staging version of Spark-EventHubs, the first step is to indicate GitHub as the source repo by adding the following entry to pom.xml:</p> 
  <div class="highlight highlight-text-xml">
   <pre>&lt;<span class="pl-ent">repository</span>&gt;
      &lt;<span class="pl-ent">id</span>&gt;spark-eventhubs&lt;/<span class="pl-ent">id</span>&gt;
      &lt;<span class="pl-ent">url</span>&gt;https://raw.github.com/hdinsight/spark-eventhubs/maven-repo/&lt;/<span class="pl-ent">url</span>&gt;
      &lt;<span class="pl-ent">snapshots</span>&gt;
        &lt;<span class="pl-ent">enabled</span>&gt;true&lt;/<span class="pl-ent">enabled</span>&gt;
        &lt;<span class="pl-ent">updatePolicy</span>&gt;always&lt;/<span class="pl-ent">updatePolicy</span>&gt;
      &lt;/<span class="pl-ent">snapshots</span>&gt;
&lt;/<span class="pl-ent">repository</span>&gt;</pre>
  </div> 
  <p>You can then add the following dependency to your project to take the pre-released version.</p> 
  <h4><a id="user-content-maven-dependency-1" class="anchor" href="https://github.com/hdinsight/spark-eventhubs#maven-dependency-1" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Maven Dependency</h4> 
  <pre><code>&lt;!-- https://mvnrepository.com/artifact/com.microsoft.azure/spark-streaming-eventhubs_2.11 --&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;
    &lt;artifactId&gt;spark-streaming-eventhubs_[2.10 for spark 1.6 or 2.11 for spark 2.x]&lt;/artifactId&gt;
    &lt;version&gt;2.1.0-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
  <h4><a id="user-content-sbt-dependency-1" class="anchor" href="https://github.com/hdinsight/spark-eventhubs#sbt-dependency-1" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SBT Dependency</h4> 
  <pre><code>// https://mvnrepository.com/artifact/com.microsoft.azure/spark-streaming-eventhubs_2.11
libraryDependencies += "com.microsoft.azure" % "spark-streaming-eventhubs_2.11" % "2.1.0-SNAPSHOT"
</code></pre> 
  <h2><a id="user-content-build-prerequisites" class="anchor" href="https://github.com/hdinsight/spark-eventhubs#build-prerequisites" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Build Prerequisites</h2> 
  <p>In order to build and run the examples, you need to have:</p> 
  <ol> 
   <li>Java 1.8 SDK.</li> 
   <li>Maven 3.x</li> 
   <li>Scala 2.11</li> 
  </ol> 
  <h2><a id="user-content-build-command" class="anchor" href="https://github.com/hdinsight/spark-eventhubs#build-command" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Build Command</h2> 
  <pre><code>mvn clean
mvn package
</code></pre> 
  <p>This command builds and installs EventHubsReceiver jar to local maven cache. Subsequently you can build any Spark Streaming application that references this jar.</p> 
  <h2><a id="user-content-integrate-spark-streaming-and-eventhubs-with-direct-dstream" class="anchor" href="https://github.com/hdinsight/spark-eventhubs#integrate-spark-streaming-and-eventhubs-with-direct-dstream" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Integrate Spark Streaming and EventHubs with Direct DStream</h2> 
  <p>In the latest version of Spark-EventHubs, we provide a brand-new approach to integrate Spark Streaming and EventHubs. Being different with the previous approach (Receiver-based), we directly fetch events from EventHubs in distributed Spark tasks which execute the user-defined functions instead of starting a dedicated Spark job to start receiver threads. We call this new approach <code>Direct DStream</code> as it is inspired by <a href="https://github.com/apache/spark/tree/master/external/kafka-0-10" target="_blank">the community effort on integrating Spark Streaming and Kafka</a>.</p> 
  <h3><a id="user-content-overview-of-direct-dstream" class="anchor" href="https://github.com/hdinsight/spark-eventhubs#overview-of-direct-dstream" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Overview of Direct DStream</h3> 
  <p>The following figure shows the architecture of workflow of Direct-DStream-based Integration of Spark Streaming and EventHubs. <a href="https://github.com/hdinsight/spark-eventhubs/blob/master/docs/imgs/workflow_directstream.png" target="_blank"><img src="https://github.com/hdinsight/spark-eventhubs/raw/master/docs/imgs/workflow_directstream.png" alt="Image of Workflow" style="max-width:100%;"></a>.</p> 
  <p>EventHubDirectDStream is a new type of input stream, which is one-one mapping with a EventHubs namespace and the partitions of the RDD generated in EventHubDirectDStream is one-one mapping to the EventHub partition.</p> 
  <p>For example, if the user has two namespaces of EventHubs, say <code>"namespace1"</code> and <code>"namespace2"</code>, each of which contains 2 EventHub instances, "eh1" and "eh2". Both of "eh1" and "eh2" contains 32 partitions. In this scenario, the user will create two EventHubDirectDStream instances with the APIs we will introduce later. The RDDs generated within these EventHubDirectStream will contain 64 partitions each of which maps to partition 0 - 31 of "eh1" and "eh2".</p> 
  <p>We also provide a progress tracking store component in our implementation. Progress Tracking Store tracks the highest offset processed in each EventHub partition. With this component, users can start from the last saved offset even they update the application code, which is not able to be achieved with the normal Spark checkpoints.</p> 
  <h3><a id="user-content-how-we-use-it" class="anchor" href="https://github.com/hdinsight/spark-eventhubs#how-we-use-it" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>How We Use It</h3> 
  <p>The new API is simple to use. In the following code snippet, we create a EventHubDirectDStream.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">inputDirectStream</span> <span class="pl-k">=</span> <span class="pl-en">EventHubsUtils</span>.createDirectStreams(ssc, <span class="pl-s"><span class="pl-pds">"</span>namespace1<span class="pl-pds">"</span></span>,
      progressDir, <span class="pl-en">Map</span>(eventHubName <span class="pl-k">-</span><span class="pl-k">&gt;</span> eventhubParameters))</pre>
  </div> 
  <p><code>ssc</code> is an created StreamingContext object; <code>"namespace1"</code> is the namespace of the EventHub you would like to handle with this EventHubDirectDStream; <code>progressDir</code> specifies the progress file directory this EventHubDirectDStream works with, and a new directory with the same name as your application will be created under the specified path. The last parameter is a Map from <code>EventHubName</code> to <code>Configuration Entries</code>, where <code>Configuration Entries</code> is also a map. We support the following configuration entries:</p> 
  <ul> 
   <li>"eventhubs.policyname"</li> 
   <li>"eventhubs.policykey"</li> 
   <li>"eventhubs.namespace"</li> 
   <li>"eventhubs.name"</li> 
   <li>"eventhubs.partition.count"</li> 
   <li>"eventhubs.consumergroup"</li> 
   <li>"eventhubs.maxRate"</li> 
  </ul> 
  <p>While the names of the configuration entries are self-explainable, we would highlight the additional <code>eventhubs.maxRate</code>. This parameter regulates the maximum number of messages being processed in a single batch for every EventHub partition and it effectively prevent the job being hold due to the large number of messages being fetched at once.</p> 
  <p>After getting a EventHubDirectDStream instance, you can apply whatever operation which are available to a ordinary DStream instance with it. We have several examples applications in our <a href="https://github.com/hdinsight/spark-streaming-data-persistence-examples" target="_blank">example code base</a></p> 
  <h3><a id="user-content-future-directions" class="anchor" href="https://github.com/hdinsight/spark-eventhubs#future-directions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Future Directions</h3> 
  <p>We will continuously improve the stability and performance of EventHub integration. Some of the improvements are as following:</p> 
  <ul> 
   <li>We will work with EventHub teams to develop the more performant progress tracking approach with the coordination from EventHub server side.</li> 
   <li>We will deliver implementation of design patterns like Lambda/Kappa/Liquid, etc, based on Spark Streaming and EventHub</li> 
   <li>We will include the integration with Structured Streaming in the next release</li> 
  </ul> 
 </article>
</div>