<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/eltimn/lift-mongoauth#mongoauth-lift-module" aria-hidden="true" class="anchor" id="user-content-mongoauth-lift-module" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>MongoAuth Lift Module</h1> 
  <p><a href="https://travis-ci.org/eltimn/lift-mongoauth" target="_blank"><img src="https://camo.githubusercontent.com/f581d5aed92af94bad26fab529fab8d3d23a3ef8/68747470733a2f2f7472617669732d63692e6f72672f656c74696d6e2f6c6966742d6d6f6e676f617574682e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/eltimn/lift-mongoauth.svg?branch=master" style="max-width:100%;"></a></p> 
  <p>Authentication and Authorization module for Lift-MongoDB-Record.</p> 
  <h1><a href="https://github.com/eltimn/lift-mongoauth#installation" aria-hidden="true" class="anchor" id="user-content-installation" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Installation</h1> 
  <p>Releases uses the Lift "edition" in the name. For example, if you use any of 2.5-SNAPSHOT, 2.5-RC4, or 2.5 the Lift edition is 2.5.</p> 
  <p><strong>Note:</strong> some of the versions published had a '-' in the edition instead of a '.'. I.e <em>mongoauth_2-5</em> instead of <em>mongoauth_2.3</em>.</p> 
  <p>To include this module in your Lift project change <code>build.sbt</code> to include:</p> 
  <pre><code>libraryDependencies += "net.liftmodules" %% "mongoauth_3.1" % "1.3.0"
</code></pre> 
  <h2><a href="https://github.com/eltimn/lift-mongoauth#previous-releases" aria-hidden="true" class="anchor" id="user-content-previous-releases" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Previous releases</h2> 
  <table> 
   <thead> 
    <tr> 
     <th>Lift Version</th> 
     <th>Scala Version</th> 
     <th>Module Version</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td>3.1</td> 
     <td>2.12, 2.11</td> 
     <td>1.3.0</td> 
    </tr> 
    <tr> 
     <td>3.0</td> 
     <td>2.12, 2.11</td> 
     <td>1.2</td> 
    </tr> 
    <tr> 
     <td>2.6</td> 
     <td>2.10, 2.9</td> 
     <td>0.7</td> 
    </tr> 
    <tr> 
     <td>2.5</td> 
     <td>2.10, 2.9</td> 
     <td>0.5</td> 
    </tr>
   </tbody>
  </table> 
  <h1><a href="https://github.com/eltimn/lift-mongoauth#configuration" aria-hidden="true" class="anchor" id="user-content-configuration" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Configuration</h1> 
  <p>You must set the <strong>MongoAuth.authUserMeta</strong> object that you will be using (see below). Most likely in boot:</p> 
  <pre><code>// init mongoauth
MongoAuth.authUserMeta.default.set(User)
MongoAuth.indexUrl.default.set(Sitemap.home.path)
</code></pre> 
  <p>See <em>MongoAuth</em> for other settings that can be overriden.</p> 
  <p>You will also probably want to add the logout and login-token menus.</p> 
  <pre><code>LiftRules.setSiteMap(SiteMap(List(
  Locs.buildLogoutMenu,
  Locs.buildLoginTokenMenu
) :_*))
</code></pre> 
  <h1><a href="https://github.com/eltimn/lift-mongoauth#creating-a-user-data-model" aria-hidden="true" class="anchor" id="user-content-creating-a-user-data-model" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Creating a User Data Model</h1> 
  <p>This module provides several traits for constructing user model classes, which include roles and permissions.</p> 
  <p>There are several ways you can utilize this module:</p> 
  <h2><a href="https://github.com/eltimn/lift-mongoauth#simpleuser" aria-hidden="true" class="anchor" id="user-content-simpleuser" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SimpleUser</h2> 
  <p><em>model.SimpleUser</em> is a fully implemented user model, but is not extensible in any way. This is only useful for testing and demos. This shows what is necessary to create a user from <em>ProtoAuthUser</em>.</p> 
  <h2><a href="https://github.com/eltimn/lift-mongoauth#protoauthuser" aria-hidden="true" class="anchor" id="user-content-protoauthuser" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>ProtoAuthUser</h2> 
  <p><em>ProtoAuthUser</em> and <em>ProtoAuthUserMeta</em> are a pair of traits that can be used to build a user model class and meta object. <em>ProtoAuthUser</em> has some standard fields. You can add fields to it, but you can't modify the ones provided. This is a good place to start. If you find you need to modify the provided fields, you can copy and paste them into your user class and use <em>MongoAuthUser</em>.</p> 
  <h2><a href="https://github.com/eltimn/lift-mongoauth#mongoauthuser" aria-hidden="true" class="anchor" id="user-content-mongoauthuser" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>MongoAuthUser</h2> 
  <p><em>MongoAuthUser</em> is a trait for defining a MongoRecord of <em>AuthUser</em> (provides authorization functionality). This can be used to build a user class from scratch. It only requires id and email fields.</p> 
  <h2><a href="https://github.com/eltimn/lift-mongoauth#protoauthusermeta" aria-hidden="true" class="anchor" id="user-content-protoauthusermeta" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>ProtoAuthUserMeta</h2> 
  <p><em>ProtoAuthUserMeta</em> is a combination of <em>AuthUserMeta</em> and <em>UserLifeCycle</em> traits. These provide authorization functionality and login/logout functionality for MongoMetaRecord objects. No matter which version you use for the MongoRecord user class, you can use this trait to define your MongoMetaRecord, if it provides sufficient functionality.</p> 
  <p>"Remember Me" functionality is provided by <em>ExtSession</em>.</p> 
  <p><em>LoginToken</em> provides a way for users that forgot their password to log in and change it. Users are sent a link with a token (an ObjectId) on the url. When they click on it they can be handled appropriately. The implementation is left up to you.</p> 
  <h1><a href="https://github.com/eltimn/lift-mongoauth#roles-and-permissions" aria-hidden="true" class="anchor" id="user-content-roles-and-permissions" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Roles and Permissions</h1> 
  <p>Permissions are defined using a simple case class. They have three parts; domain, actions, entities. This was heavily influenced by <a href="http://shiro.apache.org/" target="_blank">Apache Shiro's</a> WildcardPermission. Please see the <a href="http://shiro.apache.org/static/current/apidocs/org/apache/shiro/authz/permission/WildcardPermission.html" target="_blank">JavaDoc for WildcardPermission</a> for detailed information.</p> 
  <p>See <a href="https://github.com/eltimn/lift-mongoauth/blob/master/src/test/scala/net.liftmodules/mongoauth/PermissionSpec.scala" target="_blank">PermissionSpec</a> for examples.</p> 
  <p>PermissionListField provides a way to store permissions for a user. It stores them as a list of strings.</p> 
  <p>Example:</p> 
  <pre><code>user.permissions(List(Permission("printer", "print"), Permission("user", "edit", "123")))

assert(User.hasPermission(Permission("printer", "manage")) == false)
</code></pre> 
  <p>Role is a MongoRecord that provides a way to group a set of permissions. A user's full set of permissions is calculated using the permissions from any roles assigned to them and the individual permissions assigned to them. There are also LocParams as well as the User-Meta-Singleton that can be used to check for roles.</p> 
  <p>Example:</p> 
  <pre><code>val superuser = Role.createRecord.id("superuser").permissions(List(Permission.all)).save

user.roles(List("superuser"))

assert(User.hasRole("superuser")) == true)
assert(User.lacksRole("superuser")) == false)
assert(User.lacksRole("admin")) == true)
</code></pre> 
  <h1><a href="https://github.com/eltimn/lift-mongoauth#sitemap-locparams" aria-hidden="true" class="anchor" id="user-content-sitemap-locparams" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SiteMap LocParams</h1> 
  <p>The <em>Locs</em> trait and companion object provide some useful <em>LocParams</em> that use can use when defing your <em>SiteMap</em>.</p> 
  <p>This code was inspired by the <a href="https://github.com/timperrett/lift-shiro" target="_blank">lift-shiro</a> module.</p> 
  <p>Examples:</p> 
  <pre><code>Meun.i("Settings") / "settings" &gt;&gt; RequireLoggedIn
Meun.i("Password") / "password" &gt;&gt; RequireAuthentication
Meun.i("Admin") / "admin" &gt;&gt; HasRole("admin")
Meun.i("EditEntitiy") / "admin" / "entity" &gt;&gt; HasPermission(Permission("entity", "edit"))
</code></pre> 
  <p>"Authenticated" means the user logged in by supplying their password. "Logged In" means the user was logged in by either an ExtSession or LoginToken, or they are Authenticated.</p> 
  <h1><a href="https://github.com/eltimn/lift-mongoauth#localization" aria-hidden="true" class="anchor" id="user-content-localization" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Localization</h1> 
  <p>A default localization is provided and can be found <a href="https://github.com/jonoabroad/lift-mongoauth/tree/master/src/main/resources/toserve/mongoauth.resources.html" target="_blank">here</a>. If you require another language or would prefer different text, copy the default and subtitute your values. See the <a href="https://www.assembla.com/spaces/liftweb/wiki/Localization" target="_blank">Localization</a> page on the Liftweb wiki for more information.</p> 
  <h1><a href="https://github.com/eltimn/lift-mongoauth#example-implementation" aria-hidden="true" class="anchor" id="user-content-example-implementation" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Example Implementation</h1> 
  <p>The <a href="https://github.com/eltimn/lift-mongo.g8" target="_blank">lift-mongo</a> giter8 template provides a fully functioning implementation of a basic user system.</p> 
  <h1><a href="https://github.com/eltimn/lift-mongoauth#license" aria-hidden="true" class="anchor" id="user-content-license" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h1> 
  <p>Apache v2.0. See LICENSE.txt</p> 
 </article>
</div>