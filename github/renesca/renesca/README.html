<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-renesca" class="anchor" href="https://github.com/renesca/renesca#renesca" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>renesca</h1> 
  <p><a href="https://travis-ci.org/renesca/renesca" target="_blank"><img src="https://camo.githubusercontent.com/231eb3efd9d280f43cc6227a7732ea3a68b600cf/68747470733a2f2f7472617669732d63692e6f72672f72656e657363612f72656e657363612e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/renesca/renesca.svg?branch=master" style="max-width:100%;"></a> <a href="https://coveralls.io/r/renesca/renesca?branch=master" target="_blank"><img src="https://camo.githubusercontent.com/a19dabfd9564c771e5607339a0c7a63b80eca07c/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f72656e657363612f72656e657363612f62616467652e7376673f6272616e63683d6d6173746572" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/renesca/renesca/badge.svg?branch=master" style="max-width:100%;"></a></p> 
  <p>Query and modify subgraphs from a Neo4j REST database with Scala.</p> 
  <p>Also have a look at <a href="https://github.com/renesca/renesca-magic" target="_blank">renesca-magic</a>, which generates code for typesafe graph database schemas based on renesca.</p> 
  <h2><a id="user-content-academic-article" class="anchor" href="https://github.com/renesca/renesca#academic-article" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Academic Article</h2> 
  <p>There is also an academic article about renesca and renesca-magic: <a href="https://link.springer.com/chapter/10.1007/978-3-319-45507-5_14" target="_blank">An Open-Source Object-Graph-Mapping Framework for Neo4j and Scala: Renesca</a>. Feel free to use these libraries in any of your projects. If you use them in an academic setting, we appreciate if you cite this article.</p> 
  <blockquote> 
   <p>Dietze, F., Karoff, J., Calero Valdez, A. , Ziefle, M., Greven, C., &amp; Schroeder, U. (2016, August). An Open-Source Object-Graph-Mapping Framework for Neo4j and Scala: Renesca. <em>In International Conference on Availability, Reliability, and Security</em> (pp. 204-218). Springer International Publishing.</p> 
  </blockquote> 
  <h2><a id="user-content-concepts" class="anchor" href="https://github.com/renesca/renesca#concepts" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Concepts</h2> 
  <h3><a id="user-content-work-with-graphs-instead-of-lists" class="anchor" href="https://github.com/renesca/renesca#work-with-graphs-instead-of-lists" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Work with graphs instead of lists</h3> 
  <p>Earlier we tried to interact with graph databases as if they were relational databases. This meant working with lists of query results. As Neo4J gives us full blown graphs as query results, we now take the whole thing and provide a graph to interact with. In the rare cases where the query result is not a graph, it can also be interpreted as a table.</p> 
  <h3><a id="user-content-track-changes-persist-later" class="anchor" href="https://github.com/renesca/renesca#track-changes-persist-later" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Track changes, persist later</h3> 
  <p>When modifying, creating and deleting nodes and connecting them with relationships it would be very expensive to submit a REST request for each change. In renesca we track changes and apply all of them at once when persisting the whole graph. This takes fewer REST requests and leaves room for optimization.</p> 
  <h3><a id="user-content-no-lazy-loading" class="anchor" href="https://github.com/renesca/renesca#no-lazy-loading" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>No lazy loading</h3> 
  <p>There is no further database traversing from a subgraph because there is no need to do so. When working with subgraphs retrieved from a query, you know which data you need in the future and can fetch that with the query before traversing. This approach saves a lot of unnecessary requests.</p> 
  <h2><a id="user-content-feature-summary" class="anchor" href="https://github.com/renesca/renesca#feature-summary" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Feature summary</h2> 
  <ul> 
   <li>Interpret query results as graphs or tables</li> 
   <li>Modify result graphs and persist the changes back to the database</li> 
   <li>Do everything with transactions</li> 
  </ul> 
  <h2><a id="user-content-installation" class="anchor" href="https://github.com/renesca/renesca#installation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Installation</h2> 
  <p>To use renesca in your sbt project, add this dependency to your <code>build.sbt</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.github.renesca<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>renesca<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.3.2-9<span class="pl-pds">"</span></span></pre>
  </div> 
  <h2><a id="user-content-feedback" class="anchor" href="https://github.com/renesca/renesca#feedback" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Feedback</h2> 
  <p>Please don't hesitate to create issues about anything. Ideas, questions, bugs, feature requests, criticism, missing documentation, confusing examples, ... . Are you stuck with renesca or renesca-magic for some time? Is there something in this README that is unclear? Anything else? This means something does not work as intended or the API is not intuitive. Contact us and let's fix this together.</p> 
  <h2><a id="user-content-usage-example" class="anchor" href="https://github.com/renesca/renesca#usage-example" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage Example</h2> 
  <p>This example is also available as a sbt project: <a href="https://github.com/renesca/renesca-example" target="_blank">renesca/renesca-example</a></p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">package</span> <span class="pl-en">renesca.example</span>

<span class="pl-k">import</span> <span class="pl-v">renesca.graph.</span>{<span class="pl-v">Node</span>, <span class="pl-v">Relation</span>}
<span class="pl-k">import</span> <span class="pl-v">renesca.parameter.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">renesca.parameter.implicits.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">renesca.</span>{<span class="pl-v">DbService</span>, <span class="pl-v">RestService</span>, <span class="pl-v">Transaction</span>, <span class="pl-v">Query</span>}
<span class="pl-k">import</span> <span class="pl-v">spray.http.</span><span class="pl-v">BasicHttpCredentials</span>

<span class="pl-k">object</span> <span class="pl-en">Main</span> <span class="pl-k">extends</span> <span class="pl-e">App</span> {
  <span class="pl-c"><span class="pl-c">//</span> set up database connection</span>
  <span class="pl-k">val</span> <span class="pl-en">credentials</span> <span class="pl-k">=</span> <span class="pl-en">BasicHttpCredentials</span>(<span class="pl-s"><span class="pl-pds">"</span>neo4j<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>neo4j<span class="pl-pds">"</span></span>)
  <span class="pl-c"><span class="pl-c">//</span> RestService contains an ActorSystem to handle HTTP communication via spray-client</span>
  <span class="pl-k">val</span> <span class="pl-en">restService</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">RestService</span>(<span class="pl-s"><span class="pl-pds">"</span>http://localhost:7474<span class="pl-pds">"</span></span>, <span class="pl-en">Some</span>(credentials))

  <span class="pl-c"><span class="pl-c">//</span> query interface for submitting single requests</span>
  <span class="pl-k">val</span> <span class="pl-en">db</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">DbService</span>
  <span class="pl-c"><span class="pl-c">//</span> dependency injection</span>
  db.restService <span class="pl-k">=</span> restService


  <span class="pl-c"><span class="pl-c">//</span> only proceed if database is available and empty</span>
  <span class="pl-k">val</span> <span class="pl-en">wholeGraph</span> <span class="pl-k">=</span> db.queryWholeGraph
  <span class="pl-k">if</span>(wholeGraph.nonEmpty) {
    restService.actorSystem.shutdown()
    sys.error(<span class="pl-s"><span class="pl-pds">"</span>Database is not empty.<span class="pl-pds">"</span></span>)
  }


  <span class="pl-c"><span class="pl-c">//</span> create example graph:  snake -eats-&gt; dog</span>
  db.query(<span class="pl-s"><span class="pl-pds">"</span>CREATE (:ANIMAL {name:'snake'})-[:EATS]-&gt;(:ANIMAL {name:'dog'})<span class="pl-pds">"</span></span>)

  <span class="pl-k">val</span> <span class="pl-en">tx</span> <span class="pl-k">=</span> db.newTransaction

  <span class="pl-c"><span class="pl-c">//</span> query a subgraph from the database</span>
  <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">graph</span> <span class="pl-k">=</span> tx.queryGraph(<span class="pl-s"><span class="pl-pds">"</span>MATCH (n:ANIMAL)-[r]-&gt;() RETURN n,r<span class="pl-pds">"</span></span>)

  <span class="pl-c"><span class="pl-c">//</span> access the graph like scala collections</span>
  <span class="pl-k">val</span> <span class="pl-en">snake</span> <span class="pl-k">=</span> graph.nodes.find(_.properties(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>).
    <span class="pl-c1">asInstanceOf</span>[<span class="pl-en">StringPropertyValue</span>] <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>snake<span class="pl-pds">"</span></span>).get

  <span class="pl-c"><span class="pl-c">//</span> useful methods to access the graph (requires implicit val graph in scope)</span>
  <span class="pl-c"><span class="pl-c">//</span> e.g.: neighbours,  successors,  predecessors,  inDegree,  outDegree,  degree, ...</span>
  <span class="pl-k">val</span> <span class="pl-en">name</span> <span class="pl-k">=</span> snake.neighbours.head.properties(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>).
    <span class="pl-c1">asInstanceOf</span>[<span class="pl-en">StringPropertyValue</span>].value
  println(<span class="pl-s"><span class="pl-pds">"</span>Name of one snake neighbour: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> name) <span class="pl-c"><span class="pl-c">//</span> prints "dog"</span>

  <span class="pl-c"><span class="pl-c">//</span> changes to the graph are tracked</span>
  snake.labels <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>REPTILE<span class="pl-pds">"</span></span>
  snake.properties(<span class="pl-s"><span class="pl-pds">"</span>hungry<span class="pl-pds">"</span></span>) <span class="pl-k">=</span> <span class="pl-c1">true</span>

  <span class="pl-c"><span class="pl-c">//</span> creating a local Node (a Node the database does not know about yet)</span>
  <span class="pl-k">val</span> <span class="pl-en">hippo</span> <span class="pl-k">=</span> <span class="pl-en">Node</span>.create

  <span class="pl-c"><span class="pl-c">//</span> changes to locally created Nodes are also tracked</span>
  hippo.labels <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>ANIMAL<span class="pl-pds">"</span></span>
  hippo.properties(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>) <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>hippo<span class="pl-pds">"</span></span>

  <span class="pl-c"><span class="pl-c">//</span> add the created node to the Node Set</span>
  graph.nodes <span class="pl-k">+</span><span class="pl-k">=</span> hippo

  <span class="pl-c"><span class="pl-c">//</span> create a new local relation from a locally created Node to an existing Node</span>
  graph.relations <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-en">Relation</span>.create(snake, <span class="pl-s"><span class="pl-pds">"</span>EATS<span class="pl-pds">"</span></span>, hippo)

  <span class="pl-c"><span class="pl-c">//</span> persist all tracked changes to the database and commit the transaction</span>
  tx.commit.persistChanges(graph)

  <span class="pl-c"><span class="pl-c">//</span> different transaction syntax</span>
  db.transaction { tx <span class="pl-k">=&gt;</span>
    <span class="pl-k">val</span> <span class="pl-en">hippo</span> <span class="pl-k">=</span> tx.queryGraph(
      <span class="pl-en">Query</span>( <span class="pl-s"><span class="pl-pds">"""</span>MATCH (n:ANIMAL {name: {name}}) return n<span class="pl-pds">"""</span></span>,
        <span class="pl-en">Map</span>(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>hippo<span class="pl-pds">"</span></span>)) <span class="pl-c"><span class="pl-c">//</span> Cypher query parameters</span>
    ).nodes.head
    hippo.properties(<span class="pl-s"><span class="pl-pds">"</span>nose<span class="pl-pds">"</span></span>) <span class="pl-k">=</span> <span class="pl-c1">true</span>
    tx.persistChanges(hippo)
  }

  db.transaction { tx <span class="pl-k">=&gt;</span>
    <span class="pl-c"><span class="pl-c">//</span> delete hippo</span>
    tx.query( <span class="pl-s"><span class="pl-pds">"""</span>MATCH (n:ANIMAL {name: "hippo"}) OPTIONAL MATCH (n)-[r]-() DELETE n,r<span class="pl-pds">"""</span></span>)

    <span class="pl-c"><span class="pl-c">//</span> roll back deletion</span>
    tx.rollback()
  }

  <span class="pl-c"><span class="pl-c">//</span> interpret query result as a table</span>
  <span class="pl-k">val</span> <span class="pl-en">animals</span> <span class="pl-k">=</span> db.queryTable(<span class="pl-s"><span class="pl-pds">"""</span>MATCH (n:ANIMAL) OPTIONAL MATCH (n)-[r:EATS]-&gt;()</span>
<span class="pl-s">    RETURN n.name as name, COUNT(r) as eatcount<span class="pl-pds">"""</span></span>)

  println(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span> <span class="pl-k">+</span> animals.columns.mkString(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\t</span><span class="pl-pds">"</span></span>)) <span class="pl-c"><span class="pl-c">//</span> prints "name eatcount"</span>
  <span class="pl-k">for</span>(row <span class="pl-k">&lt;</span><span class="pl-k">-</span> animals.rows) {
    print(row.cells(<span class="pl-c1">0</span>).<span class="pl-c1">asInstanceOf</span>[<span class="pl-en">StringPropertyValue</span>].value)
    print(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\t</span><span class="pl-pds">"</span></span>)
    println(row.cells(<span class="pl-c1">1</span>).<span class="pl-c1">asInstanceOf</span>[<span class="pl-en">LongPropertyValue</span>].value)
  }
  println()
  <span class="pl-c"><span class="pl-c">//</span> loop prints:</span>
  <span class="pl-c"><span class="pl-c">//</span>  dog	  0</span>
  <span class="pl-c"><span class="pl-c">//</span>  snake	2</span>
  <span class="pl-c"><span class="pl-c">//</span>  hippo	0</span>

  <span class="pl-k">val</span> <span class="pl-en">hungriest</span> <span class="pl-k">=</span> animals.rows.maxBy(_.apply(<span class="pl-s"><span class="pl-pds">"</span>eatcount<span class="pl-pds">"</span></span>).
    <span class="pl-c1">asInstanceOf</span>[<span class="pl-en">LongPropertyValue</span>].value).
    apply(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>).<span class="pl-c1">asInstanceOf</span>[<span class="pl-en">StringPropertyValue</span>].value
  println(<span class="pl-s"><span class="pl-pds">"</span>hungriest: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> hungriest) <span class="pl-c"><span class="pl-c">//</span> prints "snake"</span>


  <span class="pl-c"><span class="pl-c">//</span> clear database</span>
  db.query(<span class="pl-s"><span class="pl-pds">"</span>MATCH (n) OPTIONAL MATCH (n)-[r]-() DELETE n,r<span class="pl-pds">"</span></span>)

  <span class="pl-c"><span class="pl-c">//</span> shut down actor system</span>
  restService.actorSystem.shutdown()
}</pre>
  </div> 
  <h2><a id="user-content-license" class="anchor" href="https://github.com/renesca/renesca#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>renesca is free software released under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License, Version 2.0</a></p> 
 </article>
</div>