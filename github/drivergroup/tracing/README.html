<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <p><a href="https://travis-ci.org/drivergroup/tracing" target="_blank"><img src="https://camo.githubusercontent.com/7d6b6ac833cdceca953631e775a42963de37f3bf/68747470733a2f2f7472617669732d63692e6f72672f64726976657267726f75702f74726163696e672e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/drivergroup/tracing.svg?branch=master" style="max-width:100%;"></a> <a href="http://search.maven.org/#search%7Cga%7C1%7Cxyz.driver%20tracing-" target="_blank"><img src="https://camo.githubusercontent.com/74abdb56ace5ab5a3a9c98e687c7920f92466bc7/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f78797a2e6472697665722f74726163696e675f322e31322e737667" alt="Download" data-canonical-src="https://img.shields.io/maven-central/v/xyz.driver/tracing_2.12.svg" style="max-width:100%;"></a></p> 
  <h1><a href="https://github.com/drivergroup/tracing#driver-tracing-library" aria-hidden="true" class="anchor" id="user-content-driver-tracing-library" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Driver Tracing Library</h1> 
  <p>A vendor-neutral tracing library for Akka-HTTP.</p> 
  <p>This library provides tracing directives for Akka-HTTP. It specifies common client abstractions and implementations that may be used with different tracing solutions, such as Google Stackdriver Tracing.</p> 
  <h2><a href="https://github.com/drivergroup/tracing#getting-started" aria-hidden="true" class="anchor" id="user-content-getting-started" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting Started</h2> 
  <p>Driver tracing is published to maven central as a standard Scala library. Include it in sbt by adding the following snippet to your build.sbt:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>xyz.driver<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>tracing<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>&lt;latest version&gt;<span class="pl-pds">"</span></span></pre>
  </div> 
  <h3><a href="https://github.com/drivergroup/tracing#example" aria-hidden="true" class="anchor" id="user-content-example" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Example</h3> 
  <p>The library provides tracing directives which may be used to track and report traces accross multiple, nested service calls.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">xyz.driver.tracing.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">xyz.driver.tracing.TracingDirectives.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">tracer</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">LoggingTracer</span>(println)

<span class="pl-k">val</span> <span class="pl-en">route</span> <span class="pl-k">=</span>
  <span class="pl-c"><span class="pl-c">//</span> report how long any request to this service takes</span>
  trace(tracer) {
    path(<span class="pl-s"><span class="pl-pds">"</span>my-service-endpoint<span class="pl-pds">"</span></span>) {
      get {
        <span class="pl-c"><span class="pl-c">//</span> include a sub-trace with a custom name</span>
        trace(tracer, <span class="pl-en">Some</span>(<span class="pl-s"><span class="pl-pds">"</span>complex-call<span class="pl-pds">"</span></span>)) {
          <span class="pl-c"><span class="pl-c">//</span> do something that takes time</span>
          complete(<span class="pl-s"><span class="pl-pds">"</span>done<span class="pl-pds">"</span></span>)
        }
      }
    } <span class="pl-k">~</span>
    path(<span class="pl-s"><span class="pl-pds">"</span>proxy-service-endpoint<span class="pl-pds">"</span></span>) {
      <span class="pl-c"><span class="pl-c">//</span> extract tracing headers so they may be injected into nested requests</span>
      extractTraceHeaders{ headers <span class="pl-k">=&gt;</span>
        <span class="pl-c"><span class="pl-c">//</span> call external service with the existing parent tracing headers</span>
        complete(<span class="pl-s"><span class="pl-pds">"</span>done<span class="pl-pds">"</span></span>)
      }
    }
  }</pre>
  </div> 
  <h2><a href="https://github.com/drivergroup/tracing#tracing-backends" aria-hidden="true" class="anchor" id="user-content-tracing-backends" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Tracing Backends</h2> 
  <p>Various tracing aggregation backends are provided out of the box.</p> 
  <h3><a href="https://github.com/drivergroup/tracing#logging" aria-hidden="true" class="anchor" id="user-content-logging" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Logging</h3> 
  <p>The <code>LoggingTracer</code> simply logs any traces locally.</p> 
  <h3><a href="https://github.com/drivergroup/tracing#google-stackdriver-tracing" aria-hidden="true" class="anchor" id="user-content-google-stackdriver-tracing" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Google Stackdriver Tracing</h3> 
  <p>The <code>GoogleTracer</code> interacts with the Google Stack Driver API, as described here: <a href="https://cloud.google.com/trace/docs/reference/v1/rest/v1/projects.traces#Trace" target="_blank">https://cloud.google.com/trace/docs/reference/v1/rest/v1/projects.traces#Trace</a></p> 
  <h2><a href="https://github.com/drivergroup/tracing#copying" aria-hidden="true" class="anchor" id="user-content-copying" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Copying</h2> 
  <p>Copyright 2017 Driver Inc.</p> 
  <p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at</p> 
  <pre><code>http://www.apache.org/licenses/LICENSE-2.0
</code></pre> 
  <p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p> 
 </article>
</div>