<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <p><a href="https://circleci.com/gh/mkotsur/firebase-client-scala" target="_blank"><img src="https://camo.githubusercontent.com/4fd456f662f0ac3ac65208f876fa300b334ab9a2/68747470733a2f2f636972636c6563692e636f6d2f67682f6d6b6f747375722f66697265626173652d636c69656e742d7363616c612e7376673f7374796c653d737667" alt="CircleCI" data-canonical-src="https://circleci.com/gh/mkotsur/firebase-client-scala.svg?style=svg" style="max-width:100%;"></a> <a href="http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22io.github.mkotsur%22" target="_blank"><img src="https://camo.githubusercontent.com/c80665a75cc36a33d0f48746ee8152a320dc20db/68747470733a2f2f6d6176656e2d6261646765732e6865726f6b756170702e636f6d2f6d6176656e2d63656e7472616c2f696f2e6769746875622e6d6b6f747375722f66697265626173652d636c69656e742d7363616c615f322e31322f62616467652e737667" alt="Maven Central" data-canonical-src="https://maven-badges.herokuapp.com/maven-central/io.github.mkotsur/firebase-client-scala_2.12/badge.svg" style="max-width:100%;"></a></p> 
  <p>This is a Scala REST client for <a href="https://www.firebase.com/" target="_blank">Firebase</a>, which is based on <a href="https://github.com/circe/circe" target="_blank">Circe</a> and is intended for services that don't require realtimeness of Firebase and just need to ger read/write access to the database in a convenient way.</p> 
  <h2><a id="user-content-features" class="anchor" href="https://github.com/mkotsur/firebase-client-scala#features" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Features:</h2> 
  <ul> 
   <li>Fetching access token based on admin credentials aka service accounts;</li> 
   <li>CRUD operations;</li> 
   <li>Listing / adding / removing users [TBD].</li> 
  </ul> 
  <h2><a id="user-content-documentation" class="anchor" href="https://github.com/mkotsur/firebase-client-scala#documentation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Documentation</h2> 
  <h3><a id="user-content-authentication" class="anchor" href="https://github.com/mkotsur/firebase-client-scala#authentication" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Authentication</h3> 
  <p>One thing to always remember: in order to use this lib, you need a service account, and your app will always be accessing data on behalf of that service account. Kind of "admin access", so it's responsibility of your app to make sure that all the changes are legitimate.</p> 
  <ul> 
   <li><a href="https://developers.google.com/identity/protocols/OAuth2ServiceAccount" target="_blank">More about Google service accounts</a></li> 
   <li><a href="https://firebase.google.com/docs/reference/rest/database/user-auth" target="_blank">More about Firebase REST API User authentication</a></li> 
  </ul> 
  <h3><a id="user-content-example" class="anchor" href="https://github.com/mkotsur/firebase-client-scala#example" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Example</h3> 
  <p>Database operations:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">java.nio.file.</span>{<span class="pl-v">Files</span>, <span class="pl-v">Paths</span>}
<span class="pl-k">import</span> <span class="pl-v">io.github.mkotsur.firebase.auth.</span><span class="pl-v">AdminCredentials</span>
<span class="pl-k">import</span> <span class="pl-v">io.github.mkotsur.firebase.rest.</span><span class="pl-v">FirebaseClient</span>
<span class="pl-k">import</span> <span class="pl-v">io.circe.generic.auto.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">scala.concurrent.</span><span class="pl-v">Future</span>
<span class="pl-k">import</span> <span class="pl-v">scala.concurrent.ExecutionContext.Implicits.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">jsonKey</span><span class="pl-k">:</span> <span class="pl-en">Array</span>[<span class="pl-k">Byte</span>] <span class="pl-k">=</span> <span class="pl-en">Files</span>.readAllBytes(
    <span class="pl-en">Paths</span>.get(getClass.getResource(<span class="pl-s"><span class="pl-pds">"</span>/rest-client-scala-test-b1940c24c184.json<span class="pl-pds">"</span></span>).toURI)
)

<span class="pl-k">val</span> <span class="pl-en">client</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">FirebaseClient</span>(<span class="pl-s"><span class="pl-pds">"</span>rest-client-scala-test<span class="pl-pds">"</span></span>)
<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">token</span> <span class="pl-k">=</span> <span class="pl-en">FirebaseClient</span>.getToken(<span class="pl-en">AdminCredentials</span>(jsonKey)).get

<span class="pl-c"><span class="pl-c">//</span> Reading a primitive</span>
<span class="pl-k">val</span> <span class="pl-en">ageFuture</span><span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-en">Option</span>[<span class="pl-k">Int</span>]] <span class="pl-k">=</span> client.get[<span class="pl-k">Int</span>](<span class="pl-s"><span class="pl-pds">"</span>users/001/age<span class="pl-pds">"</span></span>)

<span class="pl-c"><span class="pl-c">//</span> Reading an object as a case class</span>
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">User</span>(<span class="pl-v">age</span>: <span class="pl-k">Int</span>)
<span class="pl-k">val</span> <span class="pl-en">userFuture</span><span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-en">Option</span>[<span class="pl-en">User</span>]] <span class="pl-k">=</span> client.get[<span class="pl-en">User</span>](<span class="pl-s"><span class="pl-pds">"</span>users/001<span class="pl-pds">"</span></span>)


<span class="pl-c"><span class="pl-c">//</span> more examples in ./src/test/scala/io/github/mkotsur/firebase/rest/FirebaseClientTest.scala</span></pre>
  </div> 
  <h3><a id="user-content-caveats" class="anchor" href="https://github.com/mkotsur/firebase-client-scala#caveats" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Caveats</h3> 
  <ul> 
   <li>The library adds BouncyCastle provider at runtime. Not necessarily a bad thing, but something to be aware of;</li> 
   <li>There is a transitive dependency on Guava via <code>gitkitclient</code>;</li> 
   <li>Behavior of <code>FirebaseUsers.createUser</code> mimics gitkit behavior may be somewhat counter-intuitive. Please make sure to fully understand how it works before using in your app.</li> 
  </ul> 
  <h2><a id="user-content-adding-to-your-project" class="anchor" href="https://github.com/mkotsur/firebase-client-scala#adding-to-your-project" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Adding to your project</h2> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>io.github.mkotsur<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>firebase-client-scala<span class="pl-pds">"</span></span> <span class="pl-k">%</span> {latest<span class="pl-k">-</span>version}</pre>
  </div> 
  <h2><a id="user-content-development" class="anchor" href="https://github.com/mkotsur/firebase-client-scala#development" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Development</h2> 
  <p>The tests are executed against a firebase instance <code>rest-client-scala-test</code> (configured in <code>application-test.conf</code>).</p> 
  <p>There should be a user: <code>mike@example.com / 123qwe</code>.</p> 
 </article>
</div>