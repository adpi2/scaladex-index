<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-bot-api-for-scala" class="anchor" href="https://github.com/kerzok/scalabot#bot-api-for-scala" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Bot API for Scala</h1> 
  <p><a href="https://opensource.org/licenses/Apache-2.0" target="_blank"><img src="https://camo.githubusercontent.com/8051e9938a1ab39cf002818dfceb6b6092f34d68/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d417061636865253230322e302d626c75652e737667" alt="License" data-canonical-src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" style="max-width:100%;"></a> <a href="https://circleci.com/gh/kerzok/ScalaBot" target="_blank"><img src="https://camo.githubusercontent.com/855ac2fb577fd9064fcfa6299de43f298cda7f7f/68747470733a2f2f696d672e736869656c64732e696f2f636972636c6563692f70726f6a6563742f6b65727a6f6b2f5363616c61426f742e7376673f7374796c653d737667" alt="CircleCI" data-canonical-src="https://img.shields.io/circleci/project/kerzok/ScalaBot.svg?style=svg" style="max-width:100%;"></a> <a href="https://www.codacy.com/app/kerzok11/ScalaBot?utm_source=github.com&amp;amp;utm_medium=referral&amp;amp;utm_content=kerzok/ScalaBot&amp;amp;utm_campaign=Badge_Grade" target="_blank"><img src="https://camo.githubusercontent.com/0ed703d9f4a3c1fcf37bca9132a3c0dd25b3acb2/68747470733a2f2f6170692e636f646163792e636f6d2f70726f6a6563742f62616467652f47726164652f3131386334343434393730393431663039336461383837343634386234633665" alt="Codacy Badge" data-canonical-src="https://api.codacy.com/project/badge/Grade/118c4444970941f093da8874648b4c6e" style="max-width:100%;"></a></p> 
  <p>This is simple framework for easy develop bots in <a href="https://en.wikipedia.org/wiki/Finite-state_machine" target="_blank">FSM</a> style on Scala language based on <a href="http://akka.io/" target="_blank">Akka</a>. For now it's support <strong>Slack</strong>, <strong>Skype</strong> and <strong>Telegram</strong> messengers.</p> 
  <ul> 
   <li><a href="https://github.com/kerzok/scalabot#getting-started" target="_blank">Getting started</a></li> 
   <li><a href="https://github.com/kerzok/scalabot#writing-your-first-bot" target="_blank">Writing your first bot</a> 
    <ul> 
     <li><a href="https://github.com/kerzok/scalabot#a-simple-echo-bot" target="_blank">A simple echo bot</a></li> 
     <li><a href="https://github.com/kerzok/scalabot#configuration-echobot" target="_blank">Configuration EchoBot</a></li> 
    </ul></li> 
   <li><a href="https://github.com/kerzok/scalabot#extensions" target="_blank">Extensions</a> 
    <ul> 
     <li><a href="https://github.com/kerzok/scalabot#scheduler-extension" target="_blank">Scheduler Extension</a></li> 
     <li><a href="https://github.com/kerzok/scalabot#socket-extension" target="_blank">Socket Extension</a></li> 
     <li><a href="https://github.com/kerzok/scalabot#textrazor-extension" target="_blank">TextRazor Extension</a></li> 
    </ul></li> 
   <li><a href="https://github.com/kerzok/scalabot#intents" target="_blank">Intents</a></li> 
  </ul> 
  <h2><a id="user-content-getting-started" class="anchor" href="https://github.com/kerzok/scalabot#getting-started" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting started.</h2> 
  <p>For the beginning you need to add dependency for your SBT project:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.github.kerzok<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>scalabotapi<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.2.8<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Also you need to create bot on different providers:</p> 
  <ul> 
   <li><a href="https://core.telegram.org/bots#3-how-do-i-create-a-bot" target="_blank">How to create bot for Telegram</a></li> 
   <li><a href="https://developer.microsoft.com/en-us/skype/bots/docs" target="_blank">How to create bot for Skype</a></li> 
   <li><a href="https://api.slack.com/bot-users" target="_blank">How to create bot for Slack</a></li> 
  </ul> 
  <p>After that you will can make your own bot.</p> 
  <h2><a id="user-content-writing-your-first-bot" class="anchor" href="https://github.com/kerzok/scalabot#writing-your-first-bot" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Writing your first bot.</h2> 
  <h3><a id="user-content-a-simple-echo-bot" class="anchor" href="https://github.com/kerzok/scalabot#a-simple-echo-bot" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>A simple echo bot</h3> 
  <p>The AbstractBot trait handle all messages from users and send it to conversations by different criteria.</p> 
  <p>First of all we need to create new file called <code>EchoBot.scala</code> and inherits from <code>AbstractBot</code>. <code>AbstractBot</code> apply <code>Data</code> class as generic argument. As we need no any additional data we use <code>EmptyData</code> class. </p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">class</span> <span class="pl-en">EchoBot</span> <span class="pl-k">extends</span> <span class="pl-e">AbstractBot</span>[<span class="pl-en">EmptyData</span>] {
  <span class="pl-k">override</span> <span class="pl-k">protected</span> <span class="pl-k">var</span> <span class="pl-en">data</span><span class="pl-k">:</span> <span class="pl-en">EmptyData</span> <span class="pl-k">=</span> <span class="pl-en">EmptyData</span>()

  <span class="pl-k">override</span> <span class="pl-k">protected</span> <span class="pl-k">def</span> <span class="pl-en">id</span><span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> <span class="pl-k">???</span>

  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">printHelp</span><span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> <span class="pl-k">???</span>

  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">printUnknown</span><span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> <span class="pl-k">???</span>

  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">startConversation</span><span class="pl-k">:</span> <span class="pl-en">PartialFunction</span>[<span class="pl-en">Intent</span>, <span class="pl-en">Conversation</span>] <span class="pl-k">=</span> <span class="pl-k">???</span>
}</pre>
  </div> 
  <p>After that we need specify <code>id</code> which need for configuration and also add help and unknown text.</p> 
  <div class="highlight highlight-source-scala">
   <pre>  <span class="pl-k">override</span> <span class="pl-k">protected</span> <span class="pl-k">def</span> <span class="pl-en">id</span><span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>EchoBot<span class="pl-pds">"</span></span>

  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">printHelp</span><span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>This is example echo bot<span class="pl-pds">"</span></span>

  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">printUnknown</span><span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>I don't understand you<span class="pl-pds">"</span></span></pre>
  </div> 
  <p><code>startConversation</code> is a function which handle all incoming messages and select suitable conversation to handle it. In our case we need to handle all text messages.</p> 
  <div class="highlight highlight-source-scala">
   <pre>  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">startConversation</span><span class="pl-k">:</span> <span class="pl-en">PartialFunction</span>[<span class="pl-en">Intent</span>, <span class="pl-en">Conversation</span>] <span class="pl-k">=</span> {
    <span class="pl-k">case</span> <span class="pl-v">intent</span>: <span class="pl-en">TextIntent</span> <span class="pl-k">=&gt;</span> <span class="pl-en">EchoConversation</span>()(intent)
  }</pre>
  </div> 
  <p><code>EchoConversation</code> is the class inherited from <code>Conversation</code> which contains states like <a href="https://en.wikipedia.org/wiki/Finite-state_machine" target="_blank">FSM</a>. It applies <code>Intent</code> and return new <code>BotState</code> with optionally reply to user. Our bot will have only one <code>BotState</code>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">EchoConversation</span>() <span class="pl-k">extends</span> <span class="pl-e">Conversation</span> {
    <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">initialState</span><span class="pl-k">:</span> <span class="pl-en">BotState</span> <span class="pl-k">=</span> <span class="pl-en">BotState</span> {
      <span class="pl-k">case</span> <span class="pl-v">intent</span>: <span class="pl-en">TextIntent</span> <span class="pl-k">=&gt;</span> <span class="pl-en">Reply</span>(<span class="pl-en">Exit</span>).withIntent(<span class="pl-en">ReplyMessageIntent</span>(intent.sender, intent.text))
    }
} </pre>
  </div> 
  <p><code>Exit</code> is the system <code>BotState</code> which finish conversation and turn user chat to <code>Idle</code>.</p> 
  <h3><a id="user-content-configuration-echobot" class="anchor" href="https://github.com/kerzok/scalabot#configuration-echobot" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Configuration EchoBot</h3> 
  <p>In configuration file we need to define API keys and tokens for messengers to connect.</p> 
  <pre><code>EchoBot {
  TelegramSource {
    id = "Your Telegram API token here"
  }
  SlackSource {
    id = "Your Slack API token here"
  }
  SkypeSource {
    id = "Your Skype API token here"
    secret = "Your Skype secret here"
  }
}
</code></pre> 
  <p>Also we need to add to specify some <a href="http://doc.akka.io/docs/akka/snapshot/scala/persistence.html" target="_blank">Akka Persistence</a> parameters needs for internal use.</p> 
  <pre><code>akka.persistence.journal.plugin = "akka.persistence.journal.leveldb"
akka.persistence.snapshot-store.plugin = "akka.persistence.snapshot-store.local"

akka.persistence.journal.leveldb.dir = "target/example/journal"
akka.persistence.snapshot-store.local.dir = "target/example/snapshots"
</code></pre> 
  <p>As the result we can run our EchoBot.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">object</span> <span class="pl-en">EchoBotMain</span> {
  <span class="pl-en">BotHelper</span>.registerBot(<span class="pl-c1">classOf</span>[<span class="pl-en">EchoBot</span>])
}</pre>
  </div> 
  <p>More examples you can find <a href="https://github.com/kerzok/ScalaBot/tree/master/Examples/src/main/scala/scalabot/examples" target="_blank">Here</a>.</p> 
  <h2><a id="user-content-extensions" class="anchor" href="https://github.com/kerzok/scalabot#extensions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Extensions</h2> 
  <p>Extensions is a special mixin for <code>AbstractBot</code> which contains additional functionality. There is several extensions available for use:</p> 
  <h3><a id="user-content-scheduler-extension" class="anchor" href="https://github.com/kerzok/scalabot#scheduler-extension" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scheduler Extension</h3> 
  <p>Scheduler extension provides job scheduler based on <a href="http://www.quartz-scheduler.org/" target="_blank">Quartz Job Scheduler</a>. Job can be set by cron like expression or duration expressions. Scheduler extension provides special type of intent — <code>SchedulerIntent</code> — which is send to the bot system as usual intent every time the scheduler triggered.</p> 
  <p>Example:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">schedulerState</span> <span class="pl-k">=</span> <span class="pl-en">BotState</span> {
    ...
    repeat(s<span class="pl-s"><span class="pl-pds">"</span>0 */2 * ? * *<span class="pl-pds">"</span></span>, <span class="pl-en">SchedulerIntent</span>(<span class="pl-s"><span class="pl-pds">"</span>job1<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Hello<span class="pl-pds">"</span></span>)) <span class="pl-c">//Will send SchedulerIntent("job1", "Hello") to the bot system every 2 minutes</span>
    repeatEvery(<span class="pl-c1">3</span> minutes, <span class="pl-en">SchedulerIntent</span>(<span class="pl-s"><span class="pl-pds">"</span>job2<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>World<span class="pl-pds">"</span></span>)) <span class="pl-c">//Will send SchedulerIntent("job2", "World") to the bot system every 3 minutes </span>
    ... 
    <span class="pl-en">Reply</span>(<span class="pl-en">Exit</span>)    
}</pre>
  </div> 
  <p>You can catch this <code>Intent</code> in <code>startConversation</code> method.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">startConversation</span><span class="pl-k">:</span> <span class="pl-en">PartialFunction</span>[<span class="pl-en">Intent</span>, <span class="pl-en">Conversation</span>] <span class="pl-k">=</span> {
    ...
    <span class="pl-k">case</span> intent<span class="pl-k">@</span><span class="pl-en">SchedulerIntent</span>(_, <span class="pl-s"><span class="pl-pds">"</span>Hello<span class="pl-pds">"</span></span>) <span class="pl-k">=&gt;</span> <span class="pl-en">SchedulerHandlerConversation</span>()(intent)
    ...
}</pre>
  </div> 
  <p>To cancel job use <code>delete("jobId")</code> method.</p> 
  <div class="highlight highlight-source-scala">
   <pre>delete(<span class="pl-s"><span class="pl-pds">"</span>job1<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <h3><a id="user-content-socket-extension" class="anchor" href="https://github.com/kerzok/scalabot#socket-extension" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Socket Extension</h3> 
  <p>Socket extension provides requests to the remote servers. To use this extension you need to call <code>makeRequest</code> method with SocketIntent which contains params:</p> 
  <ul> 
   <li><code>sender</code> — Chat which will be send the result</li> 
   <li><code>url</code> — Url to call</li> 
   <li><code>requestParams</code> — Parameters of the request</li> 
  </ul> 
  <p>Example:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">params</span> <span class="pl-k">=</span> <span class="pl-en">RequestParams</span>(canCache <span class="pl-k">=</span> <span class="pl-c1">true</span>).put(<span class="pl-s"><span class="pl-pds">"</span>streamId<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>feed/https://bash.org.ru/rss/<span class="pl-pds">"</span></span>)
makeRequest[<span class="pl-en">BashResponse</span>](<span class="pl-en">SocketIntent</span>(intent.sender, <span class="pl-s"><span class="pl-pds">"</span>http://cloud.feedly.com/v3/streams/contents<span class="pl-pds">"</span></span>, params))</pre>
  </div> 
  <p>The answer will be sent to the system and can be processed in <code>BotState</code> handler .</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">responseFromBashHandler</span><span class="pl-k">:</span> <span class="pl-en">BotState</span> <span class="pl-k">=</span> <span class="pl-en">BotState</span> {
  <span class="pl-k">case</span> <span class="pl-en">ResultIntent</span>(sender, <span class="pl-v">result</span>: <span class="pl-en">BashResponse</span>) <span class="pl-k">=&gt;</span>
    <span class="pl-k">val</span> <span class="pl-en">itemNumber</span> <span class="pl-k">=</span> <span class="pl-en">Random</span>.nextInt(result.items.size)
    <span class="pl-k">val</span> <span class="pl-en">article</span> <span class="pl-k">=</span> result.items(itemNumber)
    <span class="pl-en">Reply</span>(<span class="pl-en">Exit</span>)
      .withIntent(<span class="pl-en">ReplyMessageIntent</span>(sender, s<span class="pl-s"><span class="pl-pds">"</span>&lt;b&gt;${article.title.trim}&lt;/b&gt;<span class="pl-cce">\n</span>${article.summary.content.trim.replaceAll(<span class="pl-pds">"</span></span>&lt;<span class="pl-ent">br</span>&gt;<span class="pl-s"><span class="pl-pds">"</span>, <span class="pl-pds">"</span></span>\n<span class="pl-s"><span class="pl-pds">"</span>)}<span class="pl-pds">"</span></span>))
}</pre>
  </div> 
  <h3><a id="user-content-textrazor-extension" class="anchor" href="https://github.com/kerzok/scalabot#textrazor-extension" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>TextRazor Extension</h3> 
  <p>TextRazor extension is <a href="https://en.wikipedia.org/wiki/Natural_language_processing" target="_blank">Natural Language Processing</a> Extension (NLP Extension) for improve parsing commands based on <a href="https://www.textrazor.com/" target="_blank">TextRazor API</a>. This extension build dependency tree of user command and can be matched with pattern.</p> 
  <p>To configure TextRazor you need to specify <code>razorApiKey</code> value in code of your bot.</p> 
  <p>Example:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">startConversation</span><span class="pl-k">:</span> <span class="pl-en">PartialFunction</span>[<span class="pl-en">Intent</span>, <span class="pl-en">Conversation</span>] <span class="pl-k">=</span> {
    <span class="pl-k">case</span> intent<span class="pl-k">@</span><span class="pl-en">TextIntent</span>(_, text) <span class="pl-k">if</span> text.nlpMatch(<span class="pl-s"><span class="pl-pds">"</span>add|create<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>team<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>new<span class="pl-pds">"</span></span>) <span class="pl-k">=&gt;</span> 
        <span class="pl-en">CreateTeamConversation</span>(data)(intent)  <span class="pl-c">// Applies expressions like "Create new team", "Please, add new team", "Can you create new team", etc.</span>
    <span class="pl-k">case</span> intent<span class="pl-k">@</span><span class="pl-en">TextIntent</span>(_, text) <span class="pl-k">if</span> text.nlpMatch(<span class="pl-s"><span class="pl-pds">"</span>teams<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>manage<span class="pl-pds">"</span></span>) <span class="pl-k">=&gt;</span> 
        <span class="pl-en">ManageTeamsConversation</span>(data)(intent) <span class="pl-c">// Applies expressions like "Menage teams", "Can you manage teams", etc</span>
    <span class="pl-k">case</span> intent<span class="pl-k">@</span><span class="pl-en">TextIntent</span>(_, text) <span class="pl-k">if</span> text.nlpMatch(<span class="pl-s"><span class="pl-pds">"</span>join<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-k">*</span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>team<span class="pl-pds">"</span></span>) <span class="pl-k">=&gt;</span> 
        <span class="pl-en">JoinTeamConversation</span>(data)(intent)    <span class="pl-c">// Applies expressions like "Join SomeTeam team" or something like this</span>
    ...
}</pre>
  </div> 
  <p>To write your own extension you need to inherit from Extension trait.</p> 
  <h2><a id="user-content-intents" class="anchor" href="https://github.com/kerzok/scalabot#intents" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Intents</h2> 
  <p>Intents is a part of data which is used for communicate between part of the bot system and users. There are several types of default intent, but you can create your own intent:</p> 
  <p><code>TextIntent</code> — Simple wrap of user's text sent to bot.</p> 
  <p><code>PositiveIntent</code> — User's positive answer of a question (e.g. "yes").</p> 
  <p><code>NegativeIntent</code> — User's negative answer of a question (e.g. "no").</p> 
  <p><code>NumberIntent</code> — User's number answer. Use when user need to select one of the few answers.</p> 
  <p><code>AskChangeStateIntent</code> — Request to change state of other user (Can be declined if <code>canChange</code> parameter of the <code>BotState</code> is <code>true</code>).</p> 
  <p><code>RequireChangeStateIntent</code> — Requires to change state of other user (Can't be declined).</p> 
  <p><code>SystemPositiveIntent</code> — System positive answer of some request (e.g. ask for change state of other user).</p> 
  <p><code>SystemNegativeIntent</code> — System negative answer of some request (e.g. ask for change state of other user).</p> 
  <p><code>ReplyMessageIntent</code> — Send some text to user (usually use when bot state is changed).</p> 
  <p><code>ScheduleIntent</code> — Message sent by SchedulerExtension when scheduler triggered.</p> 
  <p><code>SocketIntent</code> — Intent for SocketExtension which specify parameters for HTTP request.</p> 
  <p><code>SocketReply</code> — Message sent by SocketExtension which contains the result of HTTP request.</p> 
  <p>You can create your own Intent by inherited Intent trait and parse it by overriding <code>handleCustomIntent</code> method.</p> 
 </article>
</div>