<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-muster" class="anchor" href="https://github.com/json4s/muster#muster" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Muster</h1> 
  <p><strong><em>I've stopped doing scala, so this project is not going anywhere. feel free to adopt it</em></strong></p> 
  <p><a href="https://travis-ci.org/json4s/muster" target="_blank"><img src="https://camo.githubusercontent.com/9e9c061edbd8977363a76434590a9a25aa4d5f12/68747470733a2f2f7472617669732d63692e6f72672f6a736f6e34732f6d75737465722e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/json4s/muster.svg?branch=master" style="max-width:100%;"></a></p> 
  <p>A library for macro based serializers to different formats. It uses scala macros so no reflection is involved and it will generate code at compile time that kind of looks like it would have been handwritten. It is written with the idea of extension, so it's easy to add your own formats.</p> 
  <p>You can find the <a href="http://muster.json4s.org/docs" target="_blank">documentation on the site</a></p> 
  <h2><a id="user-content-getting-the-library" class="anchor" href="https://github.com/json4s/muster#getting-the-library" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting the library</h2> 
  <p>This works with scala 2.10 and up. The library is published to maven central so you can get it with:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.json4s<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>muster-codec-jawn<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.3.0<span class="pl-pds">"</span></span>
libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.json4s<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>muster-codec-jackson<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.3.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Bring your own AST (BYA):</p> 
  <p>For Json4s: </p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.json4s<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>muster-codec-json4s<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.3.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>For Play Json:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.json4s<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>muster-codec-play-json<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.3.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>For Argonaut:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.json4s<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>muster-codec-argonaut<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.3.0<span class="pl-pds">"</span></span> </pre>
  </div> 
  <p>Prettier case class for debugging:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.json4s<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>muster-codec-string<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.3.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <h2><a id="user-content-how-does-it-work" class="anchor" href="https://github.com/json4s/muster#how-does-it-work" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>How does it work?</h2> 
  <p>You can find the <a href="http://muster.json4s.org/docs" target="_blank">documentation on the site</a> The idea is that things work a little bit like this:</p> 
  <h3><a id="user-content-writing" class="anchor" href="https://github.com/json4s/muster#writing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Writing</h3> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Person</span>(<span class="pl-v">id</span>: <span class="pl-k">Long</span>, <span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">age</span>: <span class="pl-k">Int</span>)
<span class="pl-k">val</span> <span class="pl-en">person</span> <span class="pl-k">=</span> <span class="pl-en">Person</span>(<span class="pl-c1">1</span>, <span class="pl-s"><span class="pl-pds">"</span>Luke<span class="pl-pds">"</span></span>, <span class="pl-c1">38</span>)

<span class="pl-k">import</span> <span class="pl-v">muster.codec.jawn.</span><span class="pl-v">_</span>
<span class="pl-en">JsonFormat</span>.from(person)
<span class="pl-en">JsonFormat</span>.into(<span class="pl-k">new</span> <span class="pl-en">File</span>(<span class="pl-s"><span class="pl-pds">"</span>luke.json<span class="pl-pds">"</span></span>)).from(person)
<span class="pl-en">JsonFormat</span>.<span class="pl-en">Pretty</span>.from(person)

<span class="pl-k">import</span> <span class="pl-v">muster.codec.jawn.api.</span><span class="pl-v">_</span>
person.asJson <span class="pl-c">// calls: JsonFormat.from(person) and produces {"id":1,"name":"Luke","age":38}</span>
person.asPrettyJson <span class="pl-c">/* calls: JsonFormat.Pretty.from(person) and produces</span>
<span class="pl-c">                       {</span>
<span class="pl-c">                         "id":1,</span>
<span class="pl-c">                         "name":</span>
<span class="pl-c">                         "Luke",</span>
<span class="pl-c">                         "age":38</span>
<span class="pl-c">                       } */</span>


<span class="pl-k">import</span> <span class="pl-v">muster.codec.json4s.</span><span class="pl-v">_</span>
<span class="pl-c">// decompose to a Json4s AST</span>
<span class="pl-en">Json4sFormat</span>.from(person)

<span class="pl-k">import</span> <span class="pl-v">muster.codec.json4s.api.</span><span class="pl-v">_</span>
person.asJValue


<span class="pl-c">// Serialize Json4s AST's</span>
<span class="pl-k">import</span> <span class="pl-v">muster.codec.json4s.api.</span><span class="pl-v">_</span>
<span class="pl-en">JsonFormat</span>.into(<span class="pl-k">new</span> <span class="pl-en">File</span>(<span class="pl-s"><span class="pl-pds">"</span>jvalues.json<span class="pl-pds">"</span></span>)).from(person.asJValue)
<span class="pl-en">JsonFormat</span>.<span class="pl-en">Pretty</span>.from(person.asJValue)

<span class="pl-c">// Prettier string formatting of case classes</span>
<span class="pl-k">import</span> <span class="pl-v">muster.codec.string.</span><span class="pl-v">_</span>
<span class="pl-en">StringFormat</span>.from(person)

<span class="pl-k">import</span> <span class="pl-v">muster.codec.string.api.</span><span class="pl-v">_</span>
person.asString 
<span class="pl-c">// calls muster.codec.string.api.StringFormat.from(person) </span>
<span class="pl-c">// and produces Person(id: 1, name: "Luke", age: 38)</span>

</pre>
  </div> 
  <h3><a id="user-content-reading" class="anchor" href="https://github.com/json4s/muster#reading" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Reading</h3> 
  <p>Similarly reading can be achieved with</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// Extract a person from a json stream</span>
<span class="pl-k">import</span> <span class="pl-v">muster.codec.jawn.</span><span class="pl-v">_</span>
<span class="pl-en">JsonFormat</span>.as[<span class="pl-en">Person</span>](<span class="pl-c">/* file | string | reader | byte array | input stream | URL */</span> input)

<span class="pl-c">// Extract a person from a Json4s AST</span>
<span class="pl-k">import</span> <span class="pl-v">muster.codec.json4s.</span><span class="pl-v">_</span>
<span class="pl-en">JValueFormat</span>.as[<span class="pl-en">Person</span>](personJValue)

<span class="pl-c">// Parse a source to a Json4s AST</span>
<span class="pl-k">import</span> <span class="pl-v">muster.codec.json4s.</span><span class="pl-v">_</span>
<span class="pl-en">JsonFormat</span>.as[<span class="pl-en">JValue</span>](<span class="pl-c">/* file | string | reader | byte array | input stream | URL */</span> input)</pre>
  </div> 
  <h2><a id="user-content-whats-inside" class="anchor" href="https://github.com/json4s/muster#whats-inside" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>What's inside?</h2> 
  <p>Seamless integration with the Json4s AST, it can be used to extract objects from and decompose objects to json4s AST's. It can be used to parse Json4s AST's </p> 
  <p>Currently muster supports JSON through parsing with jackson or jawn and it can extract the following things:</p> 
  <p>Object mapping features:</p> 
  <ul> 
   <li>Primitive values like String, Int, Date</li> 
   <li>All scala collections</li> 
   <li>Scala maps with string keys</li> 
   <li>Java collections like java.util.List and java.util.Set</li> 
   <li>Java maps (that implement java.util.Map)</li> 
   <li>Java classes with bean getter/setters</li> 
   <li>Scala classes with public vars</li> 
   <li>Scala classes with java style getter/setter methods</li> 
   <li>Scala case classes</li> 
   <li>Classes initialized through a constructor only</li> 
   <li>Classes with type parameters</li> 
   <li>Support for maps with different keys than String</li> 
   <li>Allows choosing between different option treatments for formats that support omission instead of null</li> 
  </ul> 
  <p>Possibly added next:</p> 
  <ul> 
   <li>Support for scala enums</li> 
   <li>Support for java enums</li> 
   <li>Support for renaming fields </li> 
   <li>Support for using a map as an input source</li> 
   <li>Support for serializing and deserializing from mongodb</li> 
   <li>Provide a way to use custom producibles</li> 
   <li>Provide a way to use custom consumables</li> 
   <li>Support for common annotations like @JsonProperty and so on to provide overrides for behavior</li> 
  </ul> 
 </article>
</div>