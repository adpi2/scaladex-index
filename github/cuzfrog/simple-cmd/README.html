<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/cuzfrog/simple-cmd#scmd---simple-yet-powerful-command-line-arguments-parser-for-scala" aria-hidden="true" class="anchor" id="user-content-scmd---simple-yet-powerful-command-line-arguments-parser-for-scala" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scmd - Simple yet powerful command-line arguments parser for scala.</h1> 
  <p><a href="https://gitter.im/simple-cmd/scmd?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/a5f2d5813ed3b50af67a09ee45823845948b7d19/68747470733a2f2f6261646765732e6769747465722e696d2f73696d706c652d636d642f73636d642e737667" alt="Join the chat at https://gitter.im/simple-cmd/Lobby" data-canonical-src="https://badges.gitter.im/simple-cmd/scmd.svg" style="max-width:100%;"></a> <a href="https://travis-ci.org/cuzfrog/simple-cmd" target="_blank"><img src="https://camo.githubusercontent.com/64ced3450453622d837eb7287448b629509b9757/68747470733a2f2f7472617669732d63692e6f72672f63757a66726f672f73696d706c652d636d642e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/cuzfrog/simple-cmd.svg?branch=master" style="max-width:100%;"></a> <a href="https://github.com/cuzfrog/simple-cmd/blob/master" target="_blank"><img src="https://camo.githubusercontent.com/aea0564026414182fffd972fb4e65c0fd2ebf1d2/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f636f6d2e6769746875622e63757a66726f672f73636d645f322e31322e737667" alt="Maven Central" data-canonical-src="https://img.shields.io/maven-central/v/com.github.cuzfrog/scmd_2.12.svg" style="max-width:100%;"></a></p> 
  <p>This project is under improvement. It needs your help to push it to maturity.</p> 
  <p>Built against scala versions: 2.11.11, 2.12.3</p> 
  <h2><a href="https://github.com/cuzfrog/simple-cmd#nomenclature" aria-hidden="true" class="anchor" id="user-content-nomenclature" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Nomenclature</h2> 
  <ul> 
   <li>Argument <em>arg</em> - general phrase of all below.</li> 
   <li>Command <em>cmd</em> - a predefined phrase that must be fully matched on the command-line to tell the app what to do.</li> 
   <li>Parameter <em>param</em> - argument without a name on the command-line, which directly matches the value. This is equivalent to "argument" in many other libraries.</li> 
   <li>Option <em>opt</em> - (optional) argument that has a name with hyphens precede: <code>-f</code>, <code>--source-file</code></li> 
   <li>Properties <em>prop(s)</em> - an argument with a flag as its name, and values of key/value pairs: <code>-Dkey=value</code></li> 
   <li>PriorArg <em>prior</em> - an argument with alias that has priority to be matched. <code>-help</code>, <code>--help</code></li> 
  </ul> 
  <h2><a href="https://github.com/cuzfrog/simple-cmd#motivation" aria-hidden="true" class="anchor" id="user-content-motivation" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Motivation:</h2> 
  <p>If you ask google "scala command line arguments parser github", google gives you a whole page of answers. Some libraries said: "Life is too short to parse command-line arguments". I think it might be "Life is too short to swing from one command-line argument parser to another". I tried many of these parsers, some are complicated with hard-to-read README, some kind of lack features that fit into some cases, some do not generate usage info...</p> 
  <p><strong>Scmd</strong> brings these features all-in-one:</p> 
  <table> 
   <thead> 
    <tr> 
     <th>Fetures</th> 
     <th>example</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td>Boolean option folding</td> 
     <td><code>-xyz</code></td> 
    </tr> 
    <tr> 
     <td>Option Value folding</td> 
     <td><code>-fValue</code></td> 
    </tr> 
    <tr> 
     <td>Option Value evaluation</td> 
     <td><code>-f=Value</code></td> 
    </tr> 
    <tr> 
     <td>Trailing option</td> 
     <td><code>cp -r SRC DST</code> equivalent to <code>cp SRC DST -r</code></td> 
    </tr> 
    <tr> 
     <td>Mutual exclusion</td> 
     <td><code>--start ‚ùò --stop</code></td> 
    </tr> 
    <tr> 
     <td>Mutual dependency</td> 
     <td><code>[-a -b]</code> or <code>[-a [-b]]</code></td> 
    </tr> 
    <tr> 
     <td>Validation</td> 
     <td><code>cp SRC DST</code> SRC must exist/etc.</td> 
    </tr> 
    <tr> 
     <td>Typed argument</td> 
     <td><code>cp SRC DST</code> SRC is <code>File</code> or <code>Path</code></td> 
    </tr> 
    <tr> 
     <td>Argument optionality</td> 
     <td><code>SRC [DST]</code></td> 
    </tr> 
    <tr> 
     <td>Variable argument</td> 
     <td><code>SRC... DST</code></td> 
    </tr> 
    <tr> 
     <td>Properties</td> 
     <td><code>-Dkey=value</code>, <code>-Dkey:value</code></td> 
    </tr> 
    <tr> 
     <td>Sub commands and argument hierarchy</td> 
     <td><code>openstack nova list service</code></td> 
    </tr> 
    <tr> 
     <td>Optional commands</td> 
     <td><code>command [&lt;command1&gt; &lt;command2&gt;]</code></td> 
    </tr> 
    <tr> 
     <td>Routing</td> 
     <td>no manually writing <code>if</code> .. <code>else</code> or <code>match case</code> to route command</td> 
    </tr> 
    <tr> 
     <td>Contextual help</td> 
     <td>preciser help info</td> 
    </tr> 
    <tr> 
     <td>Typo correction</td> 
     <td><code>git comit</code> triggers: <code>did you mean: 'commit'</code></td> 
    </tr> 
    <tr> 
     <td>Usage info generation</td> 
     <td>see pictures below</td> 
    </tr>
   </tbody>
  </table> 
  <h3><a href="https://github.com/cuzfrog/simple-cmd#goals-im-trying-to-achieve" aria-hidden="true" class="anchor" id="user-content-goals-im-trying-to-achieve" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Goals I'm trying to achieve:</h3> 
  <ul> 
   <li><strong>Simplicity</strong> - Clients would be able to use it with little effort. More complex functionality should be possible and addable.</li> 
   <li><strong>Versatility</strong> - It has to be powerful enough to tackle those tricky things.</li> 
   <li><strong>Beauty</strong> - It should provide fluent coding style; It should be able to generate formatted usage console info.</li> 
   <li><strong>Strictness</strong> - As a library, it should be well structured, documented and self-encapsulated.</li> 
  </ul> 
  <p><a href="https://github.com/cuzfrog/simple-cmd/blob/master/usage-pic/openstack-help.png" target="_blank"><img src="https://github.com/cuzfrog/simple-cmd/raw/master/usage-pic/openstack-help.png" alt="openstack-help" style="max-width:100%;"></a> <a href="https://github.com/cuzfrog/simple-cmd/blob/master/usage-pic/cp-help.png" target="_blank"><img src="https://github.com/cuzfrog/simple-cmd/raw/master/usage-pic/cp-help.png" alt="cp-help" style="max-width:100%;"></a></p> 
  <h2><a href="https://github.com/cuzfrog/simple-cmd#minimal-example" aria-hidden="true" class="anchor" id="user-content-minimal-example" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Minimal example:</h2> 
  <p>First, define the arguments in def-class:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">java.io.</span><span class="pl-v">File</span>
<span class="pl-k">import</span> <span class="pl-v">Scmd.</span><span class="pl-v">_</span>
<span class="pl-k">@</span><span class="pl-en">ScmdDef</span>
<span class="pl-k">private</span> <span class="pl-k">class</span> <span class="pl-en">CpDef</span>(<span class="pl-v">args</span>: <span class="pl-en">Seq</span>[<span class="pl-k">String</span>]) <span class="pl-k">extends</span> <span class="pl-e">ScmdDefStub</span>[<span class="pl-en">CpDef</span>]{ <span class="pl-c"><span class="pl-c">//</span>app name 'cp' is inferred from CpDef</span>
    <span class="pl-k">val</span> <span class="pl-en">SRC</span> <span class="pl-k">=</span> paramDefVariable[<span class="pl-en">File</span>]().mandatory
    <span class="pl-k">val</span> <span class="pl-en">DEST</span> <span class="pl-k">=</span> paramDef[<span class="pl-en">File</span>]().mandatory
    <span class="pl-k">val</span> <span class="pl-en">recursive</span> <span class="pl-k">=</span> optDef[<span class="pl-k">Boolean</span>](abbr <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>R<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <p>This definition matches cmd-line argument combinations below:</p> 
  <pre lang="text"><code>$cp file1 file2 ... dest       //backtracking: dest always matched.
$cp file1 dest -R              
$cp -recursive file1 dest      //option can be put at anywhere.
...
</code></pre> 
  <p>Then use them:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">object</span> <span class="pl-en">CpApp</span> <span class="pl-k">extends</span> <span class="pl-e">App</span>{
    <span class="pl-k">val</span> <span class="pl-en">conf</span> <span class="pl-k">=</span> (<span class="pl-k">new</span> <span class="pl-en">CpDef</span>(args)).parsed
    <span class="pl-k">import</span> <span class="pl-v">scmdValueConverter.</span><span class="pl-v">_</span>
    conf.<span class="pl-en">SRC</span>.value <span class="pl-c"><span class="pl-c">//</span> Seq[File]</span>
    conf.<span class="pl-en">DEST</span>.value <span class="pl-c"><span class="pl-c">//</span> File</span>
    conf.recursive.value <span class="pl-c"><span class="pl-c">//</span> Boolean</span>
}</pre>
  </div> 
  <h2><a href="https://github.com/cuzfrog/simple-cmd#document" aria-hidden="true" class="anchor" id="user-content-document" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Document:</h2> 
  <ul> 
   <li><a href="https://github.com/cuzfrog/simple-cmd#project-setup" target="_blank">Project setup</a></li> 
   <li><a href="https://github.com/cuzfrog/simple-cmd#define-arguments" target="_blank">Define arguments</a></li> 
   <li><a href="https://github.com/cuzfrog/simple-cmd#built-up-arguments-structure" target="_blank">Build up argument structure</a></li> 
   <li><a href="https://github.com/cuzfrog/simple-cmd#validation" target="_blank">Validation</a></li> 
   <li><a href="https://github.com/cuzfrog/simple-cmd#use-parsed-values" target="_blank">Use parsed values</a></li> 
   <li><a href="https://github.com/cuzfrog/simple-cmd#routing" target="_blank">Routing</a></li> 
   <li><a href="https://github.com/cuzfrog/simple-cmd#customization" target="_blank">Customization</a></li> 
   <li><a href="https://github.com/cuzfrog/simple-cmd#misc" target="_blank">Misc</a></li> 
  </ul> 
  <h3><a href="https://github.com/cuzfrog/simple-cmd#project-setup" aria-hidden="true" class="anchor" id="user-content-project-setup" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Project setup:</h3> 
  <p>Scmd depends on <a href="http://scalameta.org/" target="_blank">scalameta</a> at compile time.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">macroAnnotationSettings</span> <span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  addCompilerPlugin(<span class="pl-s"><span class="pl-pds">"</span>org.scalameta<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>paradise<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>3.0.0-M10<span class="pl-pds">"</span></span> cross <span class="pl-en">CrossVersion</span>.full),
  scalacOptions <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>-Xplugin-require:macroparadise<span class="pl-pds">"</span></span>,
  scalacOptions in(<span class="pl-en">Compile</span>, console) <span class="pl-k">~</span><span class="pl-k">=</span> (_ filterNot (_ contains <span class="pl-s"><span class="pl-pds">"</span>paradise<span class="pl-pds">"</span></span>)),
  libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.scalameta<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>scalameta<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>1.8.0<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-en">Provided</span>
)
<span class="pl-k">val</span> <span class="pl-en">yourProject</span> <span class="pl-k">=</span> project
  .settings(macroAnnotationSettings)
  .settings(
    libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
      <span class="pl-s"><span class="pl-pds">"</span>com.github.cuzfrog<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>scmd<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.1.2<span class="pl-pds">"</span></span>
    )
  )</pre>
  </div> 
  <p>For simplicity, Scmd is not divided into multiple projects. If one seriously demands smaller runtime jar size, please fire an issue or manually exclude package <code>com.github.cuzfrog.scmd.macros</code>.</p> 
  <h3><a href="https://github.com/cuzfrog/simple-cmd#define-arguments" aria-hidden="true" class="anchor" id="user-content-define-arguments" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Define arguments:</h3> 
  <ol> 
   <li>name is from val's name.</li> 
  </ol> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">nova</span> <span class="pl-k">=</span> cmdDef(description <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>nova command entry<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span>the command's name is nova</span>
<span class="pl-k">val</span> <span class="pl-en">Nova</span> <span class="pl-k">=</span> cmdDef() <span class="pl-c"><span class="pl-c">//</span>another cmd  (cmd name is case-sensitive)</span>
<span class="pl-k">val</span> <span class="pl-en">remotePort</span> <span class="pl-k">=</span> optDef[<span class="pl-k">Int</span>]() <span class="pl-c"><span class="pl-c">//</span>matches `--remote-port` and `--remotePort`</span>
<span class="pl-c"><span class="pl-c">//</span>val RemotePort = optDef[Int]()  //won't compile, name conflicts are checked at compile time.</span></pre>
  </div> 
  <p>The <code>description</code> cannot be omitted.</p> 
  <ol start="2"> 
   <li>param/opt/props are typed:</li> 
  </ol> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">port</span> <span class="pl-k">=</span> optDef[<span class="pl-k">Int</span>](abbr <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>p<span class="pl-pds">"</span></span>, description <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>manually specify tcp port to use<span class="pl-pds">"</span></span>) <span class="pl-c"><span class="pl-c">//</span>type is Int</span></pre>
  </div> 
  <p>See <a href="https://github.com/cuzfrog/simple-cmd/blob/master/src/main/scala/com/github/cuzfrog/scmd/runtime/ArgTypeEvidence.scala" target="_blank">Supported types</a>. Put custom evidence into def-class to support more types.</p> 
  <ol start="3"> 
   <li>mandatory argument:</li> 
  </ol> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">srcFile</span> <span class="pl-k">=</span> paramDef[<span class="pl-en">Path</span>](description <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>file to send.<span class="pl-pds">"</span></span>).mandatory</pre>
  </div> 
  <ol start="4"> 
   <li>argument with default value:</li> 
  </ol> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">name</span> <span class="pl-k">=</span> optDef[<span class="pl-k">String</span>]().withDefault(<span class="pl-s"><span class="pl-pds">"</span>default name<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>Mandatory argument cannot have default value. Boolean args have default value of <code>false</code>, which could be set to <code>true</code> manually. Boolean args cannot(should not) be mandatory.</p> 
  <ol start="5"> 
   <li>variable argument(repetition):</li> 
  </ol> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">SRC</span> <span class="pl-k">=</span> paramDefVariable[<span class="pl-en">File</span>]().mandatory
<span class="pl-k">val</span> <span class="pl-en">num</span> <span class="pl-k">=</span> optDefVariable[<span class="pl-k">Long</span>](abbr <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>N<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p><code>-N=1 --num 2 --num=3 -N4 -N 5</code> is legal, <code>num</code> will have the value of <code>Seq(1,2,3,4,5)</code></p> 
  <ol start="6"> 
   <li>properties(argument with flag):</li> 
  </ol> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">properties</span> <span class="pl-k">=</span> propDef[<span class="pl-k">Int</span>](flag <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>D<span class="pl-pds">"</span></span>,description <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>this is a property arg.<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p><code>-Dkey1=1 -Dkey2=3</code> gives <code>properties</code> the value <code>Seq("key1"-&gt;1,"key2"-&gt;3)</code> Props are global argument, that means they can be matched from anywhere on the command-line arguments.</p> 
  <ol start="7"> 
   <li>prior argument:</li> 
  </ol> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">help</span> <span class="pl-k">=</span> priorDef(alias <span class="pl-k">=</span> <span class="pl-en">Seq</span>(<span class="pl-s"><span class="pl-pds">"</span>-help<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>--help<span class="pl-pds">"</span></span>)) <span class="pl-c"><span class="pl-c">//</span>fully matches `-help` and `--help`</span></pre>
  </div> 
  <p>Prior args are scoped to cmd: <code>git --help</code> prints the help info for <code>git</code>, <code>git tag --help</code> prints for <code>tag</code> Prior args are picked immediately. <code>cp --help SRC DST</code> prints the help info, <code>SRC</code> and <code>DST</code> are ignored.</p> 
  <h3><a href="https://github.com/cuzfrog/simple-cmd#built-up-arguments-structure" aria-hidden="true" class="anchor" id="user-content-built-up-arguments-structure" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Built up arguments structure.</h3> 
  <p>Argument definition is of the shape of a tree, params/opts are scoped to their cmds.</p> 
  <ol> 
   <li>Inferred from declaration. The definition order matters in <code>@ScmdDef</code> annotated Class.</li> 
  </ol> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">sharedParam</span> <span class="pl-k">=</span> paramDef[<span class="pl-k">String</span>](description <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>this should be shared by cmds below.<span class="pl-pds">"</span></span>)
<span class="pl-k">val</span> <span class="pl-en">topLevelOpt</span> <span class="pl-k">=</span> optDef[<span class="pl-k">Int</span>]()
<span class="pl-k">val</span> <span class="pl-en">nova</span> <span class="pl-k">=</span> cmdDef(description <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>nova command entry<span class="pl-pds">"</span></span>)
<span class="pl-k">val</span> <span class="pl-en">param1</span> <span class="pl-k">=</span> paramDef[<span class="pl-en">File</span>]()
<span class="pl-k">val</span> <span class="pl-en">opt1</span> <span class="pl-k">=</span> optDef[<span class="pl-k">Int</span>]()
<span class="pl-k">val</span> <span class="pl-en">neutron</span> <span class="pl-k">=</span> cmdDef(description <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>neutron command entry<span class="pl-pds">"</span></span>)
<span class="pl-k">val</span> <span class="pl-en">opt2</span> <span class="pl-k">=</span> optDef[<span class="pl-k">Int</span>]()</pre>
  </div> 
  <p>This will build the structure:</p> 
  <pre lang="text"><code>openstack
    +-topLevelOpt
    +-nova
          +-sharedParam
          +-param1
          +-opt1
    +-neutron
          +-sharedParam
          +-opt2
</code></pre> 
  <ol start="2"> 
   <li>Using tree building DSL:</li> 
  </ol> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scmdTreeDefDSL.</span><span class="pl-v">_</span>
argTreeDef( <span class="pl-c"><span class="pl-c">//</span>app entry</span>
  verbose, <span class="pl-c"><span class="pl-c">//</span>opt</span>
  nova(
    list(service <span class="pl-k">?</span>, project)<span class="pl-c"><span class="pl-c">//</span>cmds under list are optional.</span>
    <span class="pl-c"><span class="pl-c">//</span>equivalent to list(service ?, project ?)</span>
  ),
  neutron(
    alive <span class="pl-k">|</span> dead, <span class="pl-c"><span class="pl-c">//</span> --alive | --dead, mutual exclusion</span>
    list(service, project) <span class="pl-k">?</span>
    <span class="pl-c"><span class="pl-c">//</span>cmd list is optional. but once list is entered, one of its sub-cmds is required.</span>
  ),
  cinder(
    list(service, project), <span class="pl-c"><span class="pl-c">//</span>every level of cmds is required.</span>
  )
)</pre>
  </div> 
  <p>This will build the structure:</p> 
  <pre lang="text"><code>openstack
    +-verbose
    +-nova
          +-list
              +-service
              +-project
    +-neutron
          +-alive
          +-dead
          +-list
              +-service
              +-project
    +-cinder
          +-list
              +-service
              +-project
</code></pre> 
  <p>Notice, <code>service</code>, <code>project</code> and <code>list</code> are reused in the DSL.</p> 
  <p>Tree's legality is checked at compile time by macros.</p> 
  <h3><a href="https://github.com/cuzfrog/simple-cmd#validation" aria-hidden="true" class="anchor" id="user-content-validation" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Validation.</h3> 
  <p>This refers to argument basic(low-level) validation. Mutual limitation is defined above, and its validation is implicit.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">@</span><span class="pl-en">ScmdValid</span>
<span class="pl-k">class</span> <span class="pl-en">CatValidation</span>(<span class="pl-v">argDef</span>: <span class="pl-en">CatDef</span>) {
  validation(argDef.files) { files <span class="pl-k">=&gt;</span>
    files.foreach { f <span class="pl-k">=&gt;</span>
      <span class="pl-k">if</span> (<span class="pl-k">!</span>f.toFile.exists()) <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">IllegalArgumentException</span>(s<span class="pl-s"><span class="pl-pds">"</span>$f not exists.<span class="pl-pds">"</span></span>)
    }
  }
}
<span class="pl-k">val</span> <span class="pl-en">conf</span> <span class="pl-k">=</span> (<span class="pl-k">new</span> <span class="pl-en">CatDef</span>(args)).withValidation(<span class="pl-k">new</span> <span class="pl-en">CatValidation</span>(_)).parsed</pre>
  </div> 
  <p>Arguments will be checked by validation statements when they are evaluated(parsed from cmd-line args).</p> 
  <h3><a href="https://github.com/cuzfrog/simple-cmd#use-parsed-values" aria-hidden="true" class="anchor" id="user-content-use-parsed-values" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Use parsed values.</h3> 
  <p>Scmd provides 2 styles of getting evaluated arguments:</p> 
  <ol> 
   <li>Implicit conversion:</li> 
  </ol> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scmdValueImplicitConversion.</span><span class="pl-v">_</span>
<span class="pl-k">val</span> <span class="pl-en">src</span><span class="pl-k">:</span><span class="pl-en">Seq</span>[<span class="pl-en">File</span>] <span class="pl-k">=</span> conf.<span class="pl-en">SRC</span> 
<span class="pl-k">val</span> <span class="pl-en">dst</span><span class="pl-k">:</span><span class="pl-en">File</span> <span class="pl-k">=</span> conf.<span class="pl-en">DST</span> <span class="pl-c"><span class="pl-c">//</span>mandatory arg will be converted into value directly.</span>
<span class="pl-k">val</span> <span class="pl-en">port</span><span class="pl-k">:</span><span class="pl-en">Option</span>[<span class="pl-k">Int</span>] <span class="pl-k">=</span> conf.remotePort <span class="pl-c"><span class="pl-c">//</span>optional arg will be converted into an Option</span></pre>
  </div> 
  <p>If an arg has default value, it will fall back to default value when not specified by user.</p> 
  <ol start="2"> 
   <li>Converter(Recommended):</li> 
  </ol> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scmdValueConverter.</span><span class="pl-v">_</span>
<span class="pl-k">val</span> <span class="pl-en">src</span><span class="pl-k">:</span><span class="pl-en">Seq</span>[<span class="pl-en">File</span>] <span class="pl-k">=</span> conf.<span class="pl-en">SRC</span>.value 
<span class="pl-k">val</span> <span class="pl-en">dst</span><span class="pl-k">:</span><span class="pl-en">File</span> <span class="pl-k">=</span> conf.<span class="pl-en">DST</span>.value
<span class="pl-k">val</span> <span class="pl-en">port</span><span class="pl-k">:</span><span class="pl-en">Option</span>[<span class="pl-k">Int</span>] <span class="pl-k">=</span> conf.remotePort.value</pre>
  </div> 
  <h3><a href="https://github.com/cuzfrog/simple-cmd#routing" aria-hidden="true" class="anchor" id="user-content-routing" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Routing.</h3> 
  <p>Manual routing: <code>if(conf.cmd.met){...} else {...}</code></p> 
  <p>Scmd provides a DSL similar to that of <a href="http://doc.akka.io/docs/akka-http/current/scala/http/introduction.html#routing-dsl-for-http-servers" target="_blank">akka-http</a> to route through commands:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">buildRoute</span>(<span class="pl-v">argDef</span>: <span class="pl-en">ArgDef</span>)<span class="pl-k">:</span> <span class="pl-en">ArgRoute</span> <span class="pl-k">=</span> {
    <span class="pl-k">import</span> <span class="pl-v">scmdRouteDSL.</span><span class="pl-v">_</span>
    <span class="pl-k">import</span> <span class="pl-v">argDef.</span><span class="pl-v">_</span>
    <span class="pl-k">import</span> <span class="pl-v">scmdValueConverter.</span><span class="pl-v">_</span>
    app.onConditions(
        boolOpt.expectTrue,
        properties.expectByKey(<span class="pl-s"><span class="pl-pds">"</span>key1<span class="pl-pds">"</span></span>)(_.forall(_ <span class="pl-k">&gt;</span> <span class="pl-c1">6</span>))
    ).run {
        println(intOpt.value)
        <span class="pl-c"><span class="pl-c">//</span>do something</span>
    } <span class="pl-k">~</span>
    app.run {
        <span class="pl-c"><span class="pl-c">//</span>fall back behavior.</span>
    }
}
(<span class="pl-k">new</span> <span class="pl-en">ArgDef</span>(args)).runWithRoute(buildRoute)</pre>
  </div> 
  <p><code>~</code> links routes together that if the first route's conditions are not met, then the second route is tried, until the statements inside <code>run</code> are called, the route continues to try through. Once a <code>run</code> is done, the whole route ends. If one does not want the whole route to end after one of the <code>run</code> finishes, use <code>runThrough</code> instead.</p> 
  <h3><a href="https://github.com/cuzfrog/simple-cmd#customization" aria-hidden="true" class="anchor" id="user-content-customization" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Customization.</h3> 
  <ol> 
   <li>Customize argument exception handling.</li> 
  </ol> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">customHandler</span><span class="pl-k">:</span> <span class="pl-en">ScmdExceptionHandler</span>[<span class="pl-en">ScmdException</span>] <span class="pl-k">=</span>
    <span class="pl-k">new</span> <span class="pl-en">ScmdExceptionHandler</span>[<span class="pl-en">ScmdException</span>] {
      <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">handle</span>(<span class="pl-v">e</span>: <span class="pl-en">ScmdException</span>)<span class="pl-k">:</span> <span class="pl-en">Nothing</span> <span class="pl-k">=</span> e <span class="pl-k">match</span> {
        <span class="pl-k">case</span> <span class="pl-v">ex</span>: <span class="pl-en">ArgParseException</span> <span class="pl-k">=&gt;</span> <span class="pl-c"><span class="pl-c">//</span>...handle</span>
        <span class="pl-k">case</span> <span class="pl-v">ex</span>: <span class="pl-en">ArgValidationException</span> <span class="pl-k">=&gt;</span> <span class="pl-c"><span class="pl-c">//</span>...handle</span>
      }
    }</pre>
  </div> 
  <p>Put evidence above inside def-class or suitable scope.</p> 
  <h3><a href="https://github.com/cuzfrog/simple-cmd#misc" aria-hidden="true" class="anchor" id="user-content-misc" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Misc.</h3> 
  <ol> 
   <li>limitations:</li> 
  </ol> 
  <ul> 
   <li>Reusing arg-def in tree-building-DSL: arg cannot duplicate through lineage. Duplication through lineage makes it possibly ambiguous for an argument's scope. This makes features, like <em>trailing option</em>, very hard to implement.</li> 
  </ul> 
  <ol start="2"> 
   <li>built-in priors: <code>help</code> and <code>version</code> are built-in prior arguments. When they are matched against top cmd(app itself), usage info and version info will be printed respectively. The alias of them will be matched only, i.e. <code>-help</code>, <code>--help</code></li> 
  </ol> 
  <p>define them in route against top cmd will override the default behavior.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scmdRouteDSL.</span><span class="pl-v">_</span>
app.runOnPrior(help){
  <span class="pl-c"><span class="pl-c">//</span>different behavior</span>
}.run{...}</pre>
  </div> 
  <ol start="3"> 
   <li>ScmdDefStub[T] <code>ScmdDefStub[T]</code> contains some abstract public methods for IDE to recognize the api, which are stripped off during macro expansion. That means <code>extends ScmdDefStub[T]</code> could be omitted without errors.</li> 
  </ol> 
  <h2><a href="https://github.com/cuzfrog/simple-cmd#about" aria-hidden="true" class="anchor" id="user-content-about" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>About</h2> 
  <h3><a href="https://github.com/cuzfrog/simple-cmd#thanks" aria-hidden="true" class="anchor" id="user-content-thanks" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Thanks:</h3> 
  <p>This project is inspired by <a href="https://github.com/jawher/mow.cli" target="_blank">mow.cli</a>. Ansi formatting is modified from <a href="https://github.com/backuity/clist" target="_blank">backuity/clist</a>.</p> 
  <h3><a href="https://github.com/cuzfrog/simple-cmd#developer" aria-hidden="true" class="anchor" id="user-content-developer" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Developer:</h3> 
  <p>See: <a href="https://github.com/cuzfrog/simple-cmd/blob/master/INTERNAL_EXPLANATION.md" target="_blank">Internal explanation</a>.</p> 
  <p>Contribution is welcomed.</p> 
  <h3><a href="https://github.com/cuzfrog/simple-cmd#author" aria-hidden="true" class="anchor" id="user-content-author" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Author:</h3> 
  <p>Cause Chung (<a href="mailto:cuzfrog@139.com" target="_blank">cuzfrog@139.com</a>)/(<a href="mailto:cuzfrog@gmail.com" target="_blank">cuzfrog@gmail.com</a>)</p> 
 </article>
</div>