<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h2><a id="user-content-stix-21-protocol-in-scala" class="anchor" href="https://github.com/workingdog/scalastix#stix-21-protocol-in-scala" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>STIX 2.1 protocol in Scala</h2> 
  <p><a href="https://docs.google.com/document/d/1yvqWaPPnPW-2NiVCLqzRszcx91ffMowfT5MmE9Nsy_w/edit#" target="_blank">[1]</a> "Structured Threat Information Expression STIXâ„¢ is a language and serialization format used to exchange <a href="https://www.oasis-open.org/committees/tc_home.php?wg_abbrev=cti" target="_blank">cyber threat intelligence (CTI)</a>. STIX enables organizations to share CTI with one another in a consistent and machine readable manner, allowing security communities to better understand what computer-based attacks they are most likely to see and to anticipate and/or respond to those attacks faster and more effectively. STIX is designed to improve many different capabilities, such as collaborative threat analysis, automated threat exchange, automated detection and response, and more."</p> 
  <p>This library <strong>ScalaStix</strong> is a <a href="https://www.scala-lang.org/" target="_blank">Scala</a> library of classes and methods for STIX Domain Objects (SDO) and associated data types. It is an API for serializing and de-serializing STIX 2.1 JSON content. It includes all SDO, SRO, Observables, OpenVocab, Markings and supporting data types.</p> 
  <h4><a id="user-content-note" class="anchor" href="https://github.com/workingdog/scalastix#note" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Note</h4> 
  <p>The older <strong>ScalaStix</strong> version 0.1 uses <a href="https://github.com/circe/circe" target="_blank">circe</a> for JSON serialization and de-serialization.</p> 
  <p><strong>ScalaStix</strong> version &gt;= 0.2 uses the <a href="https://github.com/playframework/play-json" target="_blank">Play JSON</a> library to provide the JSON serialization and de-serialization. See also the <a href="https://www.playframework.com/documentation/2.6.x/ScalaJson" target="_blank">Play Framwork documentation</a> for how to use Play JSON.</p> 
  <h3><a id="user-content-references" class="anchor" href="https://github.com/workingdog/scalastix#references" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>References</h3> 
  <ol> 
   <li><a href="https://docs.google.com/document/d/1yvqWaPPnPW-2NiVCLqzRszcx91ffMowfT5MmE9Nsy_w/edit" target="_blank">STIX 2.1 Specification</a></li> 
  </ol> 
  <h3><a id="user-content-dependencies" class="anchor" href="https://github.com/workingdog/scalastix#dependencies" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Dependencies</h3> 
  <ol> 
   <li><a href="https://github.com/playframework/play-json" target="_blank">Play JSON</a> library providing the JSON serialization and de-serialization for <a href="https://www.scala-lang.org/" target="_blank">Scala</a> and <a href="https://www.scala-js.org/" target="_blank">Scala.js</a>.</li> 
  </ol> 
  <h3><a id="user-content-installation-and-packaging" class="anchor" href="https://github.com/workingdog/scalastix#installation-and-packaging" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Installation and packaging</h3> 
  <p>To use the last release add the following dependency to your build.sbt:</p> 
  <pre><code>libraryDependencies += "com.github.workingDog" %% "scalastix" % "0.3"
</code></pre> 
  <p>The best way to compile and package <strong>ScalaStix</strong> from source is to use <a href="http://www.scala-sbt.org/" target="_blank">SBT</a>. To compile and generate a jar file from the source:</p> 
  <pre><code>sbt package
</code></pre> 
  <p>This will produce a jar file "scalastix_2.12-0.4-SNAPSHOT.jar" in the "./target/scala-2.12" directory.</p> 
  <p>To publish the library to your local (Ivy) repository, simply type:</p> 
  <pre><code>sbt publishLocal
</code></pre> 
  <p>Then put this in your build.sbt file</p> 
  <pre><code>libraryDependencies += "com.github.workingDog" %% "scalastix" % "0.4-SNAPSHOT"
</code></pre> 
  <p>To assemble the library and all its dependencies into a single fat jar file type:</p> 
  <pre><code> sbt assembly
</code></pre> 
  <p>This will produce a jar file "scalastix_2.12-0.4-SNAPSHOT.jar" in the "./target/scala-2.12" directory.</p> 
  <h3><a id="user-content-conventions" class="anchor" href="https://github.com/workingdog/scalastix#conventions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Conventions</h3> 
  <p>All Stix objects have their required parameters listed first, followed by the optionals.</p> 
  <p>All SDO and SRO constructors start with the "type" parameter of the class, if omitted, the type is auto-generated. The "id" parameter is second, if omitted a random id is auto-generated. This is followed by the "created" and "modified" parameters, if omitted a current timestamp is auto-generated for those.</p> 
  <p>Similarly for bundle, "type" and "spec_version" are set automatically, "id" can also be auto-generated if desired.</p> 
  <p>Custom properties can be added to any Stix objects such as SDO and Observables by adding the custom properties as a JsonObject to the field name "x_custom".</p> 
  <h3><a id="user-content-usage" class="anchor" href="https://github.com/workingdog/scalastix#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h3> 
  <p>In a Scala application the creation of a Stix object can be done as follow:</p> 
  <pre><code>import StixImplicits._

// create an SDO, the type, id, created and modified are auto-generated
val attack = new AttackPattern(name = "Spear Phishing",
                  kill_chain_phases = List(KillChainPhase("Kill", "Bill")),
                  external_references = List(ExternalReference("a-source-name")),
                  object_marking_refs = List(Identifier(Campaign.`type`)))
                  
// convert to json
val attackjson = Json.toJson(attack)
// add to a bundle
val bundle = Bundle(attack)
// convert to json
val bundlejson = Json.toJson(bundle)
</code></pre> 
  <p>See also the Examples.</p> 
  <h3><a id="user-content-status" class="anchor" href="https://github.com/workingdog/scalastix#status" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Status</h3> 
  <p>Work in progress</p> 
  <p>Only very basic testing done.</p> 
 </article>
</div>