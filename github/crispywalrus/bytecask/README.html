<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h4><a id="user-content-bytecask---low-latency-kv-storage-component" class="anchor" href="https://github.com/crispywalrus/bytecask#bytecask---low-latency-kv-storage-component" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Bytecask - low latency k/v storage component</h4> 
  <p><a href="https://codeship.com/projects/144753" target="_blank"> <img src="https://camo.githubusercontent.com/8f22047a2c1588b30926badf8e328292d408a266/68747470733a2f2f636f6465736869702e636f6d2f70726f6a656374732f34363630383962302d646536632d303133332d613265642d3436313231393765633832332f737461747573" alt="Codeship Status for crispywalrus/bytecask" data-canonical-src="https://codeship.com/projects/466089b0-de6c-0133-a2ed-4612197ec823/status" style="max-width:100%;"></a> <a href="https://codecov.io/gh/crispywalrus/bytecask" target="_blank"><img src="https://camo.githubusercontent.com/9d4dde340fc3fb4482817c7dec1bcfe465d2c34f/68747470733a2f2f636f6465636f762e696f2f67682f63726973707977616c7275732f627974656361736b2f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/crispywalrus/bytecask/branch/master/graph/badge.svg" style="max-width:100%;"></a></p> 
  <ul> 
   <li>lightweight - no dependencies, no underlying storages</li> 
   <li>embeddable building block, no daemons, no external scripts needed</li> 
   <li>storage component for distributed NoSQL databases</li> 
   <li>inspired by <a href="https://github.com/basho/bitcask" target="_blank">Bitcask</a> (Erlang)</li> 
   <li>optional fast compression (backed by <a href="http://code.google.com/p/snappy-java/" target="_blank">snappy-java</a>)</li> 
   <li>support for expiration and eviction</li> 
   <li>support for keys with common prefixes (i.e. urls, files etc)</li> 
   <li>blob store/retrieve (i.e. for files)</li> 
   <li>passivation/activation (if db is idle we may release resources and restore it when necessary)</li> 
   <li>Apache 2.0 License</li> 
  </ul> 
  <h3><a id="user-content-key-properties" class="anchor" href="https://github.com/crispywalrus/bytecask#key-properties" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Key properties:</h3> 
  <ul> 
   <li>keys in memory</li> 
   <li>low latency write (appending)</li> 
   <li>low latency read (direct read)</li> 
   <li>values can be blobs (large values)</li> 
   <li>compaction/merging</li> 
  </ul> 
  <h3><a id="user-content-install" class="anchor" href="https://github.com/crispywalrus/bytecask#install" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Install</h3> 
  <p><strong>sbt</strong></p> 
  <p><code>libraryDependencies += "net.crispywalrus.bytecask" %% "bytecask" % $VERSION</code></p> 
  <h3><a id="user-content-example" class="anchor" href="https://github.com/crispywalrus/bytecask#example" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Example</h3> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">db</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Bytecask</span>(<span class="pl-s"><span class="pl-pds">"</span>/home/foo<span class="pl-pds">"</span></span>)
db.put(<span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>some value...<span class="pl-pds">"</span></span>)
println(db.get(<span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>))
db.delete(<span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>)
db.destroy()

<span class="pl-c">//other methods of initialization:</span>

<span class="pl-k">val</span> <span class="pl-en">db</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Bytecask</span>(<span class="pl-s"><span class="pl-pds">"</span>/home/foo<span class="pl-pds">"</span></span>) <span class="pl-k">with</span> <span class="pl-e">Compression</span>
<span class="pl-k">val</span> <span class="pl-en">db</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Bytecask</span>(<span class="pl-s"><span class="pl-pds">"</span>/home/foo<span class="pl-pds">"</span></span>, prefixedKeys<span class="pl-k">=</span><span class="pl-c1">true</span>) <span class="pl-k">with</span> <span class="pl-e">Compression</span>
<span class="pl-k">val</span> <span class="pl-en">db</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Bytecask</span>(<span class="pl-s"><span class="pl-pds">"</span>/home/foo<span class="pl-pds">"</span></span>) <span class="pl-k">with</span> <span class="pl-e">Eviction</span> { <span class="pl-k">val</span> <span class="pl-en">maxCount</span> <span class="pl-k">=</span> <span class="pl-c1">3</span> }
<span class="pl-k">val</span> <span class="pl-en">db</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Bytecask</span>(<span class="pl-s"><span class="pl-pds">"</span>/home/foo<span class="pl-pds">"</span></span>) <span class="pl-k">with</span> <span class="pl-e">Expiration</span> { <span class="pl-k">val</span> <span class="pl-en">ttl</span> <span class="pl-k">=</span> <span class="pl-c1">180</span> }
<span class="pl-k">val</span> <span class="pl-en">db</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Bytecask</span>(<span class="pl-s"><span class="pl-pds">"</span>/home/foo<span class="pl-pds">"</span></span>) <span class="pl-k">with</span> <span class="pl-e">BlobStore</span> { <span class="pl-k">val</span> <span class="pl-en">blockSize</span> <span class="pl-k">=</span> <span class="pl-c1">1024</span> <span class="pl-k">*</span> <span class="pl-c1">1024</span> }
<span class="pl-k">val</span> <span class="pl-en">db</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Bytecask</span>(<span class="pl-s"><span class="pl-pds">"</span>/home/foo<span class="pl-pds">"</span></span>) <span class="pl-k">with</span> <span class="pl-e">Compression</span> <span class="pl-k">with</span> <span class="pl-e">Expiration</span> <span class="pl-k">with</span> <span class="pl-e">BlobStore</span> {
    <span class="pl-k">val</span> <span class="pl-en">ttl</span> <span class="pl-k">=</span> <span class="pl-c1">180</span>
    <span class="pl-k">val</span> <span class="pl-en">blockSize</span> <span class="pl-k">=</span> <span class="pl-c1">1024</span> <span class="pl-k">*</span> <span class="pl-c1">1024</span>
}
<span class="pl-k">val</span> <span class="pl-en">db</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Bytecask</span>(<span class="pl-s"><span class="pl-pds">"</span>/home/foo<span class="pl-pds">"</span></span>) <span class="pl-k">with</span> <span class="pl-e">JmxSupport</span>

...

<span class="pl-c">//blob store example</span>

<span class="pl-k">val</span> <span class="pl-en">db</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Bytecask</span>(mkTempDir) <span class="pl-k">with</span> <span class="pl-e">BlobStore</span> {
      <span class="pl-k">val</span> <span class="pl-en">blockSize</span> <span class="pl-k">=</span> <span class="pl-c1">1024</span> <span class="pl-k">*</span> <span class="pl-c1">1024</span>
}

<span class="pl-c">// store a blob (i.e. file) passing an input stream to read data from</span>

db.storeBlob(name, <span class="pl-k">new</span> <span class="pl-en">FileInputStream</span>(...))

<span class="pl-c">// retrieve the blob passing an output stream to write the blob to</span>

withResource(<span class="pl-k">new</span> <span class="pl-en">FileOutputStream</span>(...)) {
      os <span class="pl-k">=&gt;</span> db.retrieveBlob(name, os)
}

...

<span class="pl-c">// passivation/activation example</span>

<span class="pl-k">if</span> (db.idleTime <span class="pl-k">&gt;</span> <span class="pl-c1">15</span><span class="pl-k">*</span><span class="pl-c1">60</span><span class="pl-k">*</span><span class="pl-c1">1000</span>)
    db.passivate()

<span class="pl-c">// passivation releases memory occupied by the index (data is not gone though)</span>
<span class="pl-c">// now all access methods throw exception as the db is inactive (no references are kept)</span>

<span class="pl-k">if</span> (<span class="pl-k">!</span>db.isActive)
    db.activate()

<span class="pl-c">// activation restores index from files and sets 'active' state</span>
</pre>
  </div> 
  <p>More -&gt; <a href="https://github.com/pbudzik/bytecask/blob/master/src/test/scala/com/github/bytecask/BasicSuite.scala" target="_blank">See the tests</a></p> 
  <h3><a id="user-content-api" class="anchor" href="https://github.com/crispywalrus/bytecask#api" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>API</h3> 
  <div class="highlight highlight-source-scala">
   <pre>  <span class="pl-k">def</span> <span class="pl-en">put</span>(<span class="pl-v">key</span>: <span class="pl-en">Array</span>[<span class="pl-k">Byte</span>], <span class="pl-v">value</span>: <span class="pl-en">Array</span>[<span class="pl-k">Byte</span>])

  <span class="pl-k">def</span> <span class="pl-en">get</span>(<span class="pl-v">key</span>: <span class="pl-en">Array</span>[<span class="pl-k">Byte</span>])<span class="pl-k">:</span> <span class="pl-en">Option</span>[<span class="pl-en">Array</span>[<span class="pl-k">Byte</span>]]

  <span class="pl-k">def</span> <span class="pl-en">delete</span>(<span class="pl-v">key</span>: <span class="pl-en">Array</span>[<span class="pl-k">Byte</span>])<span class="pl-k">:</span> <span class="pl-en">Option</span>[<span class="pl-en">Array</span>[<span class="pl-k">Byte</span>]]

  <span class="pl-k">def</span> <span class="pl-en">keys</span>()<span class="pl-k">:</span> <span class="pl-en">Set</span>[<span class="pl-en">Array</span>[<span class="pl-k">Byte</span>]]

  <span class="pl-k">def</span> <span class="pl-en">values</span>()<span class="pl-k">:</span> <span class="pl-en">Iterator</span>[<span class="pl-en">Array</span>[<span class="pl-k">Byte</span>]]

  <span class="pl-k">def</span> <span class="pl-en">merge</span>()<span class="pl-k">:</span> <span class="pl-k">Unit</span>

  <span class="pl-k">def</span> <span class="pl-en">close</span>()<span class="pl-k">:</span> <span class="pl-k">Unit</span>

  <span class="pl-k">def</span> <span class="pl-en">destroy</span>()<span class="pl-k">:</span> <span class="pl-k">Unit</span>

  <span class="pl-k">def</span> <span class="pl-en">passivate</span>()<span class="pl-k">:</span> <span class="pl-k">Unit</span>

  <span class="pl-k">def</span> <span class="pl-en">activate</span>()<span class="pl-k">:</span> <span class="pl-k">Unit</span>

  <span class="pl-k">def</span> <span class="pl-en">idleTime</span><span class="pl-k">:</span> <span class="pl-k">Long</span>

  <span class="pl-k">def</span> <span class="pl-en">isActive</span><span class="pl-k">:</span> <span class="pl-k">Boolean</span>

  <span class="pl-k">def</span> <span class="pl-en">isDirty</span><span class="pl-k">:</span> <span class="pl-k">Boolean</span>
</pre>
  </div> 
  <h3><a id="user-content-glossary" class="anchor" href="https://github.com/crispywalrus/bytecask#glossary" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Glossary</h3> 
  <ul> 
   <li>Index (Keydir) - keys are kept in memory and point to entries in data files</li> 
   <li>Data files - files that contain the actual data</li> 
   <li>Merge - depending on update/delete intensity more and more space is occupied, so merge operation compacts data as well as merges files into one</li> 
   <li>Hint files - when files are merged to one file a "hint file" is produced out of the new file being a persisted index, so later the index can be rebuilt w/o processing the data file (however anyway can be built)</li> 
   <li>Prefixed keys - keys that contain common prefixes like file paths, URLs etc. In this case it is not efficient to allocate memory for all those repetitive byte sequences. It is advisable to turn prefixed keys mode on, in order to have a dedicated map implementation being used (based on <a href="http://en.wikipedia.org/wiki/Radix_tree" target="_blank">Patricia Trie</a>) that keeps data in a tree manner so that common parts of keys are reused vs allocated separately</li> 
   <li>Passivation - if we maintain multiple Bytecask instances (say per user) and some of them are not being used frequently it may not be critical to keep all indexes in memory. Passivation puts an instance "on hold",to be activated later, what means the index will have to be reread to memory later. This may improve overall resources management/scalabilty at the price of occasional activation time.</li> 
   <li>Blob store - internal architecture has inherent limitation as to the value size as it is internally represented as an array of bytes. It means that blobs (files included) cannot be easily stored. The blob store function of the API breaks blob's value down to segments so that multiple segments (plus a descriptor entry) altogether hold the value. Storing and retrieving relies on streams rather than on byte arrays as the value by definition is large.</li> 
   <li>Eviction/Expiration - eviction is a mechanism to manage which entries should be removed (at the moment based on max items), expiration is removal based on time (TTL).</li> 
  </ul> 
  <h3><a id="user-content-benchmark" class="anchor" href="https://github.com/crispywalrus/bytecask#benchmark" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Benchmark</h3> 
  <pre><code>--- Benchmark 1 - small values...

+ db: 482bzKWs, /var/folders/sz/npzmr0lj5xb4s6464hpfnwtx7ypvyl/T/_1478109084429_1

*** sequential put of different 10000 items: time: 142 ms, 1 op: 0.0142 ms, throughput: 70422 TPS at 8.60 MB/s, total: 1.22 MB
*** sequential get of different 10000 items: time: 90 ms, 1 op: 0.009 ms, throughput: 111111 TPS at 13.56 MB/s, total: 1.22 MB
*** sequential get of random items 10000 times: time: 83 ms, 1 op: 0.0083 ms, throughput: 120481 TPS at 14.71 MB/s, total: 1.22 MB
*** sequential get of the same item 10000 times: time: 63 ms, 1 op: 0.0063 ms, throughput: 158730 TPS at 19.38 MB/s, total: 1.22 MB

*** concurrent put of different 10000 items: time: 239 ms, 1 op: 0.0239 ms, throughput: 41841 TPS at 5.11 MB/s, total: 1.22 MB
*** concurrent get of the same item 10000 times: time: 46 ms, 1 op: 0.0046 ms, throughput: 217391 TPS at 26.54 MB/s, total: 1.22 MB
*** concurrent get of random 10000 items: time: 45 ms, 1 op: 0.0045 ms, throughput: 222222 TPS at 27.13 MB/s, total: 1.22 MB
name: 482bzKWs, dir: /var/folders/sz/npzmr0lj5xb4s6464hpfnwtx7ypvyl/T/_1478109084429_1, uptime: 942, count: 11000, splits: 0, merges: 0

--- Benchmark 2 - big values...

+ db: kQc51WhD, /var/folders/sz/npzmr0lj5xb4s6464hpfnwtx7ypvyl/T/_1478109085511_2

*** sequential put of different 10000 items: time: 965 ms, 1 op: 0.0965 ms, throughput: 10362 TPS at 647.67 MB/s, total: 625.00 MB
*** sequential get of different 10000 items: time: 512 ms, 1 op: 0.0512 ms, throughput: 19531 TPS at 1220.70 MB/s, total: 625.00 MB
*** sequential get of random items 10000 times: time: 427 ms, 1 op: 0.0427 ms, throughput: 23419 TPS at 1463.70 MB/s, total: 625.00 MB
*** sequential get of the same item 10000 times: time: 489 ms, 1 op: 0.0489 ms, throughput: 20449 TPS at 1278.12 MB/s, total: 625.00 MB

*** concurrent put of different 10000 items: time: 1169 ms, 1 op: 0.1169 ms, throughput: 8554 TPS at 534.64 MB/s, total: 625.00 MB
*** concurrent get of the same item 10000 times: time: 311 ms, 1 op: 0.0311 ms, throughput: 32154 TPS at 2009.65 MB/s, total: 625.00 MB
*** concurrent get of random 10000 items: time: 356 ms, 1 op: 0.0356 ms, throughput: 28089 TPS at 1755.62 MB/s, total: 625.00 MB
name: kQc51WhD, dir: /var/folders/sz/npzmr0lj5xb4s6464hpfnwtx7ypvyl/T/_1478109085511_2, uptime: 4403, count: 11000, splits: 0, merges: 0

--- Benchmark 3 (splitting)...

*** sequential put of different 100 items w/ frequent splits: time: 37 ms, 1 op: 0.37 ms, throughput: 2702 TPS at 5.28 MB/s, total: 0.20 MB
Fetching entries... 
Files in db's directory: [0,1,10,2,3,4,5,6,7,8,9]
name: sdYx3x8e, dir: /var/folders/sz/npzmr0lj5xb4s6464hpfnwtx7ypvyl/T/_1478109089921_3, uptime: 63, count: 100, splits: 10, merges: 0

--- Benchmark 3 (merging)...

*** sequential put of different 100 items w/ frequent splits: time: 44 ms, 1 op: 0.44 ms, throughput: 2272 TPS at 4.44 MB/s, total: 0.20 MB
sequential delete of random 20 items
sequential over-put of random 20 items
Files in db's directory: [0,1,10,11,12,13,14,15,16,17,18,19,2,20,3,4,5,6,7,8,9]
Directory size: 209547 bytes
Directory size: 159203 bytes
Reduction: 209547 | 159203 -&gt; 24.03%
name: ToTEaCHt, dir: /var/folders/sz/npzmr0lj5xb4s6464hpfnwtx7ypvyl/T/_1478109089992_4, uptime: 188, count: 80, splits: 20, merges: 1
</code></pre> 
  <p>older</p> 
  <pre><code>Date: 5/4/2013
Hardware: Intel Core 2 Quad CPU Q6600@2.40GHz, SSD disk
OS: Ubuntu 12.10, 3.2.0-41-generic x86_64
Java: 1.7.0_15-b03 64-bit with -server -XX:+TieredCompilation -XX:+AggressiveOpts

--- Benchmark 1 - small values...

+ db: R6W1OOTp, /tmp/_1367674596629_1

*** sequential put of different 10000 items: time: 199 ms, 1 op: 0.0199 ms, throughput: 50251 TPS at 6.13 MB/s, total: 1.22 MB
*** sequential get of different 10000 items: time: 161 ms, 1 op: 0.0161 ms, throughput: 62111 TPS at 7.58 MB/s, total: 1.22 MB
*** sequential get of random items 10000 times: time: 110 ms, 1 op: 0.011 ms, throughput: 90909 TPS at 11.10 MB/s, total: 1.22 MB
*** sequential get of the same item 10000 times: time: 84 ms, 1 op: 0.0084 ms, throughput: 119047 TPS at 14.53 MB/s, total: 1.22 MB

*** concurrent put of different 10000 items: time: 301 ms, 1 op: 0.0301 ms, throughput: 33222 TPS at 4.06 MB/s, total: 1.22 MB
*** concurrent get of the same item 10000 times: time: 109 ms, 1 op: 0.0109 ms, throughput: 91743 TPS at 11.20 MB/s, total: 1.22 MB
*** concurrent get of random 10000 items: time: 86 ms, 1 op: 0.0086 ms, throughput: 116279 TPS at 14.19 MB/s, total: 1.22 MB
name: R6W1OOTp, dir: /tmp/_1367674596629_1, uptime: 1674, count: 11000, splits: 0, merges: 0

--- Benchmark 2 - big values...

+ db: 3xR3ncaV, /tmp/_1367674598530_2

*** sequential put of different 10000 items: time: 5609 ms, 1 op: 0.5609 ms, throughput: 1782 TPS at 111.43 MB/s, total: 625.00 MB
*** sequential get of different 10000 items: time: 13056 ms, 1 op: 1.3056 ms, throughput: 765 TPS at 47.87 MB/s, total: 625.00 MB
*** sequential get of random items 10000 times: time: 8231 ms, 1 op: 0.8231 ms, throughput: 1214 TPS at 75.93 MB/s, total: 625.00 MB
*** sequential get of the same item 10000 times: time: 1882 ms, 1 op: 0.1882 ms, throughput: 5313 TPS at 332.09 MB/s, total: 625.00 MB

*** concurrent put of different 10000 items: time: 11438 ms, 1 op: 1.1438 ms, throughput: 874 TPS at 54.64 MB/s, total: 625.00 MB
*** concurrent get of the same item 10000 times: time: 897 ms, 1 op: 0.0897 ms, throughput: 11148 TPS at 696.77 MB/s, total: 625.00 MB
*** concurrent get of random 10000 items: time: 8525 ms, 1 op: 0.8525 ms, throughput: 1173 TPS at 73.31 MB/s, total: 625.00 MB
name: 3xR3ncaV, dir: /tmp/_1367674598530_2, uptime: 49775, count: 11000, splits: 0, merges: 0

</code></pre> 
  <p>You can build a jar in sbt:</p> 
  <pre><code>&gt; assembly
</code></pre> 
  <p>and issue:</p> 
  <pre><code>bin/benchmark.sh
</code></pre> 
  <p>or from within sbt:</p> 
  <pre><code>run-main flyingwalrus.bytecask.Benchmark
</code></pre> 
  <h3><a id="user-content-collaboration" class="anchor" href="https://github.com/crispywalrus/bytecask#collaboration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Collaboration</h3> 
  <p><strong>Reporting bugs and asking for features</strong></p> 
  <p>You can use github issue tracker to report bugs or to ask for new features <a href="https://github.com/pbudzik/bytecask/issues" target="_blank">here</a></p> 
  <p><strong>Submit patches</strong></p> 
  <p>Patches are gladly welcome from their original author. Along with any patches, please state that the patch is your original work and that you license the work to the Bytecask project under the ASL 2.0 license</p> 
  <p>To propose a patch, fork the project and send a pull request via github.</p> 
  <p><strong>Any feedback, ideas, suggestions, success stories etc are more than welcome!</strong></p> 
 </article>
</div>