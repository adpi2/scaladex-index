<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-scalajs-facades-for-mithriljs" class="anchor" href="https://github.com/technius/scalajs-mithril#scalajs-facades-for-mithriljs" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala.js facades for Mithril.js</h1> 
  <p><a href="https://travis-ci.org/Technius/scalajs-mithril" target="_blank"><img src="https://camo.githubusercontent.com/dbb579c34a0a8da02e9c5d45c02e92f99822ee7f/68747470733a2f2f7472617669732d63692e6f72672f546563686e6975732f7363616c616a732d6d69746872696c2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/Technius/scalajs-mithril.svg?branch=master" style="max-width:100%;"></a></p> 
  <p>This is an experimental library that provides facades for <a href="https://lhorie.github.io/mithril/index.html" target="_blank">Mithril</a>.</p> 
  <p>At the moment, scalajs-mithril is being rewritten to support mithril <code>1.1.1</code>. The <code>0.1.0</code> version of scalajs-mithril for mithril <code>0.2.5</code> can be found <a href="https://github.com/technius/scalajs-mithril/blob/master/tree/v0.1.0" target="_blank">here</a>.</p> 
  <p>Mithril 1.x.y is significantly different from 0.2.0, which is why this rewrite is required.</p> 
  <h2><a id="user-content-table-of-contents" class="anchor" href="https://github.com/technius/scalajs-mithril#table-of-contents" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Table of Contents</h2> 
  <ul> 
   <li><a href="https://github.com/technius/scalajs-mithril#setup" target="_blank">Setup</a></li> 
   <li><a href="https://github.com/technius/scalajs-mithril#example" target="_blank">Example</a></li> 
   <li><a href="https://github.com/technius/scalajs-mithril#the-basics" target="_blank">The Basics</a> 
    <ul> 
     <li><a href="https://github.com/technius/scalajs-mithril#using-the-helpers" target="_blank">Using the Helpers</a></li> 
     <li><a href="https://github.com/technius/scalajs-mithril#subclassing-component" target="_blank">Subclassing Component</a></li> 
    </ul> </li> 
   <li><a href="https://github.com/technius/scalajs-mithril#routing" target="_blank">Routing</a></li> 
   <li><a href="https://github.com/technius/scalajs-mithril#making-web-requests" target="_blank">Making Web Requests</a></li> 
   <li><a href="https://github.com/technius/scalajs-mithril#scalatags-support" target="_blank">Scalatags Support</a></li> 
   <li><a href="https://github.com/technius/scalajs-mithril#compiling" target="_blank">Compiling</a></li> 
   <li><a href="https://github.com/technius/scalajs-mithril#license" target="_blank">License</a></li> 
  </ul> 
  <h2><a id="user-content-setup" class="anchor" href="https://github.com/technius/scalajs-mithril#setup" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Setup</h2> 
  <p>Add <code>scalajs-bundler</code> to <code>project/plugins.sbt</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>addSbtPlugin(<span class="pl-s"><span class="pl-pds">"</span>ch.epfl.scala<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>sbt-scalajs-bundler<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.7.0<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>Then, add the following lines to <code>build.sbt</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>resolvers <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-en">Resolver</span>.sonatypeRepo(<span class="pl-s"><span class="pl-pds">"</span>snapshots<span class="pl-pds">"</span></span>)
libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>co.technius<span class="pl-pds">"</span></span> <span class="pl-k">%%%</span> <span class="pl-s"><span class="pl-pds">"</span>scalajs-mithril<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.2.0-SNAPSHOT<span class="pl-pds">"</span></span>
enablePlugins(<span class="pl-en">ScalaJSBundlerPlugin</span>)

<span class="pl-c"><span class="pl-c">//</span> Change mithril version to any version supported by this library</span>
npmDependencies in <span class="pl-en">Compile</span> <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>mithril<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>1.1.1<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Build your project with <code>fastOptJS::webpack</code>.</p> 
  <h2><a id="user-content-example" class="anchor" href="https://github.com/technius/scalajs-mithril#example" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Example</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">co.technius.scalajs.mithril.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">scala.scalajs.</span><span class="pl-v">js</span>
<span class="pl-k">import</span> <span class="pl-v">org.scalajs.</span><span class="pl-v">dom</span>

<span class="pl-k">object</span> <span class="pl-en">MyModule</span> {
  <span class="pl-k">val</span> <span class="pl-en">component</span> <span class="pl-k">=</span> <span class="pl-en">Component</span>.stateful[<span class="pl-en">State</span>, js.<span class="pl-en">Object</span>](_ <span class="pl-k">=&gt;</span> <span class="pl-k">new</span> <span class="pl-en">State)</span> { vnode <span class="pl-k">=&gt;</span>
    <span class="pl-k">import</span> <span class="pl-v">vnode.</span><span class="pl-v">state</span>
    m(<span class="pl-s"><span class="pl-pds">"</span>div<span class="pl-pds">"</span></span>, js.<span class="pl-en">Array</span>[<span class="pl-en">VNode</span>](
      m(<span class="pl-s"><span class="pl-pds">"</span>span<span class="pl-pds">"</span></span>, s<span class="pl-s"><span class="pl-pds">"</span>Hi, ${state.name()}!<span class="pl-pds">"</span></span>),
      m(<span class="pl-s"><span class="pl-pds">"</span>input[type=text]<span class="pl-pds">"</span></span>, js.<span class="pl-en">Dynamic</span>.literal(
        oninput <span class="pl-k">=</span> m.withAttr(<span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span>, state.name),
        value <span class="pl-k">=</span> state.name()
      ))
    ))
  }

  <span class="pl-k">class</span> <span class="pl-en">State</span> {
    <span class="pl-k">val</span> <span class="pl-en">name</span> <span class="pl-k">=</span> <span class="pl-en">MithrilStream</span>(<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>)
  }
}

<span class="pl-k">object</span> <span class="pl-en">MyApp</span> <span class="pl-k">extends</span> <span class="pl-e">js.JSApp</span> {
  <span class="pl-k">def</span> <span class="pl-en">main</span>()<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
    m.mount(dom.document.getElementById(<span class="pl-s"><span class="pl-pds">"</span>app<span class="pl-pds">"</span></span>), <span class="pl-en">MyModule</span>.component)
  }
}</pre>
  </div> 
  <div class="highlight highlight-text-html-basic">
   <pre>&lt;!DOCTYPE HTML&gt;
&lt;<span class="pl-ent">html</span>&gt;
  &lt;<span class="pl-ent">head</span>&gt;
    &lt;<span class="pl-ent">title</span>&gt;scalajs-mithril Example&lt;/<span class="pl-ent">title</span>&gt;
  &lt;/<span class="pl-ent">head</span>&gt;
  &lt;<span class="pl-ent">body</span>&gt;
    &lt;<span class="pl-ent">div</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>app<span class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">div</span>&gt;
    &lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>example-fastopt-bundle.js<span class="pl-pds">"</span></span>&gt;<span class="pl-s1">&lt;</span>/<span class="pl-ent">script</span>&gt;
  &lt;/<span class="pl-ent">body</span>&gt;
&lt;/<span class="pl-ent">html</span>&gt;</pre>
  </div> 
  <p>See the <a href="https://github.com/technius/scalajs-mithril/blob/master/examples/src/main/scala" target="_blank">examples folder</a> for complete examples.</p> 
  <h2><a id="user-content-the-basics" class="anchor" href="https://github.com/technius/scalajs-mithril#the-basics" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>The Basics</h2> 
  <p>This section assumes you are familiar with mithril. If you aren't, don't worry; mithril can be picked up very quickly.</p> 
  <p>A component is parametized on <code>State</code> (for <code>vnode.state</code>) and <code>Attrs</code> (for <code>vnode.attrs</code>). If <code>State</code> and <code>Attrs</code> are not neccessary for the component, use <code>js.Object</code> and <code>js.Dictionary[js.Any]</code> should be used instead, respectively.</p> 
  <p>There are two ways to define a component using this library:</p> 
  <ol> 
   <li>Use one of the component helpers, such as <code>Component.stateful</code> or <code>Component.viewOnly</code>.</li> 
   <li>Subclass <code>Component</code>.</li> 
  </ol> 
  <p>While the helpers provide limited control over components, they are sufficiently powerful for most situations. If more control over a component is desired (e.g. overriding lifecycle methods), then subclass <code>Component</code> instead.</p> 
  <p>Virtual DOM nodes (vnodes) are defined as <code>GenericVNode[State, Attr]</code>. For convenience, a type alias <code>VNode</code> is defined as <code>GenericVNode[js.Object, js.Dictionary[js.Any]]</code> to reduce the hassle of adding type signatures for vnodes.</p> 
  <h3><a id="user-content-using-the-helpers" class="anchor" href="https://github.com/technius/scalajs-mithril#using-the-helpers" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Using the Helpers</h3> 
  <p>Defining a stateless component is very simple using the <code>Component.viewOnly</code> function:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">co.technius.scalajs.mithril.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">scala.scalajs.</span><span class="pl-v">js</span>

<span class="pl-k">object</span> <span class="pl-en">HelloApp</span> <span class="pl-k">extends</span> <span class="pl-e">js.JSApp</span> {
  <span class="pl-c"><span class="pl-c">//</span> viewOnly has the view function as an argument</span>
  <span class="pl-k">val</span> <span class="pl-en">component</span> <span class="pl-k">=</span> <span class="pl-en">Component</span>.viewOnly[js.<span class="pl-en">Object</span>] { vnode <span class="pl-k">=&gt;</span>
    m(<span class="pl-s"><span class="pl-pds">"</span>div<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Hello world!<span class="pl-pds">"</span></span>)
  }
  
  <span class="pl-k">def</span> <span class="pl-en">main</span>()<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
    m.mount(dom.document.getElementById(<span class="pl-s"><span class="pl-pds">"</span>app<span class="pl-pds">"</span></span>), component)
  }
}</pre>
  </div> 
  <p><code>viewOnly</code> is parameterized on <code>Attr</code>, so it's possible to handle arguments:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> First, create a class to represent the attriute object</span>
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Attr</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>)

<span class="pl-c"><span class="pl-c">//</span> Then, supply it as a type parameter to viewOnly</span>
<span class="pl-k">val</span> <span class="pl-en">component</span> <span class="pl-k">=</span> <span class="pl-en">Component</span>.viewOnly[<span class="pl-en">Attr</span>] { vnode <span class="pl-k">=&gt;</span>
  m(<span class="pl-s"><span class="pl-pds">"</span>div<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Hello <span class="pl-pds">"</span></span> <span class="pl-k">+</span> vnode.attr.name)
}</pre>
  </div> 
  <p>It's more common to see stateful components, though. They can be defined using <code>Component.stateful</code>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">co.technius.scalajs.mithril.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">scala.scalajs.</span><span class="pl-v">js</span>

<span class="pl-k">object</span> <span class="pl-en">NameApp</span> <span class="pl-k">extends</span> <span class="pl-e">js.JSApp</span> {

  <span class="pl-c"><span class="pl-c">//</span> Just like for attributes, define a state class to hold the state</span>
  <span class="pl-k">protected</span> <span class="pl-k">class</span> <span class="pl-en">State</span> {
    <span class="pl-k">var</span> <span class="pl-en">name</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>
  }

  <span class="pl-c"><span class="pl-c">//</span> stateful has two arguments:</span>
  <span class="pl-c"><span class="pl-c">//</span> - A function to create the state from a vnode</span>
  <span class="pl-c"><span class="pl-c">//</span> - The view function</span>
  <span class="pl-c"><span class="pl-c">//</span> It's also parameterized on state and attributes</span>
  <span class="pl-k">val</span> <span class="pl-en">component</span> <span class="pl-k">=</span> <span class="pl-en">Component</span>.stateful[<span class="pl-en">State</span>, js.<span class="pl-en">Object</span>](_ <span class="pl-k">=&gt;</span> <span class="pl-k">new</span> <span class="pl-en">State)</span> { vnode <span class="pl-k">=&gt;</span>
    <span class="pl-k">import</span> <span class="pl-v">vnode.</span><span class="pl-v">state</span>
    m(<span class="pl-s"><span class="pl-pds">"</span>div<span class="pl-pds">"</span></span>, js.<span class="pl-en">Array</span>[<span class="pl-en">VNode</span>](
      m(<span class="pl-s"><span class="pl-pds">"</span>span<span class="pl-pds">"</span></span>, s<span class="pl-s"><span class="pl-pds">"</span>Hi, ${state.name}!<span class="pl-pds">"</span></span>),
      m(<span class="pl-s"><span class="pl-pds">"</span>input[type=text]<span class="pl-pds">"</span></span>, js.<span class="pl-en">Dynamic</span>.literal(
        oninput <span class="pl-k">=</span> m.withAttr(<span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span>, newName <span class="pl-k">=&gt;</span> state.name <span class="pl-k">=</span> newName),
        value <span class="pl-k">=</span> state.name
      ))
    ))
  }
  
  <span class="pl-k">def</span> <span class="pl-en">main</span>()<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
    m.mount(dom.document.getElementById(<span class="pl-s"><span class="pl-pds">"</span>app<span class="pl-pds">"</span></span>), component)
  }
}</pre>
  </div> 
  <h3><a id="user-content-subclassing-component" class="anchor" href="https://github.com/technius/scalajs-mithril#subclassing-component" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Subclassing Component</h3> 
  <p>Subclassing component requires more boilerplate, but it gives more fine-grained control over the component's lifecycle.</p> 
  <p>First, you'll need to define your component, which is parametized on <code>State</code> (for <code>vnode.state</code>) and <code>Attrs</code> (for <code>vnode.attrs</code>). If <code>State</code> and <code>Attrs</code> are not neccessary for the component, use <code>js.Object</code>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">object</span> <span class="pl-en">MyComponent</span> <span class="pl-k">extends</span> <span class="pl-e">Component</span>[js.<span class="pl-en">Object</span>, js.<span class="pl-en">Object</span>] {
  <span class="pl-c"><span class="pl-c">//</span> RootNode is defined as an alias</span>
  <span class="pl-k">override</span> <span class="pl-k">val</span> <span class="pl-en">view</span> <span class="pl-k">=</span> (<span class="pl-v">vnode</span>: <span class="pl-en">RootNode</span>) <span class="pl-k">=&gt;</span> {
    m(<span class="pl-s"><span class="pl-pds">"</span>div<span class="pl-pds">"</span></span>, js.<span class="pl-en">Array</span>(
      m(<span class="pl-s"><span class="pl-pds">"</span>p<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Hello world!<span class="pl-pds">"</span></span>)
      m(<span class="pl-s"><span class="pl-pds">"</span>p<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>How fantastic!<span class="pl-pds">"</span></span>)
    ))
  }
}</pre>
  </div> 
  <p><code>Component</code> is a subtrait of <code>Lifecycle</code>, which defines the lifecycle methods. Thus, it's possible to override the lifecycle methods in a <code>Component</code>. Here's an example of a stateful component that overrides <code>oninit</code> to set the state:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">object</span> <span class="pl-en">MyComponent</span> <span class="pl-k">extends</span> <span class="pl-e">Component</span>[<span class="pl-en">MyComponentState</span>, js.<span class="pl-en">Object</span>] {
  <span class="pl-k">override</span> <span class="pl-k">val</span> <span class="pl-en">oninit</span> <span class="pl-k">=</span> js.defined { (<span class="pl-v">vnode</span>: <span class="pl-en">RootNode</span>) <span class="pl-k">=&gt;</span>
    vnode.state <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">MyComponentState</span>
  }

  <span class="pl-k">override</span> <span class="pl-k">val</span> <span class="pl-en">view</span> <span class="pl-k">=</span> { <span class="pl-v">vnode</span>: <span class="pl-en">RootNode</span> <span class="pl-k">=&gt;</span>
    <span class="pl-k">import</span> <span class="pl-v">vnode.</span><span class="pl-v">state</span>
    m(<span class="pl-s"><span class="pl-pds">"</span>div<span class="pl-pds">"</span></span>, js.<span class="pl-en">Array</span>(
      m(<span class="pl-s"><span class="pl-pds">"</span>span<span class="pl-pds">"</span></span>, s<span class="pl-s"><span class="pl-pds">"</span>Hey there, ${state.name()}!<span class="pl-pds">"</span></span>),
      m(<span class="pl-s"><span class="pl-pds">"</span>input[type=text]<span class="pl-pds">"</span></span>, js.<span class="pl-en">Dynamic</span>.literal(
        oninput <span class="pl-k">=</span> m.withAttr(<span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span>, state.name),
        value <span class="pl-k">=</span> ctrl.name()
      ))
    ))
  }
}

<span class="pl-k">class</span> <span class="pl-en">MyComponentState</span> {
  <span class="pl-k">val</span> <span class="pl-en">name</span> <span class="pl-k">=</span> <span class="pl-en">MithrilStream</span>(<span class="pl-s"><span class="pl-pds">"</span>Name<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <p>Due to the way mithril handles the fields in the component, runtime errors occur if methods or functions are defined directly in the component from Scala.js. One possible workaround is to define the functions in an inner object:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">object</span> <span class="pl-en">MyComponent</span> <span class="pl-k">extends</span> <span class="pl-e">Component</span>[<span class="pl-en">MyComponentState</span>, js.<span class="pl-en">Object</span>] {
  <span class="pl-k">override</span> <span class="pl-k">val</span> <span class="pl-en">oninit</span> <span class="pl-k">=</span> js.defined { (<span class="pl-v">vnode</span>: <span class="pl-en">RootNode</span>) <span class="pl-k">=&gt;</span>
    vnode.state <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">MyComponentState</span>
  }

  <span class="pl-k">override</span> <span class="pl-k">val</span> <span class="pl-en">view</span> <span class="pl-k">=</span> { (<span class="pl-v">vnode</span>: <span class="pl-en">RootNode</span>) <span class="pl-k">=&gt;</span>
    <span class="pl-k">import</span> <span class="pl-v">helpers.</span><span class="pl-v">_</span>
    myFunction(vnode.state)
    <span class="pl-c"><span class="pl-c">/*</span> other code omitted <span class="pl-c">*/</span></span>
  }
  
  <span class="pl-k">object</span> <span class="pl-en">helpers</span> {
    <span class="pl-k">def</span> <span class="pl-en">myFunction</span>(<span class="pl-v">state</span>: <span class="pl-en">MyComponentState</span>)<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
      <span class="pl-c"><span class="pl-c">//</span> do stuff</span>
    }
  }
}

<span class="pl-k">class</span> <span class="pl-en">MyComponentState</span> { <span class="pl-c"><span class="pl-c">/*</span> contents omitted <span class="pl-c">*/</span></span> }</pre>
  </div> 
  <p>Lastly, call <code>m.mount</code> with your controller:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">co.technius.scalajs.mithril.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">org.scalajs.</span><span class="pl-v">dom</span>
<span class="pl-k">import</span> <span class="pl-v">scala.scalajs.</span><span class="pl-v">js</span>

<span class="pl-k">object</span> <span class="pl-en">MyApp</span> <span class="pl-k">extends</span> <span class="pl-e">js.JSApp</span> {
  <span class="pl-k">def</span> <span class="pl-en">main</span>()<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
    m.mount(dom.document.getElementById(<span class="pl-s"><span class="pl-pds">"</span>app<span class="pl-pds">"</span></span>), <span class="pl-en">MyComponent</span>)
  }
}</pre>
  </div> 
  <p>To use <code>Attrs</code> in a component, define a class for <code>Attrs</code> and change the parameter on <code>Component</code>. The component should then be created by calling <code>m(component, attrs)</code> (see the TreeComponent example).</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">co.technius.scalajs.mithril.</span><span class="pl-v">_</span>

<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">MyAttrs</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>)

<span class="pl-k">object</span> <span class="pl-en">MyComponent</span> <span class="pl-k">extends</span> <span class="pl-e">Component</span>[js.<span class="pl-en">Object</span>, <span class="pl-en">MyAttrs</span>] {
  <span class="pl-k">override</span> <span class="pl-k">val</span> <span class="pl-en">view</span> <span class="pl-k">=</span>  { (<span class="pl-v">vnode</span>: <span class="pl-en">RootNode</span>) <span class="pl-k">=&gt;</span>
    m(<span class="pl-s"><span class="pl-pds">"</span>span<span class="pl-pds">"</span></span>, vnode.attrs.name)
  }
}</pre>
  </div> 
  <h2><a id="user-content-routing" class="anchor" href="https://github.com/technius/scalajs-mithril#routing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Routing</h2> 
  <p>To use Mithril's routing functionality, use <code>m.route</code> as it is defined in mithril:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">co.technius.scalajs.mithril.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">org.scalajs.</span><span class="pl-v">dom</span>
<span class="pl-k">import</span> <span class="pl-v">scala.scalajs.</span><span class="pl-v">js</span>

<span class="pl-k">object</span> <span class="pl-en">MyApp</span> <span class="pl-k">extends</span> <span class="pl-e">js.JSApp</span> {
  <span class="pl-k">val</span> <span class="pl-en">homeComponent</span> <span class="pl-k">=</span> <span class="pl-en">Component</span>.viewOnly[js.<span class="pl-en">Object</span>] { vnode <span class="pl-k">=&gt;</span>
    m(<span class="pl-s"><span class="pl-pds">"</span>div<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>This is the home page<span class="pl-pds">"</span></span>)
  }

  <span class="pl-k">val</span> <span class="pl-en">pageComponent</span> <span class="pl-k">=</span> <span class="pl-en">Component</span>.viewOnly[js.<span class="pl-en">Object</span>] { vnode <span class="pl-k">=&gt;</span>
    m(<span class="pl-s"><span class="pl-pds">"</span>div<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>This is another page<span class="pl-pds">"</span></span>)
  }

  <span class="pl-k">def</span> <span class="pl-en">main</span>()<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
    <span class="pl-k">val</span> <span class="pl-en">routes</span> <span class="pl-k">=</span> js.<span class="pl-en">Dictionary</span>[<span class="pl-en">MithrilRoute</span>.<span class="pl-en">Route</span>](
      <span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> homeComponent,
      <span class="pl-s"><span class="pl-pds">"</span>/page<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> pageComponent
    )
    m.route(dom.document.getElementById(<span class="pl-s"><span class="pl-pds">"</span>app<span class="pl-pds">"</span></span>), <span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span>, routes)
  }
}</pre>
  </div> 
  <p>For convenience, there is an alias for <code>m.route</code> that accepts a vararg list of routes instead of a <code>js.Dictionary</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>m.route(dom.document.getElementById(<span class="pl-s"><span class="pl-pds">"</span>app<span class="pl-pds">"</span></span>), <span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span>, routes)(
  <span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> homeComponent,
  <span class="pl-s"><span class="pl-pds">"</span>/page<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> pageComponent
)</pre>
  </div> 
  <p>A <a href="https://mithril.js.org/route.html#routeresolver" target="_blank"><code>RouteResolver</code></a> may be used for more complicated routing situations. There are two ways to construct a <code>RouteResolver</code>: using a helper method or subclassing <code>RouteResolver</code>.</p> 
  <p><code>RouteResolver.render</code> creates a <code>RouteResolver</code> with the given <code>render</code> function.</p> 
  <div class="highlight highlight-source-scala">
   <pre>m.route(dom.document.getElementById(<span class="pl-s"><span class="pl-pds">"</span>app<span class="pl-pds">"</span></span>), <span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span>, routes)(
  <span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-en">RouteResolver</span>.render { vnode <span class="pl-k">=&gt;</span>
    m(<span class="pl-s"><span class="pl-pds">"</span>div<span class="pl-pds">"</span></span>, js.<span class="pl-en">Array</span>[<span class="pl-en">VNode</span>](
      m(<span class="pl-s"><span class="pl-pds">"</span>h1<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Home component<span class="pl-pds">"</span></span>),
      homeComponent
    ))
  },
  <span class="pl-s"><span class="pl-pds">"</span>/page<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> pageComponent
)</pre>
  </div> 
  <p>Similarly, <code>RouteResolver.onmatch</code> creates a <code>RouteResolver</code> with the given <code>onmatch</code> function.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">accessDeniedComponent</span> <span class="pl-k">=</span> <span class="pl-en">Component</span>.viewOnly[js.<span class="pl-en">Object</span>] { vnode <span class="pl-k">=&gt;</span>
  m(<span class="pl-s"><span class="pl-pds">"</span>div<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Incorrect or missing password!<span class="pl-pds">"</span></span>)
}

<span class="pl-k">val</span> <span class="pl-en">secretComponent</span> <span class="pl-k">=</span> <span class="pl-en">Component</span>.viewOnly[js.<span class="pl-en">Object</span>] { vnode <span class="pl-k">=&gt;</span>
  m(<span class="pl-s"><span class="pl-pds">"</span>div<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Welcome to the secret page!<span class="pl-pds">"</span></span>)
}

m.route(dom.document.getElementById(<span class="pl-s"><span class="pl-pds">"</span>app<span class="pl-pds">"</span></span>), <span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span>, routes)(
  <span class="pl-s"><span class="pl-pds">"</span>/secret<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-en">RouteResolver</span>.onmatch { (params, requestedPath) <span class="pl-k">=&gt;</span>
    <span class="pl-c"><span class="pl-c">//</span> check if password is correct</span>
    <span class="pl-k">if</span> (params.get(<span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>).fold(<span class="pl-c1">false</span>)(_ <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>12345<span class="pl-pds">"</span></span>)) {
      secretComponent
    } <span class="pl-k">else</span> {
      accessDeniedComponent
    }
  }
)</pre>
  </div> 
  <p>If it is required to define both <code>render</code> and <code>onmatch</code>, subclass <code>RouteResolver</code>. Note that this library always ensures that <code>render</code> is defined, but allows <code>onmatch</code> to be undefined.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">helloComponent</span> <span class="pl-k">=</span> <span class="pl-en">Component</span>.viewOnly[js.<span class="pl-en">Object</span>](_ <span class="pl-k">=&gt;</span> m(<span class="pl-s"><span class="pl-pds">"</span>div<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Hello world!<span class="pl-pds">"</span></span>))

<span class="pl-k">val</span> <span class="pl-en">myRouteResolver</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">RouteResolver</span> {
  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">onmatch</span> <span class="pl-k">=</span> js.defined { (params, requestedPath) <span class="pl-k">=&gt;</span>
    helloComponent
  }

  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">render</span> <span class="pl-k">=</span> { vnode <span class="pl-k">=&gt;</span>
    vnode
  }
}</pre>
  </div> 
  <h2><a id="user-content-making-web-requests" class="anchor" href="https://github.com/technius/scalajs-mithril#making-web-requests" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Making Web Requests</h2> 
  <p>First, create an <code>XHROptions[T]</code>, where <code>T</code> is the data to be returned:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">opts</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">XHROptions</span>[js.<span class="pl-en">Object</span>](method <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>GET<span class="pl-pds">"</span></span>, url <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>/path/to/request<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>It's possible to use most of the optional arguments:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">opts</span> <span class="pl-k">=</span>
  <span class="pl-k">new</span> <span class="pl-en">XHROptions</span>[js.<span class="pl-en">Object</span>](
    method <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>POST<span class="pl-pds">"</span></span>,
    url <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>/path/to/request<span class="pl-pds">"</span></span>,
    data <span class="pl-k">=</span> js.<span class="pl-en">Dynamic</span>.literal(<span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-c1">1</span>, <span class="pl-s"><span class="pl-pds">"</span>bar<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-c1">2</span>),
    background <span class="pl-k">=</span> <span class="pl-c1">true</span>)</pre>
  </div> 
  <p>Then, pass the options to <code>m.request</code>, which will return a <code>js.Promise[T]</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">reqPromise</span> <span class="pl-k">=</span> m.request(opts)

<span class="pl-c"><span class="pl-c">//</span> convert Promise[T] to Future[T]</span>
<span class="pl-c"><span class="pl-c">//</span> use of Future requires implicit ExecutionContext</span>
<span class="pl-k">import</span> <span class="pl-v">scala.concurrent.ExecutionContext.Implicits.</span><span class="pl-v">global</span>
reqPromise.toFuture.foreach { data <span class="pl-k">=&gt;</span>
  println(data)
}</pre>
  </div> 
  <p>By default, the response data will be returned as a <code>js.Object</code>. It may be convenient to define a facade to hold the response data:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> Based on examples/src/main/resources/sample-data.json</span>
<span class="pl-k">import</span> <span class="pl-v">scala.concurrent.ExecutionContext.Implicits.</span><span class="pl-v">global</span>
<span class="pl-k">@</span>js.native
<span class="pl-k">trait</span> <span class="pl-en">MyData</span> <span class="pl-k">extends</span> <span class="pl-e">js.Object</span> {
  <span class="pl-k">val</span> <span class="pl-en">key</span><span class="pl-k">:</span> <span class="pl-k">String</span>
  <span class="pl-k">val</span> <span class="pl-en">some_number</span><span class="pl-k">:</span> <span class="pl-k">Int</span>
}

<span class="pl-k">val</span> <span class="pl-en">opts</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">XHROptions</span>[<span class="pl-en">MyData</span>](method <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>GET<span class="pl-pds">"</span></span>, url <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>/path/to/request<span class="pl-pds">"</span></span>)

m.request(opts).toFuture foreach { data <span class="pl-k">=&gt;</span>
  println(data.key)
  println(data.some_number)
}</pre>
  </div> 
  <h2><a id="user-content-scalatags-support" class="anchor" href="https://github.com/technius/scalajs-mithril#scalatags-support" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scalatags Support</h2> 
  <p>There is also support for <a href="http://lihaoyi.com/scalatags" target="_blank">Scalatags</a>, which can make it easier to create views. Add the following line to <code>build.sbt</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>co.technius<span class="pl-pds">"</span></span> <span class="pl-k">%%%</span> <span class="pl-s"><span class="pl-pds">"</span>scalajs-mithril-scalatags<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.2.0-SNAPSHOT<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Then, import <code>co.technius.scalajs.mithril.VNodeScalatags.all._</code>. If you already imported the <code>mithril</code> package as a wildcard, simply import <code>VNodeScalatags.all._</code>. You can then use tags in your components:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">component</span> <span class="pl-k">=</span> <span class="pl-en">Component</span>.viewOnly[js.<span class="pl-en">Object</span>] { vnode <span class="pl-k">=&gt;</span>
  div(id <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>my-div<span class="pl-pds">"</span></span>)(
    p(<span class="pl-s"><span class="pl-pds">"</span>Hello world!<span class="pl-pds">"</span></span>)
  ).render
}</pre>
  </div> 
  <p>It's also possible to use <code>VNode</code>s with scalatags:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> Components are also VNodes</span>
<span class="pl-k">val</span> <span class="pl-en">embeddedComponent</span> <span class="pl-k">=</span> <span class="pl-en">Component</span>.viewOnly[js.<span class="pl-en">Object</span>] { vnode <span class="pl-k">=&gt;</span>
  p(<span class="pl-s"><span class="pl-pds">"</span>My embedded component<span class="pl-pds">"</span></span>).render
}

<span class="pl-k">val</span> <span class="pl-en">component</span> <span class="pl-k">=</span> <span class="pl-en">Component</span>.viewOnly[js.<span class="pl-en">Object</span>] { vnode <span class="pl-k">=&gt;</span>
  div(
    m(<span class="pl-s"><span class="pl-pds">"</span>p<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>My root component<span class="pl-pds">"</span></span>),
    embeddedComponent
  ).render
}</pre>
  </div> 
  <p>The lifecycle methods, as well as <code>key</code>, are usable as attributes in scalatags:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">class</span> <span class="pl-en">Attrs</span>(<span class="pl-v">items</span>: scala.collection.mutable.<span class="pl-en">Map</span>[<span class="pl-k">String</span>, <span class="pl-k">String</span>])

<span class="pl-k">val</span> <span class="pl-en">component</span> <span class="pl-k">=</span> <span class="pl-en">Component</span>.viewOnly[<span class="pl-en">Attrs</span>] { vnode <span class="pl-k">=&gt;</span>
  ul(oninit <span class="pl-k">:</span><span class="pl-k">=</span> { () <span class="pl-k">=&gt;</span> println(<span class="pl-s"><span class="pl-pds">"</span>Initialized!<span class="pl-pds">"</span></span>) })(
    vnode.attrs.items.map {
      <span class="pl-k">case</span> (id, name) <span class="pl-k">=&gt;</span> li(key <span class="pl-k">:</span><span class="pl-k">=</span> id, name)
    }
  ).render
}</pre>
  </div> 
  <p>See the <a href="https://github.com/technius/scalajs-mithril/blob/master/examples/src/main/scala/ScalatagsDemo.scala" target="_blank">scalatags demo</a> for an example.</p> 
  <h2><a id="user-content-compiling" class="anchor" href="https://github.com/technius/scalajs-mithril#compiling" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Compiling</h2> 
  <ul> 
   <li>Compile the core project with <code>core/compile</code>.</li> 
   <li>Examples can be built locally by running <code>examples/fastOptJS::webpack</code> and then navigating to <code>examples/src/main/resources/index.html</code>.</li> 
   <li>The benchmarks are built in the same manner as the examples. <code>benchmarks/fastOptJS::webpack</code></li> 
   <li>To run tests, use <code>tests/test</code>.</li> 
  </ul> 
  <h2><a id="user-content-license" class="anchor" href="https://github.com/technius/scalajs-mithril#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>This library is licensed under the MIT License. See LICENSE for more details.</p> 
 </article>
</div>