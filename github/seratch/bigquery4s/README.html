<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h3><a id="user-content-bigquery4s" class="anchor" href="https://github.com/seratch/bigquery4s#bigquery4s" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>bigquery4s</h3> 
  <p><a href="https://travis-ci.org/seratch/bigquery4s" target="_blank"><img src="https://camo.githubusercontent.com/ce964043574551d200c1ef322bfa722d6b897e6c/68747470733a2f2f7472617669732d63692e6f72672f736572617463682f626967717565727934732e737667" alt="Build Status" data-canonical-src="https://travis-ci.org/seratch/bigquery4s.svg" style="max-width:100%;"></a> <a href="https://maven-badges.herokuapp.com/maven-central/com.github.seratch/bigquery4s_2.11" target="_blank"><img src="https://camo.githubusercontent.com/bd85d1d1c4be3ef2e7bddda73b0014b383a814e1/68747470733a2f2f6d6176656e2d6261646765732e6865726f6b756170702e636f6d2f6d6176656e2d63656e7472616c2f636f6d2e6769746875622e736572617463682f626967717565727934735f322e31312f62616467652e737667" alt="Maven Central" data-canonical-src="https://maven-badges.herokuapp.com/maven-central/com.github.seratch/bigquery4s_2.11/badge.svg" style="max-width:100%;"></a></p> 
  <p>A handy Scala wrapper of Google BigQuery API 's Java Client Library.</p> 
  <h4><a id="user-content-getting-started" class="anchor" href="https://github.com/seratch/bigquery4s#getting-started" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting Started</h4> 
  <p>Read BigQuery API Quickstart for details.</p> 
  <p><a href="https://cloud.google.com/bigquery/bigquery-api-quickstart" target="_blank">https://cloud.google.com/bigquery/bigquery-api-quickstart</a></p> 
  <h5><a id="user-content-create-a-new-bigquery-project" class="anchor" href="https://github.com/seratch/bigquery4s#create-a-new-bigquery-project" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Create a New BigQuery Project</h5> 
  <ul> 
   <li>Visit the <a href="https://console.developers.google.com/project" target="_blank">Google Developers Console</a>, create a new project.</li> 
   <li>Expand APIS &amp; AUTH, and click on APIs. In that list, search for and enable the BigQuery API.</li> 
   <li>Finally, note the number of the project you just created. You can find the project number listed at the top of the project overview page for your project: <a href="https://console.developers.google.com/project/apps" target="_blank">https://console.developers.google.com/project/apps</a>~</li> 
  </ul> 
  <h5><a id="user-content-generate-a-client-id-and-client-secret-for-your-application" class="anchor" href="https://github.com/seratch/bigquery4s#generate-a-client-id-and-client-secret-for-your-application" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Generate a Client ID and Client Secret for your Application</h5> 
  <ul> 
   <li>Visit the <a href="https://console.developers.google.com/project" target="_blank">Google Developers Console</a> and select the project you just created.</li> 
   <li>Click on APIS &amp; AUTH on the left, then select Credentials. Click on "Create new Client ID."</li> 
   <li>Select Installed application.</li> 
   <li>Click Create client ID, then click Download JSON to download the client file.</li> 
   <li>Copy the downloaded file to a location accessible from your application, and give it a name like client_secrets.json. Your application will refer to this file as part of the flow of authorizing access to the BigQuery API. For more information about using the client_secrets.json format, see <a href="https://developers.google.com/api-client-library/python/guide/aaa_client_secrets" target="_blank">this page</a>.</li> 
  </ul> 
  <p>Save the JSON file as <code>$HOME/.bigquery/client_secret.json</code>(the default path).</p> 
  <h5><a id="user-content-setting-up-sbt-project" class="anchor" href="https://github.com/seratch/bigquery4s#setting-up-sbt-project" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Setting up sbt project</h5> 
  <p>If you don't have sbt installed yet, read the official guide:</p> 
  <p><a href="http://www.scala-sbt.org/0.13/tutorial/Setup.html" target="_blank">http://www.scala-sbt.org/0.13/tutorial/Setup.html</a></p> 
  <p>If you're a MacOS X user, just <code>brew install sbt</code> will work fine for you.</p> 
  <div class="highlight highlight-source-shell">
   <pre>brew install sbt <span class="pl-c"><span class="pl-c">#</span> MacOS X</span>

mkdir -p <span class="pl-smi">$HOME</span>/bq-sample/project
<span class="pl-c1">cd</span> <span class="pl-smi">$HOME</span>/bq-sample

<span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">'</span>libraryDependencies += "com.github.seratch" %% "bigquery4s" % "0.5"</span>
<span class="pl-s">scalaVersion := "2.12.0"<span class="pl-pds">'</span></span> <span class="pl-k">&gt;</span> build.sbt
<span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>sbt.version=0.13.13<span class="pl-pds">"</span></span> <span class="pl-k">&gt;</span> project/build.properties
sbt console</pre>
  </div> 
  <h5><a id="user-content-run-examples" class="anchor" href="https://github.com/seratch/bigquery4s#run-examples" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Run Examples</h5> 
  <p>Try the following examples on the <code>sbt console</code>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">bigquery4s.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">bq</span> <span class="pl-k">=</span> <span class="pl-en">BigQuery</span>() <span class="pl-c"><span class="pl-c">//</span> expects $HOME/.bigquery/client_secret.json</span>

<span class="pl-k">val</span> <span class="pl-en">ds</span> <span class="pl-k">=</span> bq.listDatasets(<span class="pl-s"><span class="pl-pds">"</span>publicdata<span class="pl-pds">"</span></span>)
<span class="pl-c"><span class="pl-c">//</span> ds: Seq[bigquery4s.WrappedDatasets] = ArrayBuffer(WrappedDatasets({"datasetReference":{"datasetId":"samples","projectId":"publicdata"},"id":"publicdata:samples","kind":"bigquery#dataset"}))</span>

<span class="pl-k">val</span> <span class="pl-en">yourOwnProjectId</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>CHANGE THIS<span class="pl-pds">"</span></span>
<span class="pl-k">val</span> <span class="pl-en">jobId</span> <span class="pl-k">=</span> bq.startQuery(yourOwnProjectId,
  <span class="pl-s"><span class="pl-pds">"</span>SELECT weight_pounds,state,year,gestation_weeks FROM publicdata:samples.natality ORDER BY weight_pounds DESC LIMIT 100<span class="pl-pds">"</span></span>)
<span class="pl-c"><span class="pl-c">//</span> jobId: bigquery4s.JobId = JobId(ProjectId(thinking-digit-98014),job_yzM_VroG0wbj1CIeLh4U4u6V1BI)</span>

<span class="pl-k">val</span> <span class="pl-en">job</span> <span class="pl-k">=</span> bq.await(jobId)
<span class="pl-c"><span class="pl-c">//</span> job: bigquery4s.WrappedCompletedJob = WrappedCompletedJob({"configuration":{"query":{"createDisposition":"CREATE_IF_NEEDED","destinationTable":{"datasetId":"_ce67ab3da040a9d26fa59261366d42efce66d7a2","projectId":"thinking-digit-98014","tableId":"anoncda8bb0f9e2201ba87406ed02b1681750920f9af"},"query":"SELECT weight_pounds,state,year,gestation_weeks FROM publicdata:samples.natality ORDER BY weight_pounds DESC LIMIT 100","writeDisposition":"WRITE_TRUNCATE"}},"etag":"\"Gn3Hpo5WaKnpFuT457VBDNMgZBw/8QF2L_W0fUFwBdI0pxm5gUIc6dw\"","id":"thinking-digit-98014:job_DgtpBcg85jewo3soMIwXDH0v-r8","jobReference":{"jobId":"job_DgtpBcg85jewo3soMIwXDH0v-r8","projectId":"thinking-digit-98014"},"kind":"bigquery#job","selfLink":"https://www.googleapis.com/bigquery/v2/projects/thinking-digit-98014/jobs/job_Dg...</span>

<span class="pl-k">val</span> <span class="pl-en">rows</span> <span class="pl-k">=</span> bq.getRows(job)
<span class="pl-c"><span class="pl-c">//</span> rows: Seq[bigquery4s.WrappedTableRow] = ArrayBuffer(WrappedTableRow({"f":[{"v":"18.0007436923"},{"v":null},{"v":"2005"},{"v":null}]}), WrappedTableRow({"f":[{"v":"18.0007436923"},{"v":null},{"v":"2005"},{"v":"37"}]}), WrappedTableRow({"f":[{"v":"18.0007436923"},{"v":"KY"},{"v":"2004"},{"v":"47"}]}), WrappedTableRow({"f":[{"v":"18.0007436923"},{"v":"WY"},{"v":"1979"},{"v":"35"}]}), WrappedTableRow({"f":[{"v":"18.0007436923"},{"v":null},{"v":"2006"},{"v":"39"}]}), WrappedTableRow({"f":[{"v":"18.0007436923"},{"v":null},{"v":"2006"},{"v":"37"}]}), WrappedTableRow({"f":[{"v":"18.0007436923"},{"v":"KY"},{"v":"2004"},{"v":"38"}]}), WrappedTableRow({"f":[{"v":"18.0007436923"},{"v":"KY"},{"v":"2004"},{"v":"39"}]}), WrappedTableRow({"f":[{"v":"18.0007436923"},{"v":"KY"},{"v":"2004"},{"v":"47"}]})...</span>

println(rows.take(<span class="pl-c1">10</span>).map(_.cells.map(_.value.orNull).mkString(<span class="pl-s"><span class="pl-pds">"</span>,<span class="pl-pds">"</span></span>)).mkString(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\n</span><span class="pl-pds">"</span></span>))

<span class="pl-c1">18.0007436923</span>,<span class="pl-c1">null</span>,<span class="pl-c1">2005</span>,<span class="pl-c1">null</span>
<span class="pl-c1">18.0007436923</span>,<span class="pl-c1">null</span>,<span class="pl-c1">2005</span>,<span class="pl-c1">37</span>
<span class="pl-c1">18.0007436923</span>,<span class="pl-en">KY</span>,<span class="pl-c1">2004</span>,<span class="pl-c1">47</span>
<span class="pl-c1">18.0007436923</span>,<span class="pl-en">WY</span>,<span class="pl-c1">1979</span>,<span class="pl-c1">35</span>
<span class="pl-c1">18.0007436923</span>,<span class="pl-c1">null</span>,<span class="pl-c1">2006</span>,<span class="pl-c1">39</span>
<span class="pl-c1">18.0007436923</span>,<span class="pl-c1">null</span>,<span class="pl-c1">2006</span>,<span class="pl-c1">37</span>
<span class="pl-c1">18.0007436923</span>,<span class="pl-en">KY</span>,<span class="pl-c1">2004</span>,<span class="pl-c1">38</span>
<span class="pl-c1">18.0007436923</span>,<span class="pl-en">KY</span>,<span class="pl-c1">2004</span>,<span class="pl-c1">39</span>
<span class="pl-c1">18.0007436923</span>,<span class="pl-en">KY</span>,<span class="pl-c1">2004</span>,<span class="pl-c1">47</span>
<span class="pl-c1">18.0007436923</span>,<span class="pl-en">UT</span>,<span class="pl-c1">1982</span>,<span class="pl-c1">33</span></pre>
  </div> 
  <p>See more examples <a href="https://github.com/seratch/bigquery4s/tree/master/src/test/scala/bigquery4s/UsageExamplesSpec.scala" target="_blank">here</a>.</p> 
  <h4><a id="user-content-license" class="anchor" href="https://github.com/seratch/bigquery4s#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h4> 
  <p>(The MIT License)</p> 
  <p>Copyright (c) 2015 Kazuhiro Sera &lt;seratch_at_gmail.com&gt;</p> 
 </article>
</div>