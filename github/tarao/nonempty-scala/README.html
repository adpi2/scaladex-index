<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/tarao/nonempty-scala#nonempty---" aria-hidden="true" class="anchor" id="user-content-nonempty---" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>nonempty <a href="https://travis-ci.org/tarao/nonempty-scala" target="_blank"><img src="https://camo.githubusercontent.com/8072aa60bc587d368aff6415015ac85a7a0f8b4f/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f746172616f2f6e6f6e656d7074792d7363616c612e7376673f6272616e63683d6d6173746572267374796c653d666c6174" alt="Build Status" data-canonical-src="https://img.shields.io/travis/tarao/nonempty-scala.svg?branch=master&amp;style=flat" style="max-width:100%;"></a> <a href="https://maven-badges.herokuapp.com/maven-central/com.github.tarao/nonempty_2.12" target="_blank"><img src="https://camo.githubusercontent.com/ff8bdbdb9aacbb1394efad11c3b1563de3350b08/68747470733a2f2f6d6176656e2d6261646765732e6865726f6b756170702e636f6d2f6d6176656e2d63656e7472616c2f636f6d2e6769746875622e746172616f2f6e6f6e656d7074795f322e31322f62616467652e7376673f7374796c653d666c6174" alt="Maven Central" data-canonical-src="https://maven-badges.herokuapp.com/maven-central/com.github.tarao/nonempty_2.12/badge.svg?style=flat" style="max-width:100%;"></a> <a href="http://javadoc-badge.appspot.com/com.github.tarao/nonempty_2.12" target="_blank"><img src="https://camo.githubusercontent.com/0b4ad8f01fb2944996b5df0dcaf8ad2a85af5f40/687474703a2f2f6a617661646f632d62616467652e61707073706f742e636f6d2f636f6d2e6769746875622e746172616f2f6e6f6e656d7074795f322e31322e7376673f6c6162656c3d7363616c61646f63" alt="Scaladoc" data-canonical-src="http://javadoc-badge.appspot.com/com.github.tarao/nonempty_2.12.svg?label=scaladoc" style="max-width:100%;"></a></h1> 
  <p>A type to statically guaranteeing or requring nonemptiness of lists.</p> 
  <h2><a href="https://github.com/tarao/nonempty-scala#getting-started" aria-hidden="true" class="anchor" id="user-content-getting-started" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting started</h2> 
  <p>Add dependency in your <code>build.sbt</code> as the following.</p> 
  <div class="highlight highlight-source-scala">
   <pre>    libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
      ...
      <span class="pl-s"><span class="pl-pds">"</span>com.github.tarao<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>nonempty<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.0.7<span class="pl-pds">"</span></span>
    )</pre>
  </div> 
  <p>The library is available on <a href="https://maven-badges.herokuapp.com/maven-central/com.github.tarao/nonempty_2.12" target="_blank">Maven Central</a>. Currently, supported Scala version is 2.11 and 2.12.</p> 
  <h2><a href="https://github.com/tarao/nonempty-scala#use-case" aria-hidden="true" class="anchor" id="user-content-use-case" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Use case</h2> 
  <h3><a href="https://github.com/tarao/nonempty-scala#guaranteeing-nonemptiness" aria-hidden="true" class="anchor" id="user-content-guaranteeing-nonemptiness" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Guaranteeing nonemptiness</h3> 
  <p>Type <code>NonEmpty[A]</code> denotes that it is a nonempty list whose elements are of type <code>A</code>. There are only two ways to instantiate a <code>NonEmpty[A]</code>:</p> 
  <ul> 
   <li>calling <code>NonEmpty.apply</code>, which takes at least one argument, or</li> 
   <li>calling <code>NonEmpty.fromIterable</code>, which returns <code>Option[NonEmpty[_]]</code>.</li> 
  </ul> 
  <p>For example, calling <code>NonEmpty.apply</code> with one or two arguments is legal but calling it with zero arguments is illegal.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">one</span> <span class="pl-k">=</span> <span class="pl-en">NonEmpty</span>(<span class="pl-c1">1</span>)
<span class="pl-k">val</span> <span class="pl-en">two</span> <span class="pl-k">=</span> <span class="pl-en">NonEmpty</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>)
<span class="pl-k">val</span> <span class="pl-en">zero</span> <span class="pl-k">=</span> <span class="pl-en">NonEmpty</span>() <span class="pl-c"><span class="pl-c">//</span> Compile error</span></pre>
  </div> 
  <p><code>NonEmpty.fromIterable</code> takes an <code>Iterable[_]</code> with an arbitrary number of elements. In this case, the return type is <code>Option[NonEmpty[_]]</code> and its value is <code>None</code> if you passed an empty <code>Iterable[]</code>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">s</span><span class="pl-k">:</span> <span class="pl-en">Seq</span>[<span class="pl-k">Int</span>] <span class="pl-k">=</span> ...
<span class="pl-k">val</span> <span class="pl-en">maybeEmpty</span><span class="pl-k">:</span> <span class="pl-en">Option</span>[<span class="pl-en">NonEmpty</span>[<span class="pl-k">Int</span>]] <span class="pl-k">=</span> <span class="pl-en">NonEmpty</span>.fromIterable(s)

<span class="pl-k">val</span> <span class="pl-en">Some</span>(nonempty) <span class="pl-k">=</span> <span class="pl-en">NonEmpty</span>.fromIterable(<span class="pl-en">Seq</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>))

<span class="pl-k">val</span> <span class="pl-en">None</span> <span class="pl-k">=</span> <span class="pl-en">NonEmpty</span>.fromIterable(<span class="pl-en">Seq</span>())</pre>
  </div> 
  <p>If you pass a mutable collection to <code>NonEmpty.fromIterable</code> then the elements of the collection are copied. Otherwise, <code>NonEmpty</code> holds the original (immutable) collection.</p> 
  <h3><a href="https://github.com/tarao/nonempty-scala#requring-nonempty-lists" aria-hidden="true" class="anchor" id="user-content-requring-nonempty-lists" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Requring nonempty lists</h3> 
  <p>When you require an argument to be nonempty, then you just have to define a method which takes a <code>NonEmpty[]</code>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">requiresNonEmpty</span>(<span class="pl-v">nonempty</span>: <span class="pl-en">NonEmpty</span>[<span class="pl-k">Int</span>]) <span class="pl-k">=</span> ...</pre>
  </div> 
  <p>Then it is the caller of the method who is obliged to pass a nonempty list. The caller may need a pattern matching if there is no guarantee that the list isn't empty.</p> 
  <div class="highlight highlight-source-scala">
   <pre>requiresNonEmpty(<span class="pl-en">NonEmpty</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>))

<span class="pl-k">val</span> <span class="pl-en">s</span><span class="pl-k">:</span> <span class="pl-en">Seq</span>[<span class="pl-k">Int</span>] <span class="pl-k">=</span> ...
<span class="pl-k">val</span> <span class="pl-en">maybeEmpty</span> <span class="pl-k">=</span> <span class="pl-en">NonEmpty</span>.fromIterable(s)
maybeEmpty <span class="pl-k">match</span> {
  <span class="pl-k">case</span> <span class="pl-en">Some</span>(nonempty) <span class="pl-k">=&gt;</span> requiresNonEmpty(nonempty)
  <span class="pl-k">case</span> _              <span class="pl-k">=&gt;</span> ... <span class="pl-c"><span class="pl-c">/*</span> do something else <span class="pl-c">*/</span></span>
}</pre>
  </div> 
  <p>If you allow an empty list by providing a default value, then you can define a method which takes an <code>Option[NonEmpty[_]]</code>. In this case, you need a pattern matching inside the method.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">acceptsEmpty</span>(<span class="pl-v">maybeEmpty</span>: <span class="pl-en">Option</span>[<span class="pl-en">NonEmpty</span>[<span class="pl-k">Int</span>]]) <span class="pl-k">=</span>
  maybeEmpty <span class="pl-k">match</span> {
    <span class="pl-k">case</span> <span class="pl-en">Some</span>(nonempty) <span class="pl-k">=&gt;</span> requiresNonEmpty(nonempty)
    <span class="pl-k">case</span> <span class="pl-c1">None</span>           <span class="pl-k">=&gt;</span> ... <span class="pl-c"><span class="pl-c">/*</span> provide a default value <span class="pl-c">*/</span></span>
  }

<span class="pl-k">val</span> <span class="pl-en">s</span><span class="pl-k">:</span> <span class="pl-en">Seq</span>[<span class="pl-k">Int</span>] <span class="pl-k">=</span> ...
acceptsEmpty(s)</pre>
  </div> 
  <p>Note that it is possible to pass an <code>Iterable[A]</code> as an argument of type <code>Option[NonEmpty[A]]</code> because there is an implicit conversion from <code>Iterable[A]</code> to <code>Option[NonEmpty[A]]</code> for any <code>A</code>.</p> 
  <h3><a href="https://github.com/tarao/nonempty-scala#preserving-nonemptiness" aria-hidden="true" class="anchor" id="user-content-preserving-nonemptiness" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Preserving nonemptiness</h3> 
  <p>Some collection methods such as <code>map()</code> preserve nonemptiness. The methods are <a href="http://javadoc-badge.appspot.com/com.github.tarao/nonempty_2.12/com/github/tarao/nonempty/NonEmpty.html" target="_blank">those which are directly defined in <code>class NonEmpty[]</code></a>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">nonempty</span><span class="pl-k">:</span> <span class="pl-en">NonEmpty</span>[<span class="pl-k">Int</span>] <span class="pl-k">=</span> <span class="pl-en">NonEmpty</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>).map(x <span class="pl-k">=&gt;</span> x <span class="pl-k">*</span> x)</pre>
  </div> 
  <p>Note that if you wish to use <code>scala.collection.breakOut</code> for these methods, you actually need to use <code>com.github.tarao.nonempty.breakOut</code> instead.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.github.tarao.nonempty.</span><span class="pl-v">breakOut</span>
<span class="pl-k">val</span> <span class="pl-en">m</span><span class="pl-k">:</span> <span class="pl-en">Map</span>[<span class="pl-k">Int</span>, <span class="pl-k">Int</span>] <span class="pl-k">=</span> <span class="pl-en">NonEmpty</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>).map(x <span class="pl-k">=&gt;</span> x <span class="pl-k">-</span><span class="pl-k">&gt;</span> x <span class="pl-k">*</span> x)(breakOut)</pre>
  </div> 
  <h3><a href="https://github.com/tarao/nonempty-scala#breaking-nonemptiness" aria-hidden="true" class="anchor" id="user-content-breaking-nonemptiness" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Breaking nonemptiness</h3> 
  <p>You can freely convert a <code>NonEmpty[_]</code> into an <code>Iterable[_]</code>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">list</span><span class="pl-k">:</span> <span class="pl-en">Iterable</span>[<span class="pl-k">Int</span>] <span class="pl-k">=</span> <span class="pl-en">NonEmpty</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>)</pre>
  </div> 
  <p>You can also call any collection method which does not preserve nonemptiness. If the method returns a collection then the type of the collection is <code>Iterable[_]</code>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">nonempty</span><span class="pl-k">:</span> <span class="pl-en">NonEmpty</span>[<span class="pl-k">Int</span>] <span class="pl-k">=</span> ...
<span class="pl-k">val</span> <span class="pl-en">list</span><span class="pl-k">:</span> <span class="pl-en">Iterable</span>[<span class="pl-k">Int</span>] <span class="pl-k">=</span> nonempty.filter(_ <span class="pl-k">%</span> <span class="pl-c1">2</span> <span class="pl-k">==</span> <span class="pl-c1">0</span>)</pre>
  </div> 
  <p>These methods are called via an implicit conversion from <code>NonEmpty[A]</code> to <code>Iterable[A]</code>.</p> 
  <h2><a href="https://github.com/tarao/nonempty-scala#license" aria-hidden="true" class="anchor" id="user-content-license" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <ul> 
   <li>Copyright (C) INA Lintaro</li> 
   <li>MIT License</li> 
  </ul> 
 </article>
</div>