<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-scala-automapper" class="anchor" href="https://github.com/bfil/scala-automapper#scala-automapper" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala AutoMapper</h1> 
  <p>A library that uses macros to generate mappings between case classes.</p> 
  <h4><a id="user-content-current-features" class="anchor" href="https://github.com/bfil/scala-automapper#current-features" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Current features</h4> 
  <ul> 
   <li>Nested case classes</li> 
   <li>Optional fields</li> 
   <li>Iterable fields</li> 
   <li>Map fields (only values)</li> 
   <li>Default values</li> 
   <li>Compile time errors for incomplete mappings</li> 
   <li>Dynamic field mapping</li> 
  </ul> 
  <h4><a id="user-content-planned-features" class="anchor" href="https://github.com/bfil/scala-automapper#planned-features" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Planned features</h4> 
  <ul> 
   <li>Map keys mapping</li> 
  </ul> 
  <p><em>Anything else you would like to see here? Feel free to open an issue or contribute!</em></p> 
  <h2><a id="user-content-setting-up-the-dependencies" class="anchor" href="https://github.com/bfil/scala-automapper#setting-up-the-dependencies" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Setting up the dependencies</h2> 
  <p><strong>Scala AutoMapper</strong> is available on <code>Maven Central</code> (since version <code>0.6.0</code>), it supports Scala 2.12 and Scala 2.11.</p> 
  <p>Using SBT, add the following dependency to your build file:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-s"><span class="pl-pds">"</span>io.bfil<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>automapper<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.6.0<span class="pl-pds">"</span></span>
)</pre>
  </div> 
  <p>If you have issues resolving the dependency, you can add the following resolver:</p> 
  <div class="highlight highlight-source-scala">
   <pre>resolvers <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-en">Resolver</span>.bintrayRepo(<span class="pl-s"><span class="pl-pds">"</span>bfil<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>maven<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/bfil/scala-automapper#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>Let's use the following classes for a very simple example:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">SourceClass</span>(<span class="pl-v">label</span>: <span class="pl-k">String</span>, <span class="pl-v">value</span>: <span class="pl-k">Int</span>)
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">TargetClass</span>(<span class="pl-v">label</span>: <span class="pl-k">String</span>, <span class="pl-v">value</span>: <span class="pl-k">Int</span>)</pre>
  </div> 
  <p>To map a source class instance to the target class use any of the following ways:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">io.bfil.automapper.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">source</span> <span class="pl-k">=</span> <span class="pl-en">SourceClass</span>(<span class="pl-s"><span class="pl-pds">"</span>label<span class="pl-pds">"</span></span>, <span class="pl-c1">10</span>)
<span class="pl-k">val</span> <span class="pl-en">target</span> <span class="pl-k">=</span> automap(source).to[<span class="pl-en">TargetClass</span>]</pre>
  </div> 
  <h3><a id="user-content-using-implicit-mappings" class="anchor" href="https://github.com/bfil/scala-automapper#using-implicit-mappings" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Using implicit mappings</h3> 
  <p>Implicit mappings can be defined separately and then used to map case classes</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">io.bfil.automapper.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">source</span> <span class="pl-k">=</span> <span class="pl-en">SourceClass</span>(<span class="pl-s"><span class="pl-pds">"</span>label<span class="pl-pds">"</span></span>, <span class="pl-c1">10</span>)

<span class="pl-k">trait</span> <span class="pl-en">MyMappings</span> {
	<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">mapping1</span> <span class="pl-k">=</span> generateMapping[<span class="pl-en">SourceClass</span>, <span class="pl-en">TargetClass</span>]
	<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">mapping2</span> <span class="pl-k">=</span> generateMapping[<span class="pl-en">SourceClass</span>, <span class="pl-en">AnotherClass</span>]
}

<span class="pl-k">object</span> <span class="pl-en">Example</span> <span class="pl-k">extends</span> <span class="pl-e">MyMappings</span> {
	<span class="pl-k">val</span> <span class="pl-en">target1</span> <span class="pl-k">=</span> automap(source).to[<span class="pl-en">TargetClass</span>]
	<span class="pl-k">val</span> <span class="pl-en">target2</span> <span class="pl-k">=</span> automap(source).to[<span class="pl-en">AnotherClass</span>]
}</pre>
  </div> 
  <p>This example triggers the macro to generate the <code>Mapping</code> into the <code>MyMappings</code> trait, while the previous example used an implicit conversion to automatically generate the implicit mapping on the fly.</p> 
  <p>There's no real difference, obviously the first one is less verbose, but we will take a look at how to generate more complex mappings that require the mappings to be generated separately.</p> 
  <p>If some of the fields cannot be mapped automatically a compilation error will occur notifying the missing fields. In this case we can fill out the blanks by using dynamic mappings.</p> 
  <h3><a id="user-content-dynamic-mappings" class="anchor" href="https://github.com/bfil/scala-automapper#dynamic-mappings" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Dynamic mappings</h3> 
  <p>It is pretty common to want to rename a field, or to have a calculated field into the target class that depend on the source class or other variables.</p> 
  <p>A dynamic mapping can be used to be able to partially map case classes with custom logic.</p> 
  <p>Take a look at the following example:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">SourceClass</span>(<span class="pl-v">label</span>: <span class="pl-k">String</span>, <span class="pl-v">field</span>: <span class="pl-k">String</span>, <span class="pl-v">values</span>: <span class="pl-k">Int</span>)
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">TargetClass</span>(<span class="pl-v">label</span>: <span class="pl-k">String</span>, <span class="pl-v">renamedField</span>: <span class="pl-k">String</span>, <span class="pl-v">total</span>: <span class="pl-k">Int</span>)</pre>
  </div> 
  <p>The label field can be automatically mapped, but not the other 2, here is how you can specify a dynamic mapping for those fields:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">io.bfil.automapper.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">source</span> <span class="pl-k">=</span> <span class="pl-en">SourceClass</span>(<span class="pl-s"><span class="pl-pds">"</span>label<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>field<span class="pl-pds">"</span></span>, <span class="pl-en">List</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>))

<span class="pl-k">val</span> <span class="pl-en">values</span> <span class="pl-k">=</span> source.list
<span class="pl-k">def</span> <span class="pl-en">sum</span>(<span class="pl-v">values</span>: <span class="pl-en">List</span>[<span class="pl-k">Int</span>]) <span class="pl-k">=</span> values.sum

<span class="pl-k">val</span> <span class="pl-en">target</span> <span class="pl-k">=</span> automap(source).dynamicallyTo[<span class="pl-en">TargetClass</span>](
  renamedField <span class="pl-k">=</span> source.field, total <span class="pl-k">=</span> sum(values)
)</pre>
  </div> 
  <p>The example is unnecessarily complex just to demonstrate that it's possible to write any type of custom logic for the dynamic mapping (or at least I haven't found other issues so far).</p> 
  <p>Note that we didn't have to provide a value for the <code>label</code> field, since it could be automatically mapped.</p> 
  <h3><a id="user-content-mapping-rules" class="anchor" href="https://github.com/bfil/scala-automapper#mapping-rules" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Mapping rules</h3> 
  <p>To fully understand how the mapping takes place here are some basic rules that are applied by the macro when generating the mapping:</p> 
  <ol> 
   <li>The dynamic mapping takes precedence over everything else</li> 
   <li><code>Option</code> fields will be filled in with a value of <code>None</code> if the source class does not contain the field</li> 
   <li><code>Iterable</code> and <code>Map</code> fields will be filled in with an empty <code>Iterable</code> / <code>Map</code> if the source class does not contain the field</li> 
   <li>If the target class has a field with a default value it will be used if the source class does not contain the field</li> 
   <li>Due to how the mapping is generated default values for <code>Option</code> / <code>Iterable</code> / <code>Map</code> fields will not be considered and a <code>None</code> or empty value will be used into the target class instead</li> 
  </ol> 
  <h3><a id="user-content-generated-code" class="anchor" href="https://github.com/bfil/scala-automapper#generated-code" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Generated code</h3> 
  <p>To give some insight on how the macro generated code looks like, here are some examples taken <a href="https://github.com/bfil/scala-automapper/blob/master/automapper/src/test/scala/com/bfil/automapper/AutoMappingSpec.scala" target="_blank">from the tests</a>.</p> 
  <p>Here is our example source class:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">SourceClass</span>(
  <span class="pl-v">field</span>: <span class="pl-k">String</span>,
  <span class="pl-v">data</span>: <span class="pl-en">SourceData</span>,
  <span class="pl-v">list</span>: <span class="pl-en">List</span>[<span class="pl-k">Int</span>],
  <span class="pl-v">typedList</span>: <span class="pl-en">List</span>[<span class="pl-en">SourceData</span>],
  <span class="pl-v">optional</span>: <span class="pl-en">Option</span>[<span class="pl-k">String</span>],
  <span class="pl-v">typedOptional</span>: <span class="pl-en">Option</span>[<span class="pl-en">SourceData</span>],
  <span class="pl-v">map</span>: <span class="pl-en">Map</span>[<span class="pl-k">String</span>, <span class="pl-k">Int</span>],
  <span class="pl-v">typedMap</span>: <span class="pl-en">Map</span>[<span class="pl-k">String</span>, <span class="pl-en">SourceData</span>],
  <span class="pl-v">level1</span>: <span class="pl-en">SourceLevel1</span>)

<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">SourceData</span>(<span class="pl-v">label</span>: <span class="pl-k">String</span>, <span class="pl-v">value</span>: <span class="pl-k">Int</span>)
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">SourceLevel1</span>(<span class="pl-v">level2</span>: <span class="pl-en">Option</span>[<span class="pl-en">SourceLevel2</span>])
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">SourceLevel2</span>(<span class="pl-v">treasure</span>: <span class="pl-k">String</span>)</pre>
  </div> 
  <h4><a id="user-content-without-dynamic-mapping" class="anchor" href="https://github.com/bfil/scala-automapper#without-dynamic-mapping" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Without dynamic mapping</h4> 
  <p>The code without dynamic mapping looks pretty much as it would look like if the mapping was created manually.</p> 
  <p>This is how the target class looks like, basically it's just a mirror of the source class:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">TargetClass</span>(
  <span class="pl-v">field</span>: <span class="pl-k">String</span>,
  <span class="pl-v">data</span>: <span class="pl-en">TargetData</span>,
  <span class="pl-v">list</span>: <span class="pl-en">List</span>[<span class="pl-k">Int</span>],
  <span class="pl-v">typedList</span>: <span class="pl-en">List</span>[<span class="pl-en">TargetData</span>],
  <span class="pl-v">optional</span>: <span class="pl-en">Option</span>[<span class="pl-k">String</span>],
  <span class="pl-v">typedOptional</span>: <span class="pl-en">Option</span>[<span class="pl-en">TargetData</span>],
  <span class="pl-v">map</span>: <span class="pl-en">Map</span>[<span class="pl-k">String</span>, <span class="pl-k">Int</span>],
  <span class="pl-v">typedMap</span>: <span class="pl-en">Map</span>[<span class="pl-k">String</span>, <span class="pl-en">TargetData</span>],
  <span class="pl-v">level1</span>: <span class="pl-en">TargetLevel1</span>)

<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">TargetData</span>(<span class="pl-v">label</span>: <span class="pl-k">String</span>, <span class="pl-v">value</span>: <span class="pl-k">Int</span>)
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">TargetLevel1</span>(<span class="pl-v">level2</span>: <span class="pl-en">Option</span>[<span class="pl-en">TargetLevel2</span>])
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">TargetLevel2</span>(<span class="pl-v">treasure</span>: <span class="pl-k">String</span>)</pre>
  </div> 
  <p>And here is the mapping generated by the macro:</p> 
  <div class="highlight highlight-source-scala">
   <pre>{
  <span class="pl-k">import</span> <span class="pl-v">io.bfil.automapper.</span><span class="pl-v">Mapping</span>;
  {
    <span class="pl-k">final</span> <span class="pl-k">class</span> <span class="pl-en">$anon</span> <span class="pl-k">extends</span> <span class="pl-e">Mapping</span>[<span class="pl-en">SourceClass</span>, <span class="pl-en">TargetClass</span>] {
      <span class="pl-k">def</span> <span class="pl-en">map</span>(<span class="pl-v">a</span>: <span class="pl-en">SourceClass</span>)<span class="pl-k">:</span> <span class="pl-en">TargetClass</span> <span class="pl-k">=</span> <span class="pl-en">TargetClass</span>(
        field <span class="pl-k">=</span> a.field,
        data <span class="pl-k">=</span> <span class="pl-en">TargetData</span>(label <span class="pl-k">=</span> a.data.label, value <span class="pl-k">=</span> a.data.value),
        list <span class="pl-k">=</span> a.list,
        typedList <span class="pl-k">=</span> a.typedList.map(((a) <span class="pl-k">=&gt;</span> <span class="pl-en">TargetData</span>(label <span class="pl-k">=</span> a.label, value <span class="pl-k">=</span> a.value))),
        optional <span class="pl-k">=</span> a.optional,
        typedOptional <span class="pl-k">=</span> a.typedOptional.map(((a) <span class="pl-k">=&gt;</span> <span class="pl-en">TargetData</span>(label <span class="pl-k">=</span> a.label, value <span class="pl-k">=</span> a.value))),
        map <span class="pl-k">=</span> a.map,
        typedMap <span class="pl-k">=</span> a.typedMap.mapValues(((a) <span class="pl-k">=&gt;</span> <span class="pl-en">TargetData</span>(label <span class="pl-k">=</span> a.label, value <span class="pl-k">=</span> a.value))),
        level1 <span class="pl-k">=</span> <span class="pl-en">TargetLevel1</span>(level2 <span class="pl-k">=</span> a.level1.level2.map(((a) <span class="pl-k">=&gt;</span> <span class="pl-en">TargetLevel2</span>(treasure <span class="pl-k">=</span> a.treasure)))))
    };
    <span class="pl-k">new</span> <span class="pl-en">$anon</span>()
  }
}</pre>
  </div> 
  <h4><a id="user-content-with-dynamic-mapping" class="anchor" href="https://github.com/bfil/scala-automapper#with-dynamic-mapping" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>With dynamic mapping</h4> 
  <p>The code with dynamic mapping has the only overhead of having to use an instance of <code>Dynamic</code>, so it looks a little bit different.</p> 
  <p>This is how the target class looks like:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">TargetWithDynamicMapping</span>(<span class="pl-v">renamedField</span>: <span class="pl-k">String</span>, <span class="pl-v">data</span>: <span class="pl-en">TargetData</span>, <span class="pl-v">total</span>: <span class="pl-k">Int</span>)</pre>
  </div> 
  <p>Here is how the dynamic mapping looks like:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">values</span> <span class="pl-k">=</span> source.list
<span class="pl-k">def</span> <span class="pl-en">sum</span>(<span class="pl-v">values</span>: <span class="pl-en">List</span>[<span class="pl-k">Int</span>]) <span class="pl-k">=</span> values.sum

automap(source).dynamicallyTo[<span class="pl-en">TargetWithDynamicMapping</span>](
  renamedField <span class="pl-k">=</span> source.field, total <span class="pl-k">=</span> sum(values)
)</pre>
  </div> 
  <p>And finally, here is the mapping generated by the macro:</p> 
  <div class="highlight highlight-source-scala">
   <pre>{
  <span class="pl-k">import</span> <span class="pl-v">io.bfil.automapper.</span><span class="pl-v">Mapping</span>;
  {
    <span class="pl-k">final</span> <span class="pl-k">class</span> <span class="pl-en">$anon</span> <span class="pl-k">extends</span> <span class="pl-e">Mapping</span>[<span class="pl-en">SourceClass</span>, <span class="pl-en">TargetWithDynamicMapping</span>] {
      <span class="pl-k">def</span> <span class="pl-en">map</span>(<span class="pl-v">a</span>: <span class="pl-en">SourceClass</span>)<span class="pl-k">:</span> <span class="pl-en">TargetWithDynamicMapping</span> <span class="pl-k">=</span> {
        <span class="pl-en">TargetWithDynamicMapping</span>(
          renamedField <span class="pl-k">=</span> source.field,
          data <span class="pl-k">=</span> <span class="pl-en">TargetData</span>(label <span class="pl-k">=</span> a.data.label, value <span class="pl-k">=</span> a.data.value),
          total <span class="pl-k">=</span> sum(values)
        )
      }
    };
    <span class="pl-k">new</span> <span class="pl-en">$anon</span>()
  }
}</pre>
  </div> 
  <p>Pretty cool. Huh?</p> 
  <h2><a id="user-content-license" class="anchor" href="https://github.com/bfil/scala-automapper#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>This software is licensed under the Apache 2 license, quoted below.</p> 
  <p>Copyright © 2015-2017 Bruno Filippone <a href="http://bfil.io" target="_blank">http://bfil.io</a></p> 
  <p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at</p> 
  <pre><code>[http://www.apache.org/licenses/LICENSE-2.0]
</code></pre> 
  <p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p> 
 </article>
</div>