<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-about-chisel" class="anchor" href="https://github.com/ucb-bar/chisel#about-chisel" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>About Chisel</h1> 
  <p>Chisel is a new open-source hardware construction language developed at UC Berkeley that supports advanced hardware design using highly parameterized generators and layered domain-specific hardware languages.</p> 
  <p>Chisel is embedded in the <a href="http://www.scala-lang.org/" target="_blank">Scala</a> programming language, which raises the level of hardware design abstraction by providing concepts including object orientation, functional programming, parameterized types, and type inference.</p> 
  <p>Chisel can generate a high-speed C++-based cycle-accurate software simulator, or low-level Verilog designed to pass on to standard ASIC or FPGA tools for synthesis and place and route.</p> 
  <p>Visit the <a href="http://chisel.eecs.berkeley.edu/" target="_blank">community website</a> for more information.</p> 
  <h1><a id="user-content-getting-started" class="anchor" href="https://github.com/ucb-bar/chisel#getting-started" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting started</h1> 
  <h2><a id="user-content-chisel-users" class="anchor" href="https://github.com/ucb-bar/chisel#chisel-users" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Chisel Users</h2> 
  <p>To start working on a circuit with Chisel, create simple build.sbt and scala source file containing your Chisel code as follow.</p> 
  <pre><code>$ cat build.sbt
scalaVersion := "2.11.7"

libraryDependencies += "edu.berkeley.cs" %% "chisel" % "latest.release"
</code></pre> 
  <p>(You want your build.sbt file to contain a reference to Scala version greater or equal to 2.10 and a dependency on the Chisel library.)</p> 
  <p>Edit the source files for your circuit</p> 
  <pre><code>$ cat Hello.scala
import Chisel._

class HelloModule extends Module {
  val io = new Bundle {}
  printf("Hello World!\n")
}

class HelloModuleTests(c: HelloModule) extends Tester(c) {
  step(1)
}

object hello {
  def main(args: Array[String]): Unit = {
    chiselMainTest(Array[String]("--backend", "c", "--compile", "--test", "--genHarness"),
       () =&gt; Module(new HelloModule())){c =&gt; new HelloModuleTests(c)}
  }
}
</code></pre> 
  <p>At this point you will need to <a href="http://www.scala-sbt.org/release/docs/Getting-Started/Setup.html#installing-sbt" target="_blank">download and install sbt</a> for your favorite distribution. You will need sbt version 0.13.0 or higher because <a href="http://www.scala-sbt.org/0.13.0/docs/Community/Changes.html" target="_blank">recent versions of sbt</a> generate jars without the scala third-point version number (i.e. chisel_2.11-2.2.32.jar instead of chisel_2.11<em>.2</em>-2.2.32.jar).</p> 
  <p>Execute sbt run to generate the C++ simulation source for your circuit, and (assuming you have a g++ compiler installed), compile it, and execute it under the tester.</p> 
  <pre><code>$ sbt run
</code></pre> 
  <p>Going further, you should read on the <a href="http://www.scala-sbt.org/release/docs/Getting-Started/Directories.html" target="_blank">sbt directory structure</a> to organize your files for bigger projects. SBT is the "official" build system for Scala but you can use any other Java build system you like (Maven, etc).</p> 
  <p>Chisel is implemented 100% in Scala!</p> 
  <h2><a id="user-content-chisel-developers" class="anchor" href="https://github.com/ucb-bar/chisel#chisel-developers" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Chisel developers</h2> 
  <p>You should have git, make, scala, and sbt installed on your development system. First, clone the Chisel repository and change to the project directory:</p> 
  <pre><code>$ git clone https://github.com/ucb-bar/chisel.git
$ cd chisel
</code></pre> 
  <p>Compile and install your local copy of Chisel:</p> 
  <pre><code>$ make clean test publish-local
</code></pre> 
  <p>In order to use your local copy of Chisel in your own projects, you will need to update your build.sbt files so the Chisel library dependency is satisfied by your local copy. Replace</p> 
  <pre><code>libraryDependencies += "edu.berkeley.cs" %% "chisel" % "latest.release"
</code></pre> 
  <p>with:</p> 
  <pre><code>libraryDependencies += "edu.berkeley.cs" %% "chisel" % "2.3-SNAPSHOT"
</code></pre> 
  <p>Before you generate a pull request, run the following command to insure all unit tests pass.</p> 
  <pre><code>$ make test
</code></pre> 
  <p>You can follow Chisel metrics on style compliance and code coverage on the <a href="https://chisel.eecs.berkeley.edu/unit_test_trends.html" target="_blank">website</a>.</p> 
  <p>If you are debugging an issue in a third-party project which depends on the Chisel jar, first check that the chisel version in your chisel code base and in the third-party project library dependency match. After editing the chisel code base, delete the local jar cache directory to make sure you are not picking up incorrect jar files, then publish the Chisel jar locally and remake your third-party project. Example:</p> 
  <pre><code>$ cat *srcTop*/chisel/project/build.scala
...
version := "2.3-SNAPSHOT"
...

$ cat *srcTop*/riscv-sodor/project/build.scala
...
libraryDependencies += "edu.berkeley.cs" %% "chisel" % "2.3-SNAPSHOT"
...

$ cd *srcTop*/chisel &amp;&amp; make publish-local
$ cd *srcTop*/riscv-sodor &amp;&amp; make run-emulator
</code></pre> 
  <h2><a id="user-content-documentation" class="anchor" href="https://github.com/ucb-bar/chisel#documentation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Documentation</h2> 
  <p>Documentation has been moved to a separate <a href="https://github.com/ucb-bar/chisel-doc" target="_blank">repo</a>.</p> 
  <h1><a id="user-content-chisel3" class="anchor" href="https://github.com/ucb-bar/chisel#chisel3" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Chisel3</h1> 
  <p>We're gearing up for the release of Chisel3. To facilitate the transition from Chisel2, you should ensure that your designs build and test in Chisel3 compatibility mode by passing the following arguments to Chisel:</p> 
  <pre><code>--minimumCompatibility 3.0.0
</code></pre> 
  <p>If you invoke chiselMain() or chiselMainTest() directly, you should add these arguments to your current argument list:</p> 
  <pre><code>object hello {
  def main(args: Array[String]): Unit = {
    chiselMainTest(Array[String]("--backend", "c", "--compile", "--test", "--genHarness", "--minimumCompatibility", "3.0.0"),
       () =&gt; Module(new HelloModule())){c =&gt; new HelloModuleTests(c)}
  }
}
</code></pre> 
  <p>This will report errors for the following Chisel3 issues:</p> 
  <ul> 
   <li>Vec(Reg) should be replaced with Reg(Vec),</li> 
   <li>type-only vals (no associated data) must be wrapped in a Wire() if they will be the destination of a wiring operation (":=" or " &lt; &gt;"),</li> 
   <li>masked bit patterns ('b??') should be created using BitPat(), not UInt() or Bits(),</li> 
   <li>the "clone" method required for parameterized Bundles has been renamed "cloneType",</li> 
   <li>the con and alt inputs to a Mux must be type-compatible - both signed or both unsigned,</li> 
   <li>bulk-connection to a node that has been procedurally assigned-to is illegal,</li> 
   <li>!= is deprecated, use =/= instead,</li> 
   <li>use SeqMem(...) instead of Mem(..., seqRead),</li> 
   <li>use SeqMem(n:Int, out: =&gt; T) instead of SeqMem(out: =&gt; T, n:Int),</li> 
   <li>use Mem(n:Int, t:T) instead of Mem(out:T, n:Int),</li> 
   <li>use Vec(n:Int, gen: =&gt; T) instead of Vec(gen: =&gt; T, n:Int),</li> 
   <li>Mem(..., orderedWrites) is no longer supported,</li> 
   <li>masked writes are only supported for Mem[Vec[_]],</li> 
   <li>connections between UInt and SInt are illegal.</li> 
   <li>module io's must be wrapped in IO().</li> 
  </ul> 
  <p>In addition, the following incompatibilities require code changes:</p> 
  <ul> 
   <li>the Node class and object no longer exist (the class should have been private in Chisel2)</li> 
   <li>printf() is defined in the Chisel object and produces simulation printf()'s. To use the Scala Predef.printf(), you need to qualify it with Predef.</li> 
   <li>in Chisel2, bulk-connects &lt;&gt; with unconnected source components do not update connections from the unconnected components. In Chisel3, bulk-connects strictly adhere to last connection semantics and unconnected OUTPUTs will be connected to INPUTs resulting in the assignment of random values to those inputs.</li> 
  </ul> 
 </article>
</div>