<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-shapeless-contrib" class="anchor" href="https://github.com/typelevel/shapeless-contrib#shapeless-contrib" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>shapeless-contrib</h1> 
  <p>Interoperability libraries for Shapeless</p> 
  <p><a href="http://travis-ci.org/typelevel/shapeless-contrib" target="_blank"><img src="https://camo.githubusercontent.com/a286b2a342eeb04b2f72593d3e56503f56634d6d/68747470733a2f2f7472617669732d63692e6f72672f747970656c6576656c2f73686170656c6573732d636f6e747269622e706e673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/typelevel/shapeless-contrib.png?branch=master" style="max-width:100%;"></a></p> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/typelevel/shapeless-contrib#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>This library is currently available for Scala 2.10 and 2.11.</p> 
  <p>To use the latest version, include the following in your <code>build.sbt</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-s"><span class="pl-pds">"</span>org.typelevel<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>shapeless-scalacheck<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.4<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>org.typelevel<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>shapeless-spire<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.4<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>org.typelevel<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>shapeless-scalaz<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.4<span class="pl-pds">"</span></span>
)</pre>
  </div> 
  <h2><a id="user-content-what-does-this-library-do" class="anchor" href="https://github.com/typelevel/shapeless-contrib#what-does-this-library-do" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>What does this library do?</h2> 
  <p><code>shapeless-contrib</code> aims to provide smooth interoperability between <a href="https://github.com/milessabin/shapeless" target="_blank">Shapeless</a>, <a href="https://github.com/scalaz/scalaz" target="_blank">Scalaz</a> and <a href="https://github.com/non/spire" target="_blank">Spire</a>. The most prominent feature is automatic derivation of type class instances for case classes, but there is more. If you've got a cool idea for more stuff, please open an issue.</p> 
  <h2><a id="user-content-examples" class="anchor" href="https://github.com/typelevel/shapeless-contrib#examples" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Examples</h2> 
  <h3><a id="user-content-scalaz--shapeless--profit" class="anchor" href="https://github.com/typelevel/shapeless-contrib#scalaz--shapeless--profit" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scalaz + Shapeless = Profit</h3> 
  <p><em>Note:</em> The current 0.3.x series depends on shapeless 2.0.0.</p> 
  <p>The combination of these two libraries allows for some nifty utility functions related to <code>scalaz.Applicative</code>:</p> 
  <ul> 
   <li>lifting arbitrary functions (i.e. a generalized <code>liftA1</code>, <code>liftA2</code>, ...)</li> 
   <li>sequencing and traversing an <code>HList</code> (just like sequencing and traversing a <code>List</code>)</li> 
  </ul> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">shapeless.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">shapeless.contrib.scalaz.</span><span class="pl-v">_</span>

<span class="pl-k">import</span> <span class="pl-v">scalaz.</span><span class="pl-v">Applicative</span>
<span class="pl-k">import</span> <span class="pl-v">scalaz.std.option.</span><span class="pl-v">_</span>

<span class="pl-c"><span class="pl-c">//</span> define a function with arbitrarily many parameters</span>
<span class="pl-k">def</span> <span class="pl-en">foo</span>(<span class="pl-v">x</span>: <span class="pl-k">Int</span>, <span class="pl-v">y</span>: <span class="pl-k">String</span>, <span class="pl-v">z</span>: <span class="pl-k">Float</span>) <span class="pl-k">=</span> s<span class="pl-s"><span class="pl-pds">"</span>$x - $y - $z<span class="pl-pds">"</span></span>

<span class="pl-c"><span class="pl-c">//</span> lift it into `Option`</span>
<span class="pl-k">val</span> <span class="pl-en">lifted</span> <span class="pl-k">=</span> <span class="pl-en">Applicative</span>[<span class="pl-en">Option</span>].liftA(foo _)

<span class="pl-c"><span class="pl-c">//</span> resulting type: `(Option[Int], Option[String], Option[Float]) =&gt; Option[String]`</span>


<span class="pl-c"><span class="pl-c">//</span> define an `HList` consisting of `Option`s</span>
<span class="pl-k">val</span> <span class="pl-en">in</span> <span class="pl-k">=</span> <span class="pl-en">Option</span>(<span class="pl-c1">1</span>) <span class="pl-k">::</span> <span class="pl-en">Option</span>(<span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>) <span class="pl-k">::</span> <span class="pl-en">HNil</span>

<span class="pl-k">val</span> <span class="pl-en">sequenced</span> <span class="pl-k">=</span> sequence(in)

<span class="pl-c"><span class="pl-c">//</span> resulting type: `Option[Int :: String :: HNil]`</span>

<span class="pl-c"><span class="pl-c">//</span> works for `Validation`, too:</span>
<span class="pl-k">import</span> <span class="pl-v">scalaz.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">scalaz.std.string.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">v1</span><span class="pl-k">:</span> <span class="pl-en">Validation</span>[<span class="pl-k">String</span>, <span class="pl-k">Int</span>] <span class="pl-k">=</span> <span class="pl-en">Success</span>(<span class="pl-c1">3</span>)
<span class="pl-k">val</span> <span class="pl-en">v2</span><span class="pl-k">:</span> <span class="pl-en">Validation</span>[<span class="pl-k">String</span>, <span class="pl-k">Float</span>] <span class="pl-k">=</span> <span class="pl-en">Failure</span>(<span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>)
sequence(v1 <span class="pl-k">::</span> v2 <span class="pl-k">::</span> <span class="pl-en">HNil</span>)

<span class="pl-c"><span class="pl-c">//</span> resulting type: `Validation[String, Int :: Float :: HNil]`</span></pre>
  </div> 
  <p>Traversing works the same way, but you will also have to specify a <code>shapeless.Poly</code> which maps over the <code>HList</code> first.</p> 
  <p>In addition to that, it also provides a conversion between their lens types:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">shapeless.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">shapeless.contrib.scalaz.</span><span class="pl-v">_</span>

<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">TwoElem</span>(<span class="pl-v">n</span>: <span class="pl-k">Int</span>, <span class="pl-v">x</span>: <span class="pl-k">String</span>)

<span class="pl-c"><span class="pl-c">//</span> Generate a `shapeless.Lens`</span>
<span class="pl-k">val</span> <span class="pl-en">sLens</span> <span class="pl-k">=</span> lens[<span class="pl-en">TwoElem</span>] <span class="pl-k">&gt;&gt;</span> <span class="pl-en">'n</span>

<span class="pl-c"><span class="pl-c">//</span> Convert it to a `scalaz.Lens`</span>
<span class="pl-k">val</span> <span class="pl-en">zsLens</span> <span class="pl-k">=</span> sLens.asScalaz

<span class="pl-c"><span class="pl-c">//</span> The other way round:</span>
<span class="pl-k">import</span> <span class="pl-v">scalaz.</span><span class="pl-v">Lens</span>

<span class="pl-k">val</span> <span class="pl-en">zLens</span> <span class="pl-k">=</span> <span class="pl-en">Lens</span>.lensId[<span class="pl-k">Int</span>]
<span class="pl-k">val</span> <span class="pl-en">szLens</span> <span class="pl-k">=</span> zLens.asShapeless</pre>
  </div> 
  <h3><a id="user-content-derive-type-classes" class="anchor" href="https://github.com/typelevel/shapeless-contrib#derive-type-classes" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Derive type classes</h3> 
  <p>Consider a simple case class with an addition operation:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Vector3</span>(<span class="pl-v">x</span>: <span class="pl-k">Int</span>, <span class="pl-v">y</span>: <span class="pl-k">Int</span>, <span class="pl-v">z</span>: <span class="pl-k">Int</span>) {
  <span class="pl-k">def</span> <span class="pl-en">+</span>(<span class="pl-v">other</span>: <span class="pl-en">Vector3</span>) <span class="pl-k">=</span> <span class="pl-en">Vector3</span>(<span class="pl-c1">this</span>.x <span class="pl-k">+</span> other.x, <span class="pl-c1">this</span>.y <span class="pl-k">+</span> other.y, <span class="pl-c1">this</span>.z <span class="pl-k">+</span> other.z)
}</pre>
  </div> 
  <p>If we want to use that in a generic setting, e.g. in an algorithm which requires a <code>Monoid</code>, we can define an instance for <code>spire.algebra.Monoid</code> like so:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">implicit</span> <span class="pl-k">object</span> <span class="pl-en">Vector3Monoid</span> <span class="pl-k">extends</span> <span class="pl-e">Monoid</span>[<span class="pl-en">Vector3</span>] {
  <span class="pl-k">def</span> <span class="pl-en">id</span> <span class="pl-k">=</span> <span class="pl-en">Vector3</span>(<span class="pl-c1">0</span>, <span class="pl-c1">0</span>, <span class="pl-c1">0</span>)
  <span class="pl-k">def</span> <span class="pl-en">op</span>(<span class="pl-v">x</span>: <span class="pl-en">Vector3</span>, <span class="pl-v">y</span>: <span class="pl-en">Vector3</span>) <span class="pl-k">=</span> x <span class="pl-k">+</span> y
}</pre>
  </div> 
  <p>This will work nicely for that particular case. However, it requires repetition: addition on <code>Vector3</code> is just pointwise addition of its elements, and the null vector consists of three zeroes. We do not want to repeat that sort of code for all our case classes, and want to derive that automatically. Luckily, this library provides exactly that:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">spire.implicits.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">shapeless.contrib.spire.</span><span class="pl-v">_</span>

<span class="pl-c"><span class="pl-c">//</span> Define the `Vector3` case class without any operations</span>
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Vector3</span>(<span class="pl-v">x</span>: <span class="pl-k">Int</span>, <span class="pl-v">y</span>: <span class="pl-k">Int</span>, <span class="pl-v">z</span>: <span class="pl-k">Int</span>)

<span class="pl-c"><span class="pl-c">//</span> That's it! `Vector3` is an `AdditiveMonoid` now.</span>
<span class="pl-en">Vector3</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>) <span class="pl-k">+</span> <span class="pl-en">Vector3</span>(<span class="pl-k">-</span><span class="pl-c1">1</span>, <span class="pl-c1">3</span>, <span class="pl-c1">0</span>)</pre>
  </div> 
 </article>
</div>