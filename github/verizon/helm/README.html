<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-helm" class="anchor" href="https://github.com/verizon/helm#helm" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Helm</h1> 
  <p><a href="https://github.com/verizon/helm/blob/master/Verizon/helm/blob/docs/src/img/logo.png" target="_blank"><img src="https://github.com/verizon/helm/raw/master/Verizon/helm/raw/docs/src/img/logo.png" alt="Logo" style="max-width:100%;"></a></p> 
  <p><a href="https://travis-ci.org/Verizon/helm" target="_blank"><img src="https://camo.githubusercontent.com/cfa49a4f3991be037660eafd9fa048230de7c22f/68747470733a2f2f7472617669732d63692e6f72672f566572697a6f6e2f68656c6d2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/Verizon/helm.svg?branch=master" style="max-width:100%;"></a> <a href="https://maven-badges.herokuapp.com/maven-central/io.verizon.helm/core_2.11" target="_blank"><img src="https://camo.githubusercontent.com/7a6d8672efc46034524858aafccafec1a9f8deb6/68747470733a2f2f6d6176656e2d6261646765732e6865726f6b756170702e636f6d2f6d6176656e2d63656e7472616c2f696f2e766572697a6f6e2e68656c6d2f636f72655f322e31312f62616467652e737667" alt="Maven Central" data-canonical-src="https://maven-badges.herokuapp.com/maven-central/io.verizon.helm/core_2.11/badge.svg" style="max-width:100%;"></a> <a href="https://codecov.io/gh/Verizon/helm" target="_blank"><img src="https://camo.githubusercontent.com/f3e28288390715f3cdb6b7842c93a4ad73b1e33e/68747470733a2f2f636f6465636f762e696f2f67682f566572697a6f6e2f68656c6d2f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/Verizon/helm/branch/master/graph/badge.svg" style="max-width:100%;"></a></p> 
  <p>A native <a href="http://scala-lang.org" target="_blank">Scala</a> client for interacting with <a href="https://www.consul.io/" target="_blank">Consul</a>. There is currently one supported client, which uses <a href="http://http4s.org" target="_blank">http4s</a> to make HTTP calls to Consul. Alternative implementations could be added with relative ease by providing an additional free interpreter for the <code>ConsulOp</code> algebra.</p> 
  <h2><a id="user-content-getting-started" class="anchor" href="https://github.com/verizon/helm#getting-started" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting Started</h2> 
  <p>Add the following to your <code>build.sbt</code>:</p> 
  <pre><code>libraryDependencies += "io.verizon.helm" %% "http4s" % "1.4.78-scalaz-7.1"
</code></pre> 
  <p>The <em>Helm</em> binaries are located on maven central, so no additional resolvers are needed.</p> 
  <h3><a id="user-content-algebra" class="anchor" href="https://github.com/verizon/helm#algebra" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Algebra</h3> 
  <p>Consul operations are specified by the <code>ConsulOp</code> algebra. Two examples are <code>get</code> and <code>set</code>:</p> 
  <pre><code>import helm._
import ConsulOp.ConsulOpF

val s: ConsulOpF[Unit] = : ConsulOp.set("key", "value")

val g: ConsulOpF[Option[String]] = : ConsulOp.get("key")
</code></pre> 
  <p>These are however just descriptions of what operations the program might perform in the future, just creating these operations does not actually execute the operations. In order to perform the gets and sets, we need to use the <a href="http://http4s.org" target="_blank">http4s</a> interpreter.</p> 
  <h3><a id="user-content-the-http4s-interpreter" class="anchor" href="https://github.com/verizon/helm#the-http4s-interpreter" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>The http4s interpreter</h3> 
  <p>First we create an interpreter, which requires an http4s client and a base url for consul:</p> 
  <pre><code>import helm.http4s._
import org.http4s.Uri.uri
import org.http4s.client.blaze.PooledHttp1Client

val client = PooledHttp1Client()
val baseUrl = uri("http://127.0.0.1:8500")

val interpreter = new Http4sConsulClient(baseUrl, client)
</code></pre> 
  <p>Now we can apply commands to our http4s client to get back Tasks which actually interact with consul.</p> 
  <pre><code>import scalaz.concurrent.Task

val s: Task[Unit] = helm.run(interpreter, ConsulOp.set("testkey", "testvalue"))

val g: Task[Option[String]] = helm.run(interpreter, ConsulOp.get("testkey"))

// actually execute the calls
s.run
g.run
</code></pre> 
  <p>Typically, the <em>Helm</em> algebra would be a part of a <code>Coproduct</code> with other algebras in a larger program, so running the <code>Task</code> immediately after <code>helm.run</code> is not typical.</p> 
  <h2><a id="user-content-contributing" class="anchor" href="https://github.com/verizon/helm#contributing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contributing</h2> 
  <p>Contributions are welcome; particularly to expand the algebra with additional operations that are supported by Consul but not yet supported by <em>Helm</em>.</p> 
 </article>
</div>