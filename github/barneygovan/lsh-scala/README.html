<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-lsh-scala" class="anchor" href="https://github.com/barneygovan/lsh-scala#lsh-scala" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>lsh-scala</h1> 
  <p><a href="https://travis-ci.org/barneygovan/lsh-scala" target="_blank"><img src="https://camo.githubusercontent.com/dec08ab0137eff8818c53fb48ac0e33ce6fb2e6a/68747470733a2f2f6170692e7472617669732d63692e6f72672f6261726e6579676f76616e2f6c73682d7363616c612e706e673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://api.travis-ci.org/barneygovan/lsh-scala.png?branch=master" style="max-width:100%;"></a> <a href="https://coveralls.io/github/barneygovan/lsh-scala?branch=master" target="_blank"><img src="https://camo.githubusercontent.com/7cf16f4bbfc19ba81ea60d878006d4c3c8a40266/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6261726e6579676f76616e2f6c73682d7363616c612f62616467652e7376673f6272616e63683d6d617374657226736572766963653d676974687562" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/barneygovan/lsh-scala/badge.svg?branch=master&amp;service=github" style="max-width:100%;"></a></p> 
  <p>A Locality-Sensitive Hashing Library for Scala with optional Redis storage.</p> 
  <ul> 
   <li><a href="https://github.com/barneygovan/lsh-scala#overview" target="_blank">Overview</a></li> 
   <li><a href="https://github.com/barneygovan/lsh-scala#requirements" target="_blank">Requirements</a></li> 
   <li><a href="https://github.com/barneygovan/lsh-scala#installation" target="_blank">Installation</a></li> 
   <li><a href="https://github.com/barneygovan/lsh-scala#usage" target="_blank">Usage</a></li> 
   <li><a href="https://github.com/barneygovan/lsh-scala#contributing" target="_blank">Contributing</a></li> 
   <li><a href="https://github.com/barneygovan/lsh-scala#changelog" target="_blank">Changelog</a></li> 
   <li><a href="https://github.com/barneygovan/lsh-scala#license" target="_blank">License</a></li> 
  </ul> 
  <h2><a id="user-content-overview" class="anchor" href="https://github.com/barneygovan/lsh-scala#overview" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Overview</h2> 
  <p><a href="https://en.wikipedia.org/wiki/Locality-sensitive_hashing" target="_blank">Locality-sensitive hashing</a> (LSH) is a method for bucketing similar items together. It works using a hashing function that, unlike cryptographic hashes, maps similar input vectors to the same output hash. The input vectors are domain specific and can be raw data or processed feature vectors.</p> 
  <p>Locality-sensitive hashing has been applied to a number of different problems, including audio/visual fingerprinting, approximate nearest neighbours (ANN), image near-duplicate detection, and object similarity.</p> 
  <p>There are several ways to define the hash function for LSH. This library uses the random projection method as described in <a href="http://web.mit.edu/andoni/www/papers/cSquared.pdf" target="_blank">Andoni and Indyk (2006)</a>.</p> 
  <p>This library also makes use of the <a href="https://github.com/scalanlp/breeze" target="_blank">Breeze</a> numerical processing library. Breeze will make use of highly-optimized native BLAS libraries if they are available on your system.</p> 
  <h2><a id="user-content-requirements" class="anchor" href="https://github.com/barneygovan/lsh-scala#requirements" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Requirements</h2> 
  <ul> 
   <li>Scala 2.11+</li> 
   <li><a href="https://github.com/scalanlp/breeze" target="_blank">Breeze</a></li> 
   <li>Redis and <a href="https://github.com/debasishg/scala-redis" target="_blank">scala-redis</a> if you wish to use Redis-backed storage</li> 
   <li><a href="https://github.com/wg/jacks" target="_blank">Jacks</a> for JSON serialization to/from Redis</li> 
  </ul> 
  <p>For the test suites you will also need:</p> 
  <ul> 
   <li>scalatest 2.2+</li> 
   <li><a href="https://github.com/kstyrc/embedded-redis" target="_blank">embedded-redis</a></li> 
  </ul> 
  <h2><a id="user-content-installation" class="anchor" href="https://github.com/barneygovan/lsh-scala#installation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Installation</h2> 
  <p>Add to <code>Build.scala</code> or <code>build.sbt</code></p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-s"><span class="pl-pds">"</span>io.krom<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>lsh-scala_2.11<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.1<span class="pl-pds">"</span></span>
)</pre>
  </div> 
  <p>Clone the repository and use in your projects.</p> 
  <p>TODO: Maven and sbt setup</p> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/barneygovan/lsh-scala#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>To create a <code>Lsh</code> object you need to supply the dimensions of the hash and the number of sets of projection tables you want to use.</p> 
  <ul> 
   <li>numBits - the number of bits in the hash space. This determines the number of buckets you will have: 2^numBits. The higher this number, the more buckets. More buckets means a smaller chance of getting a globally optimal solution, but it also means better performance</li> 
   <li>numDimensions - the length of the input vectors. This needs to match your domain data you want to index.</li> 
   <li>numTables - the number of sets of projections you want to use. Tables use different random projections to reduce the chance of missing nearby points in other buckets. The more tables, the lower chance of getting a very inaccurate result, but the performance becomes worse.</li> 
  </ul> 
  <h3><a id="user-content-in-memory-storage" class="anchor" href="https://github.com/barneygovan/lsh-scala#in-memory-storage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>In-Memory Storage</h3> 
  <p>The default storage is in-memory. Simply create the <code>Lsh</code> object with no storage config.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">io.krom.lsh.</span><span class="pl-v">Lsh</span>

<span class="pl-k">val</span> <span class="pl-en">numBits</span> <span class="pl-k">=</span> <span class="pl-c1">16</span>
<span class="pl-k">val</span> <span class="pl-en">numDimensions</span> <span class="pl-k">=</span> <span class="pl-c1">200</span>
<span class="pl-k">val</span> <span class="pl-en">numTables</span> <span class="pl-k">=</span> <span class="pl-c1">5</span>

<span class="pl-k">val</span> <span class="pl-en">lsh</span> <span class="pl-k">=</span> <span class="pl-en">Lsh</span>(numBits, numDimensions, numTables)</pre>
  </div> 
  <h3><a id="user-content-redis-backed-storage" class="anchor" href="https://github.com/barneygovan/lsh-scala#redis-backed-storage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Redis-Backed Storage</h3> 
  <p>Redis-backed storage requires a Redis server running somewhere that is accessible. This storage choice uses Redis databases for the different tables, therefore make sure you don't set numTables to greater than the number of databases set up on your Redis server. For some Redis servers, this could be as low as 16. This isn't usually a restriction as a numTables value of between 3 and 5 is usually enough.</p> 
  <p>First, ensure Redis is installed and running on your system:</p> 
  <p><strong>MacOS X:</strong></p> 
  <div class="highlight highlight-source-shell">
   <pre><span class="pl-k">&gt;</span> brew install redis
<span class="pl-k">&gt;</span> redis-server</pre>
  </div> 
  <p>To create the <code>Lsh</code> object:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">io.krom.lsh.</span><span class="pl-v">Lsh</span>

<span class="pl-k">val</span> <span class="pl-en">numBits</span> <span class="pl-k">=</span> <span class="pl-c1">16</span>
<span class="pl-k">val</span> <span class="pl-en">numDimensions</span> <span class="pl-k">=</span> <span class="pl-c1">200</span>
<span class="pl-k">val</span> <span class="pl-en">numTables</span> <span class="pl-k">=</span> <span class="pl-c1">5</span>
<span class="pl-k">val</span> <span class="pl-en">redisConfig</span> <span class="pl-k">=</span> <span class="pl-en">HashMap</span>( <span class="pl-s"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>localhost<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>6379<span class="pl-pds">"</span></span>)

<span class="pl-k">val</span> <span class="pl-en">lsh</span> <span class="pl-k">=</span> <span class="pl-en">Lsh</span>(numBits, numDimensions, numTables, storageConfig <span class="pl-k">=</span> <span class="pl-en">Some</span>(redisConfig))</pre>
  </div> 
  <h3><a id="user-content-indexing-updating-and-querying" class="anchor" href="https://github.com/barneygovan/lsh-scala#indexing-updating-and-querying" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Indexing, Updating and Querying</h3> 
  <p><strong>Indexing:</strong></p> 
  <p>Indexing hashes the data and stores the label and data in the backing storage (in-memory or Redis).</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">breeze.linalg.</span><span class="pl-v">DenseVector</span>

<span class="pl-k">val</span> <span class="pl-en">data</span> <span class="pl-k">=</span> <span class="pl-en">DenseVector</span>(<span class="pl-c1">0.1</span>, <span class="pl-c1">0.2</span>)
<span class="pl-k">val</span> <span class="pl-en">label</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>datapoint<span class="pl-pds">"</span></span>

lsh.store(data, label)</pre>
  </div> 
  <p><strong>Updating:</strong></p> 
  <p>Updating will replace the existing entry with the same label.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">updatedData</span> <span class="pl-k">=</span> <span class="pl-en">DenseVector</span>(<span class="pl-c1">0.3</span>,<span class="pl-c1">0.4</span>)

lsh.update(updatedData, label)</pre>
  </div> 
  <p><strong>Querying:</strong></p> 
  <p>Querying returns the top most similar items to the item specified. By default, it uses Euclidean distance and returns a maximum of 25 items. Currently, it will also return the item specified, if it's in the index.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">io.krom.lsh.DistanceFunction.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">data</span> <span class="pl-k">=</span> <span class="pl-en">DenseVector</span>(<span class="pl-c1">0.1</span>, <span class="pl-c1">0.3</span>)

<span class="pl-c">// returns up to 25 items; uses Euclidean</span>
<span class="pl-k">val</span> <span class="pl-en">items1</span> <span class="pl-k">=</span> lsh.query(data)

<span class="pl-c">// returns up to 50 items; uses Euclidean</span>
<span class="pl-k">val</span> <span class="pl-en">items2</span> <span class="pl-k">=</span> lsh.query(data, maxItems <span class="pl-k">=</span> <span class="pl-c1">50</span>)

<span class="pl-c">// returns up to 25 items; uses Cosine distance</span>
<span class="pl-k">val</span> <span class="pl-en">items3</span> <span class="pl-k">=</span> lsh.query(data, distanceFunction <span class="pl-k">=</span> cosineDistance)</pre>
  </div> 
  <p><code>query()</code> accepts any function that maps two <code>DenseVector[Double]</code> inputs to a single <code>Double</code> output, so you can define your own distance measures and use them.</p> 
  <h3><a id="user-content-prefixes" class="anchor" href="https://github.com/barneygovan/lsh-scala#prefixes" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Prefixes</h3> 
  <p>Prefixes allows you to store different indexes in the same storage. This is mostly useful for when you are using Redis-backed storage, where you may be sharing a Redis server for a number of indexes.</p> 
  <p>It also allows you to keep different kinds of objects separate, which allows for greater performance in instances where you are only looking for specific kinds of objects in an otherwise heterogeneous index.</p> 
  <p>To use a prefix, simply specify the prefix in the constructor:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">io.krom.lsh.</span><span class="pl-v">Lsh</span>

<span class="pl-k">val</span> <span class="pl-en">numBits</span> <span class="pl-k">=</span> <span class="pl-c1">16</span>
<span class="pl-k">val</span> <span class="pl-en">numDimensions</span> <span class="pl-k">=</span> <span class="pl-c1">200</span>
<span class="pl-k">val</span> <span class="pl-en">numTables</span> <span class="pl-k">=</span> <span class="pl-c1">5</span>
<span class="pl-k">val</span> <span class="pl-en">prefix</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>myIndex<span class="pl-pds">"</span></span>
<span class="pl-k">val</span> <span class="pl-en">redisConfig</span> <span class="pl-k">=</span> <span class="pl-en">HashMap</span>( <span class="pl-s"><span class="pl-pds">"</span>host<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>localhost<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>port<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>6379<span class="pl-pds">"</span></span>)

<span class="pl-k">val</span> <span class="pl-en">lsh</span> <span class="pl-k">=</span> <span class="pl-en">Lsh</span>(numBits, numDimensions, numTables, prefix <span class="pl-k">=</span> <span class="pl-en">Some</span>(prefix), storageConfig <span class="pl-k">=</span> <span class="pl-en">Some</span>(redisConfig))</pre>
  </div> 
  <h3><a id="user-content-using-pre-calculated-projections" class="anchor" href="https://github.com/barneygovan/lsh-scala#using-pre-calculated-projections" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Using Pre-Calculated Projections</h3> 
  <p>This library can use pre-calculated random projections. This enables use with previously indexed objects (for example, stored in a separate Redis server), and also allows multiple indexing/querying processes to share a single backing store if they all load the same random projections.</p> 
  <p>To pre-calculate the random projections:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">io.krom.lsh.</span><span class="pl-v">Lsh</span>

<span class="pl-k">val</span> <span class="pl-en">numBits</span> <span class="pl-k">=</span> <span class="pl-c1">16</span>
<span class="pl-k">val</span> <span class="pl-en">numDimensions</span> <span class="pl-k">=</span> <span class="pl-c1">200</span>
<span class="pl-k">val</span> <span class="pl-en">numTables</span> <span class="pl-k">=</span> <span class="pl-c1">5</span>

<span class="pl-en">Lsh</span>.generateRandomProjections(numBits, numDimensions, numTables, <span class="pl-s"><span class="pl-pds">"</span>random_projections.dat<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>To use the pre-calculated random projections, specify the filename when creating the <code>Lsh</code> object:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">io.krom.lsh.</span><span class="pl-v">Lsh</span>

<span class="pl-k">val</span> <span class="pl-en">numBits</span> <span class="pl-k">=</span> <span class="pl-c1">16</span>
<span class="pl-k">val</span> <span class="pl-en">numDimensions</span> <span class="pl-k">=</span> <span class="pl-c1">200</span>
<span class="pl-k">val</span> <span class="pl-en">numTables</span> <span class="pl-k">=</span> <span class="pl-c1">5</span>
<span class="pl-k">val</span> <span class="pl-en">prefix</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>myIndex<span class="pl-pds">"</span></span>
<span class="pl-k">val</span> <span class="pl-en">projectionsFilename</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>random_projections.dat<span class="pl-pds">"</span></span>

<span class="pl-k">val</span> <span class="pl-en">lsh</span> <span class="pl-k">=</span> <span class="pl-en">Lsh</span>(numBits, numDimensions, numTables, projectionsFilename <span class="pl-k">=</span> <span class="pl-en">Some</span>(projectionsFilename))</pre>
  </div> 
  <h2><a id="user-content-contributing" class="anchor" href="https://github.com/barneygovan/lsh-scala#contributing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contributing</h2> 
  <p>Contributions of all kinds are always welcome.</p> 
  <p>New features and bug fixes should be submitted via pull-request. The preferred way is to fork the repository and submit the PR from there. All submissions should include tests</p> 
  <p>Any bug reports or feature requests (or comments or promises of gifts) should be submitted via the <a href="https://github.com/barneygovan/lsh-scala/issues" target="_blank">GitHub issues page</a>. No request is too big or too small.</p> 
  <h2><a id="user-content-changelog" class="anchor" href="https://github.com/barneygovan/lsh-scala#changelog" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Changelog</h2> 
  <p>All bug fixes and new features for each version are described in the <a href="https://github.com/barneygovan/lsh-scala/blob/master/CHANGELOG.md" target="_blank">lsh-scala Changelog</a></p> 
  <h2><a id="user-content-license" class="anchor" href="https://github.com/barneygovan/lsh-scala#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>lsh-scala is released under the <a href="https://github.com/barneygovan/lsh-scala/blob/master/LICENSE" target="_blank">Apache 2.0 License</a></p> 
 </article>
</div>