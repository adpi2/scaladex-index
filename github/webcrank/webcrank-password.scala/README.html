<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h2><a id="user-content-webcrank-password" class="anchor" href="https://github.com/webcrank/webcrank-password.scala#webcrank-password" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>webcrank-password</h2> 
  <p><a href="https://travis-ci.org/webcrank/webcrank-password.scala" target="_blank"><img src="https://camo.githubusercontent.com/3da0eefa27c09bc2d1e6bc4a00df1546ae4a8790/68747470733a2f2f7472617669732d63692e6f72672f7765626372616e6b2f7765626372616e6b2d70617373776f72642e7363616c612e706e67" alt="Build Status" data-canonical-src="https://travis-ci.org/webcrank/webcrank-password.scala.png" style="max-width:100%;"></a></p> 
  <p>A toolkit for dealing with passwords. Provides key-derivation and verification.</p> 
  <p>This library has the following goals:</p> 
  <ul> 
   <li>Secure by default: sensible algorithm choices, sensible defaults, sensible guidance.</li> 
   <li>Ease of use: should be clean and easy, removing any chance of accidental misuse, and assist in helping users understanding safe password storage.</li> 
   <li>Future proof: should allow for adjustment and modification of parameters over time with minimal impact on code.</li> 
  </ul> 
  <table> 
   <thead> 
    <tr> 
     <th>Supported algorithms</th> 
     <th>Default parameters</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td><a href="http://www.tarsnap.com/scrypt.html" target="_blank">scrypt</a></td> 
     <td>N = 65536 (2 ^ 16). r = 8, p = 1</td> 
    </tr> 
    <tr> 
     <td><a href="http://static.usenix.org/events/usenix99/provos/provos_html/node1.html" target="_blank">bcrypt</a></td> 
     <td>cost = 12</td> 
    </tr> 
    <tr> 
     <td><a href="http://tools.ietf.org/html/rfc2898" target="_blank">PBKDF2</a></td> 
     <td>rounds = 65536 (2 ^ 16), salt length: 16 bytes, key size: 256 bits, digest: sha1</td> 
    </tr>
   </tbody>
  </table> 
  <p>Note that this library has <em>no</em> dependencies on the rest of webcrank and can be used independently.</p> 
  <h2><a id="user-content-getting-webcrank-password" class="anchor" href="https://github.com/webcrank/webcrank-password.scala#getting-webcrank-password" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting webcrank-password</h2> 
  <p>If you're using SBT, add the following dependency to your build file:</p> 
  <pre><code>"io.webcrank" %% "webcrank-password" % "0.3"
</code></pre> 
  <h2><a id="user-content-using-webcrank-password" class="anchor" href="https://github.com/webcrank/webcrank-password.scala#using-webcrank-password" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Using webcrank-password</h2> 
  <p>Simply import, build an implementation with <a href="https://github.com/webcrank/webcrank-password.scala#security-considerations" target="_blank">appropriate parameters</a>, and call crypt/verify as required.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">webcrank.password.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">passwords</span> <span class="pl-k">=</span> <span class="pl-en">Passwords</span>.scrypt()

<span class="pl-c"><span class="pl-c">//</span> crypted string is safe to store in db or elsewhere as required</span>
<span class="pl-k">val</span> <span class="pl-en">crypted</span> <span class="pl-k">=</span> passwords.crypt(<span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>)

<span class="pl-c"><span class="pl-c">//</span> return true in this case where the password matches</span>
passwords.verify(<span class="pl-s"><span class="pl-pds">"</span>password<span class="pl-pds">"</span></span>, crypted)

<span class="pl-c"><span class="pl-c">//</span> return false in this case where the password does not match</span>
passwords.verify(<span class="pl-s"><span class="pl-pds">"</span>fido<span class="pl-pds">"</span></span>, crypted)
</pre>
  </div> 
  <p>Example configurations:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> scrypt with default cost parameters</span>
<span class="pl-k">val</span> <span class="pl-en">passwords</span> <span class="pl-k">=</span> <span class="pl-en">Passwords</span>.scrypt()

<span class="pl-c"><span class="pl-c">//</span> bcrypt with default cost parameters</span>
<span class="pl-k">val</span> <span class="pl-en">passwords</span> <span class="pl-k">=</span> <span class="pl-en">Passwords</span>.bcrypt()

<span class="pl-c"><span class="pl-c">//</span> pbkdf2 with default cost parameters, key size and digest</span>
<span class="pl-k">val</span> <span class="pl-en">passwords</span> <span class="pl-k">=</span> <span class="pl-en">Passwords</span>.pbkdf2()

<span class="pl-c"><span class="pl-c">//</span> scrypt with specified value for N: 65536 (2 ^ 16)</span>
<span class="pl-k">val</span> <span class="pl-en">passwords</span> <span class="pl-k">=</span> <span class="pl-en">Passwords</span>.scrypt(n <span class="pl-k">=</span> <span class="pl-c1">65536</span>)

<span class="pl-c"><span class="pl-c">//</span> bcrypt with specified cost parameters,</span>
<span class="pl-c"><span class="pl-c">//</span> note: cost is caluclated as 2^{cost} in bcrypt</span>
<span class="pl-k">val</span> <span class="pl-en">passwords</span> <span class="pl-k">=</span> <span class="pl-en">Passwords</span>.bcrypt(cost <span class="pl-k">=</span> <span class="pl-c1">12</span>)

<span class="pl-c"><span class="pl-c">//</span> PBKDF2 with specified rounds, 16384 (2 ^ 14)</span>
<span class="pl-k">val</span> <span class="pl-en">passwords</span> <span class="pl-k">=</span> <span class="pl-en">Passwords</span>.pbkdf2(rounds <span class="pl-k">=</span> <span class="pl-c1">16384</span>)

<span class="pl-c"><span class="pl-c">//</span> PBKDF2 with alternative HMAC digest, SHA256</span>
<span class="pl-c"><span class="pl-c">//</span> note: pbkdf2 with HMAC-SHA256 is only available</span>
<span class="pl-c"><span class="pl-c">//</span> on JDK8 or with a custom JCE provider such as</span>
<span class="pl-c"><span class="pl-c">//</span> IAIK or BSAFE.</span>
<span class="pl-k">val</span> <span class="pl-en">passwords</span> <span class="pl-k">=</span> <span class="pl-en">Passwords</span>.pbkdf2(digest <span class="pl-k">=</span> <span class="pl-en">SHA256</span>)

<span class="pl-c"><span class="pl-c">//</span> PBKDF2 with alternative HMAC digest, SHA512</span>
<span class="pl-c"><span class="pl-c">//</span> note: PBKDF2 with HMAC-SHA512 is only available</span>
<span class="pl-c"><span class="pl-c">//</span> on JDK8 or with a custom JCE provider such as</span>
<span class="pl-c"><span class="pl-c">//</span> IAIK or BSAFE.</span>
<span class="pl-k">val</span> <span class="pl-en">passwords</span> <span class="pl-k">=</span> <span class="pl-en">Passwords</span>.pbkdf2(digest <span class="pl-k">=</span> <span class="pl-en">SHA512</span>)

<span class="pl-c"><span class="pl-c">//</span> PBKDF2 with specified rounds, 16384 (2 ^ 14)</span>
<span class="pl-k">val</span> <span class="pl-en">passwords</span> <span class="pl-k">=</span> <span class="pl-en">Passwords</span>.pbkdf2(rounds <span class="pl-k">=</span> <span class="pl-c1">16384</span>)

<span class="pl-c"><span class="pl-c">//</span> PBKDF2 with specified rounds and alternative HMAC digest</span>
<span class="pl-c"><span class="pl-c">//</span> note: pbkdf2 with HMAC-SHA256 is only available</span>
<span class="pl-c"><span class="pl-c">//</span> on JDK8 or with a custom JCE provider such as</span>
<span class="pl-c"><span class="pl-c">//</span> IAIK or BSAFE.</span>
<span class="pl-k">val</span> <span class="pl-en">passwords</span> <span class="pl-k">=</span> <span class="pl-en">Passwords</span>.pbkdf2(rounds <span class="pl-k">=</span> <span class="pl-c1">16384</span>, digest <span class="pl-k">=</span> <span class="pl-en">SHA256</span>)
</pre>
  </div> 
  <p>Password storage is up to you, but the crypt output is just a string, so can be easily stored in a database or similar.</p> 
  <h2><a id="user-content-security-considerations" class="anchor" href="https://github.com/webcrank/webcrank-password.scala#security-considerations" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Security considerations</h2> 
  <p>Each algorithm has sensible defaults, but consider careful research and potentailly doing computation tests on your hardware to make the most appropriate choice (read as: set as high as you can before the performance becomes crippling).</p> 
  <p>In terms of algorithms selection there are a few factors that should be considered:</p> 
  <ul> 
   <li>work factors of algorithm</li> 
   <li>availability of algorithm</li> 
   <li>trust of underlying implementation</li> 
   <li>validation requirements</li> 
  </ul> 
  <h3><a id="user-content-work-factors" class="anchor" href="https://github.com/webcrank/webcrank-password.scala#work-factors" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Work factors</h3> 
  <p>Work factors of underlying algorithm is also difficult to classify because of the number of variables invloved (CPU, Memory, etc...).</p> 
  <p>Reading is possibly the only solution, but it is worth noting that scrypt was specifically designed to be more difficult to run with modern computing constraints (or lack there of) on FGPAs and alike. Scrypt is build on top of PBKDF2 with HMAC-SHA256. The <a href="http://www.tarsnap.com/scrypt/scrypt.pdf" target="_blank">scrypt paper</a> has some insight into this.</p> 
  <p>In terms of choosing appropriate factors, measurement is often the best approach. As a general rule, for interactive password storage (such as for a web app), you would want to tune the algorithm so password generation takes ~100ms. There are some factors listed in the <a href="https://www.owasp.org/index.php/Password_Storage_Cheat_Sheet" target="_blank">OWASP password cheatsheet</a> which is a pretty good source of information.</p> 
  <h3><a id="user-content-availability-of-algorithm" class="anchor" href="https://github.com/webcrank/webcrank-password.scala#availability-of-algorithm" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Availability of algorithm</h3> 
  <p>Of the provided algorithms scrypt, bcrypt and PBKDF2 with HMAC-SHA1 are always available. PBKDF2 with HMAC-SHA256 or HMAC-SHA512 are only available on JDK8 or with a custom JCE provider such as IAIK or BSAFE.</p> 
  <p>The fact that PBKDF2 is stuck with HMAC-SHA1 by default potentially makes it less desirable.</p> 
  <h3><a id="user-content-trust-of-underlying-implementaion" class="anchor" href="https://github.com/webcrank/webcrank-password.scala#trust-of-underlying-implementaion" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Trust of underlying implementaion</h3> 
  <p>Obviously this is difficult to measure, but all implementations are open source and can be audited:</p> 
  <ul> 
   <li><a href="http://www.mindrot.org/projects/jBCrypt/" target="_blank">bcrypt implementation</a></li> 
   <li><a href="https://github.com/wg/scrypt" target="_blank">scrypt implementation</a></li> 
   <li><a href="http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/f4c62eecf7fa/src/share/classes/com/sun/crypto/provider/" target="_blank">openjdk pbkdf2 implementations</a></li> 
  </ul> 
  <p>There is some ongoing effort to complete a review of the scrypt and bcrypt implementations.</p> 
  <h3><a id="user-content-validation-requirements" class="anchor" href="https://github.com/webcrank/webcrank-password.scala#validation-requirements" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Validation requirements</h3> 
  <p>Validation requirements are easier. You should know if you have them. PBKDF2 is the only NIST approved algorithm.</p> 
  <h2><a id="user-content-algorithm-migration" class="anchor" href="https://github.com/webcrank/webcrank-password.scala#algorithm-migration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Algorithm migration</h2> 
  <p>One careful design decision of this library is to make it easy to migrate algorithms, or the more likely scenario of modifying the cost parameters over time.</p> 
  <h3><a id="user-content-how-does-this-library-help" class="anchor" href="https://github.com/webcrank/webcrank-password.scala#how-does-this-library-help" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>How does this library help?</h3> 
  <p>So the first thing to note is that the algorithm choice, and cost parameters <em>only</em> affect the behaviour of <code>crypt</code>. The parameters are then embedded in a Modular Crypt Format (MCF) style string that encodes the algorithm, any parameters, the salt and the derived key. This encoded information is used for password verification.</p> 
  <h3><a id="user-content-modular-crypt-format-mcf-strings" class="anchor" href="https://github.com/webcrank/webcrank-password.scala#modular-crypt-format-mcf-strings" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Modular Crypt Format (MCF) Strings</h3> 
  <p>MCF strings can basically be described as:</p> 
  <pre><code>$identifier$content
</code></pre> 
  <p>They are no more then a loose convention, but they work pretty well for what we want to achieve. The content part is a '$' seperated list, of the parameters salt and derived key. Each component is base64 (or in bcrypt's case base64 like) encoded to remove ambiguity.</p> 
  <p>Scrypt and bcrypt have well recognised MCF formats, and this library should interoperate with other implementations.</p> 
  <p>PBKDF2 only specifies the key derivation, and this library defines its on format string.</p> 
  <p>Identifiers supported by this library:</p> 
  <table> 
   <thead> 
    <tr> 
     <th>algorithm</th> 
     <th>MCF identifier</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td>scrypt</td> 
     <td>s0</td> 
    </tr> 
    <tr> 
     <td>bcrypt</td> 
     <td>2 and 2a</td> 
    </tr> 
    <tr> 
     <td>PBKDF2</td> 
     <td>PBKDF2WithHMACSHA1, PBKDF2WithHMACSHA256 and PBKDF2WithHMACSHA512</td> 
    </tr>
   </tbody>
  </table> 
  <p>Note the long winded PBKDF2 identifiers are based upon the JCE algorithm names for consistency.</p> 
  <h3><a id="user-content-so-really-how-do-i-migrate" class="anchor" href="https://github.com/webcrank/webcrank-password.scala#so-really-how-do-i-migrate" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>So really how do I migrate?</h3> 
  <p>Basically just update how you create the passwords implementation.</p> 
  <p>For example, using bcrypt with cost = 11, and moving to cost = 12:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">passwords</span> <span class="pl-k">=</span> <span class="pl-en">Passwords</span>.bcrypt(cost <span class="pl-k">=</span> <span class="pl-c1">11</span>)</pre>
  </div> 
  <p>Becomes:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">passwords</span> <span class="pl-k">=</span> <span class="pl-en">Passwords</span>.bcrypt(cost <span class="pl-k">=</span> <span class="pl-c1">12</span>)</pre>
  </div> 
  <p>Everything else remains the same. All existing passwords will still verify, any new passwords will be generated with new parameters.</p> 
  <p>In case it isn't clear, this means you will have multiple types of crypted passwords over time.</p> 
  <p>If you are changing the parameters because something bad happened (e.g. you chose poor parameters in the past, or an algorithm was broken), you will potentially want to force recreation of all passwords, but this is application specific behaviour. <a href="https://www.owasp.org/index.php/Password_Storage_Cheat_Sheet" target="_blank">OWASP password cheatsheet</a> provides some guidance on dealing with this sort of issue.</p> 
  <h2><a id="user-content-interoperability" class="anchor" href="https://github.com/webcrank/webcrank-password.scala#interoperability" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Interoperability</h2> 
  <p>The bcrypt and scrypt implentations use standard MCF strings and should be fully compatible with other implementations.</p> 
  <p>The PBKDF2 implementations uses a custom MCF format, if you want to use it with another PBKDF2 implementation you will need to understand the following format:</p> 
  <pre><code>$algorithm$rounds$keysize$base64(salt)$base64(key)
</code></pre> 
  <p>Where <code>algorithm</code> is one of: PBKDF2WithHMACSHA1, PBKDF2WithHMACSHA256 and PBKDF2WithHMACSHA512.</p> 
  <p>Any interop failure would be considered a <em>serious</em> bug, please report.</p> 
  <h2><a id="user-content-compatability" class="anchor" href="https://github.com/webcrank/webcrank-password.scala#compatability" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Compatability</h2> 
  <p>Compatability is paramount to the utility of this library.</p> 
  <p>All algorithms currently supported, will be supported for verify indefinitely.</p> 
  <p>All algorithms currently supported, will be supported for crypt, unless a serious issue occurs where something is no longer deemed safe for password storage.</p> 
  <p>If you choose to take the defaults, there is <em>no</em> guarantee that they will not change. These defaults will be upgraded to what is considered an acceptible level of security over time. However, this should not affect your usage of the libary.</p> 
  <p>Any compatability failure would be considered a <em>serious</em> bug, please report.</p> 
  <h2><a id="user-content-contributing" class="anchor" href="https://github.com/webcrank/webcrank-password.scala#contributing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contributing</h2> 
  <p>Any contributions welcome, in particular any security reviews on this library, its recommendations or the underlying crypto libraries would be very helpful.</p> 
  <p>The <a href="https://github.com/webcrank/webcrank-password.scala/issues" target="_blank">issue tracker</a> is up to date with anything that is planned / desired.</p> 
  <p>Note that it is <em>unlikely</em> that new algorithms will be added unless they are deemed significantly better than what is currently available. If unsure, just raise an issue to start the discussion.</p> 
 </article>
</div>