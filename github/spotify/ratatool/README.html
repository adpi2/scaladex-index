<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-ratatool" class="anchor" href="https://github.com/spotify/ratatool#ratatool" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Ratatool</h1> 
  <p><a href="https://travis-ci.org/spotify/ratatool" target="_blank"><img src="https://camo.githubusercontent.com/eba1bb075dd0a86a43233604cca592b19b65a203/68747470733a2f2f7472617669732d63692e6f72672f73706f746966792f72617461746f6f6c2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/spotify/ratatool.svg?branch=master" style="max-width:100%;"></a> <a href="https://codecov.io/github/spotify/ratatool?branch=master" target="_blank"><img src="https://camo.githubusercontent.com/73a47e34f7f90a968d6eca83e190af5443af1313/68747470733a2f2f636f6465636f762e696f2f6769746875622f73706f746966792f72617461746f6f6c2f636f7665726167652e7376673f6272616e63683d6d6173746572" alt="codecov.io" data-canonical-src="https://codecov.io/github/spotify/ratatool/coverage.svg?branch=master" style="max-width:100%;"></a> <a href="https://github.com/spotify/ratatool/blob/master/LICENSE" target="_blank"><img src="https://camo.githubusercontent.com/98164e54d58cdfaea7acfcb94e884801b036ef4c/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f73706f746966792f72617461746f6f6c2e737667" alt="GitHub license" data-canonical-src="https://img.shields.io/github/license/spotify/ratatool.svg" style="max-width:100%;"></a> <a href="https://maven-badges.herokuapp.com/maven-central/com.spotify/ratatool_2.11" target="_blank"><img src="https://camo.githubusercontent.com/c05767f2a1390bc8dc0fe229e6e41e7575cb462c/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f636f6d2e73706f746966792f72617461746f6f6c5f322e31312e737667" alt="Maven Central" data-canonical-src="https://img.shields.io/maven-central/v/com.spotify/ratatool_2.11.svg" style="max-width:100%;"></a></p> 
  <p>A tool for random data sampling and generation</p> 
  <h1><a id="user-content-features" class="anchor" href="https://github.com/spotify/ratatool#features" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Features</h1> 
  <ul> 
   <li><a href="https://github.com/spotify/ratatool/blob/master/src/main/scala/com/spotify/ratatool/generators" target="_blank">Generators</a> - random data generators for <a href="https://avro.apache.org/" target="_blank">Avro</a>, <a href="https://developers.google.com/protocol-buffers/" target="_blank">Protocol Buffers</a> and <a href="https://cloud.google.com/bigquery/" target="_blank">BigQuery</a> <a href="https://developers.google.com/resources/api-libraries/documentation/bigquery/v2/java/latest/com/google/api/services/bigquery/model/TableRow.html" target="_blank">TableRow</a></li> 
   <li><a href="https://github.com/spotify/ratatool/blob/master/src/main/scala/com/spotify/ratatool/io" target="_blank">IO</a> - utilities for reading and writing records in Avro, <a href="http://parquet.apache.org/" target="_blank">Parquet</a> (via Avro GenericRecord), BigQuery and TableRow JSON files. Local file system, HDFS and <a href="https://cloud.google.com/storage/" target="_blank">Google Cloud Storage</a> are supported.</li> 
   <li><a href="https://github.com/spotify/ratatool/blob/master/src/main/scala/com/spotify/ratatool/samplers" target="_blank">Samplers</a> - random data samplers for Avro, BigQuery and Parquet. True random sampling is supported for Avro only while head mode (sampling from the start) is supported for all sources.</li> 
   <li><a href="https://github.com/spotify/ratatool/blob/master/src/main/scala/com/spotify/ratatool/scalacheck" target="_blank">ScalaCheck</a> - <a href="http://scalacheck.org/" target="_blank">ScalaCheck</a> generators (<code>Gen[T]</code>) for property-based testing.</li> 
   <li><a href="https://github.com/spotify/ratatool/blob/master/src/main/scala/com/spotify/ratatool/diffy" target="_blank">Diffy</a> - field-level record diff tool for Avro, Protobuf and BigQuery TableRow.</li> 
   <li><a href="https://github.com/spotify/ratatool/blob/master/src/main/scala/com/spotify/ratatool/diffy/BigDiffy.scala" target="_blank">BigDiffy</a> - <a href="https://github.com/spotify/scio" target="_blank">Scio</a> library for pairwise field-level statistical diff of data sets. See <a href="http://www.lyh.me/slides/bigdiffy.html" target="_blank">slides</a> for more.</li> 
   <li><a href="https://github.com/spotify/ratatool/blob/master/src/main/scala/com/spotify/ratatool/tool" target="_blank">Command line tool</a> - command line tool for sampling from various sources.</li> 
  </ul> 
  <h1><a id="user-content-usage" class="anchor" href="https://github.com/spotify/ratatool#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h1> 
  <p>If you use <a href="http://www.scala-sbt.org/" target="_blank">sbt</a> add the following dependency to your build file:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.spotify<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>ratatool<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.1.8<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>Or install via our <a href="https://github.com/spotify/homebrew-public" target="_blank">Homebrew tap</a> if you're on a Mac:</p> 
  <pre><code>brew tap spotify/public
brew install ratatool
</code></pre> 
  <p>Or download the <a href="https://github.com/spotify/ratatool/releases" target="_blank">release</a> jar and run it.</p> 
  <div class="highlight highlight-source-shell">
   <pre>wget https://github.com/spotify/ratatool/releases/download/v0.1.4/ratatool-0.1.4.jar
java -jar ratatool-0.1.4.jar</pre>
  </div> 
  <p>The command line tool can be used to sample from local file system or Google Cloud Storage directly if <a href="https://cloud.google.com/sdk/" target="_blank">Google Cloud SDK</a> is installed and authenticated.</p> 
  <div class="highlight highlight-source-shell">
   <pre>java -jar ratatool-0.1.4.jar avro --head -n 1000 --in gs://path/to/dataset --out out.avro
java -jar ratatool-0.1.4.jar parquet --head -n 1000 --in gs://path/to/dataset --out out.parquet

<span class="pl-c"># write output to both JSON file and BigQuery table</span>
java -jar ratatool-0.1.4.jar bigquery --head -n 1000 --in project_id:dataset_id.table_id \
    --out out.json--tableOut project_id:dataset_id.table_id</pre>
  </div> 
  <p>It can also be used to sample from HDFS with if <code>core-site.xml</code> and <code>hdfs-site.xml</code> are available.</p> 
  <div class="highlight highlight-source-shell">
   <pre>java -cp ratatool-0.1.4.jar:/path/to/hadoop/conf com.spotify.ratatool.tool.Tool avro \
    --head -n 10 --in hdfs://namenode/path/to/dataset --out file:///path/to/out.avro</pre>
  </div> 
  <h1><a id="user-content-license" class="anchor" href="https://github.com/spotify/ratatool#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h1> 
  <p>Copyright 2016 Spotify AB.</p> 
  <p>Licensed under the Apache License, Version 2.0: <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">http://www.apache.org/licenses/LICENSE-2.0</a></p> 
 </article>
</div>