<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-subscript" class="anchor" href="https://github.com/scala-subscript/subscript#subscript" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SubScript</h1> 
  <p>This is the main SubScript repository. SubScript is an extension to Scala that enables the syntax of the <a href="https://en.wikipedia.org/wiki/Algebra_of_Communicating_Processes" target="_blank">Algebra of Communicating Processes</a>. This is a place to get started using SubScript, for more theoretical foundation see <a href="http://subscript-lang.org/" target="_blank">project website</a>.</p> 
  <h2><a id="user-content-prerequisites" class="anchor" href="https://github.com/scala-subscript/subscript#prerequisites" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Prerequisites</h2> 
  <p>In order to get started using SubScript, one should have an <a href="http://www.scala-sbt.org/" target="_blank">SBT</a> build tool installed (use the official <a href="http://www.scala-sbt.org/download.html" target="_blank">installation guide</a>) and know the basics of working with the command line.</p> 
  <p>You should also have Java 8.</p> 
  <p><strong>Note for Mac OS users:</strong> if you try to install SBT with <a href="http://brew.sh/" target="_blank">homebrew</a>, you may encounter the following error:</p> 
  <pre><code>Cowardly refusing to `sudo brew install'
</code></pre> 
  <p>This is due to <a href="https://github.com/Homebrew/homebrew/issues/9953" target="_blank">this</a> issue, you can solve this by running the following command:</p> 
  <pre><code>sudo chown root /usr/bin/brew
</code></pre> 
  <h2><a id="user-content-getting-started" class="anchor" href="https://github.com/scala-subscript/subscript#getting-started" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting Started</h2> 
  <p>This section will describe how to create a simple "Hello World" application in SubScript from scratch.</p> 
  <ol> 
   <li>Create a new SBT project, run the following commands:</li> 
  </ol> 
  <div class="highlight highlight-source-shell">
   <pre>mkdir subscript-hello-world
<span class="pl-c1">cd</span> subscript-hello-world
mkdir -pv src/main/scala
touch build.sbt
mkdir project
touch project/build.sbt
touch src/main/scala/Main.scala</pre>
  </div> 
  <p>Here is a detailed description of what each of them do:</p> 
  <ol> 
   <li>Create a new directory which will be the root of the project. Hereafter, we'll assume it's name is <code>subscript-hello-world</code>: <code>mkdir subscript-hello-world</code></li> 
   <li>Cd to this directory: <code>cd subscript-hello-world</code></li> 
   <li>Create the directory for the sources: <code>mkdir -pv src/main/scala</code></li> 
   <li>Create the build file: <code>touch build.sbt</code></li> 
   <li>Create the project configuration directory: <code>mkdir project</code></li> 
   <li>Create the project configuration build file: <code>touch project/build.sbt</code></li> 
   <li>Create the main source file for your project: <code>touch src/main/scala/Main.scala</code></li> 
   <li>In <code>project/build.sbt</code>, write the following code:</li> 
  </ol> 
  <div class="highlight highlight-source-scala">
   <pre>addSbtPlugin(<span class="pl-s"><span class="pl-pds">"</span>org.subscript-lang<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>subscript-sbt-plugin<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>3.0.3<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>It adds the SubScript plugin to the SBT build tool, so that it can understand SubScript sources. 3. In <code>build.sbt</code>, write the following code:</p> 
  <div class="highlight highlight-source-scala">
   <pre>scalaVersion <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>2.11.7<span class="pl-pds">"</span></span>
libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.subscript-lang<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>subscript-swing<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>3.0.3<span class="pl-pds">"</span></span>
<span class="pl-en">SubscriptSbt</span>.projectSettings</pre>
  </div> 
  <p>First line sets the Scala version to be used, second sets a dependency on <code>subscript-swing</code> and third applies the SubScript SBT plugin. Note: you can declare a dependency on <code>"org.subscript-lang" %% "subscript-core" % "3.0.3"</code> instead of <code>subscript-swing</code>, but you need <code>subscript-swing</code> to be able to use the debugger. 4. In <code>src/main/scala/Main.scala</code>, write the following code:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">subscript.</span><span class="pl-v">language</span>
<span class="pl-k">import</span> <span class="pl-v">subscript.Predef.</span><span class="pl-v">_</span>

<span class="pl-k">object</span> <span class="pl-en">Main</span> {
  <span class="pl-k">def</span> <span class="pl-en">main</span>(<span class="pl-v">args</span>: <span class="pl-en">Array</span>[<span class="pl-k">String</span>])<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> runScript(live)

  script live <span class="pl-k">=</span> {<span class="pl-k">!</span>println(<span class="pl-s"><span class="pl-pds">"</span>Hello<span class="pl-pds">"</span></span>)<span class="pl-k">!</span>} {<span class="pl-k">!</span>println(<span class="pl-s"><span class="pl-pds">"</span>World<span class="pl-pds">"</span></span>)<span class="pl-k">!</span>}
}</pre>
  </div> 
  <p>Here, <code>import subscript.language</code> enables SubScript syntax in this file. Each file that needs to use SubScript syntax must have this top-level import. <code>import subscript.Predef._</code> imports predefined functions to simplify work with scripts, such as <code>runScript</code>. <code>runScript(live)</code> calls a core SubScript method that executes the script provided as an argument. Finally, <code>script live = {!println("Hello")!} {!println("World")!}</code> is a simple script that prints "Hello World" from two Scala code blocks. 5. Execute the project by running <code>sbt run</code> 6. Debug the project with SubScript Graphical Debugger by running <code>sbt ssDebug</code></p> 
  <h2><a id="user-content-further-learning" class="anchor" href="https://github.com/scala-subscript/subscript#further-learning" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Further learning</h2> 
  <ul> 
   <li><a href="https://github.com/scala-subscript/koans" target="_blank">Koans</a> is an easy way to learn the fundamentals of SubScript by doing.</li> 
   <li>To check out the official examples, go to the <a href="https://github.com/scala-subscript/examples" target="_blank">examples repository</a> and follow its "Getting Started" guide.</li> 
   <li>A larger example is our <a href="https://github.com/scala-subscript/eye-test" target="_blank">eye test application</a>.</li> 
   <li><a href="http://www.cheatography.com/anatoliykmetyuk/cheat-sheets/subscript/" target="_blank">Cheat sheet</a> will help you to remember the language.</li> 
  </ul> 
  <h2><a id="user-content-getting-started-for-contributors" class="anchor" href="https://github.com/scala-subscript/subscript#getting-started-for-contributors" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting Started for Contributors</h2> 
  <h3><a id="user-content-structure" class="anchor" href="https://github.com/scala-subscript/subscript#structure" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Structure</h3> 
  <p>This repository consists of two SBT projects under correspondent directories:</p> 
  <ul> 
   <li><strong>plugins</strong> with following subprojects 
    <ul> 
     <li><strong>parser</strong> - a parser capable of parsing SubScript-containing Scala code</li> 
     <li><strong>enhanced-macros</strong> - a compiler plugin to tweak macros to enable certain SubScript-specific functionality. It affects only specific SubScript methods, so it won't break your macro-containing code!</li> 
     <li><strong>plugin-parser</strong> - an SBT plugin that uses the <em>parser</em> to generate synthetic pure-Scala sources from SubScript-containing ones. Also, it applies <em>enhanced-macros</em> compiler plugin.</li> 
    </ul> </li> 
   <li><strong>framework</strong> with following subprojects 
    <ul> 
     <li><strong>core</strong> - core SubScript library, contains all the essential functionality</li> 
     <li><strong>swing</strong> - enhancements to the Scala Swing library. Contains SubScript Graphical Debugger</li> 
     <li><strong>akka</strong> - integration layer with Akka</li> 
    </ul> </li> 
  </ul> 
  <p><strong>IMPORTANT:</strong> <code>framework</code> projects depend on <code>plugins</code> projects. Before building <code>framework</code>, make sure you've pushed <code>framework</code> to your local Ivy2 repository (see below).</p> 
  <h3><a id="user-content-compilation-procedure" class="anchor" href="https://github.com/scala-subscript/subscript#compilation-procedure" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Compilation procedure</h3> 
  <p>In a correctly configured SubScript project (see Getting Started guide to see what it is), the following happens when you run <code>sbt compile</code>:</p> 
  <ol> 
   <li>SubScript <em>parser plugin</em> (resides under <code>plugins/plugin-parser</code>) uses the <em>parser</em> (<code>plugins/parser</code>) to process all the files that have <code>import subscript.language</code> top-level import.</li> 
   <li>Pure-Scala synthetic sources are generated as a result of step (1). They go under <code>target/scala-2.11/src_managed</code>. The original sources processed during (1) are ignored by the compiler hereafter.</li> 
   <li>The Scala compiler compiles all the sources under <code>src/</code>, except those with <code>import subscript.language</code>, and all the synthetic sources under <code>target/scala-2.11/src_managed</code>.</li> 
  </ol> 
  <h3><a id="user-content-synthetic-sources" class="anchor" href="https://github.com/scala-subscript/subscript#synthetic-sources" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Synthetic sources</h3> 
  <p>Scala parser generates synthetic sources from SubScript-containing ones. The idea is that SubScript syntax is mapped to the methods from <code>subscript.DSL</code> (see <em>core</em> project). For example, the following SubScript code:</p> 
  <div class="highlight highlight-source-scala">
   <pre>  script live <span class="pl-k">=</span> {<span class="pl-k">!</span>println(<span class="pl-s"><span class="pl-pds">"</span>Hello<span class="pl-pds">"</span></span>)<span class="pl-k">!</span>} {<span class="pl-k">!</span>println(<span class="pl-s"><span class="pl-pds">"</span>World<span class="pl-pds">"</span></span>)<span class="pl-k">!</span>}</pre>
  </div> 
  <p>will be transformed into:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">def</span> <span class="pl-en">live</span> <span class="pl-k">=</span> subscript.<span class="pl-en">DSL</span>._script[<span class="pl-en">Any</span>](<span class="pl-c1">None</span>, <span class="pl-k">Symbol</span>(<span class="pl-s"><span class="pl-pds">"</span>live<span class="pl-pds">"</span></span>)){(<span class="pl-v">_node</span>: subscript.vm.<span class="pl-en">Script</span>[<span class="pl-en">Any</span>]) <span class="pl-k">=&gt;</span>
  <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">script</span> <span class="pl-k">=</span> _node
subscript.<span class="pl-en">DSL</span>._seq(subscript.<span class="pl-en">DSL</span>._normal[<span class="pl-en">Any</span>] (_node <span class="pl-k">=&gt;</span> {
  <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">here</span> <span class="pl-k">=</span> _node
subscript.<span class="pl-en">DSL</span>._maybeVarCall(<span class="pl-s"><span class="pl-pds">"</span>println(subscript.DSL._maybeVarCall(<span class="pl-cce">\"\\\"</span>Hello<span class="pl-cce">\\\"\"</span>))<span class="pl-pds">"</span></span>)
}, <span class="pl-c1">true</span>), subscript.<span class="pl-en">DSL</span>._normal[<span class="pl-en">Any</span>] (_node <span class="pl-k">=&gt;</span> {
  <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">here</span> <span class="pl-k">=</span> _node
subscript.<span class="pl-en">DSL</span>._maybeVarCall(<span class="pl-s"><span class="pl-pds">"</span>println(subscript.DSL._maybeVarCall(<span class="pl-cce">\"\\\"</span>World<span class="pl-cce">\\\"\"</span>))<span class="pl-pds">"</span></span>)
}, <span class="pl-c1">true</span>))}
}</pre>
  </div> 
  <h3><a id="user-content-development-procedure" class="anchor" href="https://github.com/scala-subscript/subscript#development-procedure" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Development procedure</h3> 
  <ol> 
   <li>Fork this repository and clone your fork to your computer</li> 
   <li><code>cd</code> to the root of your fork</li> 
   <li>Do the necessary changes to the proper projects</li> 
   <li>Clear your local Ivy2 repository with the following command:</li> 
  </ol> 
  <pre><code>find ~/.ivy2/ -type d -name "*subscript*" -print0 | xargs -0 rm -rf
</code></pre> 
  <p>It will search for directories containing "subscript" in their name and located under ~/.ivy2, then it will feed all them to the <code>rm</code> command.</p> 
  <ol start="5"> 
   <li>Publish the <code>plugins</code> and the <code>framework</code> to the local repository with the following two commands:</li> 
  </ol> 
  <pre><code>(cd plugins/; sbt publish-local)
(cd framework/; sbt publish-local)
</code></pre> 
  <ol start="6"> 
   <li>Test your changes using any SubScript project on your machine</li> 
   <li>Commit your changes to your fork</li> 
   <li>Send us the pull request with your changes</li> 
  </ol> 
  <h3><a id="user-content-versioning" class="anchor" href="https://github.com/scala-subscript/subscript#versioning" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Versioning</h3> 
  <p>The SubScript plugins (the preprocessor and Scalac macros) and the framework (VM, debugger, the bridges to Swing and Akka) are versioned using the <a href="http://semver.org/" target="_blank">semantic versioning</a> model. Public release versions are composed of three digits (<code>1.2.3</code>). The <code>build.sbt</code> files mention these versions.</p> 
  <p>When you are making local changes to the plugins or framework, you should use version names ending in <code>-SNAPSHOT</code>, e.g., <code>1.2.3-SNAPSHOT</code>. Then you can test these changes against the other projects such as Examples. Those projects should refer to the correct version of the SubScript plugins and framework, as a dependency in their <code>build.sbt</code> and <code>project/build.sbt</code> files.</p> 
  <p>In order to change the SubScript version, run the command line script <code>./set_version.sh new_version</code> from the root of the project. For example: <code>./set_version.sh 3.0.0-SNAPSHOT</code>.</p> 
 </article>
</div>