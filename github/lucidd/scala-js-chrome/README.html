<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/lucidd/scala-js-chrome#chrome-for-scalajs----" aria-hidden="true" class="anchor" id="user-content-chrome-for-scalajs----" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Chrome for ScalaJS <a href="https://travis-ci.org/lucidd/scala-js-chrome" target="_blank"><img src="https://camo.githubusercontent.com/381f4aba098a709361f3d88ed0def7e8804004f5/68747470733a2f2f7472617669732d63692e6f72672f6c75636964642f7363616c612d6a732d6368726f6d652e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/lucidd/scala-js-chrome.svg?branch=master" style="max-width:100%;"></a> <a href="https://gitter.im/lucidd/scala-js-chrome?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Gitter" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"></a> <a href="https://index.scala-lang.org/lucidd/scala-js-chrome/scala-js-chrome" target="_blank"><img src="https://camo.githubusercontent.com/b5d0f7b971c9d97f5509319873802c1d5a1e2e49/68747470733a2f2f696e6465782e7363616c612d6c616e672e6f72672f6c75636964642f7363616c612d6a732d6368726f6d652f7363616c612d6a732d6368726f6d652f6c61746573742e7376673f636f6c6f723d6f72616e6765" alt="Latest version" data-canonical-src="https://index.scala-lang.org/lucidd/scala-js-chrome/scala-js-chrome/latest.svg?color=orange" style="max-width:100%;"></a> <a href="https://www.javadoc.io/doc/net.lullabyte/scala-js-chrome_sjs0.6_2.12" target="_blank"><img src="https://camo.githubusercontent.com/dfc20277895020958c4c3d5a812c9bea14c4fdda/68747470733a2f2f7777772e6a617661646f632e696f2f62616467652f6e65742e6c756c6c61627974652f7363616c612d6a732d6368726f6d655f736a73302e365f322e31322e737667" alt="Javadocs" data-canonical-src="https://www.javadoc.io/badge/net.lullabyte/scala-js-chrome_sjs0.6_2.12.svg" style="max-width:100%;"></a></h1> 
  <p>The goal of this project is to provide an easy and typesafe way to create chrome apps and extensions in scala using the scalajs project.</p> 
  <h2><a href="https://github.com/lucidd/scala-js-chrome#chrome-api-bindings" aria-hidden="true" class="anchor" id="user-content-chrome-api-bindings" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Chrome API bindings</h2> 
  <p>The bindings provide access to the chrome app and extension APIs. There are two levels for each API. One that provides the raw javascript bindings and a second one which wraps the raw API in a more scala idiomatic way.</p> 
  <p>The package structure is similar to the original javascript API.</p> 
  <div class="highlight highlight-source-js">
   <pre><span class="pl-c"><span class="pl-c">//</span>original javascript</span>
<span class="pl-smi">chrome</span>.<span class="pl-smi">system</span>.<span class="pl-smi">cpu</span>.<span class="pl-en">getInfo</span>(<span class="pl-k">function</span>(<span class="pl-smi">info</span>){
  <span class="pl-k">if</span> (<span class="pl-smi">chrome</span>.<span class="pl-smi">runtime</span>.<span class="pl-smi">lastError</span> <span class="pl-k">===</span> <span class="pl-c1">undefined</span>) {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(info);
  } <span class="pl-k">else</span> {
    <span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">"</span>ohoh something went wrong!<span class="pl-pds">"</span></span>);
  }
});</pre>
  </div> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span>raw bindings</span>
chrome.system.cpu.bindings.<span class="pl-en">CPU</span>.getInfo((<span class="pl-v">info</span>: <span class="pl-en">CPUInfo</span>) <span class="pl-k">=&gt;</span> {
    <span class="pl-k">if</span> (chrome.runtime.bindings.<span class="pl-en">Runtime</span>.lastError.isEmpty) {
        println(info)
    } <span class="pl-k">else</span> {
        println(<span class="pl-s"><span class="pl-pds">"</span>ohoh something went wrong!<span class="pl-pds">"</span></span>)
    }
})

<span class="pl-c"><span class="pl-c">//</span>scala idiomatic way using Future</span>
chrome.system.cpu.<span class="pl-en">CPU</span>.getInfo.onComplete {
  <span class="pl-k">case</span> <span class="pl-en">Success</span>(info) <span class="pl-k">=&gt;</span> println(info)
  <span class="pl-k">case</span> <span class="pl-en">Failure</span>(error) <span class="pl-k">=&gt;</span> println(<span class="pl-s"><span class="pl-pds">"</span>ohoh something went wrong!<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <p>The scala idiomatic binding provieds the following general changes:</p> 
  <ul> 
   <li>Futures instead of callbacks</li> 
   <li>Error handling using types like <code>Future</code> / <code>Try</code> instead of global error varibale.</li> 
   <li>Using <code>Option</code> for things that may or may not be defined.</li> 
  </ul> 
  <h2><a href="https://github.com/lucidd/scala-js-chrome#sbt-plugin" aria-hidden="true" class="anchor" id="user-content-sbt-plugin" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SBT Plugin</h2> 
  <p>The job of the SBT plugin is to help with common tasks for developing chrome apps/extensions. It also provides a way to configure your app/extension in your SBT file and automatically generate the manifest file.</p> 
  <ul> 
   <li><code>chromePackage</code> will create a ZIP file you can upload to the chrome store.</li> 
   <li><code>chromeUnpackedOpt</code> (or <code>chromeUnpackedFast</code>) will build your projects with (or without) optimizations enabled. The output will be in <code>target/chrome/unpacked-opt</code> (or <code>target/chrome/unpacked-fast</code>) and can be loaded by chrome as an unpacked extension/app.</li> 
  </ul> 
  <h2><a href="https://github.com/lucidd/scala-js-chrome#getting-started" aria-hidden="true" class="anchor" id="user-content-getting-started" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting Started</h2> 
  <p>Add this to your <code>project/plugins.sbt</code></p> 
  <div class="highlight highlight-source-scala">
   <pre>addSbtPlugin(<span class="pl-s"><span class="pl-pds">"</span>net.lullabyte<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>sbt-chrome-plugin<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.5.0<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>Add this to your projects dependencies</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-s"><span class="pl-pds">"</span>net.lullabyte<span class="pl-pds">"</span></span> <span class="pl-k">%%%</span> <span class="pl-s"><span class="pl-pds">"</span>scala-js-chrome<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.5.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <h3><a href="https://github.com/lucidd/scala-js-chrome#with-scalajs-bundler" aria-hidden="true" class="anchor" id="user-content-with-scalajs-bundler" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>with <a href="https://scalacenter.github.io/scalajs-bundler/" target="_blank">scalajs-bundler</a></h3> 
  <p>to use the <code>&lt;project-name&gt;-f{ast,ull}opt-bundle.js</code> generated by <a href="https://scalacenter.github.io/scalajs-bundler" target="_blank">scalajs-bundler</a> add the following to your <code>build.sbt</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>fastOptJsLib <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-en">Attributed</span>.blank((webpack in (<span class="pl-en">Compile</span>, fastOptJS)).value.head)
fullOptJsLib <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-en">Attributed</span>.blank((webpack in (<span class="pl-en">Compile</span>, fullOptJS)).value.head)</pre>
  </div> 
  <p><em>NOTE:</em> if code seems to be executing duplicate times unintentionally, try removing these lines from the project's <code>build.sbt</code></p> 
  <div class="highlight highlight-source-scala">
   <pre>scalaJSUseMainModuleInitializer <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-c1">true</span>
scalaJSUseMainModuleInitializer in <span class="pl-en">Test</span> <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-c1">false</span></pre>
  </div> 
  <h3><a href="https://github.com/lucidd/scala-js-chrome#creating-a-basic-window" aria-hidden="true" class="anchor" id="user-content-creating-a-basic-window" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Creating a basic Window</h3> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">chrome.app.runtime.bindings.</span><span class="pl-v">LaunchData</span>
<span class="pl-k">import</span> <span class="pl-v">chrome.app.window.</span><span class="pl-v">Window</span>
<span class="pl-k">import</span> <span class="pl-v">utils.</span><span class="pl-v">ChromeApp</span>

<span class="pl-k">import</span> <span class="pl-v">scalajs.concurrent.JSExecutionContext.Implicits.</span><span class="pl-v">queue</span>

<span class="pl-k">object</span> <span class="pl-en">ChromeAppExample</span> <span class="pl-k">extends</span> <span class="pl-e">ChromeApp</span> {

  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">onLaunched</span>(<span class="pl-v">launchData</span>: <span class="pl-en">LaunchData</span>)<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
    println(<span class="pl-s"><span class="pl-pds">"</span>hello world from scala!<span class="pl-pds">"</span></span>)
    <span class="pl-en">Window</span>.create(<span class="pl-s"><span class="pl-pds">"</span>assets/html/App.html<span class="pl-pds">"</span></span>).foreach { window <span class="pl-k">=&gt;</span>
<span class="pl-c">      <span class="pl-c">/**</span></span>
<span class="pl-c">         Access to the document of the newly created window.</span>
<span class="pl-c">         From here you can change the HTML of the window with whatever</span>
<span class="pl-c">         library you want to use.</span>
<span class="pl-c">      <span class="pl-c">*/</span></span>
      window.contentWindow.document
    }
  }

}</pre>
  </div> 
  <p>For a more complete example see <a href="https://github.com/lucidd/chrome-system-monitor" target="_blank">https://github.com/lucidd/chrome-system-monitor</a> and <a href="https://github.com/lucidd/scala-js-chrome/tree/master/examples" target="_blank">https://github.com/lucidd/scala-js-chrome/tree/master/examples</a></p> 
  <h3><a href="https://github.com/lucidd/scala-js-chrome#ui-libraries" aria-hidden="true" class="anchor" id="user-content-ui-libraries" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>UI Libraries</h3> 
  <p>There are already multiple libraries to manipulate HTML and build your UI available for ScalaJS.</p> 
  <ul> 
   <li><a href="https://github.com/scala-js/scala-js-dom" target="_blank">scala-js-dom</a> For simple dom access</li> 
   <li><a href="https://github.com/lihaoyi/scalatags" target="_blank">scalatags</a> Scala DSL for creating HTML</li> 
   <li><a href="https://github.com/japgolly/scalajs-react" target="_blank">scalajs-react</a> Bindings for using react.js</li> 
   <li><a href="https://github.com/japgolly/scalacss" target="_blank">scalacss</a> Typesafe way to write CSS with Scala</li> 
   <li><a href="https://github.com/ThoughtWorksInc/Binding.scala" target="_blank">Binding.scala</a> Reactive data-binding for Scala</li> 
  </ul> 
  <h3><a href="https://github.com/lucidd/scala-js-chrome#known-issues" aria-hidden="true" class="anchor" id="user-content-known-issues" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Known Issues</h3> 
  <p>In chrome apps and extensions there are multiple places where you can run javascript. Normaly you split your logic into different files and load them into whatever context they need to run. Since ScalaJS compiles your whole project into one big file all contexts need to load this big file with all the logic even if they only need a small subset. This can cause your app you use more memory then it need to. In some cases this can be worked around for example the a background page can manipulate the DOM of a App window so you don't need any javascript at all in the window itself.</p> 
 </article>
</div>