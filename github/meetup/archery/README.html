<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h2><a href="https://github.com/meetup/archery#archery" aria-hidden="true" class="anchor" id="user-content-archery" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Archery</h2> 
  <h3><a href="https://github.com/meetup/archery#overview" aria-hidden="true" class="anchor" id="user-content-overview" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Overview</h3> 
  <p>Archery is a two-dimensional <a href="http://en.wikipedia.org/wiki/R-tree" target="_blank">R-Tree</a> written in Scala. The implementation is immutable: adding and removing points from the tree produces a new tree, leaving the old one untouched. Due to <a href="http://en.wikipedia.org/wiki/Persistent_data_structure" target="_blank">structural sharing</a> this operation is quite efficient.</p> 
  <p>The name "archery" is a corruption of the word "R-Tree".</p> 
  <p><a href="https://travis-ci.org/meetup/archery?branch=master" target="_blank"><img src="https://camo.githubusercontent.com/05d0be224a2006351eb029eba96ab4fbd74eb339/68747470733a2f2f6170692e7472617669732d63692e6f72672f6d65657475702f617263686572792e7376673f6272616e63683d6d6173746572" alt="travis-ci.org" data-canonical-src="https://api.travis-ci.org/meetup/archery.svg?branch=master" style="max-width:100%;"></a> <a href="http://codecov.io/github/meetup/archery?branch=master" target="_blank"><img src="https://camo.githubusercontent.com/e2e1961322971e61f12173c6545ec327173230df/687474703a2f2f636f6465636f762e696f2f6769746875622f6d65657475702f617263686572792f636f7665726167652e7376673f6272616e63683d6d6173746572" alt="codecov.io" data-canonical-src="http://codecov.io/github/meetup/archery/coverage.svg?branch=master" style="max-width:100%;"></a></p> 
  <h3><a href="https://github.com/meetup/archery#getting-archery" aria-hidden="true" class="anchor" id="user-content-getting-archery" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting Archery</h3> 
  <p>Archery is published to <a href="https://bintray.com/" target="_blank">bintray</a> using the <a href="https://github.com/softprops/bintray-sbt" target="_blank">bintray-sbt</a> plugin. Archery is available for Scala 2.10 and Scala 2.11.</p> 
  <p>If you use SBT, you can include Archery via the following <code>build.sbt</code> snippet:</p> 
  <div class="highlight highlight-source-scala">
   <pre>resolvers <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>bintray/meetup<span class="pl-pds">"</span></span> at <span class="pl-s"><span class="pl-pds">"</span>http://dl.bintray.com/meetup/maven<span class="pl-pds">"</span></span>

libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.meetup<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>archery<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.4.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>For Maven or Ivy, you'll use the same resolver URL but you'll need a slightly different artifact name (the example is for Scala 2.11):</p> 
  <pre><code>org=com.meetup
name=archery_2.11
rev=0.4.0
</code></pre> 
  <h3><a href="https://github.com/meetup/archery#example-usage" aria-hidden="true" class="anchor" id="user-content-example-usage" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Example Usage</h3> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">archery.</span><span class="pl-v">_</span>

<span class="pl-c"><span class="pl-c">//</span> create some entries</span>
<span class="pl-k">val</span> <span class="pl-en">alice</span> <span class="pl-k">=</span> <span class="pl-en">Entry</span>(<span class="pl-en">Point</span>(<span class="pl-c1">9.12F</span>, <span class="pl-k">-</span><span class="pl-c1">4.9F</span>), <span class="pl-s"><span class="pl-pds">"</span>alice<span class="pl-pds">"</span></span>)
<span class="pl-k">val</span> <span class="pl-en">bob</span> <span class="pl-k">=</span> <span class="pl-en">Entry</span>(<span class="pl-en">Point</span>(<span class="pl-c1">2.3F</span>, <span class="pl-c1">4.6F</span>), <span class="pl-s"><span class="pl-pds">"</span>bob<span class="pl-pds">"</span></span>)
<span class="pl-k">val</span> <span class="pl-en">candice</span> <span class="pl-k">=</span> <span class="pl-en">Entry</span>(<span class="pl-en">Point</span>(<span class="pl-c1">4.7F</span>, <span class="pl-k">-</span><span class="pl-c1">1.9F</span>), <span class="pl-s"><span class="pl-pds">"</span>candice<span class="pl-pds">"</span></span>)
<span class="pl-k">val</span> <span class="pl-en">doug</span> <span class="pl-k">=</span> <span class="pl-en">Entry</span>(<span class="pl-en">Point</span>(<span class="pl-c1">5.5F</span>, <span class="pl-k">-</span><span class="pl-c1">3.2F</span>), <span class="pl-s"><span class="pl-pds">"</span>doug<span class="pl-pds">"</span></span>)

<span class="pl-c"><span class="pl-c">//</span> build a tree with three points</span>
<span class="pl-k">val</span> <span class="pl-en">tree1</span><span class="pl-k">:</span> <span class="pl-en">RTree</span>[<span class="pl-k">String</span>] <span class="pl-k">=</span> <span class="pl-en">RTree</span>(alice, bob, candice)

<span class="pl-c"><span class="pl-c">//</span> add "doug"</span>
<span class="pl-k">val</span> <span class="pl-en">tree2</span><span class="pl-k">:</span> <span class="pl-en">RTree</span>[<span class="pl-k">String</span>] <span class="pl-k">=</span> tree1.insert(doug)

<span class="pl-c"><span class="pl-c">//</span> remove "bob"</span>
<span class="pl-k">val</span> <span class="pl-en">tree3</span><span class="pl-k">:</span> <span class="pl-en">RTree</span>[<span class="pl-k">String</span>] <span class="pl-k">=</span> tree2.remove(bob)

<span class="pl-c"><span class="pl-c">//</span> search from (0,-4) to (10,6), will find "doug"</span>
<span class="pl-k">val</span> <span class="pl-en">bbox</span><span class="pl-k">:</span> <span class="pl-en">Box</span> <span class="pl-k">=</span> <span class="pl-en">Box</span>(<span class="pl-c1">0F</span>, <span class="pl-k">-</span><span class="pl-c1">4F</span>, <span class="pl-c1">10F</span>, <span class="pl-c1">6F</span>)
<span class="pl-k">val</span> <span class="pl-en">results</span><span class="pl-k">:</span> <span class="pl-en">Seq</span>[<span class="pl-en">Entry</span>[<span class="pl-k">String</span>]] <span class="pl-k">=</span> tree3.search(bbox)

<span class="pl-c"><span class="pl-c">//</span> we can also just ask how many matching entries exist</span>
<span class="pl-k">val</span> <span class="pl-en">n</span><span class="pl-k">:</span> <span class="pl-k">Int</span> <span class="pl-k">=</span> tree3.count(bbox)
assert(results.length <span class="pl-k">==</span> n)</pre>
  </div> 
  <h3><a href="https://github.com/meetup/archery#contributing" aria-hidden="true" class="anchor" id="user-content-contributing" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contributing</h3> 
  <p>If you find something that seems like a bug in Archery, or see confusing behavior, or find a place where the documentation or library could be better, please <a href="https://github.com/meetup/archery/issues" target="_blank">open an issue</a>.</p> 
  <p>Pull requests are gladly accepted. The preferred strategy is to open an issue or pull request where the feature can be discussed. We can use the PR to collaborate on, and will merge it once everyone agrees on the change, the tests and docs are updated, etc.</p> 
  <h3><a href="https://github.com/meetup/archery#building-archery" aria-hidden="true" class="anchor" id="user-content-building-archery" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Building Archery</h3> 
  <p>Building this project requires SBT 0.13.x.</p> 
  <p>After you launch SBT, you can run the following commands:</p> 
  <ul> 
   <li><code>compile</code> compile the project.</li> 
   <li><code>test</code> run the tests.</li> 
   <li><code>scalastyle</code> run the style-checking.</li> 
   <li><code>benchmark/run</code> run the included timing benchmarks.</li> 
   <li><code>console</code> load a scala REPL with archery on the classpath.</li> 
  </ul> 
  <p>(Travis automatically runs <code>test</code> and <code>scalastyle</code>, so any issues should also be detected when a pull request is opened.)</p> 
  <p>You can generate coverage statistics manually by running the following command from the command-line:</p> 
  <pre><code>$ sbt clean coverage test coverageReport
</code></pre> 
  <p>Open <code>core/target/scala-2.11/scoverage-report/index.html</code> in a web browser to see local coverage.</p> 
  <p>Tests are written with <a href="http://www.scalatest.org/" target="_blank">ScalaTest</a> and use the excellent <a href="https://github.com/rickynils/scalacheck" target="_blank">ScalaCheck</a> library for automated specification-based testing.</p> 
  <p>Test coverage is measured using <a href="https://github.com/scoverage/sbt-scoverage" target="_blank">sbt-scoverage</a> and tracked at <a href="https://codecov.io/github/meetup/archery" target="_blank">codecov.io</a>.</p> 
  <p>The benchmarks are written against Rex Kerr's excellent library <a href="https://github.com/Ichoran/thyme" target="_blank">Thyme</a>.</p> 
  <h3><a href="https://github.com/meetup/archery#license" aria-hidden="true" class="anchor" id="user-content-license" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h3> 
  <p>Archery is available to you under the MIT license. See the <a href="https://github.com/meetup/archery/blob/master/COPYING" target="_blank">COPYING</a> file for details.</p> 
  <h3><a href="https://github.com/meetup/archery#credits" aria-hidden="true" class="anchor" id="user-content-credits" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Credits</h3> 
  <p>Archery is maintained by Erik Osheim.</p> 
  <p>Copyright (c) 2013-2015 Meetup Inc.</p> 
 </article>
</div>