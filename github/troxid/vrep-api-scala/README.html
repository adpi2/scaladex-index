<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-v-rep-scala" class="anchor" href="https://github.com/troxid/vrep-api-scala#v-rep-scala" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>v-rep scala</h1> 
  <p>Simple Scala/Java binding for <a href="http://www.coppeliarobotics.com/" target="_blank">Coppelia Robotics V-REP simulator</a> (<a href="http://www.coppeliarobotics.com/helpFiles/en/remoteApiOverview.htm" target="_blank">remote API</a>)</p> 
  <h2><a id="user-content-getting-started" class="anchor" href="https://github.com/troxid/vrep-api-scala#getting-started" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting started</h2> 
  <ol> 
   <li>Add the library in your project by adding the following dependency to your build file:</li> 
  </ol> 
  <p>for SBT project:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.github.troxid<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>vrepapiscala<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.3.6<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>for Gradle project:</p> 
  <pre><code>dependencies {
    compile     "com.github.troxid:vrepapiscala_2.12:0.3.6"
}
</code></pre> 
  <p>for Maven project:</p> 
  <pre><code>&lt;dependency&gt;
  &lt;groupId&gt;com.github.troxid&lt;/groupId&gt;
  &lt;artifactId&gt;vrepapiscala_2.12&lt;/artifactId&gt;
  &lt;version&gt;0.3.6&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
  <ol start="2"> 
   <li>Find the socket port number in <code>V-REP/remoteApiConnections.txt</code> and use it to connect to the server simulator</li> 
  </ol> 
  <h2><a id="user-content-currently-implemented-things" class="anchor" href="https://github.com/troxid/vrep-api-scala#currently-implemented-things" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Currently implemented things</h2> 
  <p>In the current version is not implemented features such as remote management GUI, additional configuration properties of objects and shapes, etc. Basically implemented those components that are required to control the robot:</p> 
  <ul> 
   <li>Joint</li> 
   <li>Proximity sensor</li> 
   <li>Vision sensor</li> 
   <li>Force sensor</li> 
   <li>Position sensor (used for that dummy or shape object)</li> 
   <li>Remote function calls</li> 
  </ul> 
  <h2><a id="user-content-example" class="anchor" href="https://github.com/troxid/vrep-api-scala#example" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Example</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">vrepapiscala.</span><span class="pl-v">_</span>

<span class="pl-k">object</span> <span class="pl-en">PioneerRemoteControlExample</span> <span class="pl-k">extends</span> <span class="pl-e">App</span> {
  <span class="pl-k">val</span> <span class="pl-en">api</span> <span class="pl-k">=</span> <span class="pl-en">VRepAPI</span>.connect(<span class="pl-s"><span class="pl-pds">"</span>127.0.0.1<span class="pl-pds">"</span></span>, <span class="pl-c1">19997</span>).get
  <span class="pl-k">val</span> <span class="pl-en">robot</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">PioneerP3dx</span>(api)

  api.simulation.start()

  <span class="pl-k">for</span>(_ <span class="pl-k">&lt;</span><span class="pl-k">-</span> <span class="pl-c1">0</span> to <span class="pl-c1">500</span>){
    <span class="pl-k">val</span> <span class="pl-en">resLS</span> <span class="pl-k">=</span> robot.leftSensor.read
    <span class="pl-k">val</span> <span class="pl-en">resRS</span> <span class="pl-k">=</span> robot.rightSensor.read
    <span class="pl-k">if</span>(resLS.detectionState <span class="pl-k">&amp;&amp;</span> resLS.detectedPoint.length <span class="pl-k">&lt;</span> <span class="pl-c1">0.5</span>){
      robot.rotateRight()
    }<span class="pl-k">else</span> <span class="pl-k">if</span>(resRS.detectionState <span class="pl-k">&amp;&amp;</span> resRS.detectedPoint.length <span class="pl-k">&lt;</span> <span class="pl-c1">0.5</span>){
      robot.rotateLeft()
    } <span class="pl-k">else</span> {
      robot.moveForward()
    }
    <span class="pl-en">Thread</span>.sleep(<span class="pl-c1">10</span>)
  }

  api.simulation.stop()
}

<span class="pl-k">class</span> <span class="pl-en">PioneerP3dx</span>(<span class="pl-v">api</span>: <span class="pl-en">VRepAPI</span>) {
  <span class="pl-k">private</span> <span class="pl-k">val</span> <span class="pl-en">speed</span> <span class="pl-k">=</span> <span class="pl-c1">2f</span>
  <span class="pl-k">private</span> <span class="pl-k">val</span> <span class="pl-en">leftMotor</span> <span class="pl-k">=</span> api.joint.withVelocityControl(<span class="pl-s"><span class="pl-pds">"</span>Pioneer_p3dx_leftMotor<span class="pl-pds">"</span></span>).get
  <span class="pl-k">private</span> <span class="pl-k">val</span> <span class="pl-en">rightMotor</span> <span class="pl-k">=</span> api.joint.withVelocityControl(<span class="pl-s"><span class="pl-pds">"</span>Pioneer_p3dx_rightMotor<span class="pl-pds">"</span></span>).get
  <span class="pl-k">private</span> <span class="pl-k">val</span> <span class="pl-en">frontSensors</span> <span class="pl-k">=</span>
    <span class="pl-k">for</span>(i <span class="pl-k">&lt;</span><span class="pl-k">-</span> <span class="pl-c1">1</span> to <span class="pl-c1">8</span>)
      <span class="pl-k">yield</span> api.sensor.proximity(<span class="pl-s"><span class="pl-pds">"</span>Pioneer_p3dx_ultrasonicSensor<span class="pl-pds">"</span></span> <span class="pl-k">+</span> i).get

  <span class="pl-k">def</span> <span class="pl-en">moveForward</span>()<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
    leftMotor.setTargetVelocity(speed)
    rightMotor.setTargetVelocity(speed)
  }

  <span class="pl-k">def</span> <span class="pl-en">moveBackward</span>()<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
    leftMotor.setTargetVelocity(<span class="pl-k">-</span>speed)
    rightMotor.setTargetVelocity(<span class="pl-k">-</span>speed)
  }

  <span class="pl-k">def</span> <span class="pl-en">rotateLeft</span>()<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
    leftMotor.setTargetVelocity(<span class="pl-k">-</span>speed)
    rightMotor.setTargetVelocity(speed)
  }

  <span class="pl-k">def</span> <span class="pl-en">rotateRight</span>()<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
    leftMotor.setTargetVelocity(speed)
    rightMotor.setTargetVelocity(<span class="pl-k">-</span>speed)
  }

  <span class="pl-k">def</span> <span class="pl-en">stop</span>()<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
    leftMotor.setTargetVelocity(<span class="pl-c1">0</span>)
    rightMotor.setTargetVelocity(<span class="pl-c1">0</span>)
  }

  <span class="pl-k">def</span> <span class="pl-en">leftSensor</span> <span class="pl-k">=</span> frontSensors(<span class="pl-c1">1</span>)

  <span class="pl-k">def</span> <span class="pl-en">rightSensor</span> <span class="pl-k">=</span> frontSensors(<span class="pl-c1">6</span>)
}</pre>
  </div> 
  <h2><a id="user-content-more-examples-scala" class="anchor" href="https://github.com/troxid/vrep-api-scala#more-examples-scala" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>More examples (scala)</h2> 
  <p><a href="https://github.com/Troxid/vrep-api-scala/blob/master/src/test/scala/OpenConnectionTest.scala" target="_blank">Connection</a></p> 
  <p><a href="https://github.com/Troxid/vrep-api-scala/blob/master/src/test/scala/PioneerRemoteControlExample.scala" target="_blank">PioneerP3dx control</a></p> 
  <p><a href="https://github.com/Troxid/vrep-api-scala/blob/master/src/test/scala/TestAllComponents.scala" target="_blank">Test all components</a></p> 
  <h2><a id="user-content-more-examples-java" class="anchor" href="https://github.com/troxid/vrep-api-scala#more-examples-java" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>More examples (java)</h2> 
  <p><a href="https://github.com/Troxid/vrep-api-scala/blob/master/src/test/java/OpenConnectionTestJava.java" target="_blank">Connection</a></p> 
  <p><a href="https://github.com/Troxid/vrep-api-scala/blob/master/src/test/java/PioneerRemoteControlExampleJava.java" target="_blank">PioneerP3dx control</a></p> 
  <p><a href="https://github.com/Troxid/vrep-api-scala/blob/master/src/test/java/TestAllComponentJava.java" target="_blank">Test all components</a></p> 
 </article>
</div>