<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-slicker--" class="anchor" href="https://github.com/imliar/slicker#slicker--" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Slicker <a href="https://maven-badges.herokuapp.com/maven-central/com.github.imliar/slicker-core_2.11" target="_blank"><img src="https://camo.githubusercontent.com/507f6c21244268dea41524fab900076907cde583/68747470733a2f2f6d6176656e2d6261646765732e6865726f6b756170702e636f6d2f6d6176656e2d63656e7472616c2f636f6d2e6769746875622e696d6c6961722f736c69636b65722d636f72655f322e31312f62616467652e737667" alt="Maven Central" data-canonical-src="https://maven-badges.herokuapp.com/maven-central/com.github.imliar/slicker-core_2.11/badge.svg" style="max-width:100%;"></a> <a href="https://travis-ci.org/ImLiar/slicker" target="_blank"><img src="https://camo.githubusercontent.com/4d9bf05870296a4654b69509bb7f4cd652c4d672/68747470733a2f2f7472617669732d63692e6f72672f496d4c6961722f736c69636b65722e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/ImLiar/slicker.svg?branch=master" style="max-width:100%;"></a></h1> 
  <p>Using <a href="http://slick.lightbend.com/" target="_blank">Slick</a> in repository manner.</p> 
  <h2><a id="user-content-repository-vs-dao" class="anchor" href="https://github.com/imliar/slicker#repository-vs-dao" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Repository vs DAO</h2> 
  <p>DAO or <em>Data Access Object</em> is a quick and nice solution to access and represent database inside of your code. Close to the tables, persistence included. Sounds like a silver bullet.<br> But what if inside of your business domain you want to abstract over data mapping and the way your entity is built? May be you have multiple database sources and don't want to care managing sources on the business level.</p> 
  <p>Here comes the repository layer which allows to hide details of database access and get rid of duplication of query code. </p> 
  <p>You could read more about both patterns here:</p> 
  <ul> 
   <li><a href="http://blog.sapiensworks.com/post/2012/11/01/Repository-vs-DAO.aspx" target="_blank">http://blog.sapiensworks.com/post/2012/11/01/Repository-vs-DAO.aspx</a></li> 
   <li><a href="https://thinkinginobjects.com/2012/08/26/dont-use-dao-use-repository/" target="_blank">https://thinkinginobjects.com/2012/08/26/dont-use-dao-use-repository/</a></li> 
  </ul> 
  <h2><a id="user-content-point-of-using-slicker" class="anchor" href="https://github.com/imliar/slicker#point-of-using-slicker" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Point of using Slicker</h2> 
  <p>Slick <code>TableQuery</code> in fact is an implementation of DAO staying close to SQL and exposing SQL logic. Slicker doesn't reject this approach but hides usage of Slick tables under the hood providing sufficient abstraction for simple CRUD operations but still with possibility of doing manual work.</p> 
  <h2><a id="user-content-example" class="anchor" href="https://github.com/imliar/slicker#example" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Example</h2> 
  <p>First add following lines to your build.sbt:</p> 
  <pre><code>libraryDependencies ++= Seq(
    "com.github.imliar" %% "slicker-core" % "0.3",
    "com.github.imliar" %% "slicker-postgres" % "0.3"
)
</code></pre> 
  <p>Then define table and entity that we're going to use:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">io.slicker.postgres.PostgresDriver.api.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">io.slicker.postgres.</span>{<span class="pl-v">SimpleRecordTable</span>, <span class="pl-v">TableWithId</span>}
<span class="pl-k">import</span> <span class="pl-v">slick.lifted.</span><span class="pl-v">ProvenShape</span>

<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">User</span>(<span class="pl-v">id</span>: <span class="pl-en">Option</span>[<span class="pl-k">Long</span>], <span class="pl-v">name</span>: <span class="pl-k">String</span>)

<span class="pl-k">class</span> <span class="pl-en">UserTable</span> <span class="pl-k">extends</span> <span class="pl-e">SimpleRecordTable</span>[<span class="pl-k">Long</span>, <span class="pl-en">User</span>, <span class="pl-en">Users</span>] {

  <span class="pl-k">override</span> <span class="pl-k">val</span> <span class="pl-en">tableQuery</span><span class="pl-k">:</span> <span class="pl-en">TableQuery</span>[<span class="pl-en">Users</span>] <span class="pl-k">=</span> <span class="pl-en">TableQuery</span>[<span class="pl-en">Users</span>]

}

<span class="pl-k">class</span> <span class="pl-en">Users</span>(<span class="pl-v">tag</span>: <span class="pl-en">Tag</span>) <span class="pl-k">extends</span> <span class="pl-e">TableWithId</span>[<span class="pl-k">Long</span>, <span class="pl-en">User</span>](tag, <span class="pl-s"><span class="pl-pds">"</span>users<span class="pl-pds">"</span></span>) {

  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">id</span><span class="pl-k">:</span> <span class="pl-en">Rep</span>[<span class="pl-k">Long</span>] <span class="pl-k">=</span> column[<span class="pl-k">Long</span>](<span class="pl-s"><span class="pl-pds">"</span>id<span class="pl-pds">"</span></span>, <span class="pl-en">O</span>.<span class="pl-en">AutoInc</span>, <span class="pl-en">O</span>.<span class="pl-en">PrimaryKey</span>)

  <span class="pl-k">def</span> <span class="pl-en">name</span><span class="pl-k">:</span> <span class="pl-en">Rep</span>[<span class="pl-k">String</span>] <span class="pl-k">=</span> column[<span class="pl-k">String</span>](<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>)

  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">*</span> <span class="pl-k">:</span> <span class="pl-en">ProvenShape</span>[<span class="pl-en">User</span>] <span class="pl-k">=</span> (id.<span class="pl-k">?</span>, name) <span class="pl-k">&lt;&gt;</span> (<span class="pl-en">User</span>.tupled, <span class="pl-en">User</span>.unapply)

}</pre>
  </div> 
  <p><code>UserTable</code> will be used by Slicker <code>Repository</code> to convert business &lt;&gt; database entities and operate with <code>TableQuery</code>. In this case business model is equal to database one, so it's enough to use <code>SimpleRecordTable</code>.<br> <code>TableWithId</code> defines <code>id</code> column with provided type so <code>Repository</code> could operate with entity id.</p> 
  <p>Now define repository interface as a next step. It's not required but just a good practice to split intention and implementation.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">io.slicker.core.</span><span class="pl-v">Repository</span>

<span class="pl-k">trait</span> <span class="pl-en">UsersRepository</span> <span class="pl-k">extends</span> <span class="pl-e">Repository</span>[<span class="pl-k">Long</span>, <span class="pl-en">User</span>] {

  <span class="pl-k">def</span> <span class="pl-en">findOneByName</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>)<span class="pl-k">:</span> <span class="pl-en">ReadAction</span>[<span class="pl-en">Option</span>[<span class="pl-en">User</span>]]

}</pre>
  </div> 
  <p>Except manually provided <code>findAllByName</code> method <code>Repository</code> interface also defines useful everyday <a href="https://github.com/ImLiar/slicker/blob/master/slicker-core/src/main/scala/io/slicker/core/Repository.scala" target="_blank">methods</a>.<br> As a result you will get Slick <code>DBIOAction</code>. Running of action is up to user.</p> 
  <p>Finally define a repository implementation:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">io.slicker.postgres.PostgresDriver.api.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">io.slicker.postgres.</span><span class="pl-v">PostgreSQLRepository</span>

<span class="pl-k">import</span> <span class="pl-v">scala.concurrent.</span><span class="pl-v">ExecutionContext</span>

<span class="pl-k">class</span> <span class="pl-en">UsersRepositoryImpl</span> <span class="pl-k">extends</span> <span class="pl-e">PostgreSQLRepository</span>(<span class="pl-k">new</span> <span class="pl-en">UserTable)</span> <span class="pl-k">with</span> <span class="pl-e">UsersRepository</span> {

  <span class="pl-c"><span class="pl-c">//</span>just an example. you could provide your own EC</span>
  <span class="pl-k">override</span> <span class="pl-k">protected</span> <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">ec</span><span class="pl-k">:</span> <span class="pl-en">ExecutionContext</span> <span class="pl-k">=</span> scala.concurrent.<span class="pl-en">ExecutionContext</span>.global

  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">findOneByName</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>)<span class="pl-k">:</span> <span class="pl-en">ReadAction</span>[<span class="pl-en">Option</span>[<span class="pl-en">User</span>]] <span class="pl-k">=</span> findOneBy(_.name <span class="pl-k">===</span> name)

}</pre>
  </div> 
  <p><code>findOneBy</code> is one of methods that come with <a href="https://github.com/ImLiar/slicker/blob/master/slicker-postgres/src/main/scala/io/slicker/postgres/PostgreSQLRepository.scala" target="_blank">PostgreSQLRepository</a> and supposed to provide easy-to-use CRUD operations.</p> 
  <h2><a id="user-content-documentation" class="anchor" href="https://github.com/imliar/slicker#documentation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Documentation</h2> 
  <p>Detailed documentation could be found <a href="https://github.com/ImLiar/slicker/blob/master/docs/index.md" target="_blank">here</a>.</p> 
  <h2><a id="user-content-limitations" class="anchor" href="https://github.com/imliar/slicker#limitations" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Limitations</h2> 
  <ul> 
   <li>Only PostgreSQL implementation available. It'll be easy to support other DBs creating new subproject.</li> 
  </ul> 
 </article>
</div>