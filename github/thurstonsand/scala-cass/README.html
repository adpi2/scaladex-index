<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-scalacass" class="anchor" href="https://github.com/thurstonsand/scala-cass#scalacass" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>ScalaCass</h1> 
  <h5><a id="user-content-cassandra-java-driver-wrapper-that-makes-retrieval-from-rows-a-little-easier" class="anchor" href="https://github.com/thurstonsand/scala-cass#cassandra-java-driver-wrapper-that-makes-retrieval-from-rows-a-little-easier" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a><a href="https://github.com/datastax/java-driver" target="_blank">Cassandra Java Driver</a> wrapper that makes retrieval from Rows a little easier</h5> 
  <p><a href="https://travis-ci.org/thurstonsand/scala-cass" target="_blank"><img src="https://camo.githubusercontent.com/7a614180576097bb04cd33753fb2230c58c333da/68747470733a2f2f7472617669732d63692e6f72672f7468757273746f6e73616e642f7363616c612d636173732e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/thurstonsand/scala-cass.svg?branch=master" style="max-width:100%;"></a> <a href="https://gitter.im/scala-cass/Lobby?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/78b7950473b52d04833f040569008787f09c114e/68747470733a2f2f6261646765732e6769747465722e696d2f7363616c612d636173732f4c6f6262792e737667" alt="Join the chat at https://gitter.im/scala-cass/Lobby" data-canonical-src="https://badges.gitter.im/scala-cass/Lobby.svg" style="max-width:100%;"></a></p> 
  <h3><a id="user-content-getting-scalacass" class="anchor" href="https://github.com/thurstonsand/scala-cass#getting-scalacass" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting ScalaCass</h3> 
  <p><a href="https://bintray.com/thurstonsand/maven/scalacass" target="_blank">you can find it on bintray</a>.</p> 
  <p>Supports <strong>scala 2.10</strong> and <strong>scala 2.11</strong> and</p> 
  <ul> 
   <li>Cassandra 2.1 on Java 7</li> 
   <li>Cassandra 3.0+ on Java 8</li> 
  </ul> 
  <h4><a id="user-content-sbt" class="anchor" href="https://github.com/thurstonsand/scala-cass#sbt" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SBT</h4> 
  <p>Add the jcenter resolver</p> 
  <div class="highlight highlight-source-scala">
   <pre>resolvers <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-en">Resolver</span>.jcenterRepo</pre>
  </div> 
  <p>Add the appropriate version of the library</p> 
  <h5><a id="user-content-cassandra-30-with-java-8" class="anchor" href="https://github.com/thurstonsand/scala-cass#cassandra-30-with-java-8" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Cassandra 3.0+ with Java 8</h5> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.github.thurstonsand<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>scalacass<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.6.13<span class="pl-pds">"</span></span></pre>
  </div> 
  <h5><a id="user-content-cassandra-21-with-java-7" class="anchor" href="https://github.com/thurstonsand/scala-cass#cassandra-21-with-java-7" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Cassandra 2.1 with Java 7</h5> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.github.thurstonsand<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>scalacass<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.5.13<span class="pl-pds">"</span></span></pre>
  </div> 
  <h4><a id="user-content-maven" class="anchor" href="https://github.com/thurstonsand/scala-cass#maven" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Maven</h4> 
  <p>Add the jcenter resolver</p> 
  <div class="highlight highlight-text-xml">
   <pre>&lt;<span class="pl-ent">repositories</span>&gt;
    &lt;<span class="pl-ent">repository</span>&gt;
        &lt;<span class="pl-ent">id</span>&gt;central&lt;/<span class="pl-ent">id</span>&gt;
        &lt;<span class="pl-ent">name</span>&gt;bintray&lt;/<span class="pl-ent">name</span>&gt;
        &lt;<span class="pl-ent">url</span>&gt;http://jcenter.bintray.com&lt;/<span class="pl-ent">url</span>&gt;
    &lt;/<span class="pl-ent">repository</span>&gt;
&lt;/<span class="pl-ent">repositories</span>&gt;</pre>
  </div> 
  <p>Pick a version</p> 
  <h5><a id="user-content-cassandra-21-with-java-7-1" class="anchor" href="https://github.com/thurstonsand/scala-cass#cassandra-21-with-java-7-1" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Cassandra 2.1 with Java 7</h5> 
  <div class="highlight highlight-text-xml">
   <pre>&lt;<span class="pl-ent">properties</span>&gt;
    &lt;<span class="pl-ent">scalaCass</span>.version&gt;0.5.13&lt;/<span class="pl-ent">scalaCassVersion</span>&gt;
&lt;/<span class="pl-ent">properties</span>&gt;</pre>
  </div> 
  <h5><a id="user-content-cassandra-30-with-java-8-1" class="anchor" href="https://github.com/thurstonsand/scala-cass#cassandra-30-with-java-8-1" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Cassandra 3.0+ with Java 8</h5> 
  <div class="highlight highlight-text-xml">
   <pre>&lt;<span class="pl-ent">properties</span>&gt;
    &lt;<span class="pl-ent">scalaCass</span>.version&gt;0.6.13&lt;/<span class="pl-ent">scalaCassVersion</span>&gt;
&lt;/<span class="pl-ent">properties</span>&gt;</pre>
  </div> 
  <p>Include the repo</p> 
  <div class="highlight highlight-text-xml">
   <pre>&lt;<span class="pl-ent">dependency</span>&gt;
  &lt;<span class="pl-ent">groupId</span>&gt;com.github.thurstonsand&lt;/<span class="pl-ent">groupId</span>&gt;
  &lt;<span class="pl-ent">artifactId</span>&gt;scalacass_${scala.version}&lt;/<span class="pl-ent">artifactId</span>&gt;
  &lt;<span class="pl-ent">version</span>&gt;${scalaCass.version}&lt;/<span class="pl-ent">version</span>&gt;
  &lt;<span class="pl-ent">type</span>&gt;pom&lt;/<span class="pl-ent">type</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;</pre>
  </div> 
  <h3><a id="user-content-overview" class="anchor" href="https://github.com/thurstonsand/scala-cass#overview" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Overview</h3> 
  <ul> 
   <li><a href="https://github.com/thurstonsand/scala-cass#components" target="_blank">Components</a> 
    <ul> 
     <li><a href="https://github.com/thurstonsand/scala-cass#session-creation" target="_blank">Session creation</a></li> 
     <li><a href="https://github.com/thurstonsand/scala-cass#table-creation" target="_blank">Table creation</a></li> 
     <li><a href="https://github.com/thurstonsand/scala-cass#characteristics-of-cassandra-statements" target="_blank">General characteristics of all Cassandra statements</a></li> 
     <li><a href="https://github.com/thurstonsand/scala-cass#insert" target="_blank">Insert</a></li> 
     <li><a href="https://github.com/thurstonsand/scala-cass#update" target="_blank">Update</a></li> 
     <li><a href="https://github.com/thurstonsand/scala-cass#delete" target="_blank">Delete</a></li> 
     <li><a href="https://github.com/thurstonsand/scala-cass#select" target="_blank">Select</a> 
      <ul> 
       <li><a href="https://github.com/thurstonsand/scala-cass#row-extraction" target="_blank">Row extraction</a></li> 
      </ul></li> 
    </ul></li> 
   <li><a href="https://github.com/thurstonsand/scala-cass#additional-functionality" target="_blank">Additional functionality</a> 
    <ul> 
     <li><a href="https://github.com/thurstonsand/scala-cass#batch-statements" target="_blank">Batch statements</a></li> 
     <li><a href="https://github.com/thurstonsand/scala-cass#raw-statements" target="_blank">Raw statements</a></li> 
    </ul></li> 
   <li><a href="https://github.com/thurstonsand/scala-cass#type-mapping" target="_blank">Type mapping</a></li> 
   <li><a href="https://github.com/thurstonsand/scala-cass#custom-types" target="_blank">Custom types</a> 
    <ul> 
     <li><a href="https://github.com/thurstonsand/scala-cass#map-over-an-existing-type" target="_blank">Map over existing type</a></li> 
     <li><a href="https://github.com/thurstonsand/scala-cass#create-a-new-type-from-scratch" target="_blank">Create new type</a></li> 
    </ul></li> 
   <li><a href="https://github.com/thurstonsand/scala-cass#caching-implicits" target="_blank">Caching implicits</a></li> 
   <li><a href="https://github.com/thurstonsand/scala-cass#parsing-performance" target="_blank">Parsing performance</a></li> 
  </ul> 
  <h2><a id="user-content-components" class="anchor" href="https://github.com/thurstonsand/scala-cass#components" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Components</h2> 
  <h3><a id="user-content-session-creation" class="anchor" href="https://github.com/thurstonsand/scala-cass#session-creation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Session creation</h3> 
  <p>using a ScalaSession follows the same general rules as creating the regular Java Session. The major difference is that, in Cassandra 3.0+, this library requires a cluster instance in implicit scope when working with tuples. This is because tuple types are defined based on the specific codecs associated with a cluster instance. effectively, this means that,</p> 
  <h5><a id="user-content-for-cassandra-21--java-7" class="anchor" href="https://github.com/thurstonsand/scala-cass#for-cassandra-21--java-7" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>for Cassandra 2.1 / Java 7</h5> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">cluster</span> <span class="pl-k">=</span> <span class="pl-en">Cluster</span>.builder.addContactPoint(<span class="pl-s"><span class="pl-pds">"</span>localhost<span class="pl-pds">"</span></span>).build()</pre>
  </div> 
  <h5><a id="user-content-for-cassandra-30--java-8" class="anchor" href="https://github.com/thurstonsand/scala-cass#for-cassandra-30--java-8" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>for Cassandra 3.0+ / Java 8</h5> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// implicit is only necessary if using tuple types</span>
<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">cluster</span> <span class="pl-k">=</span> <span class="pl-en">Cluster</span>.builder.addContactPoint(<span class="pl-s"><span class="pl-pds">"</span>localhost<span class="pl-pds">"</span></span>).build()</pre>
  </div> 
  <h4><a id="user-content-characteristics" class="anchor" href="https://github.com/thurstonsand/scala-cass#characteristics" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Characteristics</h4> 
  <ul> 
   <li><code>PreparedStatement</code> caching</li> 
   <li>acts on a single keyspace</li> 
   <li>can optionally create a keyspace on instantiation</li> 
   <li>can pick up Java <code>Session</code> implicitly</li> 
  </ul> 
  <p>The session itself is a class that you must keep around, much like you would a Cassandra Java Session. This is because the ScalaSession caches PreparedStatements automatically, so if you are calling the same request multiple times, it will use an existing PreparedStatement instead of generating a new statement every time. the instantiation takes an optional String with the right hand side of the keyspace definition, if you want it to automatically create the keyspace for you (this will likely only really be used for testing purposes).</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.weather.scalacass.</span><span class="pl-v">ScalaSession</span>

<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">session</span> <span class="pl-k">=</span> cluster.connect()

<span class="pl-k">val</span> <span class="pl-en">sSessionCreateKeyspace</span> <span class="pl-k">=</span> <span class="pl-en">ScalaSession</span>(<span class="pl-s"><span class="pl-pds">"</span>mykeyspace<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>replication = {'class':'SimpleStrategy', 'replication_factor' : 3}<span class="pl-pds">"</span></span>) <span class="pl-c">// session can be picked up implicitly</span>
<span class="pl-k">val</span> <span class="pl-en">sSession</span> <span class="pl-k">=</span> <span class="pl-en">ScalaSession</span>(<span class="pl-s"><span class="pl-pds">"</span>mykeyspace<span class="pl-pds">"</span></span>)(session) <span class="pl-c">// if mykeyspace already exists</span></pre>
  </div> 
  <p>In addition to creating a keyspace, a <code>ScalaSession</code> can delete the keyspace. This would make any subsequent calls via that <code>ScalaSession</code> invalid</p> 
  <div class="highlight highlight-source-scala">
   <pre>sSession.dropKeyspace()</pre>
  </div> 
  <p>Finally, you can close the associated <code>Session</code> for shutdown.</p> 
  <div class="highlight highlight-source-scala">
   <pre>sSession.close()</pre>
  </div> 
  <h3><a id="user-content-table-creation" class="anchor" href="https://github.com/thurstonsand/scala-cass#table-creation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Table creation</h3> 
  <p>This feature will likely be useful mostly for testing purposes. It takes advantage of case classes to model the data, so the type of the data maps to a cassandra type, and the names in the case class match to the cassandra column names.</p> 
  <h4><a id="user-content-characteristics-1" class="anchor" href="https://github.com/thurstonsand/scala-cass#characteristics-1" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Characteristics</h4> 
  <ul> 
   <li>the createTable method takes 4 properties 
    <ul> 
     <li>name of table</li> 
     <li>number of partition keys</li> 
     <li>number of clustering keys</li> 
     <li>the right hand side of the table definition</li> 
    </ul></li> 
   <li>parameters wrapped in <code>Option</code> take the underlying type parameter as its type for table creation</li> 
   <li>you must have at least 1 partition key</li> 
   <li>the number of partition keys + clustering keys must be less than the number of fields in the case class</li> 
   <li>any rules associated with cassandra semantics for data types must be followed (eg no counters in the primary key)</li> 
   <li>to see all scala-cassandra type mappings, <a href="https://github.com/thurstonsand/scala-cass#type-mapping" target="_blank">jump to this section</a></li> 
  </ul> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">MyTable</span>(<span class="pl-v">s</span>: <span class="pl-k">String</span>, <span class="pl-v">i</span>: <span class="pl-k">Int</span>, <span class="pl-v">l</span>: <span class="pl-en">Option</span>[<span class="pl-k">Long</span>])
<span class="pl-c">// generates """CREATE TABLE mykeyspace.mytable (s varchar, i int, l bigint, PRIMARY KEY ((s, i))) WITH COMPACT STORAGE"""</span>
sSession.createTable[<span class="pl-en">MyTable</span>](<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-c1">2</span>, <span class="pl-c1">0</span>, <span class="pl-s"><span class="pl-pds">"</span>COMPACT STORAGE<span class="pl-pds">"</span></span>)

<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">MyTableWithClustering</span>(<span class="pl-v">s</span>: <span class="pl-k">String</span>, <span class="pl-v">i</span>: <span class="pl-k">Int</span>, <span class="pl-v">b</span>: <span class="pl-k">Boolean</span>, <span class="pl-v">l</span>: <span class="pl-en">Option</span>[<span class="pl-k">Long</span>])
<span class="pl-c">// generates """CREATE TABLE mykeyspace.mytablewithclustering (s varchar, i int, b bool, l bigint, PRIMARY KEY ((s, i), b))"""</span>
sSession.createTable[<span class="pl-en">MyTableWithClustering</span>](<span class="pl-s"><span class="pl-pds">"</span>mytablewithclustering<span class="pl-pds">"</span></span>, <span class="pl-c1">2</span>, <span class="pl-c1">1</span>)</pre>
  </div> 
  <p>In addition, you can both truncate and drop existing tables</p> 
  <div class="highlight highlight-source-scala">
   <pre>sSession.truncateTable(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>)
sSession.dropTable(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <h3><a id="user-content-characteristics-of-cassandra-statements" class="anchor" href="https://github.com/thurstonsand/scala-cass#characteristics-of-cassandra-statements" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Characteristics of Cassandra statements</h3> 
  <p>These are some characteristics shared by the remaining functions in the <code>ScalaSession</code></p> 
  <ul> 
   <li>the first parameter of the function is the table name</li> 
   <li>the names and types of the case class should match up to the underlying cassandra names and types</li> 
   <li>there is a synchronous and asynchronous implementation of each statement. ScalaCass returns a <code>ResultSet</code>/ <code>scala.concurrent.Future[ResultSet]</code> for insert/delete/update statements, <code>Iterator[Row]</code>/<code>Future[Iterator[Row]]</code> for select statements, and <code>Option[Row]</code>/<code>Future[Option[Row]]</code> for selectOne statements</li> 
   <li>any columns missing from the table are not entered as <code>null</code> to cassandra. They are left out of the query</li> 
   <li>optional values are included in the statement if they are <code>Some</code>, and left out of the statement if they are <code>None</code>. This includes values in any queries, and if there is a problem with the generated Cassandra query, an exception will be thrown by the Cassandra Java driver</li> 
  </ul> 
  <h3><a id="user-content-insert" class="anchor" href="https://github.com/thurstonsand/scala-cass#insert" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Insert</h3> 
  <p>Use case classes to model the data to insert. If you are inserting an entire row, the same case class used for the definition of the table can be used.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// given the table definition</span>
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">MyTable</span>(<span class="pl-v">s</span>: <span class="pl-k">String</span>, <span class="pl-v">i</span>: <span class="pl-k">Int</span>, <span class="pl-v">l</span>: <span class="pl-en">Option</span>[<span class="pl-k">Long</span>])

<span class="pl-c">// generates """INSERT INTO mykeyspace.mytable (s, i, l) VALUES ('asdf', 1234, 123)"""</span>
<span class="pl-k">val</span> <span class="pl-en">insertRes</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span> sSession.insert(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">MyTable</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>, <span class="pl-en">Some</span>(<span class="pl-c1">1234L</span>)))

<span class="pl-c">// generates """INSERT INTO mykeyspace.mytable (s, i) VALUES ('asdf', 1234)"""</span>
<span class="pl-k">val</span> <span class="pl-en">insertRes2</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span> sSession.insert(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">MyTable</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>, <span class="pl-c1">None</span>))

<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">InsertSome</span>(<span class="pl-v">s</span>: <span class="pl-k">String</span>, <span class="pl-v">i</span>: <span class="pl-k">Int</span>)
<span class="pl-c">// generates """INSERT INTO mykeyspace.mytable (s, i) VALUES ('asdf', 1234)"""</span>
<span class="pl-k">val</span> <span class="pl-en">insertRes3</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span> sSession.insert(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">InsertSome</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>))

<span class="pl-k">val</span> <span class="pl-en">insertRes4</span><span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-en">ResultSet</span>] <span class="pl-k">=</span> sSession.insertAsync(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">MyTable</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>, <span class="pl-c1">None</span>))</pre>
  </div> 
  <p>if you need a TTL on the inserted data, that can be added to the insert statement</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">insertResWithTTL</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span> 
  sSession.insert(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">MyTable</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>, <span class="pl-en">Some</span>(<span class="pl-c1">1234L</span>)), ttl<span class="pl-k">=</span><span class="pl-en">Some</span>(<span class="pl-c1">60</span>)) <span class="pl-c">// 1 minute ttl</span></pre>
  </div> 
  <h3><a id="user-content-update" class="anchor" href="https://github.com/thurstonsand/scala-cass#update" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Update</h3> 
  <p>Use case classes to model the data to update. For update, 2 case classes are used -- one to specify the query, and one to specify the data to update.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// given the table definition</span>
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">MyTable</span>(<span class="pl-v">s</span>: <span class="pl-k">String</span>, <span class="pl-v">i</span>: <span class="pl-k">Int</span>, <span class="pl-v">l</span>: <span class="pl-en">Option</span>[<span class="pl-k">Long</span>])

<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Update</span>(<span class="pl-v">l</span>: <span class="pl-k">Long</span>)
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Query</span>(<span class="pl-v">s</span>: <span class="pl-k">String</span>, <span class="pl-v">i</span>: <span class="pl-k">Int</span>)

<span class="pl-c">// generates """UPDATE mykeyspace.mytable SET l=321 WHERE str='asdf' AND i=1234"""</span>
<span class="pl-k">val</span> <span class="pl-en">updateRes</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span> sSession.update(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">Update</span>(<span class="pl-c1">5678L</span>), <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>))
<span class="pl-k">val</span> <span class="pl-en">updateRes2</span><span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-en">ResultSet</span>] <span class="pl-k">=</span> sSession.updateAsync(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">Update</span>(<span class="pl-c1">5678L</span>), <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>))

<span class="pl-c">// NOTE:</span>
<span class="pl-c">// generates """UPDATE mykeyspace.mytable SET s='asdf', i=123 WHERE l=5678""", which will throw an exception</span>
sSession.update(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>), <span class="pl-en">Update</span>(<span class="pl-c1">5678L</span>))</pre>
  </div> 
  <p>if you need a TTL on the updated data, that can be added to the update statement</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">updateResWithTTL</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span>
  sSession.update(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">Update</span>(<span class="pl-c1">5678L</span>), <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>), ttl<span class="pl-k">=</span><span class="pl-en">Some</span>(<span class="pl-c1">60</span>)) <span class="pl-c">// 1 minute ttl</span></pre>
  </div> 
  <p>if you just want to update the TTL, pass <code>NoUpdate</code> to the update statement</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">updateResWithOnlyTTL</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span>
  sSession.update(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">ScalaSession</span>.<span class="pl-en">NoUpdate</span>(), <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>), ttl<span class="pl-k">=</span><span class="pl-en">Some</span>(<span class="pl-c1">60</span>))</pre>
  </div> 
  <p>be warned, however, if you pass <code>NoUpdate</code> and do not specify a ttl, the library will throw an <code>IllegalArgumentException</code> because there is nothing to update.</p> 
  <p>Finally, if you need an additive/subtractive update on a cassandra collection, that can be accomplished with the <code>UpdateBehavior</code> classes found in <code>com.weather.scalacass.ScalaSession.UpdateBehavior</code>.</p> 
  <p><strong>NOTE</strong>: only works for <code>list</code> and <code>set</code></p> 
  <p>For example, if you have a table with <code>s varchar, i int, sSet set&lt;varchar&gt;</code>, you can use additive behavior via</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">MyTableWithSet</span>(<span class="pl-v">s</span>: <span class="pl-k">String</span>, <span class="pl-v">sSet</span>: <span class="pl-en">Set</span>[<span class="pl-k">String</span>])

<span class="pl-k">import</span> <span class="pl-v">com.weather.scalacass.ScalaSession.</span><span class="pl-v">UpdateBehavior</span>

<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">UpdateWithAdditive</span>(<span class="pl-v">sSet</span>: <span class="pl-en">UpdateBehavior</span>.<span class="pl-en">Add</span>[<span class="pl-en">Set</span>, <span class="pl-k">String</span>])

<span class="pl-c">// generates """UPDATE mykeyspace.mytable SET sSet=sSet+{'firstitem'} WHERE s='asdf' AND i=1234"""</span>
<span class="pl-k">val</span> <span class="pl-en">updateResFirst</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span>
  sSession.update(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">UpdateWithAdditive</span>(<span class="pl-en">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>firstitem<span class="pl-pds">"</span></span>)), <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">1234</span>)) <span class="pl-c">// adds 'firstitem' to empty sSet</span>

<span class="pl-c">// generates """UPDATE mykeyspace.mytable SET sSet=sSet+{'seconditem'} WHERE s='asdf' AND i=1234"""</span>
<span class="pl-k">val</span> <span class="pl-en">updateResSecond</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span>
  sSession.update(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">UpdateWithAdditive</span>(<span class="pl-en">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>seconditem<span class="pl-pds">"</span></span>)), <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">1234</span>)) <span class="pl-c">// adds 'seconditem' to sSet with 'firstItem' element</span></pre>
  </div> 
  <p>and the row where <code>s='asdf' AND i=1234</code> now has <code>sSet={'firstitem', 'seconditem'}</code>. You have access to the aforementioned <code>UpdateBehavior.Add</code> as well as <code>UpdateBehavior.Subtract</code> and <code>UpdateBehavior.Replace</code>. Subtract works as you expect:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">UpdateWithSubtractive</span>(<span class="pl-v">sSet</span>: <span class="pl-en">UpdateBehavior</span>.<span class="pl-en">Subtract</span>[<span class="pl-en">Set</span>, <span class="pl-k">String</span>])

<span class="pl-k">val</span> <span class="pl-en">updateResAdd</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span>
  sSession.update(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">UpdateWithAdditive</span>(<span class="pl-en">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>firstitem<span class="pl-pds">"</span></span>)), <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">1234</span>)) <span class="pl-c">// adds 'firstitem' to the set</span>

<span class="pl-c">// generates """UPDATE mykeyspace.mytable SET sSet=sSet-{'firstitem'} WHERE s='asdf' AND i=1234</span>
<span class="pl-k">val</span> <span class="pl-en">updateResSubtract</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span>
  sSession.update(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">UpdateWithSubtractive</span>(<span class="pl-en">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>firstitem<span class="pl-pds">"</span></span>)), <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">1234</span>)) <span class="pl-c">// removes 'firstitem' from the set</span></pre>
  </div> 
  <p>finally, <code>UpdateBehavior.Replace</code> is the "default" behavior:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">UpdateWithReplace</span>(<span class="pl-v">sSet</span>: <span class="pl-en">UpdateBehavior</span>.<span class="pl-en">Replace</span>[<span class="pl-en">Set</span>, <span class="pl-k">String</span>])

<span class="pl-c">// generates """UPDATE mykeyspace.mytable SET sSet={'firstitem'} WHERE s='asdf' AND i=1234"""</span>
<span class="pl-k">val</span> <span class="pl-en">updateResFirst</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span>
  sSession.update(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">UpdateWithReplace</span>(<span class="pl-en">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>firstitem<span class="pl-pds">"</span></span>)), <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">1234</span>)) <span class="pl-c">// sets sSet to 'firstitem'</span>

<span class="pl-c">// generates """UPDATE mykeyspace.mytable SET sSet={'seconditem'} WHERE s='asdf' AND i=1234"""</span>
<span class="pl-k">val</span> <span class="pl-en">updateResSecond</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span>
  sSession.update(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">UpdateWithReplace</span>(<span class="pl-en">Set</span>(<span class="pl-s"><span class="pl-pds">"</span>seconditem<span class="pl-pds">"</span></span>)), <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">1234</span>)) <span class="pl-c">// sets sSet to 'firstitem'</span></pre>
  </div> 
  <p>as you may guess, if you don't use one of the <code>UpdateBehavior</code>s, it defaults to <code>UpdateBehavior.Replace</code></p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">UpdateWithoutUpdateBehavior</span>(<span class="pl-v">sSet</span>: <span class="pl-en">Set</span>[<span class="pl-k">String</span>])
 <span class="pl-c">// equivalent to</span>
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">UpdateWithReplace</span>(<span class="pl-v">sSet</span>: <span class="pl-en">UpdateBehavior</span>.<span class="pl-en">Replace</span>[<span class="pl-en">Set</span>, <span class="pl-k">String</span>])</pre>
  </div> 
  <h3><a id="user-content-delete" class="anchor" href="https://github.com/thurstonsand/scala-cass#delete" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Delete</h3> 
  <p>Use case classes to model the query for the data to delete.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// given the table and query definition</span>
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">MyTable</span>(<span class="pl-v">s</span>: <span class="pl-k">String</span>, <span class="pl-v">i</span>: <span class="pl-k">Int</span>, <span class="pl-v">l</span>: <span class="pl-en">Option</span>[<span class="pl-k">Long</span>])
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Query</span>(<span class="pl-v">s</span>: <span class="pl-k">String</span>, <span class="pl-v">i</span>: <span class="pl-k">Int</span>)

<span class="pl-c">// generates """DELETE FROM mykeyspace.mytable WHERE s='asdf' AND i=123"""</span>
<span class="pl-k">val</span> <span class="pl-en">deleteRes</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span> sSession.delete(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>))
<span class="pl-k">val</span> <span class="pl-en">deleteRes2</span><span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-en">ResultSet</span>] <span class="pl-k">=</span> sSession.deleteAsync(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>))</pre>
  </div> 
  <h3><a id="user-content-select" class="anchor" href="https://github.com/thurstonsand/scala-cass#select" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Select</h3> 
  <p>Use case classes to model the query for the data to select. You can either use <code>select</code>, which returns an <code>Iterator[Row]</code>, or <code>selectOne</code>, which returns an <code>Option[Row]</code> representing the first result returned from Cassandra if it exists (using the underlying <code>(r: Row).one()</code>)</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// given the table and query definition</span>
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">MyTable</span>(<span class="pl-v">s</span>: <span class="pl-k">String</span>, <span class="pl-v">i</span>: <span class="pl-k">Int</span>, <span class="pl-v">l</span>: <span class="pl-en">Option</span>[<span class="pl-k">Long</span>])
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Query</span>(<span class="pl-v">s</span>: <span class="pl-k">String</span>, <span class="pl-v">i</span>: <span class="pl-k">Int</span>)

<span class="pl-c">// generates """SELECT * FROM mykeyspace.mytable WHERE s='asdf' AND i=123"""</span>
<span class="pl-k">val</span> <span class="pl-en">selectRes</span><span class="pl-k">:</span> <span class="pl-en">Iterator</span>[<span class="pl-en">Row</span>] <span class="pl-k">=</span> sSession.select(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>))
<span class="pl-k">val</span> <span class="pl-en">selectRes2</span><span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-en">Iterator</span>[<span class="pl-en">Row</span>]] <span class="pl-k">=</span> sSession.selectAsync(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>))

<span class="pl-c">// generates """SELECT * FROM mykeyspace.mytable WHERE s='asdf' AND i=123""" and only returns first value found, if any</span>
<span class="pl-k">val</span> <span class="pl-en">selectOneRes</span><span class="pl-k">:</span> <span class="pl-en">Option</span>[<span class="pl-en">Row</span>] <span class="pl-k">=</span> sSession.selectOne(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>))
<span class="pl-k">val</span> <span class="pl-en">selectOneRes2</span><span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-en">Option</span>[<span class="pl-en">Row</span>]] <span class="pl-k">=</span> sSession.selectOneAsync(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>))</pre>
  </div> 
  <p><code>select</code>/<code>selectOne</code> also takes an optional <code>allowFiltering</code> boolean, <a href="http://www.datastax.com/dev/blog/allow-filtering-explained-2" target="_blank">as described here</a></p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">RequiresFilteringQuery</span>(<span class="pl-v">i</span>: <span class="pl-k">Int</span>)
<span class="pl-c">// generates """SELECT * FROM mykeyspace.mytable WHERE i=123 ALLOW FILTERING"""</span>
<span class="pl-k">val</span> <span class="pl-en">selectWithFiltering</span><span class="pl-k">:</span> <span class="pl-en">Iterator</span>[<span class="pl-en">Row</span>] <span class="pl-k">=</span> sSession.select(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">RequiresFilteringQuery</span>(<span class="pl-c1">123</span>), allowFiltering<span class="pl-k">=</span><span class="pl-c1">true</span>)</pre>
  </div> 
  <p><code>select</code> also takes an optional <code>limit</code> parameter, to limit the number of results returned</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// generates """SELECT * FROM mykeyspace.mytable WHERE s='asdf' AND i=123 LIMIT 100"""</span>
<span class="pl-k">val</span> <span class="pl-en">selectResWithLimit</span><span class="pl-k">:</span> <span class="pl-en">Iterator</span>[<span class="pl-en">Row</span>] <span class="pl-k">=</span> sSession.select(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>), limit<span class="pl-k">=</span><span class="pl-en">Some</span>(<span class="pl-c1">100</span>))</pre>
  </div> 
  <p>If you want to pull out the entire table with the select statement, this can be achieved by using the <code>NoQuery</code> type</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// generates """SELECT * FROM mykeyspace.mytable"""</span>
<span class="pl-k">val</span> <span class="pl-en">selectAll</span><span class="pl-k">:</span> <span class="pl-en">Iterator</span>[<span class="pl-en">Row</span>] <span class="pl-k">=</span> sSession.select(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">ScalaSession</span>.<span class="pl-en">NoQuery</span>())</pre>
  </div> 
  <p>Finally, in case you only want to extract certain columns in a Row, this is provided by the <code>columns</code> variant of the select functions.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">ColumnsIWant</span>(<span class="pl-v">i</span>: <span class="pl-k">Int</span>, <span class="pl-v">l</span>: <span class="pl-k">Long</span>)

<span class="pl-c">// generates """SELECT i, l FROM mykeyspace.mytable WHERE s='asdf' AND i=123"""</span>
<span class="pl-k">val</span> <span class="pl-en">someColumns</span><span class="pl-k">:</span> <span class="pl-en">Option</span>[<span class="pl-en">Row</span>] <span class="pl-k">=</span> sSession.selectColumnsOne[<span class="pl-en">ColumnsIWant</span>, <span class="pl-en">Query</span>](<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>))

<span class="pl-k">val</span> <span class="pl-en">aRowSomeColumns</span> <span class="pl-k">=</span> someColumns.get
aRowSomeColumns.isNull(<span class="pl-s"><span class="pl-pds">"</span>s<span class="pl-pds">"</span></span>) <span class="pl-c">// true</span>
aRowSomeColumns.getInt(<span class="pl-s"><span class="pl-pds">"</span>i<span class="pl-pds">"</span></span>) <span class="pl-c">// 123</span>
aRowSomeColumns.getLong(<span class="pl-s"><span class="pl-pds">"</span>l<span class="pl-pds">"</span></span>) <span class="pl-c">// 1234L</span>
<span class="pl-c">// see "Row Extraction" for a better way to extract values from the Row</span>

<span class="pl-c">// other variants</span>
sSession.selectColumns[<span class="pl-en">ColumnsIWant</span>](<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>))
sSession.selectColumnsAsync[<span class="pl-en">ColumnsIWant</span>](<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>))
sSession.selectColumnsOneAsync[<span class="pl-en">ColumnsIWant</span>](<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">Query</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">123</span>))</pre>
  </div> 
  <h4><a id="user-content-row-extraction" class="anchor" href="https://github.com/thurstonsand/scala-cass#row-extraction" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Row Extraction</h4> 
  <p>After a select, you will have one or more <code>Row</code>s. Instead of the usual <code>getString</code>, <code>getInt</code>, etc, ScalaCass offers a friendlier syntax</p> 
  <h5><a id="user-content-characteristics-2" class="anchor" href="https://github.com/thurstonsand/scala-cass#characteristics-2" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Characteristics</h5> 
  <ul> 
   <li>requires an import of <code>com.weather.scalacass.syntax._</code></li> 
   <li>This functionality comes with no additional code cost thanks to the <a href="https://github.com/milessabin/shapeless" target="_blank">Shapeless library</a></li> 
   <li>For a complete mapping between Cassandra and Scala types, <a href="https://github.com/thurstonsand/scala-cass#type-mapping" target="_blank">see the type mappings section</a></li> 
  </ul> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">aRow</span> <span class="pl-k">=</span> selectOneRes.get <span class="pl-c">// for demonstration purposes</span>

<span class="pl-c">// Java driver way</span>
<span class="pl-k">val</span> <span class="pl-en">s1</span><span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> aRow.getString(<span class="pl-s"><span class="pl-pds">"</span>s<span class="pl-pds">"</span></span>)

<span class="pl-c">// ScalaCass way</span>
<span class="pl-k">import</span> <span class="pl-v">com.weather.scalacass.ScalaCass.</span><span class="pl-v">_</span>
<span class="pl-k">val</span> <span class="pl-en">s2</span><span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> aRow.as[<span class="pl-k">String</span>](<span class="pl-s"><span class="pl-pds">"</span>s<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>This opens up a number of possibilities, including optional extractions that return <code>None</code> if the value is not found and attempted extractions that return an <code>Either[Throwable, T]</code> to capture failure information</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">s1_</span><span class="pl-k">?:</span> <span class="pl-en">Option</span>[<span class="pl-k">String</span>] <span class="pl-k">=</span> aRow.as[<span class="pl-en">Option</span>[<span class="pl-k">String</span>]](<span class="pl-s"><span class="pl-pds">"</span>s<span class="pl-pds">"</span></span>)
<span class="pl-c">// alternate syntax</span>
<span class="pl-k">val</span> <span class="pl-en">s2_</span><span class="pl-k">?:</span> <span class="pl-en">Option</span>[<span class="pl-k">String</span>] <span class="pl-k">=</span> aRow.getAs[<span class="pl-k">String</span>](<span class="pl-s"><span class="pl-pds">"</span>s<span class="pl-pds">"</span></span>)

<span class="pl-k">val</span> <span class="pl-en">sAttempt</span><span class="pl-k">:</span> <span class="pl-en">Either</span>[<span class="pl-en">Throwable</span>, <span class="pl-k">String</span>] <span class="pl-k">=</span> aRow.attemptAs[<span class="pl-k">String</span>](<span class="pl-s"><span class="pl-pds">"</span>s<span class="pl-pds">"</span></span>)

<span class="pl-k">val</span> <span class="pl-en">sWithDefault</span><span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> aRow.getOrElse[<span class="pl-k">String</span>](<span class="pl-s"><span class="pl-pds">"</span>s<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>defaultValue<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>and perhaps most helpfully, allows extraction of an entire Row directly into a case class. Note that no column parameter is passed to these functions, since it is acting on the entire row, not on a single column</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// given the table definition</span>
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">MyTable</span>(<span class="pl-v">s</span>: <span class="pl-k">String</span>, <span class="pl-v">i</span>: <span class="pl-k">Int</span>, <span class="pl-v">l</span>: <span class="pl-en">Option</span>[<span class="pl-k">Long</span>])

<span class="pl-k">val</span> <span class="pl-en">allValues</span><span class="pl-k">:</span> <span class="pl-en">MyTable</span> <span class="pl-k">=</span> aRow.as[<span class="pl-en">MyTable</span>]
<span class="pl-k">val</span> <span class="pl-en">allValues_</span><span class="pl-k">?:</span> <span class="pl-en">Option</span>[<span class="pl-en">MyTable</span>] <span class="pl-k">=</span> aRow.getAs[<span class="pl-en">MyTable</span>]
<span class="pl-k">val</span> <span class="pl-en">allValuesAttempt</span><span class="pl-k">:</span> <span class="pl-en">Either</span>[<span class="pl-en">Throwable</span>, <span class="pl-en">MyTable</span>] <span class="pl-k">=</span> aRow.attemptAs[<span class="pl-en">MyTable</span>]
<span class="pl-k">val</span> <span class="pl-en">allValuesOrDefault</span><span class="pl-k">:</span> <span class="pl-en">MyTable</span> <span class="pl-k">=</span> aRow.getOrElse[<span class="pl-en">MyTable</span>](<span class="pl-en">MyTable</span>(<span class="pl-s"><span class="pl-pds">"</span>default_s<span class="pl-pds">"</span></span>, <span class="pl-c1">0</span>, <span class="pl-c1">None</span>))</pre>
  </div> 
  <p>In case class extraction, the entire case class must be extracted correctly, or none of it will be. If some parameters do not need to be extracted, they can be made <code>Option</code>al fields inside the case class.</p> 
  <h2><a id="user-content-additional-functionality" class="anchor" href="https://github.com/thurstonsand/scala-cass#additional-functionality" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Additional Functionality</h2> 
  <p>Outside of the core statements for Cassandra, there are a few other bits of Cassandra behavior improved by Scala-ization.</p> 
  <h3><a id="user-content-batch-statements" class="anchor" href="https://github.com/thurstonsand/scala-cass#batch-statements" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Batch Statements</h3> 
  <p>inserts, updates, and deletes can be batched into a single statement sent to Cassandra, and with a log level of <code>LOGGED</code>, will either all succeed or all fail. ScalaCass provides a way to pass in a <code>Seq</code> of case class definitions to be batched.</p> 
  <p><strong>Note</strong>: These case classes exist under <code>com.weather.scalacass</code></p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.weather.scalacass.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">updateBatch</span> <span class="pl-k">=</span> <span class="pl-en">UpdateBatch</span>(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">MyUpdate</span>(<span class="pl-c1">320L</span>), <span class="pl-en">MyQuery</span>(<span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-c1">1234</span>))
<span class="pl-k">val</span> <span class="pl-en">deleteBatch</span> <span class="pl-k">=</span> <span class="pl-en">DeleteBatch</span>(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">MyQuery</span>(<span class="pl-s"><span class="pl-pds">"</span>qwer<span class="pl-pds">"</span></span>, <span class="pl-c1">1234</span>))
<span class="pl-k">val</span> <span class="pl-en">insertBatch</span> <span class="pl-k">=</span> <span class="pl-en">InsertBatch</span>(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">MyTable</span>(<span class="pl-s"><span class="pl-pds">"</span>hjkl<span class="pl-pds">"</span></span>, <span class="pl-c1">678</span>, <span class="pl-en">Some</span>(<span class="pl-c1">6789L</span>)))

<span class="pl-k">val</span> <span class="pl-en">batchRes</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span> sSession.batch(<span class="pl-en">Seq</span>(updateBatch, deleteBatch, insertBatch))
<span class="pl-k">val</span> <span class="pl-en">batchResFut</span><span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-en">ResultSet</span>] <span class="pl-k">=</span> sSession.batchAsync(<span class="pl-en">Seq</span>(updateBatch, deleteBatch, insertBatch))</pre>
  </div> 
  <p>the batch methods default to using <code>LOGGED</code>, but you can pass in whatever type is available</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">batchResUnlogged</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span> sSession.batch(<span class="pl-en">Seq</span>(updateBatch, deleteBatch, insertBatch), <span class="pl-en">BatchStatement</span>.<span class="pl-en">Type</span>.<span class="pl-en">UNLOGGED</span>)</pre>
  </div> 
  <h3><a id="user-content-raw-statements" class="anchor" href="https://github.com/thurstonsand/scala-cass#raw-statements" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Raw Statements</h3> 
  <p>There are raw variants to insert, update, delete, select, and batch statements, primarily for cases where this library cannot fulfill a specific need you have. Raw variants simply take a Cassandra query as String and the anyref arguments, if any. The primary advantage is that the queries are cached as <code>PreparedStatement</code>s and can be mixed with other, more well behaved queries. As with other queries, there are asynchronous variants.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">insertQuery</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>INSERT INTO mykeyspace.mytable (s, i, l) VALUES (?, ?, ?)<span class="pl-pds">"</span></span>
<span class="pl-k">val</span> <span class="pl-en">insertRes</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span> sSession.rawStatement(insertQuery, <span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-k">Int</span>.box(<span class="pl-c1">123</span>), <span class="pl-k">Long</span>.box(<span class="pl-c1">1234L</span>))

<span class="pl-k">val</span> <span class="pl-en">deleteQuery</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>DELETE FROM mykeyspace.mytable WHERE s=? AND i=?<span class="pl-pds">"</span></span>
<span class="pl-k">val</span> <span class="pl-en">deleteRes</span><span class="pl-k">:</span> <span class="pl-en">ResultSet</span> <span class="pl-k">=</span> sSession.rawStatement(deleteQuery, <span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-k">Int</span>.box(<span class="pl-c1">123</span>))

<span class="pl-k">val</span> <span class="pl-en">updateQuery</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>UPDATE mykeyspace.mytable SET l=? WHERE str=? AND i=?<span class="pl-pds">"</span></span>
<span class="pl-k">val</span> <span class="pl-en">updateRes</span><span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-en">ResultSet</span>] <span class="pl-k">=</span> sSession.rawStatementAsync(updateQuery, <span class="pl-k">Long</span>.box(<span class="pl-c1">5678L</span>), <span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-k">Int</span>.box(<span class="pl-c1">123</span>))

<span class="pl-k">val</span> <span class="pl-en">selectQuery</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>SELECT * FROM mykeyspace.mytable WHERE s=? AND i=?<span class="pl-pds">"</span></span>
<span class="pl-k">val</span> <span class="pl-en">selectRes</span><span class="pl-k">:</span> <span class="pl-en">Iterator</span>[<span class="pl-en">Row</span>] <span class="pl-k">=</span> sSession.rawSelect(selectQuery, <span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-k">Int</span>.box(<span class="pl-c1">123</span>))
<span class="pl-k">val</span> <span class="pl-en">selectResFut</span><span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-en">Iterator</span>[<span class="pl-en">Row</span>]] <span class="pl-k">=</span> sSession.rawSelectAsync(selectQuery, <span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-k">Int</span>.box(<span class="pl-c1">123</span>))

<span class="pl-k">val</span> <span class="pl-en">selectOneRes</span><span class="pl-k">:</span> <span class="pl-en">Option</span>[<span class="pl-en">Row</span>] <span class="pl-k">=</span> sSession.rawSelectOne(selectQuery, <span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-k">Int</span>.box(<span class="pl-c1">123</span>))
<span class="pl-k">val</span> <span class="pl-en">selectOneRes</span><span class="pl-k">:</span> <span class="pl-en">Future</span>[<span class="pl-en">Option</span>[<span class="pl-en">Row</span>]] <span class="pl-k">=</span> sSession.rawSelectOneAsync(selectQuery, <span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-k">Int</span>.box(<span class="pl-c1">123</span>))</pre>
  </div> 
  <p>and for batch statements,</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.weather.scalacass.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">deleteBatch</span> <span class="pl-k">=</span> <span class="pl-en">DeleteBatch</span>(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, <span class="pl-en">MyQuery</span>(<span class="pl-s"><span class="pl-pds">"</span>qwer<span class="pl-pds">"</span></span>, <span class="pl-c1">1234</span>))
<span class="pl-k">val</span> <span class="pl-en">rawBatch</span> <span class="pl-k">=</span> <span class="pl-en">RawBatch</span>(insertQuery, <span class="pl-s"><span class="pl-pds">"</span>asdf<span class="pl-pds">"</span></span>, <span class="pl-k">Int</span>.box(<span class="pl-c1">123</span>), <span class="pl-k">Long</span>.box(<span class="pl-c1">1234L</span>))

sSession.batch(<span class="pl-en">Seq</span>(deleteBatch, rawBatch))</pre>
  </div> 
  <h2><a id="user-content-type-mapping" class="anchor" href="https://github.com/thurstonsand/scala-cass#type-mapping" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Type Mapping</h2> 
  <h3><a id="user-content-cassandra-30-on-java-8" class="anchor" href="https://github.com/thurstonsand/scala-cass#cassandra-30-on-java-8" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Cassandra 3.0+ on Java 8</h3> 
  <table>
   <thead> 
    <tr> 
     <th align="center">Cassandra Type</th> 
     <th align="center">Scala Type</th> 
    </tr> 
   </thead>
   <tbody> 
    <tr> 
     <td align="center">varchar</td> 
     <td align="center">String</td> 
    </tr> 
    <tr> 
     <td align="center">uuid</td> 
     <td align="center">java.util.UUID</td> 
    </tr> 
    <tr> 
     <td align="center">inet</td> 
     <td align="center">java.net.InetAddress</td> 
    </tr> 
    <tr> 
     <td align="center">int</td> 
     <td align="center">Int</td> 
    </tr> 
    <tr> 
     <td align="center">bigint</td> 
     <td align="center">Long</td> 
    </tr> 
    <tr> 
     <td align="center">boolean</td> 
     <td align="center">Boolean</td> 
    </tr> 
    <tr> 
     <td align="center">double</td> 
     <td align="center">Double</td> 
    </tr> 
    <tr> 
     <td align="center">varint</td> 
     <td align="center">BigInt</td> 
    </tr> 
    <tr> 
     <td align="center">decimal</td> 
     <td align="center">BigDecimal</td> 
    </tr> 
    <tr> 
     <td align="center">float</td> 
     <td align="center">Float</td> 
    </tr> 
    <tr> 
     <td align="center">blob</td> 
     <td align="center">Array[Byte]</td> 
    </tr> 
    <tr> 
     <td align="center">list</td> 
     <td align="center">List</td> 
    </tr> 
    <tr> 
     <td align="center">map</td> 
     <td align="center">Map</td> 
    </tr> 
    <tr> 
     <td align="center">set</td> 
     <td align="center">Set</td> 
    </tr> 
    <tr> 
     <td align="center">tuple</td> 
     <td align="center">Tuple*</td> 
    </tr> 
    <tr> 
     <td align="center"><strong>timestamp</strong></td> 
     <td align="center"><strong>java.util.Date</strong></td> 
    </tr> 
    <tr> 
     <td align="center"><strong>date</strong></td> 
     <td align="center"><strong>com.datastax.driver.core.LocalDate</strong></td> 
    </tr> 
    <tr> 
     <td align="center"><strong>time</strong></td> 
     <td align="center"><strong>Time</strong></td> 
    </tr> 
   </tbody>
  </table> 
  <ul> 
   <li>Time is a type specific to this library so as not to conflict with <code>bigint</code> and <code>Long</code>. it is defined as</li> 
  </ul> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">final</span> <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Time</span>(<span class="pl-v">millis</span>: <span class="pl-k">Long</span>)</pre>
  </div> 
  <ul> 
   <li>There are implicit overrides for both the Joda library and Jdk8 Time library that take advantage of Cassandra's new codecs. These codecs have to be registered with your <code>Cluster</code> instance; there is a helper function that does this</li> 
   <li>when using tuples, you must make the <code>Cluster</code> instance implicit, due to tuples' dependency on the specific codecs registered with the cluster in Cassandra 3.0+.</li> 
  </ul> 
  <h4><a id="user-content-joda-implicits" class="anchor" href="https://github.com/thurstonsand/scala-cass#joda-implicits" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Joda Implicits</h4> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// under the hood, DateTime uses a tuple, meaning the cluster must be implicit</span>
<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">c</span><span class="pl-k">:</span> <span class="pl-en">Cluster</span> <span class="pl-k">=</span> _ <span class="pl-c">// your cluster</span>
com.weather.scalacass.joda.register(c)
<span class="pl-k">import</span> <span class="pl-v">com.weather.scalacass.joda.Implicits.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">r</span><span class="pl-k">:</span> <span class="pl-en">Row</span> <span class="pl-k">=</span> _ <span class="pl-c">// some row from your cluster</span>
r.as[org.joda.time.<span class="pl-en">Instant</span>](<span class="pl-s"><span class="pl-pds">"</span>mytimestamp<span class="pl-pds">"</span></span>) <span class="pl-c">// cassandra "timestamp"</span>
r.as[org.joda.time.<span class="pl-en">LocalDate</span>](<span class="pl-s"><span class="pl-pds">"</span>mydate<span class="pl-pds">"</span></span>) <span class="pl-c">// cassandra "date"</span>
r.as[org.joda.time.<span class="pl-en">LocalTime</span>](<span class="pl-s"><span class="pl-pds">"</span>mytime<span class="pl-pds">"</span></span>) <span class="pl-c">// cassandra "time"</span>
r.as[org.joda.time.<span class="pl-en">DateTime</span>](<span class="pl-s"><span class="pl-pds">"</span>mydt<span class="pl-pds">"</span></span>) <span class="pl-c">// cassandra "tuple&lt;timestamp,varchar&gt;"</span></pre>
  </div> 
  <p><a href="https://datastax.github.io/java-driver/manual/custom_codecs/extras/#joda-time" target="_blank">See here</a> for information about the format of <code>DateTime</code></p> 
  <h4><a id="user-content-jdk8-date-implicits" class="anchor" href="https://github.com/thurstonsand/scala-cass#jdk8-date-implicits" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Jdk8 Date Implicits</h4> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// under the hood ZonedDateTime uses a tuple, meaning the cluster must be implicit</span>
<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">c</span><span class="pl-k">:</span> <span class="pl-en">Cluster</span> <span class="pl-k">=</span> _ <span class="pl-c">// your cluster</span>
com.weather.scalacass.jdk8.register(c)
<span class="pl-k">import</span> <span class="pl-v">com.weather.scalacass.jdk8.Implicits.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">r</span><span class="pl-k">:</span> <span class="pl-en">Row</span> <span class="pl-k">=</span> _ <span class="pl-c">// some row from your cluster</span>
r.as[java.time.<span class="pl-en">Instant</span>](<span class="pl-s"><span class="pl-pds">"</span>mytimestamp<span class="pl-pds">"</span></span>) <span class="pl-c">// cassandra "timestamp"</span>
r.as[java.time.<span class="pl-en">LocalDate</span>](<span class="pl-s"><span class="pl-pds">"</span>mydate<span class="pl-pds">"</span></span>) <span class="pl-c">// cassandra "date"</span>
r.as[java.time.<span class="pl-en">LocalTime</span>](<span class="pl-s"><span class="pl-pds">"</span>mytime<span class="pl-pds">"</span></span>) <span class="pl-c">// cassandra "time"</span>
r.as[java.time.<span class="pl-en">ZonedDateTime</span>](<span class="pl-s"><span class="pl-pds">"</span>myzdt<span class="pl-pds">"</span></span>) <span class="pl-c">// cassandra "tuple&lt;timestamp,varchar&gt;"</span></pre>
  </div> 
  <p><a href="https://datastax.github.io/java-driver/manual/custom_codecs/extras/#jdk-8" target="_blank">See here</a> for information about the format of <code>ZonedDateTime</code></p> 
  <h3><a id="user-content-cassandra-21-on-java-7" class="anchor" href="https://github.com/thurstonsand/scala-cass#cassandra-21-on-java-7" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Cassandra 2.1 on Java 7</h3> 
  <table>
   <thead> 
    <tr> 
     <th align="center">Cassandra Type</th> 
     <th align="center">Scala Type</th> 
    </tr> 
   </thead>
   <tbody> 
    <tr> 
     <td align="center">varchar</td> 
     <td align="center">String</td> 
    </tr> 
    <tr> 
     <td align="center">uuid</td> 
     <td align="center">java.util.UUID</td> 
    </tr> 
    <tr> 
     <td align="center">inet</td> 
     <td align="center">java.net.InetAddress</td> 
    </tr> 
    <tr> 
     <td align="center">int</td> 
     <td align="center">Int</td> 
    </tr> 
    <tr> 
     <td align="center">bigint</td> 
     <td align="center">Long</td> 
    </tr> 
    <tr> 
     <td align="center">boolean</td> 
     <td align="center">Boolean</td> 
    </tr> 
    <tr> 
     <td align="center">double</td> 
     <td align="center">Double</td> 
    </tr> 
    <tr> 
     <td align="center">varint</td> 
     <td align="center">BigInt</td> 
    </tr> 
    <tr> 
     <td align="center">decimal</td> 
     <td align="center">BigDecimal</td> 
    </tr> 
    <tr> 
     <td align="center">float</td> 
     <td align="center">Float</td> 
    </tr> 
    <tr> 
     <td align="center">blob</td> 
     <td align="center">Array[Byte]</td> 
    </tr> 
    <tr> 
     <td align="center">list</td> 
     <td align="center">List</td> 
    </tr> 
    <tr> 
     <td align="center">map</td> 
     <td align="center">Map</td> 
    </tr> 
    <tr> 
     <td align="center">set</td> 
     <td align="center">Set</td> 
    </tr> 
    <tr> 
     <td align="center">tuple</td> 
     <td align="center">Tuple*</td> 
    </tr> 
    <tr> 
     <td align="center"><strong>timestamp</strong></td> 
     <td align="center"><strong>java.util.Date</strong></td> 
    </tr> 
   </tbody>
  </table> 
  <ul> 
   <li>There is an implicit override for the Joda library. Unfortunately it transitively goes through <code>java.util.Date</code>, so any performance issues related to <code>java.util.Date</code> apply</li> 
  </ul> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.weather.scalacass.joda.Implicits.</span><span class="pl-v">_</span>

<span class="pl-k">val</span> <span class="pl-en">r</span><span class="pl-k">:</span> <span class="pl-en">Row</span> <span class="pl-k">=</span> _ <span class="pl-c">// some row from your cluster</span>
r.as[org.joda.time.<span class="pl-en">Instant</span>](<span class="pl-s"><span class="pl-pds">"</span>mytimestamp<span class="pl-pds">"</span></span>) <span class="pl-c">// cassandra "timestamp"</span></pre>
  </div> 
  <h2><a id="user-content-custom-types" class="anchor" href="https://github.com/thurstonsand/scala-cass#custom-types" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Custom Types</h2> 
  <p>If you want to use a Scala type outside those listed above, you can provide a custom encoder/decoder for it in 2 ways:</p> 
  <h3><a id="user-content-map-over-an-existing-type" class="anchor" href="https://github.com/thurstonsand/scala-cass#map-over-an-existing-type" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Map Over an Existing Type</h3> 
  <p>This is the easier way to create a custom type since you only need to provide conversions to/from existing types</p> 
  <ul> 
   <li><strong>CassFormatDecoder</strong> and <strong>CassFormatEncoder</strong> object <code>apply</code> methods summon an existing conversion as a starting point. (this is equivalent to using <code>implicitly[CassFormatDecoder[ExistingType]]</code>)</li> 
  </ul> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">iDecoder</span> <span class="pl-k">=</span> <span class="pl-en">CassFormatDecoder</span>[java.util.<span class="pl-en">Date</span>].map(<span class="pl-v">d</span>: java.util.<span class="pl-en">Date</span> <span class="pl-k">=&gt;</span> <span class="pl-k">new</span> <span class="pl-en">org.joda.time.Instant</span>(d))
<span class="pl-k">val</span> <span class="pl-en">r</span><span class="pl-k">:</span> <span class="pl-en">Row</span> <span class="pl-k">=</span> _ <span class="pl-c">// some row</span>
r.as[org.joda.time.<span class="pl-en">Instant</span>](<span class="pl-s"><span class="pl-pds">"</span>mytimestamp<span class="pl-pds">"</span></span>) <span class="pl-c">// reads from a timestamp</span>

<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">iEncoder</span> <span class="pl-k">=</span> <span class="pl-en">CassFormatEncoder</span>[java.util.<span class="pl-en">Date</span>].map(<span class="pl-v">i</span>: org.joda.time.<span class="pl-en">Instant</span> <span class="pl-k">=&gt;</span> <span class="pl-k">new</span> <span class="pl-en">java.util.Date</span>(i.getMillis))
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Person</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">birthday</span>: org.joda.time.<span class="pl-en">Instant</span>)
<span class="pl-k">val</span> <span class="pl-en">p</span> <span class="pl-k">=</span> <span class="pl-en">Person</span>(<span class="pl-s"><span class="pl-pds">"</span>newborn baby<span class="pl-pds">"</span></span>, org.joda.time.<span class="pl-en">Instant</span>.now)
<span class="pl-k">val</span> <span class="pl-en">ss</span><span class="pl-k">:</span> <span class="pl-en">ScalaSession</span> <span class="pl-k">=</span> _ <span class="pl-c">// your session instance</span>
ss.insert(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, p) <span class="pl-c">// writes a (string, timestamp)</span></pre>
  </div> 
  <p>if your conversion has a chance to fail, you can also use <code>flatMap</code> that utilizes the <code>Either[Throwable, T]</code> type. For instance, let's say you are storing a <code>java.util.UUID</code> as a varchar instead of the built-in uuid:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">uuidDecoder</span> <span class="pl-k">=</span> <span class="pl-en">CassFormatDecoder</span>[<span class="pl-k">String</span>].flatMap(<span class="pl-v">str</span>: <span class="pl-k">String</span> <span class="pl-k">=&gt;</span> <span class="pl-en">Try</span>(java.util.<span class="pl-en">UUID</span>.fromString(str)) <span class="pl-k">match</span> {
  <span class="pl-k">case</span> scala.util.<span class="pl-en">Success</span>(uuid) <span class="pl-k">=&gt;</span> <span class="pl-en">Right</span>(uuid)
  <span class="pl-k">case</span> scala.util.<span class="pl-en">Failure</span>(exc) <span class="pl-k">=&gt;</span> <span class="pl-en">Left</span>(exc)
})
<span class="pl-k">val</span> <span class="pl-en">r</span><span class="pl-k">:</span> <span class="pl-en">Row</span> <span class="pl-k">=</span> _ <span class="pl-c">// some row</span>
r.as[java.util.<span class="pl-en">UUID</span>](<span class="pl-s"><span class="pl-pds">"</span>myvarchar<span class="pl-pds">"</span></span>) <span class="pl-c">// reads from a varchar, throws IllegalArgumentException if "myvarchar" is not a UUID</span>

<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">uuidEncoder</span> <span class="pl-k">=</span> <span class="pl-en">CassFormatEncoder</span>[<span class="pl-k">String</span>].map(<span class="pl-v">uuid</span>: java.util.<span class="pl-en">UUID</span> <span class="pl-k">=&gt;</span> uuid.toString) <span class="pl-c">// this one can't fail, so no flatMap</span>
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Item</span>(<span class="pl-v">uuid</span>: java.util.<span class="pl-en">UUID</span>, <span class="pl-v">name</span>: <span class="pl-k">String</span>)
<span class="pl-k">val</span> <span class="pl-en">i</span> <span class="pl-k">=</span> <span class="pl-en">Item</span>(java.util.<span class="pl-en">UUID</span>.randomUUID, <span class="pl-s"><span class="pl-pds">"</span>my-item<span class="pl-pds">"</span></span>)
<span class="pl-k">val</span> <span class="pl-en">ss</span><span class="pl-k">:</span> <span class="pl-en">ScalaSession</span> <span class="pl-k">=</span> _ <span class="pl-c">// your session instance</span>
ss.insert(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, i) <span class="pl-c">// writes a (varchar, varchar)</span>
}</pre>
  </div> 
  <h3><a id="user-content-create-a-new-type-from-scratch" class="anchor" href="https://github.com/thurstonsand/scala-cass#create-a-new-type-from-scratch" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Create a New Type From Scratch</h3> 
  <p>If there is any special logic not possible in a <code>map</code>/<code>flatMap</code>, you can construct an instance to handle it</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">iDecoder</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">CassFormatDecoder</span>[org.joda.time.<span class="pl-en">Instant</span>] {
  <span class="pl-k">type</span> <span class="pl-en">From</span> <span class="pl-k">=</span> java.util.<span class="pl-en">Date</span> <span class="pl-c">// describes the type of the value as directly extracted from the Java driver</span>
  <span class="pl-k">val</span> <span class="pl-en">clazz</span> <span class="pl-k">=</span> <span class="pl-c1">classOf</span>[<span class="pl-en">From</span>] <span class="pl-c">// just the Class of From. If you know a way to specify this inside the trait, let me know</span>
  <span class="pl-k">def</span> <span class="pl-en">f2t</span>(<span class="pl-v">f</span>: <span class="pl-en">From</span>)<span class="pl-k">:</span> <span class="pl-en">Either</span>[<span class="pl-en">Throwable</span>, <span class="pl-en">T</span>] <span class="pl-k">=</span> <span class="pl-en">Right</span>(<span class="pl-k">new</span> <span class="pl-en">org.joda.time.Instant</span>(f)) <span class="pl-c">// failable conversion between From and T</span>
  <span class="pl-k">def</span> <span class="pl-en">extract</span>(<span class="pl-v">r</span>: <span class="pl-en">Row</span>, <span class="pl-v">name</span>: <span class="pl-k">String</span>)<span class="pl-k">:</span> <span class="pl-en">From</span> <span class="pl-k">=</span> r getTimestamp name <span class="pl-c">// how to get an instance of From from Cassandra</span>
  <span class="pl-k">def</span> <span class="pl-en">tupleExtract</span>(<span class="pl-v">tup</span>: <span class="pl-en">TupleValue</span>, <span class="pl-v">pos</span>: <span class="pl-k">Int</span>)<span class="pl-k">:</span> <span class="pl-en">From</span> <span class="pl-k">=</span> tup getTimestamp pos <span class="pl-c">// how to get an instance of From from a Cassandra TupleValue</span>
}
<span class="pl-k">val</span> <span class="pl-en">r</span><span class="pl-k">:</span> <span class="pl-en">Row</span> <span class="pl-k">=</span> _ <span class="pl-c">// some row</span>
r.as[org.joda.time.<span class="pl-en">Instant</span>](<span class="pl-s"><span class="pl-pds">"</span>mytimestamp<span class="pl-pds">"</span></span>) <span class="pl-c">// reads from a timestamp</span>

<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">iEncoder</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">CassFormatEncoder</span>[org.joda.time.<span class="pl-en">Instant</span>] {
  <span class="pl-k">type</span> <span class="pl-en">To</span> <span class="pl-k">=</span> java.util.<span class="pl-en">Date</span> <span class="pl-c">// describes the type of the value needed for the Java driver</span>
  <span class="pl-k">val</span> <span class="pl-en">cassDataType</span> <span class="pl-k">=</span> com.datastax.driver.core.<span class="pl-en">DataType</span>.timestamp <span class="pl-c">// the Cassandra data type</span>
  <span class="pl-k">def</span> <span class="pl-en">encode</span>(<span class="pl-v">t</span>: org.joda.time.<span class="pl-en">Instant</span>)<span class="pl-k">:</span> <span class="pl-en">Either</span>[<span class="pl-en">Throwable</span>, <span class="pl-en">To</span>] <span class="pl-k">=</span> <span class="pl-en">Right</span>(<span class="pl-k">new</span> <span class="pl-en">java.util.Date</span>(i.getMillis)) <span class="pl-c">// can't fail</span>
}
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Person</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>, <span class="pl-v">birthday</span>: org.joda.time.<span class="pl-en">Instant</span>)
<span class="pl-k">val</span> <span class="pl-en">p</span> <span class="pl-k">=</span> <span class="pl-en">Person</span>(<span class="pl-s"><span class="pl-pds">"</span>newborn-baby<span class="pl-pds">"</span></span>, org.joda.time.<span class="pl-en">Instant</span>.now)
<span class="pl-k">val</span> <span class="pl-en">ss</span><span class="pl-k">:</span> <span class="pl-en">ScalaSession</span> <span class="pl-k">=</span> _ <span class="pl-c">// your session instance</span>
ss.insert(<span class="pl-s"><span class="pl-pds">"</span>mytable<span class="pl-pds">"</span></span>, p) <span class="pl-c">// writes a (string, timestamp)</span></pre>
  </div> 
  <h2><a id="user-content-caching-implicits" class="anchor" href="https://github.com/thurstonsand/scala-cass#caching-implicits" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Caching Implicits</h2> 
  <p>TL;DR: use <code>CCCassFormatEncoder.derive[MyType]</code> and <code>CCCassFormatDecoder.derive[MyType]</code> in your case class companion object</p> 
  <p>When using the methods on ScalaSession, as well as the expanded <code>.as</code>/<code>.getAs</code>/<code>.getOrElse</code> syntax on Row, these require a case class which maps to the cassandra row or query in question. From this case class, an implicit typeclass is derived which has the necessary functionality. This can be done ad-hoc, meaning at every call site, but for various reasons (compile-time performance, custom decoder/encoder, etc), it can be advantageous to cache this typeclass, often in the companion object of the case class. You can derive this typeclass for the Scala-Cass encoder and decoder, called <code>CCCassFormatEncoder</code> and <code>CCCassFormatDecoder</code>. For example:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">com.weather.scalacass.</span>{<span class="pl-v">CCCassFormatEncoder</span>, <span class="pl-v">CCCassFormatDecoder</span>}

<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">MyTable</span>(<span class="pl-v">s</span>: <span class="pl-k">String</span>, <span class="pl-v">i</span>: <span class="pl-k">Int</span>, <span class="pl-v">l</span>: <span class="pl-en">Option</span>[<span class="pl-k">Long</span>])
<span class="pl-k">object</span> <span class="pl-en">MyTable</span> {
  <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">encoder</span><span class="pl-k">:</span> <span class="pl-en">CCCassFormatEncoder</span>[<span class="pl-en">MyTable</span>] <span class="pl-k">=</span> <span class="pl-en">CCCassFormatEncoder</span>.derive
  <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">decoder</span><span class="pl-k">:</span> <span class="pl-en">CCCassFormatDecoder</span>[<span class="pl-en">MyTable</span>] <span class="pl-k">=</span> <span class="pl-en">CCCassFormatDecoder</span>.derive
}</pre>
  </div> 
  <p>This is particularly helpful when defining a custom <code>CassFormatEncoder</code>/<code>CassFormatDecoder</code> because deriving the case class encoder and decoder in the companion object automatically brings it in scope for the rest of the library, meaning you only need to import/define the custom encoder/decoder once, instead of at every call site. As an example,</p> 
  <div class="highlight highlight-source-scala">
   <pre> <span class="pl-k">class</span> <span class="pl-en">CustomType</span>(<span class="pl-k">val</span> <span class="pl-en">myField</span><span class="pl-k">:</span> <span class="pl-k">String</span>)
 <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">customEncoder</span><span class="pl-k">:</span> <span class="pl-en">CassFormatEncoder</span>[<span class="pl-en">CustomType</span>] <span class="pl-k">=</span> 
   <span class="pl-en">CassFormatEncoder</span>[<span class="pl-k">String</span>].map[<span class="pl-en">CustomType</span>](ct <span class="pl-k">=&gt;</span> ct.myField)
 <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">customeDecoder</span><span class="pl-k">:</span> <span class="pl-en">CassFormatDecoder</span>[<span class="pl-en">CustomType</span>] <span class="pl-k">=</span>
   <span class="pl-en">CassFormatDecoder</span>[<span class="pl-k">String</span>].map[<span class="pl-en">CustomType</span>](str <span class="pl-k">=&gt;</span> <span class="pl-k">new</span> <span class="pl-en">CustomType</span>(str))
 <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">MyTableWithCustom</span>(<span class="pl-v">ct</span>: <span class="pl-en">CustomType</span>, <span class="pl-v">i</span>: <span class="pl-k">Int</span>, <span class="pl-v">l</span>: <span class="pl-en">Option</span>[<span class="pl-k">Long</span>])</pre>
  </div> 
  <p>as is, at every call site (<code>.insert</code>, <code>.update</code>, <code>.getAs</code>, etc) the <code>customEncoder</code> and <code>customDecoder</code> must be in scope, but with the inclusion of</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">object</span> <span class="pl-en">MyTableWithCustom</span> {
  <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">encoder</span><span class="pl-k">:</span> <span class="pl-en">CCCassFormatEncoder</span>[<span class="pl-en">MyTableWithCustom</span>] <span class="pl-k">=</span> <span class="pl-en">CCCassFormatEncoder</span>.derive
  <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">decoder</span><span class="pl-k">:</span> <span class="pl-en">CCCassFormatDecoder</span>[<span class="pl-en">MyTableWithCustom</span>] <span class="pl-k">=</span> <span class="pl-en">CCCassFormatDecoder</span>.derive
}</pre>
  </div> 
  <p>the <code>customEncoder</code> and <code>customDecoder</code> only need to be in scope for the companion object, and will be accessible everywhere else automatically.</p> 
  <h2><a id="user-content-parsing-performance" class="anchor" href="https://github.com/thurstonsand/scala-cass#parsing-performance" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Parsing Performance</h2> 
  <p>performance is pretty decent.</p> 
  <p>Measurements taken by extracting a String 10,000 times with <a href="https://github.com/Ichoran/thyme" target="_blank">Thyme</a></p> 
  <p>compare the implementations of <code>as</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// with ScalaCass</span>
row.as[<span class="pl-k">String</span>](<span class="pl-s"><span class="pl-pds">"</span>str<span class="pl-pds">"</span></span>)

<span class="pl-c">// native</span>
<span class="pl-k">if</span> (row.isNull(<span class="pl-s"><span class="pl-pds">"</span>str<span class="pl-pds">"</span></span>)) <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">IllegalArgumentException</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>) <span class="pl-k">else</span> row.getString(<span class="pl-s"><span class="pl-pds">"</span>str<span class="pl-pds">"</span></span>))</pre>
  </div> 
  <p>and <code>getAs</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// ScalaCass</span>
row.getAs[<span class="pl-k">String</span>](<span class="pl-s"><span class="pl-pds">"</span>str<span class="pl-pds">"</span></span>)

<span class="pl-c">// Java driver</span>
<span class="pl-k">if</span> (row.getColumnDefinitions.contains(<span class="pl-s"><span class="pl-pds">"</span>str<span class="pl-pds">"</span></span>) <span class="pl-k">&amp;&amp;</span> <span class="pl-k">!</span>row.isNull(<span class="pl-s"><span class="pl-pds">"</span>str<span class="pl-pds">"</span></span>)) <span class="pl-en">Some</span>(row.getString(<span class="pl-s"><span class="pl-pds">"</span>str<span class="pl-pds">"</span></span>)) <span class="pl-k">else</span> <span class="pl-c1">None</span>)</pre>
  </div> 
  <table>
   <thead> 
    <tr> 
     <th align="center"></th> 
     <th align="center">as</th> 
     <th align="center">getAs</th> 
    </tr> 
   </thead>
   <tbody> 
    <tr> 
     <td align="center">ScalaCass</td> 
     <td align="center">6.92us</td> 
     <td align="center">6.71us</td> 
    </tr> 
    <tr> 
     <td align="center">Native</td> 
     <td align="center">6.88us</td> 
     <td align="center">7.80us</td> 
    </tr> 
   </tbody>
  </table> 
  <p>ScalaCass is 99.392% the speed of native for <code>as</code>, 106.209% the speed of native for <code>getAs</code> </p> 
  <p>Measurements take by extracting to a case class 10,000 times with <a href="https://github.com/Ichoran/thyme" target="_blank">Thyme</a></p> 
  <p>given the case class:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Strings</span>(<span class="pl-v">str1</span>: <span class="pl-k">String</span>, <span class="pl-v">str2</span>: <span class="pl-k">String</span>, <span class="pl-v">str3</span>: <span class="pl-k">String</span>, <span class="pl-v">str4</span>: <span class="pl-en">Option</span>[<span class="pl-k">String</span>])</pre>
  </div> 
  <p>compare the implementations of <code>as</code> for a case class:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// ScalaCass</span>
row.as[<span class="pl-en">Strings</span>]

<span class="pl-c">// Java driver</span>
<span class="pl-k">def</span> <span class="pl-en">get</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>) <span class="pl-k">=</span> <span class="pl-k">if</span> (row.isNull(<span class="pl-s"><span class="pl-pds">"</span>str<span class="pl-pds">"</span></span>)) <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">IllegalArgumentException</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>) <span class="pl-k">else</span> row.getString(<span class="pl-s"><span class="pl-pds">"</span>str<span class="pl-pds">"</span></span>)
<span class="pl-k">def</span> <span class="pl-en">getAs</span>(<span class="pl-v">name</span>: <span class="pl-k">String</span>) <span class="pl-k">=</span> <span class="pl-k">if</span> (row.getColumnDefinitions.contains(name) <span class="pl-k">&amp;&amp;</span> <span class="pl-k">!</span>row.isNull(name)) <span class="pl-en">Some</span>(row.getString(name)) <span class="pl-k">else</span> <span class="pl-c1">None</span>

<span class="pl-en">Strings</span>(get(<span class="pl-s"><span class="pl-pds">"</span>str<span class="pl-pds">"</span></span>), get(<span class="pl-s"><span class="pl-pds">"</span>str2<span class="pl-pds">"</span></span>), get(<span class="pl-s"><span class="pl-pds">"</span>str3<span class="pl-pds">"</span></span>), getAs(<span class="pl-s"><span class="pl-pds">"</span>str4<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>and <code>getAs</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c">// ScalaCass</span>
row.getAs[<span class="pl-en">Strings</span>]

<span class="pl-c">// Java driver</span>
<span class="pl-k">for</span> {
  s1 <span class="pl-k">&lt;</span><span class="pl-k">-</span> getAs(<span class="pl-s"><span class="pl-pds">"</span>str<span class="pl-pds">"</span></span>)
  s2 <span class="pl-k">&lt;</span><span class="pl-k">-</span> getAs(<span class="pl-s"><span class="pl-pds">"</span>str2<span class="pl-pds">"</span></span>)
  s3 <span class="pl-k">&lt;</span><span class="pl-k">-</span> getAs(<span class="pl-s"><span class="pl-pds">"</span>str3<span class="pl-pds">"</span></span>)
  s4  <span class="pl-k">=</span> getAs(<span class="pl-s"><span class="pl-pds">"</span>str4<span class="pl-pds">"</span></span>)
} <span class="pl-k">yield</span> <span class="pl-en">Strings</span>(s1, s2, s3, s4)</pre>
  </div> 
  <table>
   <thead> 
    <tr> 
     <th align="center"></th> 
     <th align="center">as</th> 
     <th align="center">getAs</th> 
    </tr> 
   </thead>
   <tbody> 
    <tr> 
     <td align="center">ScalaCass</td> 
     <td align="center">68.1us</td> 
     <td align="center">65.7us</td> 
    </tr> 
    <tr> 
     <td align="center">ScalaCass w/ cachedImplicit</td> 
     <td align="center">39.3us</td> 
     <td align="center">39.1us</td> 
    </tr> 
    <tr> 
     <td align="center">Native</td> 
     <td align="center">30.5us</td> 
     <td align="center">36.5us</td> 
    </tr> 
   </tbody>
  </table> 
  <p>ScalaCass alone is 44.844% the speed of native for <code>as</code>, 55.557% the speed of native for <code>getAs</code></p> 
  <p>ScalaCass w/ <code>cachedImplicit</code> is 77.664% the speed of native for <code>as</code>, 93.372% the speed of native for <code>getAs</code></p> 
  <ul> 
   <li><code>cachedImplicit</code> is a feature of shapeless that caches the underlying representation of the case class so that it does not need to be recreated on every call. <a href="https://github.com/milessabin/shapeless/blob/master/core/src/main/scala/shapeless/package.scala#L118" target="_blank">see more here</a> (WARNING: source code)</li> 
  </ul> 
 </article>
</div>