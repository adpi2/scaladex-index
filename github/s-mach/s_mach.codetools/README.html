<div class="announce instapaper_body asciidoc" data-path="README.asciidoc" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-s_machcodetools-macro-codegen-and-code-utility-library" class="anchor" href="https://github.com/s-mach/s_mach.codetools#s_machcodetools-macro-codegen-and-code-utility-library" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>s_mach.codetools: Macro, codegen and code utility library</h1> 
  <div id="user-content-preamble"> 
   <div> 
    <div> 
     <p><a href="https://travis-ci.org/S-Mach/s_mach.codetools" target="_blank"><img src="https://camo.githubusercontent.com/9a258b1dc9dba64fcec8f019cd4b8e1fef545314/68747470733a2f2f7472617669732d63692e6f72672f532d4d6163682f735f6d6163682e636f6465746f6f6c732e737667" alt="Build Status" data-canonical-src="https://travis-ci.org/S-Mach/s_mach.codetools.svg" style="max-width:100%;"></a> <a href="https://coveralls.io/r/S-Mach/s_mach.codetools" target="_blank"><img src="https://camo.githubusercontent.com/8e67ed3be7ccc9d9e9d5742c3a6ab8089df633f2/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f532d4d6163682f735f6d6163682e636f6465746f6f6c732f62616467652e706e673f6272616e63683d6d6173746572" alt="Test Coverage" data-canonical-src="https://coveralls.io/repos/S-Mach/s_mach.codetools/badge.png?branch=master" style="max-width:100%;"></a> <a href="https://github.com/S-Mach/s_mach.codetools" target="_blank">Code</a> <a href="http://s-mach.github.io/s_mach.codetools/#s_mach.codetools.package" target="_blank">Scaladoc</a></p> 
    </div> 
    <div> 
     <p>s_mach.codetools is an open-source Scala macro, codegen and code utility library.</p> 
    </div> 
   </div> 
  </div> 
  <div> 
   <h2 id="user-content-features"><a id="user-content-features" class="anchor" href="https://github.com/s-mach/s_mach.codetools#features" aria-hidden="true" target="_blank">
     <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
      <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
     </svg></a>Features</h2> 
   <div> 
    <div> 
     <ul> 
      <li> <p>IsValueClass[A]: A base trait for a user-defined value-class that standardizes the name of the value-class val and toString implementation. This allows creating an implicit conversion from an instance of any value-class to its underlying representation.</p> </li> 
      <li> <p>IsDistinctTypeAlias[A]: marker trait used to mark a type alias as being a distinct type alias (DTA). A DTA is an alternative to the Scala value-class (<a href="http://docs.scala-lang.org/overviews/core/value-classes.html" target="_blank">http://docs.scala-lang.org/overviews/core/value-classes.html</a>) that never needs to box (or unbox) since type aliases are eliminated in byte code.</p> </li> 
      <li> <p>Result[A]: a better scala.util.Try that allows accumulating errors, warnings and other issues in addition to storing failure or success. Returned by most BlackboxHelper methods.</p> </li> 
      <li> <p>BlackboxHelper: a wrapper trait that provides utility types and methods to assist in macro generation, specifically for generating type-class implementations for product types.</p> 
       <div> 
        <ul> 
         <li> <p>BlackboxHelper.ProductType: a case class for storing the matching apply/unapply methods and field info of a product type. Has utility methods for type-class implementation generation.</p> </li> 
         <li> <p>BlackboxHelper.calcProductType: method to attempt to compute a ProductType for a given type. Works for all case classes, tuple types and any other type whose companion object contains a matching apply/unapply method pair (See ProductType section below for details).</p> </li> 
        </ul> 
       </div> </li> 
      <li> <p>ReflectPrint: a demonstration type-class which can create the Scala code necessary for recreating an instance with the same value (See reflectPrint.printApply).</p> </li> 
      <li> <p>ReflectPrintMacroBuilderImpl: a reference implementation of a type-class blackbox macro generator that uses BlackboxHelper. The macro implementation can generate a ReflectPrint implementation for any product type.</p> </li> 
      <li> <p>ReflectPrintTest: tests for the generated ReflectPrint for various common ADT patterns (See testdata) in lieu of direct testing of BlackboxHelper since there is currently no blackbox.Context mock available.</p> </li> 
      <li> <p>For Play JSON support, see the <a href="https://github.com/S-Mach/s_mach.codetools-play_json" target="_blank">s_mach.codetools-play_json</a> companion library</p> </li> 
     </ul> 
    </div> 
   </div> 
  </div> 
  <div> 
   <h2 id="user-content-include-in-sbt"><a id="user-content-include-in-sbt" class="anchor" href="https://github.com/s-mach/s_mach.codetools#include-in-sbt" aria-hidden="true" target="_blank">
     <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
      <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
     </svg></a>Include in SBT</h2> 
   <div> 
    <div> 
     <ol class="arabic"> 
      <li> <p>Add to build.sbt</p> 
       <div> 
        <div> 
         <div class="highlight highlight-source-scala">
          <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>net.s_mach<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>codetools<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>2.0.0<span class="pl-pds">"</span></span></pre>
         </div> 
        </div> 
       </div> 
       <div> 
        <table> 
         <tbody>
          <tr> 
           <td> 
            <div>
             Note
            </div> </td> 
           <td> s_mach.codetools is based on blackbox macro support, present only in Scala 2.11+ </td> 
          </tr> 
         </tbody>
        </table> 
       </div> </li> 
      <li> <p>Or with Play JSON support:</p> 
       <div> 
        <div> 
         <div class="highlight highlight-source-scala">
          <pre>libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-s"><span class="pl-pds">"</span>net.s_mach<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>codetools<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>2.0.0<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>net.s_mach<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>codetools-play_json<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>2.0.0<span class="pl-pds">"</span></span>
)</pre>
         </div> 
        </div> 
       </div> </li> 
     </ol> 
    </div> 
   </div> 
  </div> 
  <div> 
   <h2 id="user-content-versioning"><a id="user-content-versioning" class="anchor" href="https://github.com/s-mach/s_mach.codetools#versioning" aria-hidden="true" target="_blank">
     <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
      <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
     </svg></a>Versioning</h2> 
   <div> 
    <div> 
     <p>s_mach.codetools uses semantic versioning (<a href="http://semver.org/" target="_blank">http://semver.org/</a>). s_mach.codetools does not use the package private modifier. Instead, all code files outside of the s_mach.codetools.impl package form the public interface and are governed by the rules of semantic versioning. Code files inside the s_mach.codetools.impl package may be used by downstream applications and libraries. However, no guarantees are made as to the stability or interface of code in the s_mach.codetools.impl package between versions.</p> 
    </div> 
   </div> 
  </div> 
  <div> 
   <h2 id="user-content-example-value-class"><a id="user-content-example-value-class" class="anchor" href="https://github.com/s-mach/s_mach.codetools#example-value-class" aria-hidden="true" target="_blank">
     <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
      <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
     </svg></a>Example: value-class</h2> 
   <div> 
    <div> 
     <div> 
      <pre>Welcome to Scala version 2.11.7 (Java HotSpot(TM) 64-Bit Server VM, Java 1.7.0_79).
Type in expressions to have them evaluated.
Type :help for more information.

scala&gt; :paste
// Entering paste mode (ctrl-D to finish)

    import s_mach.codetools._

    implicit class Name(
      val underlying: String
    ) extends AnyVal with IsValueClass[String]

    // codetools standardizes IsValueClass.toString to underlying.toString
    def printName(n: Name) = println(n)
    def printString(s: String) = println(s)
    def printStrings(ss: List[String]) = println(ss)


// Exiting paste mode, now interpreting.

import s_mach.codetools._
defined class Name
printName: (n: Name)Unit
printString: (s: String)Unit
printStrings: (ss: List[String])Unit

scala&gt; :paste
// Entering paste mode (ctrl-D to finish)

    // Scala value-class auto wraps String =&gt; Name
    printName("Gary Oldman")
    // codetools adds implicit conversion from Name =&gt; String
    printString(Name("Gary Oldman"))


// Exiting paste mode, now interpreting.

Gary Oldman
Gary Oldman

scala&gt; :paste
// Entering paste mode (ctrl-D to finish)

    // No implicit conversion from M[Name] =&gt; M[String] since it would hide copying
    val names = List(Name("Gary Oldman"),Name("Christian Bale"),Name("Philip Seymour Hoffman"))
    printStrings(names.map(_.underlying))


// Exiting paste mode, now interpreting.

List(Gary Oldman, Christian Bale, Philip Seymour Hoffman)
names: List[Name] = List(Gary Oldman, Christian Bale, Philip Seymour Hoffman)

scala&gt;</pre> 
     </div> 
    </div> 
   </div> 
  </div> 
  <div> 
   <h2 id="user-content-example-distinct-type-alias"><a id="user-content-example-distinct-type-alias" class="anchor" href="https://github.com/s-mach/s_mach.codetools#example-distinct-type-alias" aria-hidden="true" target="_blank">
     <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
      <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
     </svg></a>Example: distinct type-alias</h2> 
   <div> 
    <div> 
     <div> 
      <pre>Welcome to Scala version 2.11.7 (Java HotSpot(TM) 64-Bit Server VM, Java 1.7.0_79).
Type in expressions to have them evaluated.
Type :help for more information.

scala&gt; :paste
// Entering paste mode (ctrl-D to finish)

    import s_mach.codetools._

    trait NameTag
    type Name = String with NameTag with IsDistinctTypeAlias[String]
    import scala.language.implicitConversions
    @inline implicit def Name(name: String) = name.asInstanceOf[Name]

    def printName(n: Name) = println(n)
    def printString(s: String) = println(s)
    def printNames(ns: List[Name]) = println(ns)
    def printStrings(ss: List[String]) = println(ss)
    def printStringsArr(ss: Array[String]) = println(ss.toSeq)


// Exiting paste mode, now interpreting.

import s_mach.codetools._
defined trait NameTag
defined type alias Name
import scala.language.implicitConversions
Name: (name: String)Name
printName: (n: Name)Unit
printString: (s: String)Unit
printNames: (ns: List[Name])Unit
printStrings: (ss: List[String])Unit
printStringsArr: (ss: Array[String])Unit

scala&gt; :paste
// Entering paste mode (ctrl-D to finish)

    // implicit def above provides trivial conversion String =&gt; Name
    printName("Gary Oldman")
    // No conversion needed since Name is a String
    printString(Name("Gary Oldman"))


// Exiting paste mode, now interpreting.

Gary Oldman
Gary Oldman

scala&gt; :paste
// Entering paste mode (ctrl-D to finish)

    // codetools adds trivial implicit conversion M[String] =&gt; M[Name]
    val strings = List("Gary Oldman", "Christian Bale", "Philip Seymour Hoffman")
    // Note: intellij Scala plugin shows erroneous error here
    printNames(strings)


// Exiting paste mode, now interpreting.

List(Gary Oldman, Christian Bale, Philip Seymour Hoffman)
strings: List[String] = List(Gary Oldman, Christian Bale, Philip Seymour Hoffman)

scala&gt; :paste
// Entering paste mode (ctrl-D to finish)

    // Covariance of List allows List[Name] to be upcast to List[Int] (no copying)
    val names = List(Name("Gary Oldman"),Name("Christian Bale"),Name("Philip Seymour Hoffman"))
    printStrings(names)


// Exiting paste mode, now interpreting.

List(Gary Oldman, Christian Bale, Philip Seymour Hoffman)
names: List[Name] = List(Gary Oldman, Christian Bale, Philip Seymour Hoffman)

scala&gt; :paste
// Entering paste mode (ctrl-D to finish)

    // codetools adds trivial implicit conversion M[Name] =&gt; M[String] for non-covariant
    val arrNames = Array(Name("Gary Oldman"),Name("Christian Bale"),Name("Philip Seymour Hoffman"))
    // Note: intellij Scala plugin shows erroneous error here
    printStringsArr(arrNames)


// Exiting paste mode, now interpreting.

WrappedArray(Gary Oldman, Christian Bale, Philip Seymour Hoffman)
arrNames: Array[Name] = Array(Gary Oldman, Christian Bale, Philip Seymour Hoffman)

scala&gt;</pre> 
     </div> 
    </div> 
   </div> 
  </div> 
  <div> 
   <h2 id="user-content-in-detail-product-type"><a id="user-content-in-detail-product-type" class="anchor" href="https://github.com/s-mach/s_mach.codetools#in-detail-product-type" aria-hidden="true" target="_blank">
     <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
      <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
     </svg></a>In Detail: Product Type</h2> 
   <div> 
    <div> 
     <p>A product type is any type that can be expressed as sequence of fields whose types are either data types (e.g. Int, String, etc) or other product types. Product types are <a href="http://en.wikipedia.org/wiki/Algebraic_data_type" target="_blank">algebraic data types</a> that can be decomposed into an ordered sequence of fields. Each field consists of an index within the sequence, a field name and a field type.</p> 
    </div> 
    <div> 
     <p>In s_mach.codetools, product types are computed by finding the first unapply/apply method pair in the type’s companion object with matching type signatures. The type signature of an apply method is equal to the sequence of the types of its arguments. Unapply methods may have one or two type signatures based on their return type. First, the outer Option of the return type is discarded, leaving only the inner type. If the inner type is a tuple type, then both the tuple type and the list of tuple type parameters form possible type signatures for the unapply method. Otherwise, if the inner type parameter is not a tuple type then the type signature of the unapply method is equal to the single type parameter. Once an apply/unapply match is made, the symbols of the apply method’s argument list are used to extract the product type fields for the type. For tuple types and case classes, this will be the list of its fields.</p> 
    </div> 
    <div> 
     <div>
      Example 1:
     </div> 
     <div> 
      <pre>class A(...) { ... }
object A {
    def apply(i: Int, s: String) : A = ???
    def apply(i: Int, s: String, f: Float) : A = ???
    def unapply(a: A) : Option[(Int,String)] = ???
}</pre> 
     </div> 
    </div> 
    <div> 
     <ul> 
      <li> <p>The first apply method’s type signature = Int :: String :: Nil</p> </li> 
      <li> <p>Possible unapply method’s type signatures = ((Int,String) :: Nil) ::: (Int :: String :: Nil)</p> </li> 
      <li> <p>Product type fields = ("i",Int) :: ("s",String) :: Nil</p> </li> 
     </ul> 
    </div> 
    <div> 
     <div>
      Example 2:
     </div> 
     <div> 
      <pre>class B(...) { ... }
object B {
  def apply(tuple: (String,Int)) : A = ???
  def apply(i: Int, s: String) : A = ???
  def unapply(b: B) : Option[(String,Int)] = ???
}</pre> 
     </div> 
    </div> 
    <div> 
     <ul> 
      <li> <p>The first apply method’s type signature = (String,Int) :: Nil</p> </li> 
      <li> <p>Possible unapply method’s type signatures = ((String,Int) :: Nil) ::: (String :: Int :: Nil)</p> </li> 
      <li> <p>Product type fields = ("tuple",(String,Int)) :: Nil</p> </li> 
     </ul> 
    </div> 
    <div> 
     <div>
      Example 3:
     </div> 
     <div> 
      <pre>class Enum(...) { ... }
object Enum {
  def apply(value: String) : A = ???
  def unapply(e: Enum) : Option[String] = ???
}</pre> 
     </div> 
    </div> 
    <div> 
     <ul> 
      <li> <p>The first apply method’s type signature = String :: Nil</p> </li> 
      <li> <p>Possible unapply method’s type signatures = String :: Nil</p> </li> 
      <li> <p>Product type fields = ("value",String) :: Nil</p> </li> 
     </ul> 
    </div> 
    <div> 
     <div>
      Example 4:
     </div> 
     <div> 
      <pre>case class CaseClass(i: Int, s: String)</pre> 
     </div> 
    </div> 
    <div> 
     <ul> 
      <li> <p>The first apply method’s type signature = Int :: String :: Nil</p> </li> 
      <li> <p>Possible unapply method’s type signatures = ((Int,String) :: Nil) ::: (Int:: String :: Nil)</p> </li> 
      <li> <p>Product type fields = ("i",Int) :: ("s",String) :: Nil</p> </li> 
     </ul> 
    </div> 
    <div> 
     <div>
      Example 5:
     </div> 
     <div> 
      <pre>class Tuple2[T1,T2](val _1: T1,val _2 : T2)</pre> 
     </div> 
    </div> 
    <div> 
     <ul> 
      <li> <p>The first apply method’s type signature = T1 :: T2 :: Nil</p> </li> 
      <li> <p>Possible unapply method’s type signatures = ((T1,T2) :: Nil) ::: (T1:: T2 :: Nil)</p> </li> 
      <li> <p>Product type fields = ("_1",T1) :: ("_2",T2) :: Nil</p> </li> 
     </ul> 
    </div> 
   </div> 
  </div> 
  <div> 
   <h2 id="user-content-example-reflectprint"><a id="user-content-example-reflectprint" class="anchor" href="https://github.com/s-mach/s_mach.codetools#example-reflectprint" aria-hidden="true" target="_blank">
     <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
      <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
     </svg></a>Example: ReflectPrint</h2> 
   <div> 
    <div> 
     <div> 
      <pre>Welcome to Scala version 2.11.1 (Java HotSpot(TM) 64-Bit Server VM, Java 1.7.0_72).
Type in expressions to have them evaluated.
Type :help for more information.

scala&gt; :paste
// Entering paste mode (ctrl-D to finish)

import s_mach.codetools.reflectPrint._

case class Movie(
  name: String,
  year: Int
)

object Movie {
  implicit val reflectPrint_Movie = ReflectPrint.forProductType[Movie]
}

case class Name(
  firstName: String,
  middleName: Option[String],
  lastName: String
)

object Name {
  implicit val reflectPrint_Name = ReflectPrint.forProductType[Name]
}


case class Actor(
  name: Name,
  age: Int,
  movies: Set[Movie]
)

object Actor {
  implicit val reflectPrint_Person = ReflectPrint.forProductType[Actor]
}

val n1 = Name("Gary",Some("Freakn"),"Oldman")
val n2 = Name("Guy",None,"Pearce")
val n3 = Name("Lance",None,"Gatlin")

val m1 = Movie("The Professional",1994)
val m2 = Movie("The Fifth Element",1997)
val m3 = Movie("Memento",1994)
val m4 = Movie("Prometheus",2012)

val a1 = Actor(n1,56,Set(m1,m2))
val a2 = Actor(n2,47,Set(m3,m4))
val a3 = Actor(n3,37,Set.empty)

// Exiting paste mode, now interpreting.

import s_mach.codetools.reflectPrint._
defined class Movie
defined object Movie
defined class Name
defined object Name
defined class Actor
defined object Actor
n1: Name = Name(Gary,Some(Freakn),Oldman)
n2: Name = Name(Guy,None,Pearce)
n3: Name = Name(Lance,None,Gatlin)
m1: Movie = Movie(The Professional,1994)
m2: Movie = Movie(The Fifth Element,1997)
m3: Movie = Movie(Memento,1994)
m4: Movie = Movie(Prometheus,2012)
a1: Actor = Actor(Name(Gary,Some(Freakn),Oldman),56,Set(Movie(The Professional,1994), Movie(The Fifth Element,1997)))
a2: Actor = Actor(Name(Guy,None,Pearce),47,Set(Movie(Memento,1994), Movie(Prometheus,2012)))
a3: Actor = Actor(Name(Lance,None,Gatlin),37,Set())

scala&gt; a1.printApply
res0: String = Actor(name=Name(firstName="Gary",middleName=Some("Freakn"),lastName="Oldman"),age=56,movies=Set(Movie(name="The Professional",year=1994),Movie(name="The Fifth Element",year=1997)))

scala&gt; val alt1 = Actor(name=Name(firstName="Gary",middleName=Some("Freakn"),lastName="Oldman"),age=56,movies=Set(Movie(name="The Professional",year=1994),Movie(name="The Fifth Element",year=1997)))
alt1: Actor = Actor(Name(Gary,Some(Freakn),Oldman),56,Set(Movie(The Professional,1994), Movie(The Fifth Element,1997)))

scala&gt; alt1 == a1
res1: Boolean = true

scala&gt; a1.printUnapply
res2: String = (Name(firstName="Gary",middleName=Some("Freakn"),lastName="Oldman"),56,Set(Movie(name="The Professional",year=1994),Movie(name="The Fifth Element",year=1997)))

scala&gt; val ualt1 = (Name(firstName="Gary",middleName=Some("Freakn"),lastName="Oldman"),56,Set(Movie(name="The Professional",year=1994),Movie(name="The Fifth Element",year=1997)))
ualt1: (Name, Int, scala.collection.immutable.Set[Movie]) = (Name(Gary,Some(Freakn),Oldman),56,Set(Movie(The Professional,1994), Movie(The Fifth Element,1997)))

scala&gt; ualt1 == Actor.unapply(a1).get
res3: Boolean = true

scala&gt; import ReflectPrintFormat.Implicits.verbose
import ReflectPrintFormat.Implicits.verbose

scala&gt; a2.printApply
res4: String =
Actor(
  name = Name(
    firstName = "Guy",
    middleName = None,
    lastName = "Pearce"
  ),
  age = 47,
  movies = Set(
    Movie(
      name = "Memento",
      year = 1994
    ),
    Movie(
      name = "Prometheus",
      year = 2012
    )
  )
)

scala&gt; a3.printApply
res5: String =
Actor(
 name = Name(
  firstName = "Lance",
  middleName = None,
  lastName = "Gatlin"
 ),
 age = 37,
 movies = Set.empty
)</pre> 
     </div> 
    </div> 
   </div> 
  </div>
 </article>
</div>