<div class="announce instapaper_body md" data-path="readme.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-ammonite-kernel" class="anchor" href="https://github.com/harshad-deo/ammonite#ammonite-kernel" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Ammonite-Kernel</h1> 
  <p>A stripped-down fork of <a href="https://github.com/lihaoyi/Ammonite" target="_blank">Ammonite</a> designed for scala and java applications that need to compile and execute scala code at runtime.</p> 
  <p><a href="https://travis-ci.org/harshad-deo/Ammonite" target="_blank"><img src="https://camo.githubusercontent.com/754c344bcbc357964c87c2984a599f04f5722051/68747470733a2f2f7472617669732d63692e6f72672f686172736861642d64656f2f416d6d6f6e6974652e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/harshad-deo/Ammonite.svg?branch=master" style="max-width:100%;"></a> <a href="https://ci.appveyor.com/project/harshad-deo/ammonite" target="_blank"><img src="https://camo.githubusercontent.com/e3ed6390e8f18207865f9eb56536112a428610a3/68747470733a2f2f63692e6170707665796f722e636f6d2f6170692f70726f6a656374732f7374617475732f656c673035676130776f3364733077783f7376673d74727565" alt="Build status" data-canonical-src="https://ci.appveyor.com/api/projects/status/elg05ga0wo3ds0wx?svg=true" style="max-width:100%;"></a> <a href="https://maven-badges.herokuapp.com/maven-central/com.simianquant/ammonite-kernel_2.11" target="_blank"><img src="https://camo.githubusercontent.com/964b27052bb4e9869e2f924f976a19ca09fb547f/68747470733a2f2f6d6176656e2d6261646765732e6865726f6b756170702e636f6d2f6d6176656e2d63656e7472616c2f636f6d2e73696d69616e7175616e742f616d6d6f6e6974652d6b65726e656c5f322e31312f62616467652e737667" alt="Maven Central" data-canonical-src="https://maven-badges.herokuapp.com/maven-central/com.simianquant/ammonite-kernel_2.11/badge.svg" style="max-width:100%;"></a> <a href="https://coveralls.io/github/harshad-deo/Ammonite?branch=master" target="_blank"><img src="https://camo.githubusercontent.com/0c8b5ea461077e262cf6011976e9152f7b417c32/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6769746875622f686172736861642d64656f2f416d6d6f6e6974652f62616467652e7376673f6272616e63683d6d6173746572" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/github/harshad-deo/Ammonite/badge.svg?branch=master" style="max-width:100%;"></a> <a href="https://www.codacy.com/app/subterranean-hominid/Ammonite?utm_source=github.com&amp;amp;utm_medium=referral&amp;amp;utm_content=harshad-deo/Ammonite&amp;amp;utm_campaign=Badge_Grade" target="_blank"><img src="https://camo.githubusercontent.com/aab70302efd0df29125b0c5a34ab548e8981a7e8/68747470733a2f2f6170692e636f646163792e636f6d2f70726f6a6563742f62616467652f47726164652f6532343930323865376235633434353938326435643339643937643165333731" alt="Codacy Badge" data-canonical-src="https://api.codacy.com/project/badge/Grade/e249028e7b5c445982d5d39d97d1e371" style="max-width:100%;"></a> <a href="https://gitter.im/Ammonite-kernel/ammonite-kernel?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge" target="_blank"><img src="https://camo.githubusercontent.com/6e9663d83454c5bffe43763a61607b0cff41cf63/68747470733a2f2f6261646765732e6769747465722e696d2f416d6d6f6e6974652d6b65726e656c2f616d6f6e6974652d6b65726e656c2e737667" alt="Gitter" data-canonical-src="https://badges.gitter.im/Ammonite-kernel/amonite-kernel.svg" style="max-width:100%;"></a> <a href="http://javadoc-badge.appspot.com/com.simianquant/ammonite-kernel_2.11" target="_blank"><img src="https://camo.githubusercontent.com/321faf0e3511cbd16eafa7a44c4040b5190e949c/687474703a2f2f6a617661646f632d62616467652e61707073706f742e636f6d2f636f6d2e73696d69616e7175616e742f616d6d6f6e6974652d6b65726e656c5f322e31312e7376673f6c6162656c3d7363616c61646f63" alt="Scaladoc" data-canonical-src="http://javadoc-badge.appspot.com/com.simianquant/ammonite-kernel_2.11.svg?label=scaladoc" style="max-width:100%;"></a></p> 
  <ul> 
   <li><a href="https://github.com/harshad-deo/ammonite#setup" target="_blank">Setup</a> 
    <ul> 
     <li><a href="https://github.com/harshad-deo/ammonite#sbt" target="_blank">SBT</a></li> 
     <li><a href="https://github.com/harshad-deo/ammonite#gradle" target="_blank">Gradle</a></li> 
    </ul></li> 
   <li><a href="https://github.com/harshad-deo/ammonite#need" target="_blank">Need</a></li> 
   <li><a href="https://github.com/harshad-deo/ammonite#usage" target="_blank">Usage</a> 
    <ul> 
     <li><a href="https://github.com/harshad-deo/ammonite#scala" target="_blank">Scala</a></li> 
     <li><a href="https://github.com/harshad-deo/ammonite#java" target="_blank">Java</a></li> 
    </ul></li> 
   <li><a href="https://github.com/harshad-deo/ammonite#changelog" target="_blank">Changelog</a></li> 
  </ul> 
  <h2><a id="user-content-setup" class="anchor" href="https://github.com/harshad-deo/ammonite#setup" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Setup</h2> 
  <p>Add the usual lines to the build file:</p> 
  <h4><a id="user-content-sbt" class="anchor" href="https://github.com/harshad-deo/ammonite#sbt" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SBT</h4> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.simianquant<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>ammonite-kernel<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.2.2<span class="pl-pds">"</span></span></pre>
  </div> 
  <h4><a id="user-content-gradle" class="anchor" href="https://github.com/harshad-deo/ammonite#gradle" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Gradle</h4> 
  <div class="highlight highlight-source-groovy">
   <pre>compile <span class="pl-s"><span class="pl-pds">'</span>com.simianquant:ammonite-kernel_2.11:0.2.2<span class="pl-pds">'</span></span></pre>
  </div> 
  <h2><a id="user-content-need" class="anchor" href="https://github.com/harshad-deo/ammonite#need" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Need</h2> 
  <p>While Ammonite works well as a stand-alone application, it is not well-suited for embedded usage because:</p> 
  <ol> 
   <li><strong>Separation of Concerns</strong>: The code to compile, parse, load and evaluate a statement is not separate from that to read it from an input source and print the result to an output source. Though it is <a href="https://github.com/lihaoyi/Ammonite/blob/master/amm/src/test/scala/ammonite/TestRepl.scala" target="_blank">possible</a> to feed in strings and assign the printed output to a string, doing so is quite convoluted. Also there is no simple way to obtain the value of an evaluated expression.</li> 
   <li><strong>Thread Safety</strong>: The coupled mutable state of the application is spread across several classes and several methods without proper synchronization, making multi-threaded usage tricky at best.</li> 
   <li><strong>Static leakage</strong>: At the time of the fork, several classes leaked static state, making it complicated to run several instances of ammonite at once. </li> 
  </ol> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/harshad-deo/ammonite#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <h4><a id="user-content-scala" class="anchor" href="https://github.com/harshad-deo/ammonite#scala" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala</h4> 
  <p>The functionality is encapsulated in <code>ReplKernel</code>. The static output types do not add anything to the examples below, and have been ommitted for clarity.</p> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> <span class="pl-k">import</span> <span class="pl-v">ammonite.kernel.</span><span class="pl-v">_ </span><span class="pl-c">// bringing stuff into scope</span>
<span class="pl-k">import</span> <span class="pl-v">ammonite.kernel.</span><span class="pl-v">_</span>

scala<span class="pl-k">&gt;</span> <span class="pl-k">val</span> <span class="pl-en">kernel</span> <span class="pl-k">=</span> <span class="pl-en">ReplKernel</span>() <span class="pl-c">// to carry out the operations</span>
kernel<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> ammonite.kernel.<span class="pl-en">ReplKernel</span><span class="pl-k">@</span>6e6a20a8

scala<span class="pl-k">&gt;</span> <span class="pl-k">val</span> <span class="pl-en">kernelBkp</span> <span class="pl-k">=</span> <span class="pl-en">ReplKernel</span>() <span class="pl-c">// to illustrate the absence of static leakage</span>
kernelBkp<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> ammonite.kernel.<span class="pl-en">ReplKernel</span><span class="pl-k">@</span>4189b9c5

scala<span class="pl-k">&gt;</span> kernel.process(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>)
res0<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-c1">None</span>

scala<span class="pl-k">&gt;</span> kernel.process(<span class="pl-s"><span class="pl-pds">"</span>oogachaka<span class="pl-pds">"</span></span>) <span class="pl-c">// name error</span>
res1<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span>
<span class="pl-en">Some</span>(<span class="pl-en">Failure</span>(<span class="pl-en">NonEmpty</span>[<span class="pl-en">LogError</span>(_ReplKernel0.sc<span class="pl-k">:</span><span class="pl-c1">1</span><span class="pl-k">:</span> not <span class="pl-v">found</span>: value oogachaka
<span class="pl-k">private</span> <span class="pl-k">val</span> <span class="pl-en">res0_0</span> <span class="pl-k">=</span> oogachaka
                     ^)]))

scala<span class="pl-k">&gt;</span> kernel.process(<span class="pl-s"><span class="pl-pds">"</span>def foo{<span class="pl-pds">"</span></span>) <span class="pl-c">// syntax error</span>
res2<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span>
<span class="pl-en">Some</span>(<span class="pl-en">Failure</span>(<span class="pl-en">NonEmpty</span>[<span class="pl-en">LogError</span>(<span class="pl-en">SyntaxError</span><span class="pl-k">:</span> found <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>, expected <span class="pl-s"><span class="pl-pds">"</span>;<span class="pl-pds">"</span></span> <span class="pl-k">|</span> <span class="pl-en">Newline</span>.rep(<span class="pl-c1">1</span>) <span class="pl-k">|</span> <span class="pl-s"><span class="pl-pds">"</span>}<span class="pl-pds">"</span></span> <span class="pl-k">|</span> `<span class="pl-k">case</span>` at index <span class="pl-c1">8</span>
<span class="pl-k">def</span> <span class="pl-en">foo</span>{
        ^)]))

scala<span class="pl-k">&gt;</span> kernel.process(<span class="pl-s"><span class="pl-pds">"""</span>def greet(name: String) = s"Hello, $name " <span class="pl-pds">"""</span></span>)
res3<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-en">Some</span>(<span class="pl-en">Success</span>(<span class="pl-en">SuccessfulEvaluation</span>((),<span class="pl-en">List</span>(),<span class="pl-en">List</span>())))

scala<span class="pl-k">&gt;</span> kernel.process(<span class="pl-s"><span class="pl-pds">"""</span>greet("Harshad")<span class="pl-pds">"""</span></span>) <span class="pl-c">// use the function</span>
res4<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-en">Some</span>(<span class="pl-en">Success</span>(<span class="pl-en">SuccessfulEvaluation</span>(<span class="pl-en">Hello</span>, <span class="pl-en">Harshad</span> ,<span class="pl-en">List</span>(),<span class="pl-en">List</span>())))

scala<span class="pl-k">&gt;</span> kernelBkp.process(<span class="pl-s"><span class="pl-pds">"""</span>greet("Harshad")<span class="pl-pds">"""</span></span>) <span class="pl-c">// different instance, does not work </span>
res5<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span>
<span class="pl-en">Some</span>(<span class="pl-en">Failure</span>(<span class="pl-en">NonEmpty</span>[<span class="pl-en">LogError</span>(_ReplKernel0.sc<span class="pl-k">:</span><span class="pl-c1">1</span><span class="pl-k">:</span> not <span class="pl-v">found</span>: value greet
<span class="pl-k">private</span> <span class="pl-k">val</span> <span class="pl-en">res0_0</span> <span class="pl-k">=</span> greet(<span class="pl-s"><span class="pl-pds">"</span>Harshad<span class="pl-pds">"</span></span>)
                     ^)]))

scala<span class="pl-k">&gt;</span> <span class="pl-k">val</span> <span class="pl-en">testStr1</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>import collection.immutable.Li<span class="pl-pds">"</span></span>; <span class="pl-k">val</span> <span class="pl-en">testStr2</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>gre<span class="pl-pds">"</span></span>
testStr1<span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> <span class="pl-k">import</span> <span class="pl-v">collection.immutable.</span><span class="pl-v">Li</span>
testStr2<span class="pl-k">:</span> <span class="pl-k">String</span> <span class="pl-k">=</span> gre

scala<span class="pl-k">&gt;</span> kernel.complete(testStr1, testStr1.length)
res6<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-en">AutocompleteOutput</span>(<span class="pl-en">List</span>(<span class="pl-en">LinearSeq</span>, <span class="pl-en">List</span>, <span class="pl-en">ListMap</span>, <span class="pl-en">ListSerializeEnd</span>, <span class="pl-en">ListSet</span>),<span class="pl-en">List</span>())

scala<span class="pl-k">&gt;</span> kernel.complete(testStr2, testStr2.length) <span class="pl-c">// autocomplete includes names defined earlier</span>
res7<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-en">AutocompleteOutput</span>(<span class="pl-en">List</span>(greet),<span class="pl-en">List</span>())

scala<span class="pl-k">&gt;</span> kernel.process(<span class="pl-s"><span class="pl-pds">"</span>import ammonite.kernel.testcode.Newton<span class="pl-pds">"</span></span>) <span class="pl-c">// importing classpath objects</span>
res8<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-en">Some</span>(<span class="pl-en">Success</span>(<span class="pl-en">SuccessfulEvaluation</span>((),<span class="pl-en">List</span>(),<span class="pl-en">List</span>())))

scala<span class="pl-k">&gt;</span> kernel.process(<span class="pl-s"><span class="pl-pds">"</span>Newton.sqrt(2)<span class="pl-pds">"</span></span>) <span class="pl-c">// using classpath function</span>
res9<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-en">Some</span>(<span class="pl-en">Success</span>(<span class="pl-en">SuccessfulEvaluation</span>(<span class="pl-c1">1.414213562373095</span>,<span class="pl-en">List</span>(),<span class="pl-en">List</span>())))

scala<span class="pl-k">&gt;</span> kernel.process(<span class="pl-s"><span class="pl-pds">"</span>import ammonite.kernel.testcode.Mutable<span class="pl-pds">"</span></span>) <span class="pl-c">// bringing object into scope</span>
res10<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-en">Some</span>(<span class="pl-en">Success</span>(<span class="pl-en">SuccessfulEvaluation</span>((),<span class="pl-en">List</span>(),<span class="pl-en">List</span>())))

scala<span class="pl-k">&gt;</span> kernel.process(<span class="pl-s"><span class="pl-pds">"</span>Mutable.mutableInt<span class="pl-pds">"</span></span>) <span class="pl-c">// reading the object</span>
res11<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-en">Some</span>(<span class="pl-en">Success</span>(<span class="pl-en">SuccessfulEvaluation</span>(<span class="pl-c1">0</span>,<span class="pl-en">List</span>(),<span class="pl-en">List</span>())))

scala<span class="pl-k">&gt;</span> kernel.process(<span class="pl-s"><span class="pl-pds">"</span>Mutable.mutableInt = 42<span class="pl-pds">"</span></span>) <span class="pl-c">// modifying the object</span>
res12<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-en">Some</span>(<span class="pl-en">Success</span>(<span class="pl-en">SuccessfulEvaluation</span>((),<span class="pl-en">List</span>(),<span class="pl-en">List</span>())))

scala<span class="pl-k">&gt;</span> kernel.process(<span class="pl-s"><span class="pl-pds">"</span>Mutable.mutableInt<span class="pl-pds">"</span></span>) <span class="pl-c">// reading the object again</span>
res13<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-en">Some</span>(<span class="pl-en">Success</span>(<span class="pl-en">SuccessfulEvaluation</span>(<span class="pl-c1">42</span>,<span class="pl-en">List</span>(),<span class="pl-en">List</span>())))

scala<span class="pl-k">&gt;</span> kernelBkp.process(<span class="pl-s"><span class="pl-pds">"</span>ammonite.kernel.testcode.Mutable.mutableInt<span class="pl-pds">"</span></span>) <span class="pl-c">// visible to others</span>
res14<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-en">Some</span>(<span class="pl-en">Success</span>(<span class="pl-en">SuccessfulEvaluation</span>(<span class="pl-c1">42</span>,<span class="pl-en">List</span>(),<span class="pl-en">List</span>())))

scala<span class="pl-k">&gt;</span> kernel.loadIvy(<span class="pl-s"><span class="pl-pds">"</span>com.simianquant<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>typequux_2.11<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>0.2.0<span class="pl-pds">"</span></span>) <span class="pl-c">// loading external library</span>
res15<span class="pl-k">:</span> scalaz.<span class="pl-en">ValidationNel</span>[ammonite.kernel.<span class="pl-en">LogError</span>,<span class="pl-k">Unit</span>] <span class="pl-k">=</span> <span class="pl-en">Success</span>(())

scala<span class="pl-k">&gt;</span> kernel.process(<span class="pl-s"><span class="pl-pds">"</span>import typequux._; import typequux._<span class="pl-pds">"</span></span>) <span class="pl-c">// bringing stuff into scope</span>
res16<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-en">Some</span>(<span class="pl-en">Success</span>(<span class="pl-en">SuccessfulEvaluation</span>((),<span class="pl-en">List</span>(),<span class="pl-en">List</span>())))

scala<span class="pl-k">&gt;</span> kernel.process(<span class="pl-s"><span class="pl-pds">"""</span>val p = 3 :+: true :+: "asdf" :+: false :+: 'k' :+: () :+: 13 :+: 9.3 :+: HNil<span class="pl-pds">"""</span></span>)
res17<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-en">Some</span>(<span class="pl-en">Success</span>(<span class="pl-en">SuccessfulEvaluation</span>((),<span class="pl-en">List</span>(),<span class="pl-en">List</span>())))

scala<span class="pl-k">&gt;</span> kernel.process(<span class="pl-s"><span class="pl-pds">"</span>val idxd = p.t[String]<span class="pl-pds">"</span></span>) <span class="pl-c">// type indexing</span>
res18<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-en">Some</span>(<span class="pl-en">Success</span>(<span class="pl-en">SuccessfulEvaluation</span>((),<span class="pl-en">List</span>(),<span class="pl-en">List</span>())))

scala<span class="pl-k">&gt;</span> kernel.process(<span class="pl-s"><span class="pl-pds">"</span>idxd.before<span class="pl-pds">"</span></span>)
res19<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-en">Some</span>(<span class="pl-en">Success</span>(<span class="pl-en">SuccessfulEvaluation</span>(<span class="pl-c1">3</span> <span class="pl-k">:</span><span class="pl-k">+</span><span class="pl-k">:</span> <span class="pl-c1">true</span> <span class="pl-k">:</span><span class="pl-k">+</span><span class="pl-k">:</span> <span class="pl-en">HNil</span>,<span class="pl-en">List</span>(),<span class="pl-en">List</span>())))

scala<span class="pl-k">&gt;</span> kernel.process(<span class="pl-s"><span class="pl-pds">"</span>idxd.at<span class="pl-pds">"</span></span>)
res20<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-en">Some</span>(<span class="pl-en">Success</span>(<span class="pl-en">SuccessfulEvaluation</span>(asdf,<span class="pl-en">List</span>(),<span class="pl-en">List</span>())))

scala<span class="pl-k">&gt;</span> kernel.process(<span class="pl-s"><span class="pl-pds">"</span>idxd.updated(19)<span class="pl-pds">"</span></span>)
res21<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span> <span class="pl-en">Some</span>(<span class="pl-en">Success</span>(<span class="pl-en">SuccessfulEvaluation</span>(<span class="pl-c1">3</span> <span class="pl-k">:</span><span class="pl-k">+</span><span class="pl-k">:</span> <span class="pl-c1">true</span> <span class="pl-k">:</span><span class="pl-k">+</span><span class="pl-k">:</span> <span class="pl-c1">19</span> <span class="pl-k">:</span><span class="pl-k">+</span><span class="pl-k">:</span> <span class="pl-c1">false</span> <span class="pl-k">:</span><span class="pl-k">+</span><span class="pl-k">:</span> k <span class="pl-k">:</span><span class="pl-k">+</span><span class="pl-k">:</span> () <span class="pl-k">:</span><span class="pl-k">+</span><span class="pl-k">:</span> <span class="pl-c1">13</span> <span class="pl-k">:</span><span class="pl-k">+</span><span class="pl-k">:</span> <span class="pl-c1">9.3</span> <span class="pl-k">:</span><span class="pl-k">+</span><span class="pl-k">:</span> <span class="pl-en">HNil</span>,<span class="pl-en">List</span>(),<span class="pl-en">List</span>())))

scala<span class="pl-k">&gt;</span> kernelBkp.process(<span class="pl-s"><span class="pl-pds">"</span>import typequux._<span class="pl-pds">"</span></span>) <span class="pl-c">// different instance, does not have dependency loaded</span>
res22<span class="pl-k">:</span> <span class="pl-c">/**/</span> <span class="pl-k">=</span>
<span class="pl-en">Some</span>(<span class="pl-en">Failure</span>(<span class="pl-en">NonEmpty</span>[<span class="pl-en">LogError</span>(_ReplKernel1.sc<span class="pl-k">:</span><span class="pl-c1">1</span><span class="pl-k">:</span> not <span class="pl-v">found</span>: value typequux
<span class="pl-k">import</span> <span class="pl-v">typequux.</span><span class="pl-v">_</span>
       ^)]))</pre>
  </div> 
  <h4><a id="user-content-java" class="anchor" href="https://github.com/harshad-deo/ammonite#java" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Java</h4> 
  <p>The <code>compat</code> package provides java friendly wrapper to the API. The functionality is encapsulated in <code>ReplKernelCompat</code>. Refer to the <a href="https://github.com/harshad-deo/ammonite-kernel-java-example" target="_blank">java example project</a> for a detailed example.</p> 
  <h2><a id="user-content-changelog" class="anchor" href="https://github.com/harshad-deo/ammonite#changelog" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Changelog</h2> 
  <ul> 
   <li>0.1 Initial release</li> 
   <li>0.2 Add <code>compat</code> package to make interop with java easier</li> 
  </ul> 
 </article>
</div>