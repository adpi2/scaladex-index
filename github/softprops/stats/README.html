<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/softprops/stats#stats" aria-hidden="true" class="anchor" id="user-content-stats" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>stats</h1> 
  <p><a href="https://travis-ci.org/softprops/stats" target="_blank"><img src="https://camo.githubusercontent.com/5b13491e8c9b34deb023711258fda09f769358c8/68747470733a2f2f7472617669732d63692e6f72672f736f667470726f70732f73746174732e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/softprops/stats.svg?branch=master" style="max-width:100%;"></a></p> 
  <p>numbers, exported.</p> 
  <h2><a href="https://github.com/softprops/stats#install" aria-hidden="true" class="anchor" id="user-content-install" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>install</h2> 
  <p>At the following to your sbt project's <code>build.sbt</code></p> 
  <div class="highlight highlight-source-scala">
   <pre>resolvers <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>softprops-maven<span class="pl-pds">"</span></span> at <span class="pl-s"><span class="pl-pds">"</span>http://dl.bintray.com/content/softprops/maven<span class="pl-pds">"</span></span>

libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>me.lessis<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>stats<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.1.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <h2><a href="https://github.com/softprops/stats#usage" aria-hidden="true" class="anchor" id="user-content-usage" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>usage</h2> 
  <p>Stats is a non-blocking Scala frontend for reporting metrics to <a href="https://github.com/etsy/statsd/" target="_blank">statsd</a> over <a href="http://en.wikipedia.org/wiki/User_Datagram_Protocol" target="_blank">UPD</a>.</p> 
  <h3><a href="https://github.com/softprops/stats#connecting" aria-hidden="true" class="anchor" id="user-content-connecting" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>connecting</h3> 
  <p>Creating a new stats client is simple. The default client is configured for exporting stats to a statsd server hosted locally listening on port <code>8125</code>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scala.concurrent.ExecutionContext.Implicits.</span><span class="pl-v">global</span>
<span class="pl-k">val</span> <span class="pl-en">cli</span> <span class="pl-k">=</span> stats.<span class="pl-en">Stats</span>()</pre>
  </div> 
  <p>You can specify a remote address as an InetSocketAddress as a Stats constructor argument or use the <code>addr</code> method to return a new client pointing to an alternative host address.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">hosted</span> <span class="pl-k">=</span> cli.addr(host, port)</pre>
  </div> 
  <h3><a href="https://github.com/softprops/stats#metric-names" aria-hidden="true" class="anchor" id="user-content-metric-names" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>metric names</h3> 
  <p>Statd servers are largely concerned with 2 things: metric names and metric values. Metric names are lists of period (<code>.</code>) separated path segments. These names translate to file paths so most naming rules that apply to file names also apply to metric names. If your application has specific name formatting needs, you can override the default escaping strategy with the client's <code>formatNames</code> member.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">formatted</span> <span class="pl-k">=</span> cli.formatNames { <span class="pl-v">segments</span>: <span class="pl-en">Iterable</span>[<span class="pl-k">String</span>] <span class="pl-k">=&gt;</span>
  segments.map(customFormat).mkString(<span class="pl-s"><span class="pl-pds">"</span>.<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <p>Names often represent an encoding of a metric's hierarchy of context. For this reason, many of the stats client interfaces support name scoping with the <code>scope</code> method.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">scoped</span> <span class="pl-k">=</span> cli.scope(<span class="pl-s"><span class="pl-pds">"</span>svr<span class="pl-pds">"</span></span>).scope(<span class="pl-s"><span class="pl-pds">"</span>serviceName<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>The above will prepend <code>srv.serviceName</code> to the name of all reported metrics</p> 
  <h3><a href="https://github.com/softprops/stats#metric-values" aria-hidden="true" class="anchor" id="user-content-metric-values" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Metric values</h3> 
  <p>Statsd defines a set of <a href="https://github.com/etsy/statsd/blob/master/docs/metric_types.md" target="_blank">metric types</a> which a statsd server is able to interpret. This client provides type-safe interfaces for each of those.</p> 
  <h4><a href="https://github.com/softprops/stats#counting" aria-hidden="true" class="anchor" id="user-content-counting" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Counting</h4> 
  <p>The simplest type of metric is a counter</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">counts</span> <span class="pl-k">=</span> cli.counter(<span class="pl-s"><span class="pl-pds">"</span>requests<span class="pl-pds">"</span></span>, endpointName)</pre>
  </div> 
  <p><code>counts</code> is a reference to a stat named "requests.endpointName" and defines a handful of operations</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> counters can incr &amp; decr a metric name</span>
counts.incr
counts.decr

<span class="pl-c"><span class="pl-c">//</span> counters may also be incr &amp; and decr with a specific value</span>
counts.incr(<span class="pl-c1">10</span>)
counts.decr(<span class="pl-c1">5</span>)</pre>
  </div> 
  <p>Note each operation results of a <a href="http://www.scala-lang.org/api/current/index.html#scala.concurrent.Future" target="_blank">Future</a> of type boolean where the boolean value represents the packet data being sent fully.</p> 
  <p>Counting, and other metric types, all support request sampling. By default, any metric operation will be reported to a statsd server. You can override this behavior by setting a custom sample rate, a number between 0 and 1.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">sampledRequests</span> <span class="pl-k">=</span> requests.sample(<span class="pl-c1">0.8</span>)</pre>
  </div> 
  <p>The above will only report metric data at a rate of 0.8. Sampling is sometimes helpful to reduce load under heavy periods of requests.</p> 
  <h4><a href="https://github.com/softprops/stats#timing" aria-hidden="true" class="anchor" id="user-content-timing" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Timing</h4> 
  <p>Timers are recorders of time based information in milliseconds. To remove any ambiguity, interface for timers operate on std library <a href="http://www.scala-lang.org/api/current/index.html#scala.concurrent.duration.FiniteDuration" target="_blank">FiniteDurations</a>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">latency</span> <span class="pl-k">=</span> cli.time(<span class="pl-s"><span class="pl-pds">"</span>responses<span class="pl-pds">"</span></span>)

<span class="pl-c"><span class="pl-c">//</span> record time</span>
latency.record(<span class="pl-c1">200</span> millis)
latency.record(<span class="pl-c1">2</span> seconds)</pre>
  </div> 
  <h4><a href="https://github.com/softprops/stats#gauges" aria-hidden="true" class="anchor" id="user-content-gauges" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Gauges</h4> 
  <p>Gauges provide an interface for recording information about arbitrary countable values. Gauges have the unique property retaining only the last value recorded within a configured flush interval. Countable types are currently defined for Ints, Doubles, and Floats . Since a type bound is defined, you are required to specify the type of value you wish to record.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">memory</span> <span class="pl-k">=</span> cli.gauge[<span class="pl-k">Int</span>](<span class="pl-s"><span class="pl-pds">"</span>memory<span class="pl-pds">"</span></span>)

<span class="pl-c"><span class="pl-c">//</span> record int values</span>
memory.record(<span class="pl-c1">1024</span>)
memory.record(<span class="pl-c1">80000000</span>)</pre>
  </div> 
  <p>Though the only the last value requested to be recorded within a flush interval is stored you may also modify that value in place during that window with <code>add</code> and <code>subtract</code>.</p> 
  <p>add 256 to the current value of memory</p> 
  <div class="highlight highlight-source-scala">
   <pre>memory.add(<span class="pl-c1">256</span>)</pre>
  </div> 
  <p>subtract 256 from the current value of memory</p> 
  <div class="highlight highlight-source-scala">
   <pre>member.subtract(<span class="pl-c1">256</span>)</pre>
  </div> 
  <h4><a href="https://github.com/softprops/stats#sets" aria-hidden="true" class="anchor" id="user-content-sets" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Sets</h4> 
  <p>Sets are similar to gauges except that only unique occurances of values are recorded within a configured flush interval.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">visitors</span> <span class="pl-k">=</span> cli.set[<span class="pl-k">Int</span>](<span class="pl-s"><span class="pl-pds">"</span>visitors<span class="pl-pds">"</span></span>)

visitors.record(memberA)
visitors.record(memberB)
visitors.record(memberA) <span class="pl-c"><span class="pl-c">//</span> only one memberA event will actually be recorded for a given flush interval</span></pre>
  </div> 
  <h4><a href="https://github.com/softprops/stats#multi-stats" aria-hidden="true" class="anchor" id="user-content-multi-stats" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Multi stats</h4> 
  <p>You can also send multiple stats at once by creating a set of stat "instances" and asking the stats client to send them all at once. A stat instance can be created by calling the <code>apply</code> method of the type of stat providing the value to record.</p> 
  <div class="highlight highlight-source-scala">
   <pre>cli.multi(
  requests(<span class="pl-c1">1</span>), <span class="pl-c"><span class="pl-c">//</span> increment by one</span>
  latency(<span class="pl-c1">1</span> second),
  memory(<span class="pl-c1">2014</span>),
  visitors(memberB)
)</pre>
  </div> 
  <p>Each individual stat instances sample rate will be honored in a multi metric send. You should take note of your networks configured packet size limits. Some general guidelines are defined <a href="https://github.com/etsy/statsd/blob/master/docs/metric_types.md#multi-metric-packets" target="_blank">here</a>. Stats will make a best effort to group stats according to this clients <code>packetMax</code> size which defaults to <code>1500</code>. You can configure this as follows.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">sized</span> <span class="pl-k">=</span> cli.packetMax(<span class="pl-c1">512</span>)</pre>
  </div> 
  <h3><a href="https://github.com/softprops/stats#logging" aria-hidden="true" class="anchor" id="user-content-logging" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Logging</h3> 
  <p>It's useful to know when things fail. Since all stating operation result in a Future result you could register a logging listener for failures at each callsite but that can become error prone and tedious. Stats provides a convenient way to do this in one place but registering a logging function.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">logged</span> <span class="pl-k">=</span> cli.addr(<span class="pl-s"><span class="pl-pds">"</span>deadhost<span class="pl-pds">"</span></span>).log {
  <span class="pl-k">case</span> <span class="pl-en">Failure</span>(<span class="pl-en">NonFatal</span>(e)) <span class="pl-k">=&gt;</span>
     println(s<span class="pl-s"><span class="pl-pds">"</span>failed to sent packet of one or more stats<span class="pl-pds">"</span></span>)
  <span class="pl-k">case</span> _ <span class="pl-k">=&gt;</span>
}
logged.counter(<span class="pl-s"><span class="pl-pds">"</span>this<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>will<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>fail<span class="pl-pds">"</span></span>).incr</pre>
  </div> 
  <h3><a href="https://github.com/softprops/stats#inspecting" aria-hidden="true" class="anchor" id="user-content-inspecting" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Inspecting</h3> 
  <p>You can inspect the value a given metric will report by calling the <code>str</code> member of a given stats instance. This can help you get to know what to expect with you look for your metric in a the graphite UI.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> foo.bar:1000|ms</span>
<span class="pl-k">val</span> <span class="pl-en">timerStr</span> <span class="pl-k">=</span> cli.time(<span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>bar<span class="pl-pds">"</span></span>)(<span class="pl-c1">1.</span>second).str</pre>
  </div> 
  <p>Note that metric names are specified as a varargs list of path segments. You may be template to hard code a pre-encoded path ( one containing a separator). In these cases those periods will be escaped to remove ambiguity.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> foo_bar.baz:1000|ms</span>
<span class="pl-k">val</span> <span class="pl-en">timerStr</span> <span class="pl-k">=</span> cli.time(<span class="pl-s"><span class="pl-pds">"</span>foo.bar<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>baz<span class="pl-pds">"</span></span>)(<span class="pl-c1">1.</span>second).str</pre>
  </div> 
  <h3><a href="https://github.com/softprops/stats#java" aria-hidden="true" class="anchor" id="user-content-java" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Java</h3> 
  <p>Care was taken to ensure stats interfaces are also tolerable to use in java-based applications;</p> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-k">import</span> <span class="pl-smi">stats.Stats</span>;
<span class="pl-k">import</span> <span class="pl-smi">scala</span>
<span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">Main</span> {
  <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">main</span>(<span class="pl-k">String</span>[] <span class="pl-v">args</span>) {
    <span class="pl-smi">Stats</span> client <span class="pl-k">=</span> <span class="pl-smi">Stats</span><span class="pl-k">.</span>client()<span class="pl-k">.</span>scope(<span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>bar<span class="pl-pds">"</span></span>);
    client<span class="pl-k">.</span>jcounter(<span class="pl-s"><span class="pl-pds">"</span>baz<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>boom<span class="pl-pds">"</span></span>)<span class="pl-k">.</span>incr();
  }
}</pre>
  </div> 
  <p>Doug Tangren (softprops) 2014</p> 
 </article>
</div>