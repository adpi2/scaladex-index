<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-odelay" class="anchor" href="https://github.com/softprops/odelay#odelay" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>odelay</h1> 
  <p><a href="https://travis-ci.org/softprops/odelay" target="_blank"><img src="https://camo.githubusercontent.com/4d166bf33ba722d154839c7f0012ed3ebf364981/68747470733a2f2f7472617669732d63692e6f72672f736f667470726f70732f6f64656c61792e706e673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/softprops/odelay.png?branch=master" style="max-width:100%;"></a></p> 
  <p>Delayed reactions, fashioned from tools you already have sitting around your shed.</p> 
  <h2><a id="user-content-installation" class="anchor" href="https://github.com/softprops/odelay#installation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>installation</h2> 
  <p>The current version of odelay is <code>0.1.0</code> and targets scala 2.10+. The odelay-twitter module is not published for 2.11.*.</p> 
  <p>Add the following resolver to your build definition</p> 
  <div class="highlight highlight-source-scala">
   <pre>resolvers <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>softprops-maven<span class="pl-pds">"</span></span> at <span class="pl-s"><span class="pl-pds">"</span>http://dl.bintray.com/content/softprops/maven<span class="pl-pds">"</span></span></pre>
  </div> 
  <h3><a id="user-content-modules" class="anchor" href="https://github.com/softprops/odelay#modules" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>modules</h3> 
  <ul> 
   <li><code>odelay-core</code> odelay core interfaces and default jdk backed timer</li> 
  </ul> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>me.lessis<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>odelay-core<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.1.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <ul> 
   <li><code>odelay-netty</code> netty 4 backed odelay timer interface</li> 
  </ul> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>me.lessis<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>odelay-netty<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.1.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <ul> 
   <li><code>odelay-netty3</code> netty 3 backed odelay timer interface</li> 
  </ul> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>me.lessis<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>odelay-netty3<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.1.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <ul> 
   <li><code>odelay-twitter</code> twitter util backed odelay timer interface</li> 
  </ul> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>me.lessis<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>odelay-twitter<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.1.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/softprops/odelay#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>usage</h2> 
  <p>Odelay provides a simple interface producing Delays. Delays are to operations as <a href="http://www.scala-lang.org/api/current/index.html#scala.concurrent.Future" target="_blank">Futures</a> are to values, for given <a href="http://www.scala-lang.org/api/current/index.html#scala.concurrent.duration.FiniteDuration" target="_blank">FiniteDurations</a>.</p> 
  <h3><a id="user-content-primitives" class="anchor" href="https://github.com/softprops/odelay#primitives" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>primitives</h3> 
  <p>Odelay separates execution from interface by defining two primitives:</p> 
  <ul> 
   <li>an <code>odelay.Timer</code>, which defers task execution</li> 
   <li>an <code>odelay.Delay</code>, which represents a delayed operation.</li> 
  </ul> 
  <p>A delayed operation requires a <a href="http://www.scala-lang.org/api/current/index.html#scala.concurrent.duration.FiniteDuration" target="_blank">FiniteDuration</a> and some arbitrary block of code which will execute after that duration.</p> 
  <p>Typical usage is as follows.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scala.concurrent.duration.</span><span class="pl-v">_</span>

<span class="pl-c">// print "executed" after a 2 second delay</span>
odelay.<span class="pl-en">Delay</span>(<span class="pl-c1">2.</span>seconds) {
  println(<span class="pl-s"><span class="pl-pds">"</span>executed<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <h3><a id="user-content-timers" class="anchor" href="https://github.com/softprops/odelay#timers" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Timers</h3> 
  <p>In order for the example above to compile, an instance of an <code>odelay.Timer</code> needs to be in implicit scope, just as an ExecutionContext would when working with Scala Futures.</p> 
  <p><code>odelay.Timers</code> define an interface for task scheduling. Implementations of <code>odelay.Timers</code> are defined for a number of environments and platforms.</p> 
  <h4><a id="user-content-jdktimer" class="anchor" href="https://github.com/softprops/odelay#jdktimer" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>JdkTimer</h4> 
  <p>The default Timer is a standard jdk <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html" target="_blank">ScheduledExecutorService</a> backed Timer.</p> 
  <p>To make the example above compile, import the default <code>Timer</code>.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scala.concurrent.duration.</span><span class="pl-v">_</span>

<span class="pl-c">// bring default timer into scope</span>
<span class="pl-k">import</span> <span class="pl-v">odelay.Timer.</span><span class="pl-v">default</span>

odelay.<span class="pl-en">Delay</span>(<span class="pl-c1">2.</span>seconds) {
  println(<span class="pl-s"><span class="pl-pds">"</span>executed<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <p>If you have already allocated your own <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html" target="_blank">ScheduledExecutorService</a>, you may define your own jdk timer reusing those thread resources and bring that into implicit scope.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scala.concurrent.duration.</span><span class="pl-v">_</span>

<span class="pl-c">// define a new JdkTimer instance with resources preallocated</span>
<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">myJdkTimer</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">odelay.jdk.JdkTimer</span>(
  myScheduledExecutorService, interuptOnCancel)

odelay.<span class="pl-en">Delay</span>(<span class="pl-c1">2.</span>seconds) {
  println(<span class="pl-s"><span class="pl-pds">"</span>executed<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <h4><a id="user-content-netty3timers" class="anchor" href="https://github.com/softprops/odelay#netty3timers" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Netty(3)Timers</h4> 
  <p>If your application's classpath includes <a href="http://netty.io/" target="_blank">netty</a>, a widely adopted library for writing asynchronous services on the JVM, there's a good chance you will want to use the <code>odelay-netty</code> ( netty 4 ) or <code>odelay-netty3</code> ( netty 3 ) modules which are backed by a netty <a href="http://netty.io/4.0/api/io/netty/util/HashedWheelTimer.html" target="_blank">HashedWheelTimer</a>.</p> 
  <p>To use one of these, bring an instance of the default netty timer into scope</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scala.concurrent.duration.</span><span class="pl-v">_</span>

<span class="pl-c">// create a new netty timer and bring it into explicit scope</span>
<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">timer</span> <span class="pl-k">=</span> odelay.netty.<span class="pl-en">NettyTimer</span>.newTimer

odelay.<span class="pl-en">Delay</span>(<span class="pl-c1">2.</span>seconds) {
  println(<span class="pl-s"><span class="pl-pds">"</span>executed<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <p>If your application has already allocated a HashedWheelTimer, you can easily create your own odelay.Timer instance backed with resources you have already allocated.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scala.concurrent.duration.</span><span class="pl-v">_</span>

<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">timer</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">odelay.netty.NettyTimer</span>(myHashedWheelTimer)

odelay.<span class="pl-en">Delay</span>(<span class="pl-c1">2.</span>seconds) {
  println(<span class="pl-s"><span class="pl-pds">"</span>executed<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <p>Netty 4+ defines a new concurrency primitive called an <code>io.netty.util.concurrent.EventExecutorGroup</code>. Odelay's netty module defines a Timer interface for that as well. You will most likely have an EventExecutorGroup defines in your netty pipeline. To create a Timer instance from one of those, you can do the following</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scala.concurrent.duration.</span><span class="pl-v">_</span>

<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">timer</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">odelay.netty.NettyGroupTimer</span>(
  myEventExecutorGroup)

odelay.<span class="pl-en">Delay</span>(<span class="pl-c1">2.</span>seconds) {
  println(<span class="pl-s"><span class="pl-pds">"</span>executed<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <h4><a id="user-content-twittertimers" class="anchor" href="https://github.com/softprops/odelay#twittertimers" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>TwitterTimers</h4> 
  <p>If your application has the <a href="http://twitter.github.io/util/" target="_blank">twitter util</a> suite of utilities on its classpath, there's a good chance you will want to use the <code>odelay-twitter</code> module which defines an <code>odelay.Timer</code> in terms of twitter util's own timer interface, <code>com.twitter.util.Timer</code>. A default Timer is provided backed by a <code>com.twitter.util.JavaTimer</code></p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scala.concurrent.duration.</span><span class="pl-v">_</span>
<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">timer</span> <span class="pl-k">=</span> odelay.twitter.<span class="pl-en">TwitterTimer</span>.newTimer
odelay.<span class="pl-en">Delay</span>(<span class="pl-c1">2.</span>seconds) {
  println(<span class="pl-s"><span class="pl-pds">"</span>executed<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <p>You may also define your own <code>odelay.Timer</code> in terms of a <code>com.twitter.util.Timer</code> which you may already have in scope.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scala.concurrent.duration.</span><span class="pl-v">_</span>
<span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">timer</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">odelay.twitter.TwitterTimer</span>(myTwitterTimer)
odelay.<span class="pl-en">Delay</span>(<span class="pl-c1">2.</span>seconds) {
  println(<span class="pl-s"><span class="pl-pds">"</span>executed<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <h3><a id="user-content-releasing-resources" class="anchor" href="https://github.com/softprops/odelay#releasing-resources" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Releasing resources</h3> 
  <p><code>odelay.Timers</code> use thread resources to do their work. In order for a jvm to be shutdown cleanly, these thread resources need to be released. Depending on your applications needs, you should really only need <em>one</em> instance of an <code>odelay.Timer</code> for a given process.</p> 
  <p>When an application terminates, it should be instrumented in a way that ensures the <code>stop()</code> method of that <code>odelay.Timer</code> is invoked. This ensures thread resources are released so your application can shutdown cleanly. Calling <code>stop()</code> on a Timer will most likely result failed promises if a new Delay is attempted with the stopped timer.</p> 
  <h3><a id="user-content-periodic-delays" class="anchor" href="https://github.com/softprops/odelay#periodic-delays" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Periodic delays</h3> 
  <p>Odelay also provides an interface for cases where you wish to execute a task on a repeating interval of periodic delays. You can do so with the <code>odelay.Delay#every</code> interface which takes 3 curried arguments: a <code>scala.concurrent.duration.FiniteDuration</code> representing the periodic delay, an optional <code>scala.concurrent.duration.FiniteDuration</code> representing the initial delay (the default is no delay), and a block of code to execute periodically.</p> 
  <p>The following example will print "executed" every two seconds until the resulting time out is canceled or the timer is stopped.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scala.concurrent.duration.</span><span class="pl-v">_</span>

<span class="pl-k">import</span> <span class="pl-v">odelay.Timer.</span><span class="pl-v">default</span>

odelay.<span class="pl-en">Delay</span>.every(<span class="pl-c1">2.</span>seconds)() {
  println(<span class="pl-s"><span class="pl-pds">"</span>executed<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <h3><a id="user-content-delays" class="anchor" href="https://github.com/softprops/odelay#delays" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Delays</h3> 
  <p>Like <a href="http://www.scala-lang.org/api/current/index.html#scala.concurrent.Future" target="_blank">Futures</a>, which provide a interface for <em>reacting</em> to changes of a deferred value, odelay operations produce <code>odelay.Delay</code> values, which can be used to <em>react</em> to timer operations.</p> 
  <p>Since Delays represent deferred operations, <code>odelay.Delays</code> expose a <code>future</code> method which returns a <code>Future</code> that will be satisfied as a success with the return type of block supplied to <code>odelay.Delay</code> when the operation is scheduled. </p> 
  <p><code>odelay.Delays</code> may be canceled. Cancellation will satisfy the Future in a failure state. Armed with this knowledge, you can chain dependent actions in a "data flow" fashion. Note, the return type of a Delay's Future is determined by the block of code supplied. If your block returns a Future itself, the Delay's future being satisfied doesn't imply the blocks future will also be satisfied as well. If you wish to chain these together, simply <code>flatMap</code> the results, <code>delay.future.flatMap(identity)</code>.</p> 
  <p>Below is an example of reacting the a delay's execution.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scala.concurrent.duration.</span><span class="pl-v">_</span>

<span class="pl-c">// future execution</span>
<span class="pl-k">import</span> <span class="pl-v">scala.concurrent.ExecutionContext.Implicits.</span><span class="pl-v">global</span>

<span class="pl-c">// delay execution</span>
<span class="pl-k">import</span> <span class="pl-v">odelay.Timer.</span><span class="pl-v">default</span>

odelay.<span class="pl-en">Delay</span>(<span class="pl-c1">2.</span>seconds) {
  println(<span class="pl-s"><span class="pl-pds">"</span>executed<span class="pl-pds">"</span></span>)
}.future.onSuccess {
  <span class="pl-k">case</span> _ <span class="pl-k">=&gt;</span> println(<span class="pl-s"><span class="pl-pds">"</span>task scheduled<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <p>Note, the import of the <code>ExecutionContext</code>. An implicit instance of one must be in scope for the invocation of a Future's <code>onSuccess</code> method.</p> 
  <h4><a id="user-content-periodically-delayed-futures" class="anchor" href="https://github.com/softprops/odelay#periodically-delayed-futures" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Periodically Delayed futures</h4> 
  <p>A periodic delay's future should intuitively never complete, as a Future can only be satisfied once and a period delay will be executed a number of times.</p> 
  <p>However, a canceled periodic delay will satisfy a periodic delay's Future in a failure state.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">scala.concurrent.duration.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">scala.concurrent.ExecutionContext.Implicits.</span><span class="pl-v">global</span>
<span class="pl-k">import</span> <span class="pl-v">odelay.Timer.</span><span class="pl-v">default</span>

<span class="pl-k">val</span> <span class="pl-en">delay</span> <span class="pl-k">=</span> odelay.<span class="pl-en">Delay</span>.every(<span class="pl-c1">2.</span>seconds)() {
  println(<span class="pl-s"><span class="pl-pds">"</span>executed<span class="pl-pds">"</span></span>)
}

delay.future.onSuccess {
  <span class="pl-k">case</span> _ <span class="pl-k">=&gt;</span> println(<span class="pl-s"><span class="pl-pds">"</span>this will never get called<span class="pl-pds">"</span></span>)
}

delay.future.onFailure {
  <span class="pl-k">case</span> _ <span class="pl-k">=&gt;</span> println(<span class="pl-s"><span class="pl-pds">"</span>this can get called, if you call delay.cancel()<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <p>Doug Tangren (softprops) 2014</p> 
 </article>
</div>