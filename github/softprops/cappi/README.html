<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/softprops/cappi#cappi" aria-hidden="true" class="anchor" id="user-content-cappi" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>cappi</h1> 
  <blockquote> 
   <p>The <a href="http://www.urbandictionary.com/define.php?term=cappi" target="_blank">sweetest</a> <a href="http://www.scala-sbt.org/" target="_blank">sbt</a> plugin your <a href="https://code.google.com/p/caliper/wiki/JavaMicrobenchmarks" target="_blank">microbenchmarks</a> will ever meet.</p> 
  </blockquote> 
  <p>Cappi runs <a href="https://code.google.com/p/caliper/" target="_blank">Caliper</a> benchmarks</p> 
  <h2><a href="https://github.com/softprops/cappi#install" aria-hidden="true" class="anchor" id="user-content-install" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Install</h2> 
  <p>This project targets sbt version <a href="http://www.scala-sbt.org/0.13.0/docs/home.html" target="_blank">0.13</a>. If you should want 0.12 support <a href="https://github.com/softprops/cappi/issues/new?title=add%20support%20for%20sbt%200.12" target="_blank">drop me an issue</a></p> 
  <p>To install Cappi in your sbt project, add the following to your project's plugin configuration, typically in a <code>project/plugins.sbt</code> file.</p> 
  <div class="highlight highlight-source-scala">
   <pre>resolvers <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-en">Resolver</span>.url(
  <span class="pl-s"><span class="pl-pds">"</span>bintray-sbt-plugin-releases<span class="pl-pds">"</span></span>,
    url(<span class="pl-s"><span class="pl-pds">"</span>http://dl.bintray.com/content/sbt/sbt-plugin-releases<span class="pl-pds">"</span></span>))(
      <span class="pl-en">Resolver</span>.ivyStylePatterns)

addSbtPlugin(<span class="pl-s"><span class="pl-pds">"</span>me.lessis<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>cappi<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.1.1<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>Then mix <code>cappiSettings</code> into your build defintion, typically in a <code>build.sbt</code> file.</p> 
  <div class="highlight highlight-source-scala">
   <pre>seq(cappiSettings<span class="pl-k">:</span>_<span class="pl-k">*</span>)</pre>
  </div> 
  <h2><a href="https://github.com/softprops/cappi#usage" aria-hidden="true" class="anchor" id="user-content-usage" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>Cappi will run your benchmarks, but it needs to know <em>what</em> they are first. By default, Cappi defines two tasks to run your bench marks <code>benchmark</code> and <code>benchmarkOnly</code> both scoped to the <code>cappi</code> task.</p> 
  <h3><a href="https://github.com/softprops/cappi#resolving-benchmarks" aria-hidden="true" class="anchor" id="user-content-resolving-benchmarks" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Resolving Benchmarks</h3> 
  <p>In order to run <code>benchmarks</code> Cappi makes the assumption that you've named your benchmark in a source file with a name ending with "Benchmark.scala". Cappi will look for this under your <code>src/test/scala</code> directory. It makes the assumption that you are packaging your benchmarks in folders that mirror the scala package they are under.</p> 
  <p>For example, the class <code>foo.BarBenchmark</code></p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">package</span> <span class="pl-en">foo</span>
<span class="pl-k">class</span> <span class="pl-en">BarBenchmark</span> <span class="pl-k">extends</span> <span class="pl-e">com.google.caliper.SimpleBenchmark</span> {
 <span class="pl-c"><span class="pl-c">//</span> ...</span>
}</pre>
  </div> 
  <p>would be expected to be located in a file named <code>src/test/scala/foo/BarBenchmark.scala</code></p> 
  <p>You can see the full list of resolved benchmark class names by running the following the the sbt REPL</p> 
  <div class="highlight highlight-source-scala">
   <pre>show cappi<span class="pl-k">::</span>benchmarks</pre>
  </div> 
  <p>Alternatively, you can override the <code>benchmarks</code> setting in your build definition</p> 
  <div class="highlight highlight-source-scala">
   <pre>(cappi.<span class="pl-en">Keys</span>.benchmarks in cappi.<span class="pl-en">Keys</span>.cappi) <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(<span class="pl-s"><span class="pl-pds">"</span>foo.BazBenchmark<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <h3><a href="https://github.com/softprops/cappi#running-benchmarks" aria-hidden="true" class="anchor" id="user-content-running-benchmarks" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Running Benchmarks</h3> 
  <p>To run your benchmarks, simply run the following in the sbt REPL. This will run all benchmarks.</p> 
  <div class="highlight highlight-source-scala">
   <pre>cappi<span class="pl-k">::</span>benchmark</pre>
  </div> 
  <p>Alternatively you can run just a target benchmark with <code>benchmarkOnly</code> providing a fully qualified Benchmark class name.</p> 
  <div class="highlight highlight-source-scala">
   <pre>cappi<span class="pl-k">::</span>benchmarkOnly com.you.<span class="pl-en">YourBenchmark</span></pre>
  </div> 
  <h3><a href="https://github.com/softprops/cappi#caliper-on-your-classpath" aria-hidden="true" class="anchor" id="user-content-caliper-on-your-classpath" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Caliper on your classpath</h3> 
  <p>To run benchmarks, you need to first write benchmarks. To write benchmarks you need caliper on your classpath. To remove the need for you doing this yourself, Cappi will add caliper to your <em>test</em> classpath. This make getting started a much smoother process.</p> 
  <p>To override the calpier version in use, "0.5-rc1" by default, override the <code>caliperVersion</code> setting.</p> 
  <div class="highlight highlight-source-scala">
   <pre>caliperVersion in cappi <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-en">Some</span>(<span class="pl-s"><span class="pl-pds">"</span>custom-version<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>If you do not wish to have Cappi add this to your test classpath for some reason, say your benchmarks are not actually under your test class path. Set the <code>caliperVersion</code> setting to <code>None</code></p> 
  <div class="highlight highlight-source-scala">
   <pre>caliperVersion in cappi <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-c1">None</span></pre>
  </div> 
  <h2><a href="https://github.com/softprops/cappi#props" aria-hidden="true" class="anchor" id="user-content-props" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>props</h2> 
  <p>This plugin continues on the path that <a href="https://github.com/alno/sbt-caliper" target="_blank">this plugin</a> started.</p> 
  <p>Doug Tangren (softprops) 2013</p> 
 </article>
</div>