<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/kamon-io/kamon-scala#scala-integration" aria-hidden="true" class="anchor" id="user-content-scala-integration" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala Integration</h1> 
  <p><a href="https://travis-ci.org/kamon-io/kamon-scala" target="_blank"><img src="https://camo.githubusercontent.com/537e95e32b1bde7737fa0c544326e54fb6d886d2/68747470733a2f2f7472617669732d63692e6f72672f6b616d6f6e2d696f2f6b616d6f6e2d7363616c612e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/kamon-io/kamon-scala.svg?branch=master" style="max-width:100%;"></a> <a href="https://gitter.im/kamon-io/Kamon?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Gitter" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"></a> <a href="https://maven-badges.herokuapp.com/maven-central/io.kamon/kamon-scala_2.11" target="_blank"><img src="https://camo.githubusercontent.com/5c686e4d2bcce016842e112be3562a6a522de8a3/68747470733a2f2f6d6176656e2d6261646765732e6865726f6b756170702e636f6d2f6d6176656e2d63656e7472616c2f696f2e6b616d6f6e2f6b616d6f6e2d7363616c615f322e31312f62616467652e737667" alt="Maven Central" data-canonical-src="https://maven-badges.herokuapp.com/maven-central/io.kamon/kamon-scala_2.11/badge.svg" style="max-width:100%;"></a></p> 
  <h3><a href="https://github.com/kamon-io/kamon-scala#getting-started" aria-hidden="true" class="anchor" id="user-content-getting-started" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting Started</h3> 
  <p>Kamon scala module is currently available for Scala 2.10, 2.11 and 2.12.</p> 
  <p>Supported releases and dependencies are shown below.</p> 
  <table> 
   <thead> 
    <tr> 
     <th align="center">kamon-scala</th> 
     <th align="center">status</th> 
     <th align="center">jdk</th> 
     <th>scala</th> 
     <th align="center">akka</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td align="center">0.6.7</td> 
     <td align="center">stable</td> 
     <td align="center">1.7+, 1.8+</td> 
     <td>2.10, 2.11, 2.12</td> 
     <td align="center">2.3.x, 2.4.x</td> 
    </tr>
   </tbody>
  </table> 
  <p>To get started with SBT, simply add the following to your <code>build.sbt</code> file:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>io.kamon<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>kamon-scala<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.6.7<span class="pl-pds">"</span></span></pre>
  </div> 
  <h2><a href="https://github.com/kamon-io/kamon-scala#automatic-tracecontext-propagation-with-futures" aria-hidden="true" class="anchor" id="user-content-automatic-tracecontext-propagation-with-futures" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Automatic TraceContext Propagation with Futures</h2> 
  <p>The <code>kamon-scala</code> module provides bytecode instrumentation for both Scala, Scalaz and Twitter Futures that automatically propagates the <code>TraceContext</code> across the asynchronous operations that might be scheduled for a given <code>Future</code>.</p> 
  <p>The <b>kamon-scala</b> module require you to start your application using the AspectJ Weaver Agent. Kamon will warn you at startup if you failed to do so.</p> 
  <h3><a href="https://github.com/kamon-io/kamon-scala#futures-body-and-callbacks" aria-hidden="true" class="anchor" id="user-content-futures-body-and-callbacks" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Future's Body and Callbacks</h3> 
  <p>In the following piece of code, the body of the future will be executed asynchronously on some other thread provided by the ExecutionContext available in implicit scope, but Kamon will capture the <code>TraceContext</code> available when the future was created and make it available while executing the future's body.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-en">Tracer</span>.withNewContext(<span class="pl-s"><span class="pl-pds">"</span>sample-trace<span class="pl-pds">"</span></span>) {
    <span class="pl-c"><span class="pl-c">//</span> The same TraceContext available here,</span>

    <span class="pl-en">Future</span> {
      <span class="pl-c"><span class="pl-c">//</span> is available here as well.</span>
      <span class="pl-s"><span class="pl-pds">"</span>Hello Kamon<span class="pl-pds">"</span></span>

    }.map(_.length)
      .flatMap(len <span class="pl-k">=&gt;</span> <span class="pl-en">Future</span>(len.toString))
      .map(s <span class="pl-k">=&gt;</span> <span class="pl-en">Tracer</span>.currentContext)
      .map(println)
      <span class="pl-c"><span class="pl-c">//</span> And through all async callbacks, even while</span>
      <span class="pl-c"><span class="pl-c">//</span> they are executed at different threads!</span>
  }
</pre>
  </div> 
  <p>Also, when you transform a future by using map/flatMap/filter and friends or you directly register a onComplete/onSuccess/onFailure callback on a future, Kamon will capture the <code>TraceContext</code> available when transforming the future and make it available when executing the given callback. The code snippet above would print the same <code>TraceContext</code> that was available when creating the future, during it's body execution and during the execution of all the asynchronous operations scheduled on it.</p> 
 </article>
</div>