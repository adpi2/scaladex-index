<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-influxdb-integration----" class="anchor" href="https://github.com/kamon-io/kamon-influxdb#influxdb-integration----" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>InfluxDB Integration <a href="https://camo.githubusercontent.com/1c3678baf2895c99955013c42b9ddc568f986ed6/68747470733a2f2f7472617669732d63692e6f72672f6b616d6f6e2d696f2f6b616d6f6e2d696e666c757864622e7376673f6272616e63683d6d6173746572" target="_blank"><img src="https://camo.githubusercontent.com/1c3678baf2895c99955013c42b9ddc568f986ed6/68747470733a2f2f7472617669732d63692e6f72672f6b616d6f6e2d696f2f6b616d6f6e2d696e666c757864622e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/kamon-io/kamon-influxdb.svg?branch=master" style="max-width:100%;"></a></h1> 
  <p><a href="https://gitter.im/kamon-io/Kamon?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Gitter" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"></a> <a href="https://maven-badges.herokuapp.com/maven-central/io.kamon/kamon-influxdb_2.11" target="_blank"><img src="https://camo.githubusercontent.com/5b23782c58d0d723aa3824b9d56347c5e9d32c5b/68747470733a2f2f6d6176656e2d6261646765732e6865726f6b756170702e636f6d2f6d6176656e2d63656e7472616c2f696f2e6b616d6f6e2f6b616d6f6e2d696e666c757864625f322e31312f62616467652e737667" alt="Maven Central" data-canonical-src="https://maven-badges.herokuapp.com/maven-central/io.kamon/kamon-influxdb_2.11/badge.svg" style="max-width:100%;"></a></p> 
  <h1><a id="user-content-reporting-metrics-to-influxdb" class="anchor" href="https://github.com/kamon-io/kamon-influxdb#reporting-metrics-to-influxdb" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Reporting Metrics to InfluxDB</h1> 
  <p><a href="https://influxdata.com/time-series-platform/influxdb/" target="_blank">InfluxDB</a> is a high performance open source database for handling time series data. It receives metrics over HTTP or UDP using its own line protocol. It's a high availability and high performance database and provides an excellent backend for monitoring.</p> 
  <h2><a id="user-content-installation" class="anchor" href="https://github.com/kamon-io/kamon-influxdb#installation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Installation</h2> 
  <p>Add the <code>kamon-influxdb</code> dependency to your project and ensure that it is in your classpath at runtime. Kamon's module loader will detect that the InfluxDB module is in the classpath and automatically starts it.</p> 
  <h3><a id="user-content-getting-started" class="anchor" href="https://github.com/kamon-io/kamon-influxdb#getting-started" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting Started</h3> 
  <p>Kamon akka-spm module is currently available for Scala 2.10, 2.11 and 2.12.</p> 
  <p>Supported releases and dependencies are shown below.</p> 
  <table> 
   <thead> 
    <tr> 
     <th align="center">kamon-influxdb</th> 
     <th align="center">status</th> 
     <th align="center">jdk</th> 
     <th>scala</th> 
    </tr> 
   </thead> 
   <tbody> 
    <tr> 
     <td align="center">0.6.5</td> 
     <td align="center">stable</td> 
     <td align="center">1.8+</td> 
     <td>2.10, 2.11, 2.12</td> 
    </tr>
   </tbody>
  </table> 
  <p>To get started with SBT, simply add the following to your <code>build.sbt</code> file:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>io.kamon<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>kamon-influxdb<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.6.5<span class="pl-pds">"</span></span></pre>
  </div> 
  <h2><a id="user-content-configuration" class="anchor" href="https://github.com/kamon-io/kamon-influxdb#configuration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Configuration</h2> 
  <p>At the very basic level, you will certainly want to use the <code>kamon.influxdb.hostname</code> and <code>kamon.influxdb.port</code> configuration keys to ensure your data is being sent to wherever your InfluxDB database is running. Additionally to that, you can configure the metric categories to which this module will subscribe using the <code>kamon.influxdb.subscriptions</code> key. By default, the following subscriptions are included:</p> 
  <pre><code class="language-typesafeconfig">kamon.influxdb {
  subscriptions {
    histogram       = [ "**" ]
    min-max-counter = [ "**" ]
    gauge           = [ "**" ]
    counter         = [ "**" ]
    trace           = [ "**" ]
    trace-segment   = [ "**" ]
    akka-actor      = [ "**" ]
    akka-dispatcher = [ "**" ]
    akka-router     = [ "**" ]
    system-metric   = [ "**" ]
    http-server     = [ "**" ]
  }
}
</code></pre> 
  <p>By default, the module sends data to InfluxDB through its HTTP interface. While the HTTP instance has a richer API compared to UDP, it is much slower to send data through it. It is possible to optimize the sends by setting a higher <code>kamon.influxdb.max-packet-size</code>, the default is 16 kB.</p> 
  <p>Using the HTTP protocol it's possible to define the database where the data is stored. You can change the value by modifying the <code>kamon.influxdb.database</code> configuration. With UDP this setting has to be done in the InfluxDB configuration. To switch the protocol, change the <code>kamon.influxdb.protocol</code> to <code>udp</code>.</p> 
  <p>If the server requires authentication, define the write user and password by setting the values for <code>kamon.influxdb.authentication.user</code> and <code>kamon.influxdb.authentication.password</code>. The retention policy can be defined by changing the <code>kamon.influxdb.authentication.retention-policy</code>. When using UDP, change these values from InfluxDB configuration.</p> 
  <h3><a id="user-content-metric-key-generators" class="anchor" href="https://github.com/kamon-io/kamon-influxdb#metric-key-generators" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Metric Key Generators</h3> 
  <p>The <code>kamon.influxdb.application-name</code> affects to the measurement names stored in InfluxDB. By default, the value is <code>kamon</code>. The data is stored into two measurements in the selected database: <code>kamon-counters</code> and <code>kamon-timers</code>, where <code>kamon</code> is replaced by the chosen <code>application-name</code>. The measurements are sent with the following tags:</p> 
  <ul> 
   <li><strong>category</strong>: The entity's category.</li> 
   <li><strong>entity</strong>: The entity's name.</li> 
   <li><strong>metric</strong>: The metric name assigned in the entity recorder.</li> 
   <li><strong>hostname</strong>: Uses the local host name or <code>kamon.influxdb.hostname-override</code>, if given.</li> 
  </ul> 
  <p>The counter metrics store their current value to the <code>value</code> field. For histograms, the following fields are stored:</p> 
  <ul> 
   <li><strong>lower</strong>: The lowest value.</li> 
   <li><strong>mean</strong>: The average value.</li> 
   <li><strong>upper</strong>: The highest value.</li> 
  </ul> 
  <p>Additionally, it's possible to define the percentiles to be stored to InfluxDB for every tick. To change these, modify the <code>kamon.influxdb.percentiles</code> configuration. Default percentiles are <code>[50.0, 70.0, 90.0, 95.0, 99.0, 99.9]</code>. For example, the configuration could be <code>[50.0, 70.5, 90.0]</code>, so the following fields would be stored:</p> 
  <ul> 
   <li><strong>p50</strong>: 50th percentile</li> 
   <li><strong>p70.5</strong>: 70.5th percentile</li> 
   <li><strong>p90</strong>: 90th percentile</li> 
  </ul> 
  <h2><a id="user-content-using-the-influxdb-data" class="anchor" href="https://github.com/kamon-io/kamon-influxdb#using-the-influxdb-data" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Using the InfluxDB data</h2> 
  <p>InfluxDB is a fast, powerful and reliable database. The stored measurements can be queried using an SQL-like language. There are many good interfaces for visualizing the data, including <a href="http://grafana.org" target="_blank">Grafana</a> and <a href="https://influxdata.com/time-series-platform/chronograf/" target="_blank">Chronograf</a>. InfluxDB can handle huge amounts of data and scales easily with your project. It is very fast even with large datasets, resulting fast and beautiful dashboards for monitoring.</p> 
 </article>
</div>