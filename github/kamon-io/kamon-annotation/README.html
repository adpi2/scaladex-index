<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/kamon-io/kamon-annotation#annotation-module-" aria-hidden="true" class="anchor" id="user-content-annotation-module-" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Annotation Module <a href="https://camo.githubusercontent.com/e5ae752675e5ff729d8535ff2a16a9821163f41c/68747470733a2f2f7472617669732d63692e6f72672f6b616d6f6e2d696f2f6b616d6f6e2d616e6e6f746174696f6e2e7376673f6272616e63683d6d6173746572" target="_blank"><img src="https://camo.githubusercontent.com/e5ae752675e5ff729d8535ff2a16a9821163f41c/68747470733a2f2f7472617669732d63692e6f72672f6b616d6f6e2d696f2f6b616d6f6e2d616e6e6f746174696f6e2e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/kamon-io/kamon-annotation.svg?branch=master" style="max-width:100%;"></a></h1> 
  <p><a href="https://gitter.im/kamon-io/Kamon?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Gitter" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"></a></p> 
  <p><em><strong>kamon-annotation</strong></em> <a href="https://maven-badges.herokuapp.com/maven-central/io.kamon/kamon-annotation_2.11" target="_blank"><img src="https://camo.githubusercontent.com/9a084bac5e3fa31d6890ce8052250b0602c235da/68747470733a2f2f6d6176656e2d6261646765732e6865726f6b756170702e636f6d2f6d6176656e2d63656e7472616c2f696f2e6b616d6f6e2f6b616d6f6e2d706c61792d32355f322e31312f62616467652e737667" alt="Maven Central" data-canonical-src="https://maven-badges.herokuapp.com/maven-central/io.kamon/kamon-play-25_2.11/badge.svg" style="max-width:100%;"></a></p> 
  <p>The Annotation module provides a set of annotations that allow you to easily integrate Kamon's metrics and tracing facilities with your application.</p> 
  <p>The <b>kamon-annotation</b> module require you to start your application using the AspectJ Weaver Agent. Kamon will warn you at startup if you failed to do so.</p> 
  <h2><a href="https://github.com/kamon-io/kamon-annotation#enabling-annotation-support" aria-hidden="true" class="anchor" id="user-content-enabling-annotation-support" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Enabling Annotation Support</h2> 
  <p>Besides starting your application with the AspectJ Weaver Agent, there are two additional steps required to use annotations. First you must add the <code>@EnableKamon</code> annotation to the classes you would like to be scanned for any of the provided annotations, otherwise the rest of the annotations described bellow wont be able to work at all.</p> 
  <h2><a href="https://github.com/kamon-io/kamon-annotation#manipulating-traces-and-segments" aria-hidden="true" class="anchor" id="user-content-manipulating-traces-and-segments" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Manipulating Traces and Segments</h2> 
  <p>Delimiting traces and segments are one of the most basic tasks you would want to perform to start monitoring your application using Kamon, and the <code>@Trace</code> and <code>@Segment</code> annotations allow you to do just that:</p> 
  <ul> 
   <li><strong>@Trace</strong>: when a method is marked with this annotation a new <a href="https://github.com/kamon-io/kamon-annotation/blob/master/core/tracing/core-concepts/#the-tracecontext" target="_blank">Trace</a> will be started every time the method is called and automatically finished once the method returns. Also, the generated <code>TraceContext</code> becomes the current context while the method is executing, making it possible to propagate it at will.</li> 
   <li><strong>@Segment</strong>: when a method is marked with this annotation a new <a href="https://github.com/kamon-io/kamon-annotation/blob/master/core/tracing/core-concepts/#trace-segments" target="_blank">Segment</a> will be created only if there is a current <code>TraceContext</code> while the annotated method is called.</li> 
  </ul> 
  <h2><a href="https://github.com/kamon-io/kamon-annotation#manipulating-instruments" aria-hidden="true" class="anchor" id="user-content-manipulating-instruments" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Manipulating Instruments</h2> 
  <p>Additionally to manipulating traces and segments, the <code>kamon-annotation</code> module provides annotations that can be used to create Counters, Histograms and MinMaxCounters that are automatically updated as the annotated methods execute. These annotations are:</p> 
  <ul> 
   <li> <p><strong>@Time</strong>: when a method is marked with this annotation Kamon will create a Histogram tracking the latency of each invocation to the method. Please keep in mind that in most situations you might want to use <code>@Segment</code> if you are tracking some functionality that is executed within a trace.</p> </li> 
   <li> <p><strong>@Histogram</strong>: when a method is marked with this annotation Kamon will create a Histogram that stores the values returned every time the method is invoked. Obviously, only methods returning numeric values are accepted.</p> </li> 
   <li> <p><strong>@Count</strong>: when a method is marked with this annotation Kamon will be create a Counter and automatically increment it every time the method is invoked.</p> </li> 
   <li> <p><strong>@MinMaxCount</strong>: when a method is marked with this annotation Kamon will be create a MinMaxCounter and automatically increment it every time method is invoked and decremented when the method returns.</p> </li> 
  </ul> 
  <h3><a href="https://github.com/kamon-io/kamon-annotation#el-expression-support" aria-hidden="true" class="anchor" id="user-content-el-expression-support" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>EL Expression Support</h3> 
  <p>The <code>name</code> and <code>tags</code> properties are evaluated as <a href="https://jcp.org/en/jsr/detail?id=341" target="_blank">EL</a> expressions for all annotations that manipulate instruments.</p> 
  <h2><a href="https://github.com/kamon-io/kamon-annotation#limitations" aria-hidden="true" class="anchor" id="user-content-limitations" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Limitations</h2> 
  <p>Annotations are not inherited, regardless of them being declared on a parent class or an implemented interface method. The root causes of that limitation, according to the <a href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-9.html#jls-9.6" target="_blank">JLS</a>, are:</p> 
  <ul> 
   <li>Non-type annotations are not inherited,</li> 
   <li>Annotations on types are only inherited if they have the <strong>@Inherited</strong> meta-annotation,</li> 
   <li>Annotations on interfaces are not inherited irrespective to having the <strong>@Inherited</strong> meta-annotation.</li> 
  </ul> 
 </article>
</div>