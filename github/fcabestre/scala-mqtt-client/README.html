<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-a-scala-mqtt-client-library--" class="anchor" href="https://github.com/fcabestre/scala-mqtt-client#a-scala-mqtt-client-library--" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>A Scala MQTT client library <a href="https://travis-ci.org/fcabestre/Scala-MQTT-client" target="_blank"><img src="https://camo.githubusercontent.com/389e3cfe7ad561a7f2e72d9f8b7c183ac514dc28/68747470733a2f2f7472617669732d63692e6f72672f6663616265737472652f5363616c612d4d5154542d636c69656e742e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/fcabestre/Scala-MQTT-client.svg?branch=master" style="max-width:100%;"></a> <a href="https://coveralls.io/r/fcabestre/Scala-MQTT-client?branch=master" target="_blank"><img src="https://camo.githubusercontent.com/3753fd6492f8f4b4b6f0b4f2b2419033750b1050/68747470733a2f2f636f766572616c6c732e696f2f7265706f732f6663616265737472652f5363616c612d4d5154542d636c69656e742f62616467652e706e673f6272616e63683d6d6173746572" alt="Coverage Status" data-canonical-src="https://coveralls.io/repos/fcabestre/Scala-MQTT-client/badge.png?branch=master" style="max-width:100%;"></a></h1> 
  <h2><a id="user-content-in-the-beginning" class="anchor" href="https://github.com/fcabestre/scala-mqtt-client#in-the-beginning" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>In the beginning...</h2> 
  <p>I wanted to build a presentation of <a href="http://akka.io" target="_blank">Akka</a>. But not just a deck of slides, I wanted something to live-code with, something backed by real hardware. Maybe a Raspberry Pi. I imagined the small devices sending messages to an MQTT broker, probably <a href="http://mosquitto.org" target="_blank">Mosquitto</a>.</p> 
  <p>To this purpose, I looked for an MQTT library which I could use with Scala, but those I found were only Java based. I thought: "Could be fun to implement the MQTT protocol directly with <a href="http://doc.akka.io/docs/akka/snapshot/scala/io.html" target="_blank">Akka IO</a>. Its <a href="http://public.dhe.ibm.com/software/dw/webservices/ws-mqtt/mqtt-v3r1.html" target="_blank">specification</a> is rather short (around 42 printed pages)".</p> 
  <p>And quickly, when I came to look at how to encode/decode MQTT protocol frames, I stumbled upon <a href="http://typelevel.org/projects/scodec" target="_blank">Scodec</a>. This seemed to be the encoding/decoding framework I was waiting for a long time. So I decided to give it a try...</p> 
  <h2><a id="user-content-and-now" class="anchor" href="https://github.com/fcabestre/scala-mqtt-client#and-now" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>And now</h2> 
  <p>I have a basic and far from complete implementation of the thing. Frame encoding and decoding works pretty well, and it's possible to write some code to talk to <a href="http://mosquitto.org" target="_blank">Mosquitto</a>. For examples you can have a look to the <a href="https://github.com/fcabestre/Scala-MQTT-client/blob/master/examples/src/main/scala/net/sigusr/mqtt/examples/LocalSubscriber.scala" target="_blank">local subscriber</a> or the <a href="https://github.com/fcabestre/Scala-MQTT-client/blob/master/examples/src/main/scala/net/sigusr/mqtt/examples/LocalPublisher.scala" target="_blank">local publisher</a>. I'm starting to take it a bit more seriously. I mean, thinking of doing something that could be useful to others. But there is still a lot of work to be done:</p> 
  <ul> 
   <li>Learning how other MQTT APIs are organised to polish this one</li> 
   <li>Managing communication back pressure with <a href="http://doc.akka.io/docs/akka/snapshot/scala/io.html" target="_blank">Akka IO</a></li> 
   <li>Supporting both MQTT v3.1 and v3.1.1</li> 
   <li>If I dare, passing <a href="http://www.eclipse.org/paho/clients/testing/" target="_blank">Paho</a> conformance tests</li> 
   <li>And many, many, many more I can't foresee...</li> 
  </ul> 
  <h2><a id="user-content-releases" class="anchor" href="https://github.com/fcabestre/scala-mqtt-client#releases" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Releases</h2> 
  <p>Artifacts are available at <a href="https://oss.sonatype.org/index.html#nexus-search;quick%7Escala-mqtt-client" target="_blank">Sonatype OSS Repository Hosting service</a>, even the <code>SNAPSHOTS</code> automatically built by <a href="https://travis-ci.org/fcabestre/Scala-MQTT-client/" target="_blank">Travis CI</a>. To include the Sonatype repositories in your SBT build you should add,</p> 
  <div class="highlight highlight-source-scala">
   <pre>resolvers <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
    <span class="pl-en">Resolver</span>.sonatypeRepo(<span class="pl-s"><span class="pl-pds">"</span>releases<span class="pl-pds">"</span></span>),
    <span class="pl-en">Resolver</span>.sonatypeRepo(<span class="pl-s"><span class="pl-pds">"</span>snapshots<span class="pl-pds">"</span></span>)
)</pre>
  </div> 
  <p>In case you want to easily give a try to this library, without the burden of adding resolvers, there is a release synced to Maven Central. In this case just add,</p> 
  <div class="highlight highlight-source-scala">
   <pre>scalaVersion <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>2.11.6<span class="pl-pds">"</span></span>

libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
    <span class="pl-s"><span class="pl-pds">"</span>net.sigusr<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>scala-mqtt-client<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.7.0-SNAPSHOT<span class="pl-pds">"</span></span>
)</pre>
  </div> 
  <h2><a id="user-content-dependencies" class="anchor" href="https://github.com/fcabestre/scala-mqtt-client#dependencies" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Dependencies</h2> 
  <ul> 
   <li>Scala 2.11.8</li> 
   <li>Akka 2.4.7</li> 
   <li>Akka Streams 2.4.7</li> 
   <li>scodec-core 1.10.0</li> 
   <li>Scalaz 7.2.3</li> 
  </ul> 
  <h2><a id="user-content-license" class="anchor" href="https://github.com/fcabestre/scala-mqtt-client#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>This work is licenced under an <a href="http://github.com/fcabestre/Scala-MQTT-client/blob/master/LICENSE" target="_blank">Apache Version 2.0 license</a></p> 
 </article>
</div>