<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-metrics-plugin-for-play-framework-2" class="anchor" href="https://github.com/sdb/play2-metrics#metrics-plugin-for-play-framework-2" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Metrics plugin for Play Framework 2</h1> 
  <p>This plugin makes it easier to use <a href="http://metrics.codahale.com" target="_blank">Coda Hale Metrics</a> in a <a href="http://www.playframework.com" target="_blank">Play 2</a> application by providing a mechanism to configure metrics reporting using Play's default configuration support.</p> 
  <h2><a id="user-content-installation" class="anchor" href="https://github.com/sdb/play2-metrics#installation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Installation</h2> 
  <p>Add the following dependencies to use Coda Hale Metrics in your project:</p> 
  <pre><code>"com.yammer.metrics" % "metrics-core" % "2.2.0"
"nl.grons" %% "metrics-scala" % "2.2.0"
</code></pre> 
  <p>Add the following dependency to use this plugin:</p> 
  <pre><code>libraryDependencies += "com.github.sdb" %% "play2-metrics" % "0.1.0"
</code></pre> 
  <p>Or, if you want to use a snapshot version:</p> 
  <pre><code>resolvers += "Sonatype snapshots" at "http://oss.sonatype.org/content/repositories/snapshots/"

libraryDependencies += "com.github.sdb" %% "play2-metrics" % "0.1.0-SNAPSHOT"
</code></pre> 
  <p>Register the plugin by adding it to <code>conf/play.plugins</code>:</p> 
  <pre><code>100:com.github.sdb.play2.metrics.MetricsPlugin
</code></pre> 
  <h2><a id="user-content-configuration" class="anchor" href="https://github.com/sdb/play2-metrics#configuration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Configuration</h2> 
  <h3><a id="user-content-defaults" class="anchor" href="https://github.com/sdb/play2-metrics#defaults" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Defaults</h3> 
  <p>This is the default configuration used by this plugin (see <code>conf/reference.conf</code>):</p> 
  <pre><code>metrics {
    reporting {
        console {
            enabled = false
            period = 1
            unit = MINUTES
        }

        csv {
            enabled = false
            period = 1
            unit = MINUTES
            output = "."
        }

        graphite {
            enabled = false
            period = 1
            unit = MINUTES
            host = localhost
            port = 2003
        }

        ganglia {
            enabled = false
            period = 1
            unit = MINUTES
            host = localhost
            port = 8649
        }
    }
}
</code></pre> 
  <h3><a id="user-content-reporting-configuration" class="anchor" href="https://github.com/sdb/play2-metrics#reporting-configuration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Reporting Configuration</h3> 
  <h4><a id="user-content-reporting-to-graphite" class="anchor" href="https://github.com/sdb/play2-metrics#reporting-to-graphite" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Reporting to Graphite</h4> 
  <p>Add the following dependency if you want to send metrics to a Graphite instance:</p> 
  <pre><code>"com.yammer.metrics" % "metrics-graphite" % "2.2.0"
</code></pre> 
  <p>Example configuration for reporting metrics to Graphite:</p> 
  <pre><code>metrics {
    reporting {
        graphite {
            enabled = true
            period = 1
            unit = MINUTES
            host = carbon.hostedgraphite.com
            port = 2003
            prefix = "apikey"
        }
    }
}
</code></pre> 
  <h4><a id="user-content-reporting-to-console" class="anchor" href="https://github.com/sdb/play2-metrics#reporting-to-console" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Reporting to Console</h4> 
  <p>Example configuration for reporting metrics to the console:</p> 
  <pre><code>metrics {
    reporting {
        console {
            enabled = true
            period = 1
            unit = MINUTES
        }
    }
}
</code></pre> 
  <h2><a id="user-content-configuration-on-heroku" class="anchor" href="https://github.com/sdb/play2-metrics#configuration-on-heroku" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Configuration on Heroku</h2> 
  <p>When deploying on Heroku you can use the <a href="https://addons.heroku.com/hostedgraphite" target="_blank">Hosted Graphite</a> add-on for your metrics. You should add the following system properties to the <code>Procfile</code>:</p> 
  <ul> 
   <li><code>metrics.reporting.graphite.enabled</code>: should be set to <code>true</code></li> 
   <li><code>metrics.reporting.graphite.host</code>: should be set to <code>carbon.hostedgraphite.com</code></li> 
   <li><code>metrics.reporting.graphite.prefix</code>: should be set to the apikey for Hosted Graphite</li> 
  </ul> 
  <p>An example <code>Procfile</code>:</p> 
  <pre><code>web: target/start -Dhttp.port=$PORT -Dmetrics.reporting.graphite.enabled=true -Dmetrics.reporting.graphite.host=carbon.hostedgraphite.com -Dmetrics.reporting.graphite.prefix=$HOSTEDGRAPHITE_APIKEY $JAVA_OPTS
</code></pre> 
  <h2><a id="user-content-compatibility" class="anchor" href="https://github.com/sdb/play2-metrics#compatibility" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Compatibility</h2> 
  <table>
   <thead> 
    <tr> 
     <th>play2-metrics</th> 
     <th>Play</th> 
     <th>Metrics</th> 
    </tr> 
   </thead>
   <tbody> 
    <tr> 
     <td>0.1.0</td> 
     <td>2.1.0</td> 
     <td>2.2.0</td> 
    </tr> 
   </tbody>
  </table> 
  <h2><a id="user-content-licence" class="anchor" href="https://github.com/sdb/play2-metrics#licence" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Licence</h2> 
  <p>This software is licensed under the Apache 2 license, quoted below.</p> 
  <p>Copyright 2013 Stefan De Boey</p> 
  <p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this project except in compliance with the License. You may obtain a copy of the License at <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">http://www.apache.org/licenses/LICENSE-2.0</a>.</p> 
  <p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p> 
 </article>
</div>