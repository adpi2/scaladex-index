<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-creg" class="anchor" href="https://github.com/yfcai/creg#creg" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>CREG</h1> 
  <p>First-<strong>C</strong>lass <strong>Reg</strong>ular Functors</p> 
  <p>by <a href="http://ps.informatik.uni-tuebingen.de/research/functors/" target="_blank">Yufei Cai et al.</a></p> 
  <h4><a id="user-content-installation" class="anchor" href="https://github.com/yfcai/creg#installation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Installation</h4> 
  <ol> 
   <li><p>Download and install <a href="http://www.scala-sbt.org/" target="_blank">simple-build-tool</a>.</p></li> 
   <li><p>Create a project directory with the following <code>build.sbt</code>:</p> 
    <div class="highlight highlight-source-scala">
     <pre>scalaVersion <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>2.11.3<span class="pl-pds">"</span></span>

resolvers <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-en">Resolver</span>.sonatypeRepo(<span class="pl-s"><span class="pl-pds">"</span>releases<span class="pl-pds">"</span></span>),
  <span class="pl-en">Resolver</span>.sonatypeRepo(<span class="pl-s"><span class="pl-pds">"</span>snapshots<span class="pl-pds">"</span></span>)
)

libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-s"><span class="pl-pds">"</span>com.github.yfcai<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>creg<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.1.2<span class="pl-pds">"</span></span>,
  compilerPlugin(<span class="pl-s"><span class="pl-pds">"</span>org.scalamacros<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>paradise_2.11.3<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>2.1.0-M5<span class="pl-pds">"</span></span>)
)</pre>
    </div></li> 
  </ol> 
  <h4><a id="user-content-usage-example" class="anchor" href="https://github.com/yfcai/creg#usage-example" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage example</h4> 
  <p>Suppose there is a correct <code>build.sbt</code> in the current directory.</p> 
  <div class="highlight highlight-source-scala">
   <pre>[demo]$ sbt
[info] <span class="pl-en">Loading</span> global plugins from $<span class="pl-en">HOME</span><span class="pl-k">/</span>.sbt<span class="pl-k">/</span><span class="pl-c1">0.13</span><span class="pl-k">/</span>plugins
[info] <span class="pl-en">Set</span> current project to demo (in build file<span class="pl-k">:</span>$<span class="pl-en">HOME</span><span class="pl-k">/</span>demo<span class="pl-k">/</span>)
<span class="pl-k">&gt;</span> console
[info] <span class="pl-en">Updating</span> {file<span class="pl-k">:</span>$<span class="pl-en">HOME</span><span class="pl-k">/</span>demo<span class="pl-k">/</span>}demo...
[info] <span class="pl-en">Resolving</span> jline#jline;<span class="pl-c1">2.12</span> ...
[info] downloading https<span class="pl-k">:</span><span class="pl-c">//oss.sonatype.org/content/repositories/releases/com/github/yfcai/creg_2.11/0.1.2/creg_2.11-0.1.2.jar ...</span>
[info]  [<span class="pl-en">SUCCESSFUL</span> ] com.github.yfcai#creg_2<span class="pl-c1">.11</span>;<span class="pl-c1">0.1.2</span><span class="pl-k">!</span>creg_2<span class="pl-c1">.11</span>.jar (1548ms)
[info] <span class="pl-en">Done</span> updating.
[info] <span class="pl-en">Starting</span> scala interpreter...
[info]
<span class="pl-en">Welcome</span> to <span class="pl-en">Scala</span> version <span class="pl-c1">2.11.3</span> (<span class="pl-en">Java</span> <span class="pl-en">HotSpot</span>(<span class="pl-en">TM</span>) <span class="pl-c1">64</span><span class="pl-k">-</span><span class="pl-en">Bit</span> <span class="pl-en">Server</span> <span class="pl-en">VM</span>, <span class="pl-en">Java</span> <span class="pl-c1">1.7</span>.0_71).
<span class="pl-en">Type</span> in expressions to have them evaluated.
<span class="pl-en">Type</span> <span class="pl-k">:</span>help <span class="pl-k">for</span> more information.

scala<span class="pl-k">&gt;</span> <span class="pl-k">import</span> <span class="pl-v">creg.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">creg.</span><span class="pl-v">_</span>

scala<span class="pl-k">&gt;</span> <span class="pl-k">@</span>data <span class="pl-k">def</span> <span class="pl-en">List</span>[<span class="pl-en">A</span>] <span class="pl-k">=</span> <span class="pl-en">Fix</span>(<span class="pl-en">L</span> <span class="pl-k">=&gt;</span> <span class="pl-en">ListT</span> { <span class="pl-c1">Nil</span> ; <span class="pl-en">Cons</span>(head <span class="pl-k">=</span> <span class="pl-en">A</span>, tail <span class="pl-k">=</span> <span class="pl-en">L</span>) })
<span class="pl-k">import</span> <span class="pl-v">_root_.scala.language.</span><span class="pl-v">higherKinds</span>
<span class="pl-k">import</span> <span class="pl-v">_root_.scala.language.</span><span class="pl-v">implicitConversions</span>
defined <span class="pl-k">trait</span> <span class="pl-en">ListT</span>
defined <span class="pl-k">trait</span> <span class="pl-en">Nil</span>
defined <span class="pl-k">object</span> <span class="pl-en">Nil</span>
defined <span class="pl-k">class</span> <span class="pl-en">Cons</span>
defined <span class="pl-k">object</span> <span class="pl-en">Cons</span>
defined <span class="pl-k">object</span> <span class="pl-en">ListT</span>
defined <span class="pl-k">type</span> <span class="pl-en">alias</span> <span class="pl-en">List</span>
defined <span class="pl-k">type</span> <span class="pl-en">alias</span> <span class="pl-en">ListF</span>

scala<span class="pl-k">&gt;</span> <span class="pl-k">val</span> <span class="pl-en">xs</span><span class="pl-k">:</span> <span class="pl-en">List</span>[<span class="pl-k">Int</span>] <span class="pl-k">=</span> coerce { <span class="pl-en">Cons</span>(<span class="pl-c1">1</span>, <span class="pl-en">Cons</span>(<span class="pl-c1">2</span>, <span class="pl-en">Cons</span>(<span class="pl-c1">3</span>, <span class="pl-en">Cons</span>(<span class="pl-c1">4</span>, <span class="pl-c1">Nil</span>)))) }
xs<span class="pl-k">:</span> <span class="pl-en">List</span>[<span class="pl-k">Int</span>] <span class="pl-k">=</span> <span class="pl-en">Roll</span>(<span class="pl-en">Cons</span>(<span class="pl-c1">1</span>,<span class="pl-en">Roll</span>(<span class="pl-en">Cons</span>(<span class="pl-c1">2</span>,<span class="pl-en">Roll</span>(<span class="pl-en">Cons</span>(<span class="pl-c1">3</span>,<span class="pl-en">Roll</span>(<span class="pl-en">Cons</span>(<span class="pl-c1">4</span>,<span class="pl-en">Roll</span>(<span class="pl-c1">Nil</span>)))))))))

scala<span class="pl-k">&gt;</span> <span class="pl-k">@</span>functor <span class="pl-k">def</span> <span class="pl-en">elemF</span>[<span class="pl-en">A</span>] <span class="pl-k">=</span> <span class="pl-en">Fix</span>(<span class="pl-en">L</span> <span class="pl-k">=&gt;</span> <span class="pl-en">ListT</span> { <span class="pl-c1">Nil</span> ; <span class="pl-en">Cons</span>(head <span class="pl-k">=</span> <span class="pl-en">A</span>, tail <span class="pl-k">=</span> <span class="pl-en">L</span>) })
elemF<span class="pl-k">:</span> creg.lib.traversable.<span class="pl-en">Traversable</span>{...}


scala<span class="pl-k">&gt;</span> elemF(xs) map (_ <span class="pl-k">*</span> <span class="pl-c1">2</span>)
res0<span class="pl-k">:</span> elemF.<span class="pl-en">Map</span>[<span class="pl-k">Int</span>] <span class="pl-k">=</span> <span class="pl-en">Roll</span>(<span class="pl-en">Cons</span>(<span class="pl-c1">2</span>,<span class="pl-en">Roll</span>(<span class="pl-en">Cons</span>(<span class="pl-c1">4</span>,<span class="pl-en">Roll</span>(<span class="pl-en">Cons</span>(<span class="pl-c1">6</span>,<span class="pl-en">Roll</span>(<span class="pl-en">Cons</span>(<span class="pl-c1">8</span>,<span class="pl-en">Roll</span>(<span class="pl-c1">Nil</span>)))))))))

scala<span class="pl-k">&gt;</span> elemF(xs) reduce (<span class="pl-c1">0</span>, _ <span class="pl-k">+</span> _)
res1<span class="pl-k">:</span> <span class="pl-k">Int</span> <span class="pl-k">=</span> <span class="pl-c1">10</span></pre>
  </div> 
  <h4><a id="user-content-documentation" class="anchor" href="https://github.com/yfcai/creg#documentation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Documentation</h4> 
  <p>The <a href="http://yfcai.github.io/CREG/macros/target/scala-2.11/api/index.html#creg.package" target="_blank">documentation</a> is a work in progress.</p> 
  <h4><a id="user-content-navigation" class="anchor" href="https://github.com/yfcai/creg#navigation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Navigation</h4> 
  <p>There are various interesting usage <a href="https://github.com/yfcai/creg/blob/master/example/" target="_blank">examples</a>. <a href="https://github.com/yfcai/creg/blob/master/example/Banana.scala" target="_blank">Banana</a> is a good starting point for innocent people, and <a href="https://github.com/yfcai/creg/blob/master/example/TyrannyOfTheDominantFunctor.scala" target="_blank">Tyranny</a> is a good starting point for those who have access to our unpublished super secret manuscript.</p> 
  <p>The interfaces <a href="https://github.com/yfcai/creg/blob/master/generator/target/scala-2.11/src_managed/test/Functors.scala" target="_blank">Functor</a>, <a href="https://github.com/yfcai/creg/blob/master/generator/target/scala-2.11/src_managed/test/Applicative.scala" target="_blank">Applicative</a>, <a href="https://github.com/yfcai/creg/blob/master/generator/target/scala-2.11/src_managed/test/Traversable.scala" target="_blank">Traversable</a> and <a href="https://github.com/yfcai/creg/blob/master/generator/target/scala-2.11/src_managed/test/Fix.scala" target="_blank">Fix</a> are generated. They can be found in the folder for <a href="https://github.com/yfcai/creg/blob/master/generator/target/scala-2.11/src_managed/test" target="_blank">managed source files</a>.</p> 
  <h4><a id="user-content-plan" class="anchor" href="https://github.com/yfcai/creg#plan" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Plan</h4> 
  <ol> 
   <li><p>Document <a href="https://github.com/yfcai/creg/blob/master/example/" target="_blank">examples</a> better.</p></li> 
   <li><p>Document <a href="https://github.com/yfcai/creg/blob/master/macros" target="_blank">implementation</a> better.</p></li> 
   <li><p>Improve error messages.</p></li> 
  </ol> 
 </article>
</div>