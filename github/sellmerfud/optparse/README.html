<div class="announce instapaper_body markdown" data-path="README.markdown" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h2><a id="user-content-overview" class="anchor" href="https://github.com/sellmerfud/optparse#overview" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Overview##</h2> 
  <p>OptionParser is a class that handles the parsing of switches and arguments on the command line. It is based on the Ruby OptionParser class that is part of the standard Ruby library. It supports POSIX style short option switches as well as GNU style long option switches. By using closures when defining command line switches your code becomes much easier to write and maintain.</p> 
  <h2><a id="user-content-maven-information" class="anchor" href="https://github.com/sellmerfud/optparse#maven-information" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Maven Information</h2> 
  <pre><code>groupId:     org.sellmerfud
artifactId:  optparse_2.11
version:     2.1
-- or --
artifactId:  optparse_2.10, optparse_2.9.2
version:     2.0
</code></pre> 
  <h2><a id="user-content-sbt-configuration" class="anchor" href="https://github.com/sellmerfud/optparse#sbt-configuration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Sbt Configuration</h2> 
  <pre><code>libraryDependencies += "org.sellmerfud" % "optparse_2.11" % "2.1"
-- or --
libraryDependencies += "org.sellmerfud" % "optparse_2.10" % "2.0"
-- or --
libraryDependencies += "org.sellmerfud" % "optparse_2.9.2" % "2.0"

// And if Sonatype isn't in your list of resolvers, for some reason:
resolvers += "Sonatype Nexus releases" at "https://oss.sonatype.org/content/repositories/releases"
</code></pre> 
  <h2><a id="user-content-earlier-versions" class="anchor" href="https://github.com/sellmerfud/optparse#earlier-versions" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Earlier Versions</h2> 
  <p>If you are using version 1.0 of this library <a href="https://github.com/sellmerfud/optparse/blob/master/README-1.0.markdown" target="_blank">click here to see the README</a> for that version. The api in version 2.0 has changed and is not code compatible with version 1.0. Also the master branch is built against Scala 2.10 and is not compatible with earlier versions of Scala. If you are using a Scala version prior to 2.9.2, then use the 1.0 version of this library.</p> 
  <h2><a id="user-content-features" class="anchor" href="https://github.com/sellmerfud/optparse#features" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Features</h2> 
  <ul> 
   <li>The switch specification and the code to handle it are written in the same place.</li> 
   <li>Automatically formats a help summary.</li> 
   <li>Supports both short (-q) and long (--quiet) switches.</li> 
   <li>Long switch names can be abbreviated on the command line.</li> 
   <li>Switch arguments are fully typed so your code does not have to parse and convert them.</li> 
   <li>Switch arguments can be restricted to a set of valid values.</li> 
   <li>You can easily define your own argument parsers and/or replace the default ones.</li> 
   <li>Complete ScalaDoc documentation.</li> 
   <li>Full set of unit tests.</li> 
  </ul> 
  <h2><a id="user-content-configuration-class" class="anchor" href="https://github.com/sellmerfud/optparse#configuration-class" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Configuration Class</h2> 
  <p>The OptionParser class has a single type parameter. This type parameter specifies the configuration class that your code will use to aggregate the command line switches and arguments. Each time a command line switch or argument is processed a function is called with your configuration class. The function should modify the configuration class or preferably construct a new immutable instance of the class and return it. The command line parser will return the configuration class upon successfully parsing the command line.</p> 
  <h2><a id="user-content-defining-switches" class="anchor" href="https://github.com/sellmerfud/optparse#defining-switches" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Defining Switches</h2> 
  <p>You define a switch by supplying its name(s), description, and a function that will be called each time the switch is detected in the list of command line arguments. Your function has the type <code>{ (value: T, cfg: C) =&gt; C }</code>. You supply the type for <code>T</code> and the framework will select the appropriate parser and call your function with the value converted to your expected type. The type <code>C</code> is your configuration class that was specified when the OptionParser was instantiated.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Config</span>(<span class="pl-v">revision</span>: <span class="pl-k">Int</span> <span class="pl-k">=</span> <span class="pl-c1">0</span>, <span class="pl-v">args</span>: <span class="pl-en">Vector</span>[<span class="pl-k">String</span>] <span class="pl-k">=</span> <span class="pl-en">Vector</span>.empty)
<span class="pl-k">val</span> <span class="pl-en">cli</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">OptionParser</span>[<span class="pl-en">Config</span>] {
  reqd[<span class="pl-k">Int</span>](<span class="pl-s"><span class="pl-pds">"</span>-r<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>--revision NUM<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Choose revision<span class="pl-pds">"</span></span>) { (value, cfg) <span class="pl-k">=&gt;</span> cfg.copy(revision <span class="pl-k">=</span> value) }
  arg[<span class="pl-k">String</span>] { (arg, cfg) <span class="pl-k">=&gt;</span> cfg.copy(args <span class="pl-k">=</span> cfg.args <span class="pl-k">:</span><span class="pl-k">+</span> arg) }
}
<span class="pl-k">val</span> <span class="pl-en">config</span> <span class="pl-k">=</span> cli.parse(<span class="pl-en">List</span>(<span class="pl-s"><span class="pl-pds">"</span>-r<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>9<span class="pl-pds">"</span></span>), <span class="pl-en">Config</span>())</pre>
  </div> 
  <p>The <code>reqd()</code> function defines a switch that takes a required argument. In this case we have specified that we expect the argument value to be an <code>Int</code>. If the user enters a value that is not a valid integer then an [[org.sellmerfud.optparse.OptionParserException]] is thrown with an appropriate error message. If the value is valid then our supplied function is called with the integer value. Here we return a copy of our configuration class with the <code>revision</code> field updated.</p> 
  <h2><a id="user-content-non-switch-arguments" class="anchor" href="https://github.com/sellmerfud/optparse#non-switch-arguments" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Non-Switch Arguments</h2> 
  <p>Anything encountered on the command line that is not a switch or an argument to a switch is passed to the function supplied to the <code>arg()</code> method. Like switch arguments, the non-switch arguments can be of any type for which you have a defined argument parser. In the example above we have specified that non-switch arguments are of type <code>String</code>.</p> 
  <h2><a id="user-content-switch-names" class="anchor" href="https://github.com/sellmerfud/optparse#switch-names" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Switch Names</h2> 
  <p>A switch may have a short name, a long name, or both.</p> 
  <p>Short names may be specified as a single character preceded by a single dash. You may optionally append an argument name separated by a space. The argument name is only for documentation purposes and is displayed with the help text.</p> 
  <pre><code>-t           &lt;== no argument
-t ARG       &lt;== required argument
-t [VAL]     &lt;== optional argument
</code></pre> 
  <p>Long names may be any number of characters and are preceded by two dashes. You may optionally append an argument name. The argument name may be separated by a space or by an equals sign. This will affect how the name is displayed in the help text.</p> 
  <pre><code>--quiet
--revision REV
--revision=REV
--start-date [TODAY]
--start-date=[TODAY]
--start-date[=TODAY]
</code></pre> 
  <p>Notice that in the case of an optional parameter you may put the equal sign inside or outside the bracket. Again this only affects how it is dispalyed in the help message. If you specify an argument name with both the short name and the long name, the one specified with the long name is used.</p> 
  <p>There is a boolean switch that does not accept a command line argument but may be negated when using the long name by preceding the name with <code>no-</code>. For example:</p> 
  <pre><code>cli.bool("-t", "--timestamp", "Generate a timestamp") { (v, c) =&gt; c.copy(genTimestamp = v) }

can be specified on the command line as:
  -t                &lt;== function called with v == true
  --timestamp       &lt;== function called with v == true
  --no-timestamp    &lt;== function called with v == false
  --no-t            &lt;== function called with v == false  (using partial name)
</code></pre> 
  <p>Notice that you only specify the positive form of the name when defining the switch. The help text for this switch looks like this:</p> 
  <pre><code>-t, --[no-]timestamp            Generate a timestamp
</code></pre> 
  <h2><a id="user-content-special-tokens" class="anchor" href="https://github.com/sellmerfud/optparse#special-tokens" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Special Tokens</h2> 
  <ul> 
   <li><code>--</code> is interpreted as the ''end of switches''. When encountered no following arguments on the command line will be treated as switches.</li> 
   <li><code>-</code> is interpreted as a normal argument and not a switch. It is commonly used to indicate <code>stdin</code>.</li> 
  </ul> 
  <h2><a id="user-content-switch-types" class="anchor" href="https://github.com/sellmerfud/optparse#switch-types" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Switch Types</h2> 
  <p>You can define switches that take no arguments, an optional argument, or a required argument.</p> 
  <pre><code>Flag
    cli.flag("-x", "--expert", "Description") { (cfg) =&gt; ... }

Boolean
    cli.bool("-t", "--timestamp", "Description") { (v, cfg) =&gt; ... }

Required Argument
    cli.reqd[String]("-n", "--name=NAME", "Description") { (v, cfg) =&gt; ... }

Optional Argument
    cli.optl[String]("-d", "--start-date[=TODAY]", "Description") { (v, cfg) =&gt; ... }

Comma Separated List
      cli.list[String]("-b", "--branches=B1,B2,B3", "Description") { (v, cfg) =&gt; ... }
</code></pre> 
  <h2><a id="user-content-limiting-values" class="anchor" href="https://github.com/sellmerfud/optparse#limiting-values" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Limiting Values</h2> 
  <p>For switches that take arguments, either required or optional, you can specify a list of acceptable values.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Config</span>(<span class="pl-v">color</span>: <span class="pl-k">String</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>red<span class="pl-pds">"</span></span>)
<span class="pl-k">val</span> <span class="pl-en">cli</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">OptionParser</span>[<span class="pl-en">Config</span>] {
  reqd[<span class="pl-k">String</span>](<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>--color COLOR<span class="pl-pds">"</span></span>, <span class="pl-en">List</span>(<span class="pl-s"><span class="pl-pds">"</span>red<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>green<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>blue<span class="pl-pds">"</span></span>)) { (v, c) <span class="pl-k">=&gt;</span> c.copy(color <span class="pl-k">=</span> v) }
}</pre>
  </div> 
  <p>Here if the user enters <code>--color purple</code> on the command line an <code>OptionParserException</code> is thrown. The exception message will display the accepable values. Also the user can enter partial values.</p> 
  <pre><code>coolapp --color r     // &lt;==  Will be interpreted as red
</code></pre> 
  <p>If the value entered matches two or more of the acceptable values then an <code>OptionParserException</code> is thrown with a message indicating that the value was ambiguous and displays the acceptable values. Also note that you can pass a <code>Map</code> instead of a <code>List</code> if you need to map string values to some other type.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">class</span> <span class="pl-en">Color</span>(<span class="pl-v">rgb</span>: <span class="pl-k">String</span>)
<span class="pl-k">val</span> <span class="pl-en">red</span>   <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Color</span>(<span class="pl-s"><span class="pl-pds">"</span>#FF0000<span class="pl-pds">"</span></span>)
<span class="pl-k">val</span> <span class="pl-en">green</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Color</span>(<span class="pl-s"><span class="pl-pds">"</span>#00FF00<span class="pl-pds">"</span></span>)
<span class="pl-k">val</span> <span class="pl-en">blue</span>  <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Color</span>(<span class="pl-s"><span class="pl-pds">"</span>#0000FF<span class="pl-pds">"</span></span>)
<span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Config</span>(<span class="pl-v">color</span>: <span class="pl-en">Color</span> <span class="pl-k">=</span> red)

<span class="pl-k">val</span> <span class="pl-en">cli</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">OptionParser</span>[<span class="pl-en">Config</span>] {
  optl[<span class="pl-en">Color</span>](<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>--color [ARG]<span class="pl-pds">"</span></span>, <span class="pl-en">Map</span>(<span class="pl-s"><span class="pl-pds">"</span>red<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> red, <span class="pl-s"><span class="pl-pds">"</span>green<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> green, <span class="pl-s"><span class="pl-pds">"</span>blue<span class="pl-pds">"</span></span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> blue)) { 
    (v, c) <span class="pl-k">=&gt;</span> 
    c.copy(color <span class="pl-k">=</span> v getOrElse red)
  }
}</pre>
  </div> 
  <p>Since we are defining a switch with an optional argument, the type of <code>v</code> is <code>Option[Color]</code>.</p> 
  <h2><a id="user-content-banner-separators-and-help-text" class="anchor" href="https://github.com/sellmerfud/optparse#banner-separators-and-help-text" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Banner, Separators and Help Text</h2> 
  <p>You can specify a banner which will be the first line displayed in the help text. You can also define separators that display information between the switches in the help text.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Config</span>(...)
<span class="pl-k">val</span> <span class="pl-en">cli</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">OptionParser</span>[<span class="pl-en">Config</span>] {
  banner <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>coolapp [Options] file...<span class="pl-pds">"</span></span>
  separator(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>)
  separator(<span class="pl-s"><span class="pl-pds">"</span>Main Options:<span class="pl-pds">"</span></span>)
  flag(<span class="pl-s"><span class="pl-pds">"</span>-f<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>--force<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Force file creation<span class="pl-pds">"</span></span>) { (cfg) <span class="pl-k">=&gt;</span> ... }
  reqd[<span class="pl-k">String</span>](<span class="pl-s"><span class="pl-pds">"</span>-r REV<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Specify a revision<span class="pl-pds">"</span></span>) { (v, cfg) <span class="pl-k">=&gt;</span> ... }
  separator(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>)
  separator(<span class="pl-s"><span class="pl-pds">"</span>Other Options:<span class="pl-pds">"</span></span>)
  optl[<span class="pl-k">String</span>](<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>--backup[=NAME]<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Make a backup<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>--&gt; NAME defaults to 'backup'<span class="pl-pds">"</span></span>)
    { (v, cfg) <span class="pl-k">=&gt;</span> ... }
  bool(<span class="pl-s"><span class="pl-pds">"</span>-t<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>--timestamp<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Create a timestamp<span class="pl-pds">"</span></span>) { (v, cfg) <span class="pl-k">=&gt;</span> ... }
}
println(cli)  <span class="pl-c"><span class="pl-c">//</span> or println(cli.help)</span></pre>
  </div> 
  <pre><code>The above would print the following:
coolapp [Options] file...

Main Options:
    -f, --force                  Force file creation
    -n REV                       Specify a revision

Other Options:
        --backup[=NAME]          Make a backup
                                 --&gt; NAME defaults to 'backup'
    -t, --[no-]timestamp         Create a timestamp
    -h, --help                   Show this message
</code></pre> 
  <p>Where did the <strong><code>-h, --help</code></strong> entry come from? By default the <code>help</code> switch is added automatically. The function associated with it will print the help text to <code>stdout</code> and call <code>exit(0)</code>. You can define your own help switch by simply defining a switch with either or both of the names <code>-h</code>, <code>--help</code>. You can also turn off the auto help altogether.</p> 
  <h2><a id="user-content-how-short-switches-are-parsed" class="anchor" href="https://github.com/sellmerfud/optparse#how-short-switches-are-parsed" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>How Short Switches Are Parsed</h2> 
  <p>Short switches encountered on the command line are interpreted as follows:</p> 
  <pre><code>Assume that the following switches have been defined:
   -t, --text   (Takes no argument)
   -v           (Takes no argument)
   -f FILE      (Requires an argument)
   -b [OPT]     (Takes an optional argument)

Switches that do not accept arguments may be specified separately or may be concatenated together:
   -tv  ==  -t -v

A switch that takes an argument may be concatenated to one or more switches that do not take
arguments as long as it is the last switch in the group:
    -tvf foo.tar  ==  -t -v -f foo.tar
    -tfv foo.tar  ==  -t -f v foo.tar  (v is the argument value for the -f switch)

The argument for a switch may be specified with or without intervening spaces:
    -ffoo.tar  == -f foo.tar

For arguments separated by space, switches with required arguments are greedy while those that
take optional arguments are not. They will ignore anything that looks like a another switch.
   -v -f -t       &lt;-- The -f option is assigned the value "-t"
   -v -f -text    &lt;-- The -f option is assigned the value "-text"
   -v -f --text   &lt;-- The -f option is assigned the value "--text"

   -v -b t        &lt;-- The -b option is assigned the value "t"
   -v -b -t       &lt;-- The -b option is interpreted without an argument
   -v -b -text    &lt;-- The -b option is interpreted without an argument
   -v -b --text   &lt;-- The -b option is interpreted without an argument
   -v -b-text     &lt;-- The -b option is assigned the value "-text" (no intervening space)
</code></pre> 
  <h2><a id="user-content-how-long-switches-are-parsed" class="anchor" href="https://github.com/sellmerfud/optparse#how-long-switches-are-parsed" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>How Long Switches Are Parsed</h2> 
  <p>Long switches encountered on the command line are interpreted as follows:</p> 
  <pre><code>Assume that the following switches have been defined:
   --timestamp       (Boolean - takes no argument)
   --file FILE       (Requires an argument)
   --backup[=BACKUP] (Takes an optional argument)

The argument for a switch may be joined by an equals sign or may be separated by space:
    --file=foo.tar == --file foo.tar
    --backup=data.bak == --backup data.bak

For arguments separated by space, switches with required arguments are greedy while those that take
optional arguments are not. They will ignore anything that looks like a another switch. See the
discussion of short switches above for an example.  The behavior for long switches is identical.

Boolean switches may be negated.
    --timestamp      &lt;-- The option is assigned a true value
    --no-timestamp   &lt;-- The option is assigned a false value
</code></pre> 
  <h2><a id="user-content-full-example" class="anchor" href="https://github.com/sellmerfud/optparse#full-example" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Full Example</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">java.util.</span><span class="pl-v">Date</span>
<span class="pl-k">import</span> <span class="pl-v">java.io.</span><span class="pl-v">File</span>
<span class="pl-k">import</span> <span class="pl-v">java.text.</span>{<span class="pl-v">SimpleDateFormat</span>, <span class="pl-v">ParseException</span>}
<span class="pl-k">import</span> <span class="pl-v">org.sellmerfud.optparse.</span><span class="pl-v">_</span>

<span class="pl-k">object</span> <span class="pl-en">Sample</span> {
  <span class="pl-k">val</span> <span class="pl-en">dateFormat</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">SimpleDateFormat</span>(<span class="pl-s"><span class="pl-pds">"</span>MM-dd-yyyy<span class="pl-pds">"</span></span>)
  <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Config</span>(
    <span class="pl-v">quiet</span>:    <span class="pl-k">Boolean</span>        <span class="pl-k">=</span> <span class="pl-c1">false</span>,
    <span class="pl-v">expert</span>:   <span class="pl-k">Boolean</span>        <span class="pl-k">=</span> <span class="pl-c1">false</span>,
    <span class="pl-v">name</span>:     <span class="pl-en">Option</span>[<span class="pl-k">String</span>] <span class="pl-k">=</span> <span class="pl-c1">None</span>,
    <span class="pl-v">fileType</span>: <span class="pl-k">String</span>         <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>binary<span class="pl-pds">"</span></span>,
    <span class="pl-v">base</span>:     <span class="pl-k">String</span>         <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>HEAD<span class="pl-pds">"</span></span>,
    <span class="pl-v">date</span>:     <span class="pl-en">Date</span>           <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Date</span>(),
    <span class="pl-v">libs</span>:     <span class="pl-en">List</span>[<span class="pl-en">File</span>]     <span class="pl-k">=</span> <span class="pl-c1">Nil</span>,
    <span class="pl-v">fileArgs</span>: <span class="pl-en">Vector</span>[<span class="pl-k">String</span>] <span class="pl-k">=</span> <span class="pl-en">Vector</span>.empty)

  <span class="pl-k">def</span> <span class="pl-en">main</span>(<span class="pl-v">args</span>: <span class="pl-en">Array</span>[<span class="pl-k">String</span>]) {
    <span class="pl-k">val</span> <span class="pl-en">config</span> <span class="pl-k">=</span> <span class="pl-k">try</span> {
      <span class="pl-k">new</span> <span class="pl-en">OptionParser</span>[<span class="pl-en">Config</span>] {
        <span class="pl-c"><span class="pl-c">//</span> Add an argument parser to handle date values</span>
        addArgumentParser[<span class="pl-en">Date</span>] { arg <span class="pl-k">=&gt;</span>
          <span class="pl-k">try</span>   { dateFormat.parse(arg) }
          <span class="pl-k">catch</span> { <span class="pl-k">case</span> <span class="pl-v">e</span>: <span class="pl-en">ParseException</span> <span class="pl-k">=&gt;</span> <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">InvalidArgumentException</span>(<span class="pl-s"><span class="pl-pds">"</span>Expected date in mm-dd-yyyy format<span class="pl-pds">"</span></span>) }
        }
        banner <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>coolapp [options] file...<span class="pl-pds">"</span></span>
        separator(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>)
        separator(<span class="pl-s"><span class="pl-pds">"</span>Options:<span class="pl-pds">"</span></span>)
        bool(<span class="pl-s"><span class="pl-pds">"</span>-q<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>--quiet<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Do not write to stdout.<span class="pl-pds">"</span></span>)
          { (v, cfg) <span class="pl-k">=&gt;</span> cfg.copy(quiet <span class="pl-k">=</span> v) }

        flag(<span class="pl-s"><span class="pl-pds">"</span>-x<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Use expert mode<span class="pl-pds">"</span></span>)
          { (c) <span class="pl-k">=&gt;</span> c.copy(expert <span class="pl-k">=</span> <span class="pl-c1">true</span>) }

        reqd[<span class="pl-k">String</span>](<span class="pl-s"><span class="pl-pds">"</span>-n &lt;name&gt;<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Enter you name.<span class="pl-pds">"</span></span>)
          { (v, c) <span class="pl-k">=&gt;</span> c.copy(name <span class="pl-k">=</span> <span class="pl-en">Some</span>(v)) }

        reqd[<span class="pl-en">File</span>](<span class="pl-s"><span class="pl-pds">"</span>-l<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>--lib=&lt;lib&gt;<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Specify a library. Can be used mutiple times.<span class="pl-pds">"</span></span>)
          { (v, c) <span class="pl-k">=&gt;</span> c.copy(libs <span class="pl-k">=</span> c.libs <span class="pl-k">:</span><span class="pl-k">+</span> v) }

        reqd[<span class="pl-en">Date</span>](<span class="pl-s"><span class="pl-pds">"</span>-d<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>--date &lt;date&gt;<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Enter date in mm-dd-yyyy format.<span class="pl-pds">"</span></span>)
          { (v, c) <span class="pl-k">=&gt;</span> c.copy(date <span class="pl-k">=</span> v) }

        reqd[<span class="pl-k">String</span>](<span class="pl-s"><span class="pl-pds">"</span>-t<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>--type=&lt;type&gt;<span class="pl-pds">"</span></span>, <span class="pl-en">List</span>(<span class="pl-s"><span class="pl-pds">"</span>ascii<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>binary<span class="pl-pds">"</span></span>), <span class="pl-s"><span class="pl-pds">"</span>Set the data type. (ascii, binary)<span class="pl-pds">"</span></span>)
          { (v, c) <span class="pl-k">=&gt;</span> c.copy(fileType <span class="pl-k">=</span> v) }

        optl[<span class="pl-k">String</span>](<span class="pl-s"><span class="pl-pds">"</span>-b<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>--base[=&lt;commit&gt;]<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Set the base commit. Default is HEAD.<span class="pl-pds">"</span></span>)
          { (v, c) <span class="pl-k">=&gt;</span> c.copy(base <span class="pl-k">=</span> v getOrElse <span class="pl-s"><span class="pl-pds">"</span>HEAD<span class="pl-pds">"</span></span>) }
          
        arg[<span class="pl-k">String</span>] { (v, c) <span class="pl-k">=&gt;</span> c.copy(fileArgs <span class="pl-k">=</span> c.fileArgs <span class="pl-k">:</span><span class="pl-k">+</span> v) }  
      }.parse(args, <span class="pl-en">Config</span>())
    }
    <span class="pl-k">catch</span> { <span class="pl-k">case</span> <span class="pl-v">e</span>: <span class="pl-en">OptionParserException</span> <span class="pl-k">=&gt;</span> println(e.getMessage); sys.exit(<span class="pl-c1">1</span>) }

    println(<span class="pl-s"><span class="pl-pds">"</span>config: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> config)
  }
}</pre>
  </div> 
  <pre><code>Command Line: -l /etc/foo --lib=/tmp/bar -x .profile -n Bob -d09-11-2001
-------------------------------------------------------------------------------
config: Config(false,true,Some(Bob),binary,HEAD,Tue Sep 11 00:00:00 CDT 2001,
               List(/etc/foo, /tmp/bar), List(.profile))


Command Line: --date=04/01/2011
-------------------------------------------------------------------------------
invalid argument: --date=04/01/2011   (Expected date in mm-dd-yyyy format)

Command Line: --ty=ebcdic
-------------------------------------------------------------------------------
invalid argument: --ty ebcdic    (ascii, binary)

Command Line: --typ=a
-------------------------------------------------------------------------------
config: Config(false,false,None,ascii,HEAD,Mon Feb 11 21:52:12 CST 2013,
              List(), List())
</code></pre> 
  <h2><a id="user-content-unit-tests" class="anchor" href="https://github.com/sellmerfud/optparse#unit-tests" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Unit Tests</h2> 
  <p>A full set of unit tests using <em>ScalaTest</em> is included.</p> 
  <h2><a id="user-content-dependencies" class="anchor" href="https://github.com/sellmerfud/optparse#dependencies" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Dependencies</h2> 
  <p>There are no external dependencies.</p> 
  <h2><a id="user-content-license" class="anchor" href="https://github.com/sellmerfud/optparse#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>MIT License -- You can use it as is or modify it however you like.</p> 
 </article>
</div>