<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-typesafe-kafka-streams-" class="anchor" href="https://github.com/ogirardot/typesafe-kafka-streams#typesafe-kafka-streams-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>typesafe-kafka-streams <a href="https://travis-ci.org/ogirardot/typesafe-kafka-streams" target="_blank"><img src="https://camo.githubusercontent.com/3b4246d809423729c89aca0ca486cac99632fb54/68747470733a2f2f7472617669732d63692e6f72672f6f6769726172646f742f74797065736166652d6b61666b612d73747265616d732e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/ogirardot/typesafe-kafka-streams.svg?branch=master" style="max-width:100%;"></a></h1> 
  <p>A started draft of a typesafe - scala - compatible API</p> 
  <h2><a id="user-content-how-to-use" class="anchor" href="https://github.com/ogirardot/typesafe-kafka-streams#how-to-use" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>How to use</h2> 
  <p>The artifact is deployed on sonatype's central repository, so all you need is to add it to your resolvers and use it like that :</p> 
  <pre><code>resolvers += Resolver.sonatypeRepo("snapshots")

libraryDependencies += "fr.psug.kafka" %% "typesafe-kafka-streams" % "X.X.X-SNAPSHOT"
</code></pre> 
  <p>Or to use the latest stable release</p> 
  <pre><code>resolvers += Resolver.sonatypeRepo("releases")

libraryDependencies += "fr.psug.kafka" %% "typesafe-kafka-streams" % "0.2.1"
</code></pre> 
  <h2><a id="user-content-in-practice" class="anchor" href="https://github.com/ogirardot/typesafe-kafka-streams#in-practice" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>In practice</h2> 
  <p>You've got two options :</p> 
  <ul> 
   <li>You can improve your current <code>KStream[K, V]</code></li> 
   <li>Or use a dedicated trait <code>TKafkaStreams</code> to create a typesafe KStream directly for you.</li> 
  </ul> 
  <h3><a id="user-content-improving-your-existing-kstream" class="anchor" href="https://github.com/ogirardot/typesafe-kafka-streams#improving-your-existing-kstream" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Improving your existing KStream</h3> 
  <p>Once you've created your <code>KStream[K, V]</code> you can use the <code>.typesafe</code> method to get a Scala friendly Kakfa Stream API :</p> 
  <pre><code>import fr.psug.kafka.streams.KafkaStreamsImplicits._

val streams: KStream[String, String] = ???
streams.typesafe
  .filter((k, v) =&gt; k.startsWith("valid_"))
  .to("validated_topic") // this part expects implicit Serdes in scope so we need to import fr.psug.kafka.streams.KafkaStreamsImplicitSerdes._
</code></pre> 
  <h3><a id="user-content-creating-a-typesafe-kstream-directly" class="anchor" href="https://github.com/ogirardot/typesafe-kafka-streams#creating-a-typesafe-kstream-directly" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Creating a typesafe KStream directly</h3> 
  <p>You just need to use the <code>TKafkaStreams</code> trait, it will help you bootstrap and start your application. To use it :</p> 
  <ul> 
   <li>Define all the variables/methods needed by the API</li> 
   <li>Then use the <code>source(topic: String)</code> method to create as many new TKStream as you need providing the implicits needed</li> 
   <li>And finally call <code>start(props)</code> when you're done.</li> 
  </ul> 
  <h2><a id="user-content-what-is-different-in-this-api" class="anchor" href="https://github.com/ogirardot/typesafe-kafka-streams#what-is-different-in-this-api" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>What is different in this API</h2> 
  <p>A few key points make this draft easier to use than the original Java 8 API :</p> 
  <ul> 
   <li>It is Scala friendly in terms of types. for example <code>Predicates[K, V]</code> are <code>(K, V) =&gt; Boolean</code>.</li> 
   <li><code>Serde</code>(s) are no longer explicit parameters, but rather <code>implicit</code> ones. So if you've got the proper implicits in scope, you won't need to explicitely pass the Serdes as parameters.</li> 
   <li>we also added a few perks with for example the <code>partition</code> method that does not exists in the KStream API :</li> 
  </ul> 
  <pre><code>val (validated, rejected) = data.partition((_, v) =&gt; v.isRight)
</code></pre> 
 </article>
</div>