<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-sbt-tojar" class="anchor" href="https://github.com/typesafehub/sbt-tojar#sbt-tojar" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>sbt-tojar</h1> 
  <h2><a id="user-content-description" class="anchor" href="https://github.com/typesafehub/sbt-tojar#description" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Description</h2> 
  <p><em>sbt-tojar</em> is a simple sbt plugin that enables straight-to-jar compilation of Scala files while using sbt.</p> 
  <p>When compiling Scala files, sbt normally writes each generated class to a separate classfile, leading to a potentially rather large number of individual small files. At the end of the compilation process, all of those classfiles are packaged together into a new jar file in order to prepare for publishing.</p> 
  <p>The intermediate step of creating many individual classfiles can be somewhat slow on those filesystems that are not very efficient at manipulating many small files.</p> 
  <p>This plugin will make use of scalac's straight-to-jar compilation feature, enabling sbt to avoid the intermediate creation of the separate classfiles.</p> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/typesafehub/sbt-tojar#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <ul> 
   <li>add to your project/plugin.sbt the line: <code>addSbtPlugin("com.typesafe.sbt" % "sbt-tojar" % "0.3")</code></li> 
   <li>then add to the settings of the subprojects for which you would like to enable this functionality: <code>straightToJar := true</code></li> 
  </ul> 
  <p>The straight-to-jar compilation feature can be enabled individually for each subproject, and changed on-the-fly using a <code>set straightToJar in proj := value</code> (a <code>clean</code> may be needed beforehand).</p> 
  <h2><a id="user-content-notes" class="anchor" href="https://github.com/typesafehub/sbt-tojar#notes" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Notes</h2> 
  <p>During the compilation of a mixed Java/Scala project, both the Scala and the Java compilers are called. The Java compiler is unable to produce a jar file directly, therefore initially a first jar is generated by scalac, then the remaining classes created by javac are appended to it.</p> 
  <p>When running under JDK7 and newer, the plugin is able to open directly the existing jar and append the new classfiles. The facilities used for this operation are not avaliable on JDK6 and older; instead, a less efficient implementation will create a new jar file, copy the entries from the first jar, and finally append the new classes.</p> 
  <p>Since the packaged jar file is generated from the compiled classes as described above, the archive cannot contain files that are generated from other sources. Therefore, <code>straightTojar</code> is currently incompatible with bytecode manipulations via the <code>manipulateBytecode</code> facility, and the resulting jar archive cannot contain files copied via <code>copyResources</code>. However, in an sbt project that contains many different subprojects, the straight-to-jar compilation can be selectively disabled on just the subprojects that use those features.</p> 
  <p>It should also be noted that straight-to-jar compilation will disable the usual incremental compilation mechanisms of sbt: if any source file in a straight-to-jar subproject is modified in a way that makes recompilation necessary, then all of the source files of that subproject will be recompiled.</p> 
  <p>This plugin requires sbt 0.13.10, final or RC2, or a more recent version..</p> 
 </article>
</div>