<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-puppet-module-installer-" class="anchor" href="https://github.com/backuity/puppet-module-installer#puppet-module-installer-" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>puppet-module-installer <a href="https://travis-ci.org/backuity/puppet-module-installer" target="_blank"><img src="https://camo.githubusercontent.com/583c12a942d0bb719072f0b6f1ff6529362f52b5/68747470733a2f2f7472617669732d63692e6f72672f6261636b756974792f7075707065742d6d6f64756c652d696e7374616c6c65722e706e673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/backuity/puppet-module-installer.png?branch=master" style="max-width:100%;"></a></h1> 
  <p>Installs puppet modules recursively from a <code>Puppetfile</code>.</p> 
  <h1><a id="user-content-installation" class="anchor" href="https://github.com/backuity/puppet-module-installer#installation" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Installation</h1> 
  <p>Until proper packages (Deb, Rpm) exist you can install the puppet-module-installer by downloading it from Maven Central: <a href="http://repo1.maven.org/maven2/org/backuity/puppet-module-installer_2.11/2.2.1/puppet-module-installer_2.11-2.2.1-one-jar.jar" target="_blank">http://repo1.maven.org/maven2/org/backuity/puppet-module-installer_2.11/2.2.1/puppet-module-installer_2.11-2.2.1-one-jar.jar</a></p> 
  <p>If you have <code>binfmt-support</code> installed you can simply give the executable permission to your jar:</p> 
  <pre><code>wget http://repo1.maven.org/maven2/org/backuity/puppet-module-installer_2.11/2.2.1/puppet-module-installer_2.11-2.2.1-one-jar.jar -O ~/bin/puppet-module-installer
chmod u+x ~/bin/puppet-module-installer
</code></pre> 
  <p>If you don't have <code>binfmt-support</code>, you can create a bash script:</p> 
  <pre><code>#!/bin/bash

java -jar ~/bin/puppet-module-installer.jar "$@"
</code></pre> 
  <p>And download the jar next to it:</p> 
  <pre><code>wget http://repo1.maven.org/maven2/org/backuity/puppet-module-installer_2.11/2.2.1/puppet-module-installer_2.11-2.2.1-one-jar.jar -O ~/bin/puppet-module-installer.jar
</code></pre> 
  <h1><a id="user-content-usage" class="anchor" href="https://github.com/backuity/puppet-module-installer#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h1> 
  <p>The tool provides the following options:</p> 
  <ul> 
   <li><code>--help</code> : print a detailed help message</li> 
   <li><code>--version</code> : print the version</li> 
  </ul> 
  <p>Go to a folder containing a <code>Puppetfile</code> and run <code>puppet-module-installer</code>, it will download recursively all the module described by the <code>Puppetfile</code>. You can inspect the graph of modules with the <code>puppet-module-installer graph</code> command, ex:</p> 
  <pre><code>Puppetfile
  ├ my-app(HEAD)
  │ ├ java(1.16.0)
  │ ├ jmxtrans(1.74.0)
  │ │ └ logrotate(1.0.0)
  │ │
  │ └ tomcat(2.23.0)
  │   ├ dynatrace(1.4.0)
  │   ├ introscope(3.4.0)
  │   ├ java(1.16.0)
  │   ├ jmxtrans(1.28.0)
  │   ├ nexus(1.10.0)
  │   ├ puppi(2.0.8)
  │   ├ ssl(1.76.0)
  │   └ stdlib(1.2.0)
  │
  ├ motd(HEAD)
  └ sudo(HEAD)
</code></pre> 
  <h2><a id="user-content-fetch-mode" class="anchor" href="https://github.com/backuity/puppet-module-installer#fetch-mode" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Fetch mode</h2> 
  <p>There are 5 different ways to retrieve the modules:</p> 
  <ul> 
   <li>Normal : (<em>no option</em>) Stick to the versions found in the Puppetfile, when no version is found, HEAD is used. </li> 
   <li>Head : (<code>--head</code>) Use HEAD for all modules.</li> 
   <li>Latest : (<code>--latest</code>) Ask git for a list of tags choose the highest minor for the current major</li> 
   <li>Latest Forced : (<code>--latest-force</code>) Ask git for a list of tags and choose the highest</li> 
   <li>Latest Head : (<code>--latest-head</code>) Same as <em>Latest</em> unless HEAD is wanted</li> 
  </ul> 
  <p><strong>Example</strong></p> 
  <p>Given 2 puppet modules :</p> 
  <ul> 
   <li><em>java</em> whose repository git is <code>ssh://repos/java.git</code> with the following tags : <code>v1.3, v2.5, v2.6, v3.2</code></li> 
   <li><em>nexus</em> whose repository git is <code>ssh://repos/nexus.git</code> with the following tags : <code>v1.10, v2.5</code></li> 
  </ul> 
  <p>Give the following puppet file :</p> 
  <pre><code>mod 'java',
  :git =&gt; 'ssh://repos/java.git',
  :ref =&gt; 'v2.5'

mod 'nexus',
  :git =&gt; 'ssh://repos/nexus.git'
</code></pre> 
  <p>Here are results of the different modes:</p> 
  <table>
   <thead> 
    <tr> 
     <th>Mode</th> 
     <th>Java</th> 
     <th>Nexus</th> 
    </tr> 
   </thead>
   <tbody> 
    <tr> 
     <td>Normal</td> 
     <td>v2.5</td> 
     <td>HEAD</td> 
    </tr> 
    <tr> 
     <td>Head</td> 
     <td>HEAD</td> 
     <td>HEAD</td> 
    </tr> 
    <tr> 
     <td>Latest</td> 
     <td>v2.6</td> 
     <td>v2.5</td> 
    </tr> 
    <tr> 
     <td>Latest forced</td> 
     <td>v3.2</td> 
     <td>v2.5</td> 
    </tr> 
    <tr> 
     <td>Latest Head</td> 
     <td>v2.6</td> 
     <td>HEAD</td> 
    </tr> 
   </tbody>
  </table> 
  <h1><a id="user-content-puppetfile-syntax" class="anchor" href="https://github.com/backuity/puppet-module-installer#puppetfile-syntax" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Puppetfile syntax</h1> 
  <p>The syntax comes from <a href="https://github.com/rodjek/librarian-puppet" target="_blank">Librarian Puppet</a>.</p> 
 </article>
</div>