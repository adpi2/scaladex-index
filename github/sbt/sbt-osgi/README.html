<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-sbt-osgi" class="anchor" href="https://github.com/sbt/sbt-osgi#sbt-osgi" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>sbt-osgi</h1> 
  <p>Plugin for <a href="http://www.scala-sbt.org" target="_blank">sbt</a> to to create <a href="http://www.osgi.org/" target="_blank">OSGi</a> bundles.</p> 
  <h2><a id="user-content-installing-sbt-osgi" class="anchor" href="https://github.com/sbt/sbt-osgi#installing-sbt-osgi" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Installing sbt-osgi</h2> 
  <p>sbt-osgi is a plugin for sbt. In order to install sbt, please refer to the <a href="http://www.scala-sbt.org/release/docs/Getting-Started/Setup.html" target="_blank">sbt documentation</a>. Please make sure that you are using a suitable version of sbt:</p> 
  <ul> 
   <li>sbt-osgi 0.5 → sbt 0.12</li> 
   <li>sbt-osgi 0.7 → sbt 0.13</li> 
  </ul> 
  <p>As sbt-osgi is a plugin for sbt, it is installed like any other sbt plugin, that is by mere configuration: just add sbt-osgi to your global or local plugin definition. Global plugins are defined in <code>~/.sbt/&lt;SBT_VERSION&gt;/plugins/plugins.sbt</code> and local plugins are defined in <code>project/plugins.sbt</code> in your project.</p> 
  <p>In order to add sbt-osgi as a plugin, just add the below setting to the relevant plugin definition, paying attention to blank lines between settings:</p> 
  <pre><code>// Other stuff

addSbtPlugin("com.typesafe.sbt" % "sbt-osgi" % "0.9.1")
</code></pre> 
  <p>If you want to use the latest and greatest features, you can instead have sbt depend on and locally build the current source snapshot by adding the following to your plugin definition file. Example <code>&lt;PROJECT_ROOT&gt;/project/plugins.sbt</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">lazy</span> <span class="pl-k">val</span> <span class="pl-en">plugins</span> <span class="pl-k">=</span> (project in file(<span class="pl-s"><span class="pl-pds">"</span>.<span class="pl-pds">"</span></span>))
  .dependsOn(sbtOsgi)

<span class="pl-c"><span class="pl-c">//</span> Other stuff</span>

<span class="pl-k">def</span> <span class="pl-en">sbtOsgi</span> <span class="pl-k">=</span> uri(<span class="pl-s"><span class="pl-pds">"</span>git://github.com/sbt/sbt-osgi.git<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <h2><a id="user-content-using-sbt-osgi" class="anchor" href="https://github.com/sbt/sbt-osgi#using-sbt-osgi" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Using sbt-osgi</h2> 
  <h4><a id="user-content-version-080-and-above" class="anchor" href="https://github.com/sbt/sbt-osgi#version-080-and-above" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Version 0.8.0 and above</h4> 
  <p>As, since version <code>0.8.0</code>, sbt-osgi uses the sbt 0.13.5 <em>Autoplugin</em> feature, it can be enabled for individual projects like any other sbt Autoplugin. For more information on enabling and disabling plugins, refer to the <a href="http://www.scala-sbt.org/release/tutorial/Using-Plugins.html#Enabling+and+disabling+auto+plugins" target="_blank">sbt plugins tutorial</a>.</p> 
  <p>To enable sbt-osgi for a specific Project, use the project instance <code>enablePlugins(Plugins*)</code> method providing it with <code>SbtOsgi</code> as a parameter value. If using only '.sbt' definition files with only the implicitly declared root project with sbt 0.13.5 you will be required to obtain a reference to the project by explicitly declaring it in your build file. This may easily be done using the <code>project</code> macro, as shown in the example below. If using sbt 0.13.6 or greater, <code>enablePlugins(Plugins*)</code> is directly available in <code>.sbt</code> files.</p> 
  <p>Example <code>&lt;PROJECT_ROOT&gt;/build.sbt</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> sbt 0.13.5</span>
<span class="pl-k">lazy</span> <span class="pl-k">val</span> <span class="pl-en">fooProject</span> <span class="pl-k">=</span> (project in file(<span class="pl-s"><span class="pl-pds">"</span>.<span class="pl-pds">"</span></span>)) <span class="pl-c"><span class="pl-c">//</span> Obtain the root project reference</span>
  .enablePlugins(<span class="pl-en">SbtOsgi</span>)  <span class="pl-c"><span class="pl-c">//</span> Enables sbt-osgi for this project. This will automatically append</span>
                           <span class="pl-c"><span class="pl-c">//</span> the plugin's default settings to this project thus providing the</span>
                           <span class="pl-c"><span class="pl-c">//</span> `osgiBundle` task.</span>

<span class="pl-c"><span class="pl-c">//</span> sbt 0.13.6+</span>
enablePlugins(<span class="pl-en">SbtOsgi</span>) <span class="pl-c"><span class="pl-c">//</span> No need to obtain root project reference on single project builds for sbt 0.13.6+</span></pre>
  </div> 
  <p>Example <code>&lt;PROJECT_ROOT&gt;/project/Build.scala</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">sbt.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">com.typesafe.sbt.SbtOsgi.autoImport.</span><span class="pl-v">_  </span><span class="pl-c"><span class="pl-c">//</span> The autoImport object contains everything which would normally be</span>
                                              <span class="pl-c"><span class="pl-c">//</span> imported automatically in '*.sbt' project definition files.</span>

<span class="pl-k">object</span> <span class="pl-en">Build</span> <span class="pl-k">extends</span> <span class="pl-e">sbt.Build</span> {

  <span class="pl-k">lazy</span> <span class="pl-k">val</span> <span class="pl-en">fooProject</span> <span class="pl-k">=</span> <span class="pl-en">Project</span>(<span class="pl-s"><span class="pl-pds">"</span>foo-project<span class="pl-pds">"</span></span>, file(<span class="pl-s"><span class="pl-pds">"</span>.<span class="pl-pds">"</span></span>))
    .enablePlugins(<span class="pl-en">SbtOsgi</span>)  <span class="pl-c"><span class="pl-c">//</span> Enables sbt-osgi for this project. This will automatically append</span>
                             <span class="pl-c"><span class="pl-c">//</span> the plugin's default settings to this project thus providing the</span>
                             <span class="pl-c"><span class="pl-c">//</span> `osgiBundle` task.</span>
}
</pre>
  </div> 
  <p>To also override the default publish behaviour, also add the <code>osgiSettings</code> settings to your project via your preferred method.</p> 
  <p>Example <code>&lt;PROJECT_ROOT&gt;/build.sbt</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> Other settings</span>

osgiSettings</pre>
  </div> 
  <h4><a id="user-content-version-070-and-below" class="anchor" href="https://github.com/sbt/sbt-osgi#version-070-and-below" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Version 0.7.0 and below</h4> 
  <p>Add the below line to your sbt build definition, which adds the task <code>osgiBundle</code> which creates an OSGi bundle for your project and also changes the <code>publish</code> task to publish an OSGi bundle instead of a raw JAR archive. Again, pay attention to the blank line between settings:</p> 
  <pre><code>// Other stuff

osgiSettings
</code></pre> 
  <p>If you just want <code>osgiBundle</code>, i.e. don't want to change the behavior of <code>publish</code>:</p> 
  <pre><code>// Other stuff

defaultOsgiSettings
</code></pre> 
  <h2><a id="user-content-settings" class="anchor" href="https://github.com/sbt/sbt-osgi#settings" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Settings</h2> 
  <p>sbt-osgi can be configured with the following settings:</p> 
  <ul> 
   <li><code>bundleActivator</code>: value for <code>Bundle-Activator</code> header, default is <code>None</code></li> 
   <li><code>bundleRequiredExecutionEnvironment</code>: value for <code>Bundle-RequiredExecutionEnvironment</code> header, default is an empty string.</li> 
   <li><code>bundleSymbolicName</code>: value for <code>Bundle-SymbolicName</code> header, default is <code>organization</code> plus <code>name</code></li> 
   <li><code>bundleVersion</code>: value for <code>Bundle-Version</code> header, default is <code>version</code></li> 
   <li><code>dynamicImportPackage</code>: values for <code>Dynamic-ImportPackage</code> header, default is the empty sequence</li> 
   <li><code>exportPackage</code>: values for <code>Export-Package</code> header, default is the empty sequence</li> 
   <li><code>importPackage</code>: values for <code>Import-Package</code> header, default is <code>*</code></li> 
   <li><code>fragmentHost</code>: value for <code>Fragment-Host</code> header, default is <code>None</code></li> 
   <li><code>privatePackage</code>: values for <code>Private-Package</code> header, default is <code>OsgiKeys.bundleSymbolicName</code> plus <code>.*</code></li> 
   <li><code>requireBundle</code>: values for <code>Require-Bundle</code> header, default is the empty sequence</li> 
   <li><code>additionalHeaders</code>: map of additional headers to be passed to BND, default is the empty sequence</li> 
   <li><code>embeddedJars</code>: list of dependencies to embed inside the bundle which are automatically added to <code>Bundle-Classpath</code></li> 
   <li><code>explodedJars</code>: list of jarfiles to explode into the bundle</li> 
   <li><code>requireCapability</code>: value for <code>Require-Capability</code> header, defaults to <code>osgi.ee;filter:="(&amp;(osgi.ee=JavaSE)(version=*PROJECT JAVAC VERSION*))"</code></li> 
   <li><code>failOnUndecidedPackage</code>: allows failing the build when a package is neither exported nor private (instead of silently dropping it), <code>false</code> by default to be compatible with previous behaviour</li> 
  </ul> 
  <p>Example <code>build.sbt</code>:</p> 
  <pre><code>organization := "com.typesafe.sbt"

name := "osgi.demo"

version := "1.0.0"

libraryDependencies += "org.osgi" % "org.osgi.core" % "4.3.0" % "provided"

osgiSettings

OsgiKeys.exportPackage := Seq("com.typesafe.sbt.osgidemo")

OsgiKeys.bundleActivator := Option("com.typesafe.sbt.osgidemo.internal.Activator")
</code></pre> 
  <h2><a id="user-content-contribution-policy" class="anchor" href="https://github.com/sbt/sbt-osgi#contribution-policy" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contribution policy</h2> 
  <p>Contributions via GitHub pull requests are gladly accepted from their original author. Before we can accept pull requests, you will need to agree to the <a href="http://www.typesafe.com/contribute/cla" target="_blank">Typesafe Contributor License Agreement</a> online, using your GitHub account - it takes 30 seconds.</p> 
  <h2><a id="user-content-license" class="anchor" href="https://github.com/sbt/sbt-osgi#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>This code is open source software licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0.html" target="_blank">Apache 2.0 License</a>.</p> 
 </article>
</div>