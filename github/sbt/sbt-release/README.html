<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-sbt-release" class="anchor" href="https://github.com/sbt/sbt-release#sbt-release" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>SBT-RELEASE</h1> 
  <p>This sbt plugin provides a customizable release process that you can add to your project.</p> 
  <p><strong>Notice:</strong> This README contains information for the latest release. Please refer to the documents for a specific version by looking up the respective <a href="https://github.com/sbt/sbt-release/tags" target="_blank">tag</a>.</p> 
  <h2><a id="user-content-requirements" class="anchor" href="https://github.com/sbt/sbt-release#requirements" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Requirements</h2> 
  <ul> 
   <li>sbt 0.13.5+</li> 
   <li>The version of the project should follow the semantic versioning scheme on <a href="http://www.semver.org" target="_blank">semver.org</a> with the following additions: 
    <ul> 
     <li>The minor and bugfix (and beyond) part of the version are optional.</li> 
     <li>There is no limit to the number of subverions you may have.</li> 
     <li>The appendix after the bugfix part must be alphanumeric (<code>[0-9a-zA-Z]</code>) but may also contain dash characters <code>-</code>.</li> 
     <li>These are all valid version numbers: 
      <ul> 
       <li>1.2.3</li> 
       <li>1.2.3-SNAPSHOT</li> 
       <li>1.2beta1</li> 
       <li>1.2-beta.1</li> 
       <li>1.2</li> 
       <li>1</li> 
       <li>1-BETA17</li> 
       <li>1.2.3.4.5</li> 
       <li>1.2.3.4.5-SNAPSHOT</li> 
      </ul> </li> 
    </ul> </li> 
   <li>A <a href="http://www.scala-sbt.org/release/docs/Publishing.html" target="_blank">publish repository</a> configured. (Required only for the default release process. See further below for release process customizations.)</li> 
   <li>git [optional]</li> 
  </ul> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/sbt/sbt-release#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>Add the following lines to <code>./project/plugins.sbt</code>. See the section <a href="http://www.scala-sbt.org/release/tutorial/Using-Plugins.html" target="_blank">Using Plugins</a> in the sbt wiki for more information.</p> 
  <pre><code>addSbtPlugin("com.github.gseitz" % "sbt-release" % "1.0.4")
</code></pre> 
  <h2><a id="user-content-versionsbt" class="anchor" href="https://github.com/sbt/sbt-release#versionsbt" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>version.sbt</h2> 
  <p>Since the build definition is actual Scala code, it's not as straight forward to change something in the middle of it as it is with an XML definition.</p> 
  <p>For this reason, <em>sbt-release</em> won't ever touch your build definition files, but instead writes the new release or development version to a file defined by the setting <code>release-version-file</code>, which is set to <strong><code>file("version.sbt")</code></strong> by default and points to <code>$PROJECT_ROOT/version.sbt</code>.</p> 
  <p>By default the version is set on the build level (using <code>version in ThisBuild</code>). This behavior can be controlled by setting <code>releaseUseGlobalVersion</code> to <code>false</code>, after which a version like <code>version := 1.2.3</code> will be written to <code>version.sbt</code>.</p> 
  <h2><a id="user-content-release-process" class="anchor" href="https://github.com/sbt/sbt-release#release-process" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Release Process</h2> 
  <p>The default release process consists of the following tasks:</p> 
  <ol> 
   <li>Check that the working directory is a git repository and the repository has no outstanding changes. Also prints the hash of the last commit to the console.</li> 
   <li>If there are any snapshot dependencies, ask the user whether to continue or not (default: no).</li> 
   <li>Ask the user for the <code>release version</code> and the <code>next development version</code>. Sensible defaults are provided.</li> 
   <li>Run <code>test:test</code>, if any test fails, the release process is aborted.</li> 
   <li>Write <code>version in ThisBuild := "$releaseVersion"</code> to the file <code>version.sbt</code> and also apply this setting to the current <a href="http://www.scala-sbt.org/release/docs/Build-State.html" target="_blank">build state</a>.</li> 
   <li>Commit the changes in <code>version.sbt</code>.</li> 
   <li>Tag the previous commit with <code>v$version</code> (eg. <code>v1.2</code>, <code>v1.2.3</code>).</li> 
   <li>Run <code>publish</code>.</li> 
   <li>Write <code>version in ThisBuild := "nextVersion"</code> to the file <code>version.sbt</code> and also apply this setting to the current build state.</li> 
   <li>Commit the changes in <code>version.sbt</code>.</li> 
  </ol> 
  <p>In case of a failure of a task, the release process is aborted.</p> 
  <h3><a id="user-content-non-interactive-release" class="anchor" href="https://github.com/sbt/sbt-release#non-interactive-release" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Non-interactive release</h3> 
  <p>You can run a non-interactive release by providing the argument <code>with-defaults</code> (tab completion works) to the <code>release</code> command.</p> 
  <p>For all interactions, the following default value will be chosen:</p> 
  <ul> 
   <li>Continue with snapshots dependencies: no</li> 
   <li>Release Version: current version without the qualifier (eg. <code>1.2-SNAPSHOT</code> -&gt; <code>1.2</code>)</li> 
   <li>Next Version: increase the minor version segment of the current version and set the qualifier to '-SNAPSHOT' (eg. <code>1.2.1-SNAPSHOT</code> -&gt; <code>1.3.0-SNAPSHOT</code>)</li> 
   <li>VCS tag: default is abort if the tag already exists. It is possible to override the answer to VCS by <code>default-tag-exists-answer</code> with one of: 
    <ul> 
     <li><code>o</code> override</li> 
     <li><code>k</code> do not overwrite</li> 
     <li><code>a</code> abort (default)</li> 
     <li><code>&lt;tag-name&gt;</code> an explicit custom tag name (e.g. <code>1.2-M3</code>)</li> 
    </ul> </li> 
   <li>VCS push: 
    <ul> 
     <li>Abort if no remote tracking branch is set up.</li> 
     <li>Abort if remote tracking branch cannot be checked (eg. via <code>git fetch</code>).</li> 
     <li>Abort if the remote tracking branch has unmerged commits.</li> 
    </ul> </li> 
  </ul> 
  <h3><a id="user-content-set-release-version-and-next-version-as-command-arguments" class="anchor" href="https://github.com/sbt/sbt-release#set-release-version-and-next-version-as-command-arguments" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Set release version and next version as command arguments</h3> 
  <p>You can set the release version using the argument <code>release-version</code> and next version with <code>next-version</code>.</p> 
  <p>Example:</p> 
  <pre><code>release release-version 1.0.99 next-version 1.2.0-SNAPSHOT
</code></pre> 
  <h3><a id="user-content-skipping-tests" class="anchor" href="https://github.com/sbt/sbt-release#skipping-tests" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Skipping tests</h3> 
  <p>For that emergency release at 2am on a Sunday, you can optionally avoid running any tests by providing the <code>skip-tests</code> argument to the <code>release</code> command.</p> 
  <h3><a id="user-content-cross-building-during-a-release" class="anchor" href="https://github.com/sbt/sbt-release#cross-building-during-a-release" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Cross building during a release</h3> 
  <p>Since version 0.7, <em>sbt-release</em> comes with built-in support for <a href="http://www.scala-sbt.org/release/docs/Detailed-Topics/Cross-Build.html" target="_blank">cross building</a> and cross publishing. A cross release can be triggered in two ways:</p> 
  <ol> 
   <li> <p>via the setting <code>releaseCrossBuild</code> (by default set to <code>false</code>)</p> </li> 
   <li> <p>by using the option <code>cross</code> for the <code>release</code> command</p> 
    <blockquote> 
     <p>release cross with-defaults</p> 
    </blockquote> </li> 
  </ol> 
  <p>Combining both ways of steering a cross release, it is possible to generally disable automatic detection of cross release by using <code>releaseCrossBuild := false</code> and running <code>release cross</code>.</p> 
  <p>Of the predefined release steps, the <code>clean</code>, <code>test</code>, and <code>publish</code> release steps are set up for cross building.</p> 
  <p>A cross release behaves analogous to using the <code>+</code> command:</p> 
  <ol> 
   <li>If no <code>crossScalaVersions</code> are set, then running <code>release</code> or <code>release cross</code> will not trigger a cross release (i.e. run the release with the scala version specified in the setting <code>scalaVersion</code>).</li> 
   <li>If the <code>crossScalaVersions</code> setting is set, then only these scala versions will be used. Make sure to include the regular/default <code>scalaVersion</code> in the <code>crossScalaVersion</code> setting as well.</li> 
  </ol> 
  <p>In the section <em>Customizing the release process</em> we take a look at how to define a <code>ReleaseStep</code> to participate in a cross build.</p> 
  <h3><a id="user-content-convenient-versioning" class="anchor" href="https://github.com/sbt/sbt-release#convenient-versioning" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Convenient versioning</h3> 
  <p>As of version 0.8, <em>sbt-release</em> comes with four strategies for computing the next snapshot version via the <code>releaseVersionBump</code> setting. These strategies are, defined in <code>sbtrelease.Version.Bump</code>. By default, the <code>Next</code> strategy is used:</p> 
  <ul> 
   <li><code>Major</code>: always bumps the <em>major</em> part of the version</li> 
   <li><code>Minor</code>: always bumps the <em>minor</em> part of the version</li> 
   <li><code>Bugfix</code>: always bumps the <em>bugfix</em> part of the version</li> 
   <li><code>Nano</code>: always bumps the <em>nano</em> part of the version</li> 
   <li><code>Next</code>: bumps the last version part (e.g. <code>0.17</code> -&gt; <code>0.18</code>, <code>0.11.7</code> -&gt; <code>0.11.8</code>, <code>3.22.3.4.91</code> -&gt; <code>3.22.3.4.92</code>)</li> 
  </ul> 
  <p>Example:</p> 
  <pre><code>releaseVersionBump := sbtrelease.Version.Bump.Major
</code></pre> 
  <h3><a id="user-content-custom-versioning" class="anchor" href="https://github.com/sbt/sbt-release#custom-versioning" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Custom versioning</h3> 
  <p><em>sbt-release</em> comes with two settings for deriving the release version and the next development version from a given version.</p> 
  <p>These derived versions are used for the suggestions/defaults in the prompt and for non-interactive releases.</p> 
  <p>Let's take a look at the types:</p> 
  <pre><code>val releaseVersion     : SettingKey[String =&gt; String]
val releaseNextVersion : SettingKey[String =&gt; String]
</code></pre> 
  <p>The default settings make use of the helper class <a href="https://github.com/sbt/sbt-release/blob/master/src/main/scala/Version.scala" target="_blank"><code>Version</code></a> that ships with <em>sbt-release</em>.</p> 
  <pre><code>// strip the qualifier off the input version, eg. 1.2.1-SNAPSHOT -&gt; 1.2.1
releaseVersion     := { ver =&gt; Version(ver).map(_.withoutQualifier.string).getOrElse(versionFormatError) }

// bump the minor version and append '-SNAPSHOT', eg. 1.2.1 -&gt; 1.3.0-SNAPSHOT
releaseNextVersion := { ver =&gt; Version(ver).map(_.bumpMinor.asSnapshot.string).getOrElse(versionFormatError) }
</code></pre> 
  <p>If you want to customize the versioning, keep the following in mind:</p> 
  <ul> 
   <li> <p><code>releaseVersion</code></p> 
    <ul> 
     <li>input: the current development version</li> 
     <li>output: the release version</li> 
    </ul> </li> 
   <li> <p><code>releaseNextVersion</code></p> 
    <ul> 
     <li>input: the release version (either automatically 'chosen' in a non-interactive build or from user input)</li> 
     <li>output: the next development version</li> 
    </ul> </li> 
  </ul> 
  <h3><a id="user-content-custom-vcs-messages" class="anchor" href="https://github.com/sbt/sbt-release#custom-vcs-messages" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Custom VCS messages</h3> 
  <p><em>sbt-release</em> has built in support to commit/push to Git, Mercurial and Subversion repositories. The messages for the tag and the commits can be customized to your needs with these settings:</p> 
  <pre><code>val releaseTagComment    : TaskKey[String]
val releaseCommitMessage : TaskKey[String]

// defaults
releaseTagComment    := s"Releasing ${(version in ThisBuild).value}",
releaseCommitMessage := s"Setting version to ${(version in ThisBuild).value}",
</code></pre> 
  <h3><a id="user-content-publishing-signed-releases" class="anchor" href="https://github.com/sbt/sbt-release#publishing-signed-releases" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Publishing signed releases</h3> 
  <p>SBT is able to publish signed releases using the <a href="https://github.com/sbt/sbt-pgp" target="_blank">sbt-pgp plugin</a>.</p> 
  <p>After setting that up for your project, you can then tell <em>sbt-release</em> to use it by setting the <code>releasePublishArtifactsAction</code> key:</p> 
  <pre><code>releasePublishArtifactsAction := PgpKeys.publishSigned.value
</code></pre> 
  <h2><a id="user-content-customizing-the-release-process" class="anchor" href="https://github.com/sbt/sbt-release#customizing-the-release-process" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Customizing the release process</h2> 
  <h3><a id="user-content-not-all-releases-are-created-equal" class="anchor" href="https://github.com/sbt/sbt-release#not-all-releases-are-created-equal" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Not all releases are created equal</h3> 
  <p>The release process can be customized to the project's needs.</p> 
  <ul> 
   <li>Not using Git? Then rip it out.</li> 
   <li>Want to check for the existence of release notes at the start of the release and then publish it with <a href="https://github.com/n8han/posterous-sbt" target="_blank">posterous-sbt</a> at the end? Just add the release step.</li> 
  </ul> 
  <p>The release process is defined by <a href="http://www.scala-sbt.org/release/api/sbt/State.html" target="_blank">State</a> transformation functions (<code>State =&gt; State</code>), for which <em>sbt-release</em> defines this case class:</p> 
  <pre><code>case class ReleaseStep (
  action: State =&gt; State,
  check: State =&gt; State = identity,
  enableCrossBuild: Boolean = false
)
</code></pre> 
  <p>The function <code>action</code> is used to perform the actual release step. Additionally, each release step can provide a <code>check</code> function that is run at the beginning of the release and can be used to prevent the release from running because of an unsatisfied invariant (i.e. the release step for publishing artifacts checks that publishTo is properly set up). The property <code>enableCrossBuild</code> tells <em>sbt-release</em> whether or not a particular <code>ReleaseStep</code> needs to be executed for the specified <code>crossScalaVersions</code>.</p> 
  <p>The sequence of <code>ReleaseStep</code>s that make up the release process is stored in the setting <code>releaseProcess: SettingKey[Seq[ReleaseStep]]</code>.</p> 
  <p>The state transformations functions used in <em>sbt-release</em> are the same as the action/body part of a no-argument command. You can read more about <a href="http://www.scala-sbt.org/release/docs/Commands.html" target="_blank">building commands</a> in the sbt wiki.</p> 
  <h3><a id="user-content-release-steps" class="anchor" href="https://github.com/sbt/sbt-release#release-steps" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Release Steps</h3> 
  <p>There are basically 2 ways to creating a new <code>ReleaseStep</code>:</p> 
  <h4><a id="user-content-defining-your-own-release-steps" class="anchor" href="https://github.com/sbt/sbt-release#defining-your-own-release-steps" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Defining your own release steps</h4> 
  <p>You can define your own state tansformation functions, just like <em>sbt-release</em> does, for example:</p> 
  <pre><code>val checkOrganization = ReleaseStep(action = st =&gt; {
  // extract the build state
  val extracted = Project.extract(st)
  // retrieve the value of the organization SettingKey
  val org = extracted.get(Keys.organization)

  if (org.startsWith("com.acme"))
    sys.error("Hey, no need to release a toy project!")

  st
})
</code></pre> 
  <p>We will later see how to let this release step participate in the release process.</p> 
  <h4><a id="user-content-reusing-already-defined-tasks" class="anchor" href="https://github.com/sbt/sbt-release#reusing-already-defined-tasks" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Reusing already defined tasks</h4> 
  <p>Sometimes you just want to run an existing task or command. This is especially useful if the task raises an error in case something went wrong and therefore interrupts the release process.</p> 
  <p><em>sbt-release</em> comes with a few convenience functions for converting tasks and commands to release steps:</p> 
  <ul> 
   <li><code>releaseStepTask</code> - Run an individual task. Does not aggregate builds.</li> 
   <li><code>releaseStepTaskAggregated</code> - Run an aggregated task.</li> 
   <li><code>releaseStepInputTask</code> - Run an input task, optionally taking the input to pass to it.</li> 
   <li><code>releaseStepCommand</code> - Run a command.</li> 
  </ul> 
  <p>For example:</p> 
  <div class="highlight highlight-source-scala">
   <pre>releaseProcess <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>[<span class="pl-en">ReleaseStep</span>](
  releaseStepInputTask(testOnly, <span class="pl-s"><span class="pl-pds">"</span> com.example.MyTest<span class="pl-pds">"</span></span>),
  releaseStepInputTask(scripted),
  releaseStepTask(publish in subproject),
  releaseStepCommand(<span class="pl-s"><span class="pl-pds">"</span>sonatypeRelease<span class="pl-pds">"</span></span>)
)</pre>
  </div> 
  <p>I highly recommend to make yourself familiar with the <a href="http://www.scala-sbt.org/release/api/sbt/State.html" target="_blank">State API</a> before you continue your journey to a fully customized release process.</p> 
  <h3><a id="user-content-can-we-finally-customize-that-release-process-please" class="anchor" href="https://github.com/sbt/sbt-release#can-we-finally-customize-that-release-process-please" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Can we finally customize that release process, please?</h3> 
  <p>Yes, and as a start, let's take a look at the <a href="https://github.com/sbt/sbt-release/blob/v1.0.0/src/main/scala/ReleasePlugin.scala#L177" target="_blank">default definition</a> of <code>releaseProcess</code>:</p> 
  <h4><a id="user-content-the-default-release-process" class="anchor" href="https://github.com/sbt/sbt-release#the-default-release-process" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>The default release process</h4> 
  <pre><code>import ReleaseTransformations._

// ...

releaseProcess := Seq[ReleaseStep](
  checkSnapshotDependencies,              // : ReleaseStep
  inquireVersions,                        // : ReleaseStep
  runTest,                                // : ReleaseStep
  setReleaseVersion,                      // : ReleaseStep
  commitReleaseVersion,                   // : ReleaseStep, performs the initial git checks
  tagRelease,                             // : ReleaseStep
  publishArtifacts,                       // : ReleaseStep, checks whether `publishTo` is properly set up
  setNextVersion,                         // : ReleaseStep
  commitNextVersion,                      // : ReleaseStep
  pushChanges                             // : ReleaseStep, also checks that an upstream branch is properly configured
)
</code></pre> 
  <p>The names of the individual steps of the release process are pretty much self-describing. Notice how we can just reuse the <code>publish</code> task by utilizing the <code>releaseTask</code> helper function, but keep in mind that it needs to be properly scoped (more info on <a href="https://github.com/harrah/xsbt/wiki/Settings" target="_blank">scoping and settings</a>).</p> 
  <p>Note, the <code>commitReleaseVersion</code> step requires that the working directory has no untracked files by default. It will abort the release in this case. You may disable this check by setting the <code>releaseIgnoreUntrackedFiles</code> key to <code>true</code>.</p> 
  <h4><a id="user-content-no-git-and-no-toy-projects" class="anchor" href="https://github.com/sbt/sbt-release#no-git-and-no-toy-projects" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>No Git, and no toy projects!</h4> 
  <p>Let's modify the previous release process and remove the Git related steps, who uses that anyway.</p> 
  <pre><code>import ReleaseTransformations._

// ...

ReleaseKeys.releaseProcess := Seq[ReleaseStep](
  checkOrganization,                // Look Ma', my own release step!
  checkSnapshotDependencies,
  inquireVersions,
  runTest,
  setReleaseVersion,
  publishArtifacts,
  setNextVersion
)
</code></pre> 
  <p>Overall, the process stayed pretty much the same:</p> 
  <ul> 
   <li>The Git related steps were left out.</li> 
   <li>Our <code>checkOrganization</code> task was added in the beginning, just to be sure this is a serious project.</li> 
  </ul> 
  <h4><a id="user-content-release-notes-anyone" class="anchor" href="https://github.com/sbt/sbt-release#release-notes-anyone" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Release notes anyone?</h4> 
  <p>Now let's also add steps for <a href="https://github.com/n8han/posterous-sbt" target="_blank">posterous-sbt</a>:</p> 
  <pre><code>import posterous.Publish._
import ReleaseTransformations._

// ...

val publishReleaseNotes = (ref: ProjectRef) =&gt; ReleaseStep(
  check  = releaseStepTaskAggregated(check in Posterous in ref),   // upfront check
  action = releaseStepTaskAggregated(publish in Posterous in ref) // publish release notes
)

// ...

ReleaseKeys.releaseProcess &lt;&lt;= thisProjectRef apply { ref =&gt;
  import ReleaseStateTransformations._
  Seq[ReleaseStep](
    checkOrganization,
    checkSnapshotDependencies,
    inquireVersions,
    runTest,
    setReleaseVersion,
    publishArtifacts,
    publishReleaseNotes(ref) // we need to forward `thisProjectRef` for proper scoping of the underlying tasks
    setNextVersion
  )
}
</code></pre> 
  <p>The <code>check</code> part of the release step is run at the start, to make sure we have everything set up to post the release notes later on. After publishing the actual build artifacts, we also publish the release notes.</p> 
  <h2><a id="user-content-credits" class="anchor" href="https://github.com/sbt/sbt-release#credits" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Credits</h2> 
  <p>Thank you, <a href="https://github.com/retronym" target="_blank">Jason</a> and <a href="https://github.com/harrah" target="_blank">Mark</a>, for your feedback and ideas.</p> 
  <h2><a id="user-content-contributors" class="anchor" href="https://github.com/sbt/sbt-release#contributors" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contributors</h2> 
  <p><a href="https://github.com/jrudolph" target="_blank">Johannes Rudolph</a>, <a href="https://github.com/espenhw" target="_blank">Espen Wiborg</a>, <a href="https://github.com/ebowman" target="_blank">Eric Bowman</a>, <a href="https://github.com/pvalkone" target="_blank">Petteri Valkonen</a>, <a href="https://github.com/garycoady" target="_blank">Gary Coady</a>, <a href="https://github.com/laughedelic" target="_blank">Alexey Alekhin</a>, <a href="https://github.com/agustafson" target="_blank">Andrew Gustafson</a>, <a href="https://github.com/paulmdavies" target="_blank">Paul Davies</a>, <a href="https://github.com/savulchik" target="_blank">Stanislav Savulchik</a>, <a href="https://github.com/timvlaer" target="_blank">Tim Van Laer</a>, <a href="https://github.com/larsrh" target="_blank">Lars Hupel</a></p> 
  <h2><a id="user-content-license" class="anchor" href="https://github.com/sbt/sbt-release#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h2> 
  <p>Copyright (c) 2011-2014 Gerolf Seitz</p> 
  <p>Published under the <a href="http://www.apache.org/licenses/LICENSE-2.0.txt" target="_blank">Apache License 2.0</a></p> 
 </article>
</div>