<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-kafka-rx---" class="anchor" href="https://github.com/cjdev/kafka-rx#kafka-rx---" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>kafka-rx <a href="https://travis-ci.org/cjdev/kafka-rx" target="_blank"><img src="https://camo.githubusercontent.com/d8b4c6abdd4d7dd918f05a6bf8316efda54c0274/68747470733a2f2f7472617669732d63692e6f72672f636a6465762f6b61666b612d72782e737667" alt="Build Status" data-canonical-src="https://travis-ci.org/cjdev/kafka-rx.svg" style="max-width:100%;"></a> <a href="http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22com.cj%22%20AND%20a%3A%22kafka-rx_2.11%22" target="_blank"><img src="https://camo.githubusercontent.com/8e98038d5c735ed327e52ba2483dfadf343ce68f/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f636f6d2e636a2f6b61666b612d72785f322e31312e737667" alt="Maven Central" data-canonical-src="https://img.shields.io/maven-central/v/com.cj/kafka-rx_2.11.svg" style="max-width:100%;"></a> <a href="https://gitter.im/cjdev/kafka-rx?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" target="_blank"><img src="https://camo.githubusercontent.com/da2edb525cde1455a622c58c0effc3a90b9a181c/68747470733a2f2f6261646765732e6769747465722e696d2f4a6f696e253230436861742e737667" alt="Join the chat at https://gitter.im/cjdev/kafka-rx" data-canonical-src="https://badges.gitter.im/Join%20Chat.svg" style="max-width:100%;"></a></h1> 
  <p>General Purpose <a href="https://kafka.apache.org" target="_blank">Kafka</a> Client that Just Behaves</p> 
  <h4><a id="user-content-features" class="anchor" href="https://github.com/cjdev/kafka-rx#features" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Features</h4> 
  <ul> 
   <li>thin, reactive adapter around kafka's producer and consumer</li> 
   <li>per record, fine grained commits semantics</li> 
   <li>offset management to keep track of consumer positions</li> 
  </ul> 
  <h4><a id="user-content-consuming-records" class="anchor" href="https://github.com/cjdev/kafka-rx#consuming-records" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Consuming records:</h4> 
  <p>kafka-rx provides a push alternative to kafka's pull-based stream</p> 
  <p>To connect to your zookeeper cluster and process a stream:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">consumer</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">RxConsumer</span>(<span class="pl-s"><span class="pl-pds">"</span>zookeeper:2181<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>consumer-group<span class="pl-pds">"</span></span>)

consumer.getRecordStream(<span class="pl-s"><span class="pl-pds">"</span>cool-topic-(x|y|z)<span class="pl-pds">"</span></span>)
  .map(deserialize)
  .take(<span class="pl-c1">42</span> seconds)
  .foreach(println)

consumer.shutdown()</pre>
  </div> 
  <p>All of the standard <a href="http://rxmarbles.com/" target="_blank">rx transforms</a> are available on the resulting stream.</p> 
  <h4><a id="user-content-producing-records" class="anchor" href="https://github.com/cjdev/kafka-rx#producing-records" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Producing records</h4> 
  <p>kafka-rx can also be used to produce kafka streams</p> 
  <div class="highlight highlight-source-scala">
   <pre>tweetStream.map(parse)
  .groupBy(hashtag)
  .foreach { (tag, subStream) <span class="pl-k">=&gt;</span>
    subStream.map(toProducerRecord)
      .saveToKafka(kafkaProducer)
      .foreach { savedRecord <span class="pl-k">=&gt;</span>
        savedRecord.commit() <span class="pl-c"><span class="pl-c">//</span> checkpoint position in the source stream</span>
      }
  }</pre>
  </div> 
  <p>Check out the <a href="https://github.com/cjdev/kafka-rx/blob/master/examples/TopicTransformProducer.scala" target="_blank">words-to-WORDS</a> producer or the <a href="https://github.com/cjdev/kafka-rx/blob/master/examples/twitter-stream" target="_blank">twitter-stream</a> demo for a full working example.</p> 
  <h4><a id="user-content-reliable-record-processing" class="anchor" href="https://github.com/cjdev/kafka-rx#reliable-record-processing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Reliable Record Processing</h4> 
  <p>kafka-rx was built with reliable record processing in mind</p> 
  <p>To support this, every kafka-rx record has a <code>.commit()</code> method which optionally takes a user provided merge function, giving the program an opportunity to reconcile offsets with zookeeper and manage delivery guarantees.</p> 
  <div class="highlight highlight-source-scala">
   <pre>stream.buffer(<span class="pl-c1">23</span>).foreach { bucket <span class="pl-k">=&gt;</span>
  process(bucket)
  bucket.last.commit()
}</pre>
  </div> 
  <p>If you can afford possible gaps in record processing you can also use kafka's automatic offset commit behavior, but you are encouraged to manage commits yourself.</p> 
  <p>In general you should aim for idempotent processing, where it is no different to process a record once or many times. In addition, remember that records are delivered across different topic partitions in a non-deterministic order. If this is important you are encouraged to process each topic partition as an individual stream to ensure there is no interleaving.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">numStreams</span> <span class="pl-k">=</span> numPartitions
<span class="pl-k">val</span> <span class="pl-en">streams</span> <span class="pl-k">=</span> consumer.getRecordStreams(topic, numStreams)
<span class="pl-k">for</span> (stream <span class="pl-k">&lt;</span><span class="pl-k">-</span> streams) <span class="pl-k">yield</span> <span class="pl-en">Future</span> { process(stream) }</pre>
  </div> 
  <h4><a id="user-content-configuration" class="anchor" href="https://github.com/cjdev/kafka-rx#configuration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Configuration</h4> 
  <p>Wherever possible, kafka-rx delegates to kafka's internal configuration.</p> 
  <p>Use kafka's <code>ConsumerConfig</code> for configuring the consumer, and <code>ProducerConfig</code> for configuring your producer.</p> 
  <h4><a id="user-content-including-in-your-project" class="anchor" href="https://github.com/cjdev/kafka-rx#including-in-your-project" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Including in your project</h4> 
  <p>Currently kafka-rx is built against kafka 0.8.2.1 and scala 2.11, but should work fine with other similar versions.</p> 
  <p>From maven:</p> 
  <div class="highlight highlight-text-xml">
   <pre>&lt;<span class="pl-ent">dependency</span>&gt;
  &lt;<span class="pl-ent">groupId</span>&gt;com.cj&lt;/<span class="pl-ent">groupId</span>&gt;
  &lt;<span class="pl-ent">artifactId</span>&gt;kafka-rx_2.11&lt;/<span class="pl-ent">artifactId</span>&gt;
  &lt;<span class="pl-ent">version</span>&gt;0.3.1&lt;/<span class="pl-ent">version</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;</pre>
  </div> 
  <p>From sbt:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>com.cj<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>kafka-rx<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.3.1<span class="pl-pds">"</span></span></pre>
  </div> 
  <h4><a id="user-content-videos--examples" class="anchor" href="https://github.com/cjdev/kafka-rx#videos--examples" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Videos &amp; Examples</h4> 
  <p>For more code and help getting started, see the <a href="https://github.com/cjdev/kafka-rx/blob/master/examples/" target="_blank">examples</a>.</p> 
  <p>Or, if videos are more your style:</p> 
  <p><a href="http://www.youtube.com/watch?v=S-Ynyel9pkk" target="_blank"><img src="https://camo.githubusercontent.com/d15e0391f602f7ccb17ab565dca2199a1325d6a8/687474703a2f2f696d672e796f75747562652e636f6d2f76692f532d596e79656c39706b6b2f302e6a7067" alt="stream processing with kafka-rx" data-canonical-src="http://img.youtube.com/vi/S-Ynyel9pkk/0.jpg" style="max-width:100%;"></a></p> 
  <h4><a id="user-content-contributing" class="anchor" href="https://github.com/cjdev/kafka-rx#contributing" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Contributing</h4> 
  <p>Have a question, improvement, or something you want to discuss?</p> 
  <p>Issues and pull requests welcome!</p> 
  <h4><a id="user-content-license" class="anchor" href="https://github.com/cjdev/kafka-rx#license" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>License</h4> 
  <p>Eclipse Public License v.1 - Commission Junction 2015</p> 
 </article>
</div>