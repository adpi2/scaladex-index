<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-freasy-monad" class="anchor" href="https://github.com/thangiee/freasy-monad#freasy-monad" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Freasy Monad</h1> 
  <p>Freasy Monad library makes it <strong>easy</strong> to create <strong>Free Monad</strong> for <a href="https://github.com/typelevel/cats" target="_blank">typelevel/cats</a> and <a href="https://github.com/scalaz/scalaz" target="_blank">scalaz/scalaz</a>.</p> 
  <p>It also integrate nicely with Intellij through a plugin to provide proper highlighting &amp; code completion.</p> 
  <p>If you aren't afraid of bleeding edge, consider using the <a href="https://github.com/Thangiee/Freasy-Monad/tree/meta" target="_blank">meta branch</a> which uses the new <a href="http://scalameta.org/" target="_blank">scala.meta</a> macros. No IntelliJ plugin installation is require with this branch.</p> 
  <h2><a id="user-content-getting-started" class="anchor" href="https://github.com/thangiee/freasy-monad#getting-started" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting started</h2> 
  <p>Freasy Monad is currently available for Scala 2.11 and 2.12, and <a href="http://www.scala-js.org/" target="_blank">Scala.js</a>.</p> 
  <p>If you are using <code>cats</code>, add the following to your build.sbt:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-s"><span class="pl-pds">"</span>com.github.thangiee<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>freasy-monad<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.5.0<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>org.typelevel<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>cats<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.8.1<span class="pl-pds">"</span></span> 
)
addCompilerPlugin(<span class="pl-s"><span class="pl-pds">"</span>org.scalamacros<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>paradise<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>2.1.0<span class="pl-pds">"</span></span> cross <span class="pl-en">CrossVersion</span>.full)</pre>
  </div> 
  <p>If you are using <code>scalaz</code>, add the following to your build.sbt:</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-s"><span class="pl-pds">"</span>com.github.thangiee<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>freasy-monad<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.5.0<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>org.scalaz<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>scalaz-core<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>7.2.7<span class="pl-pds">"</span></span>
)
addCompilerPlugin(<span class="pl-s"><span class="pl-pds">"</span>org.scalamacros<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>paradise<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>2.1.0<span class="pl-pds">"</span></span> cross <span class="pl-en">CrossVersion</span>.full)</pre>
  </div> 
  <p>Starting with version <code>0.5.0</code>, group ID has been changed from <code>com.thangiee</code> to <code>com.github.thangiee</code>.</p> 
  <h2><a id="user-content-free-macro" class="anchor" href="https://github.com/thangiee/freasy-monad#free-macro" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a><code>@free</code> macro</h2> 
  <p>Key-value store example from <a href="http://typelevel.org/cats/datatypes/freemonad.html" target="_blank">cats website</a> using <code>free</code> macro:</p> 
  <div class="highlight highlight-source-scala">
   <pre>  <span class="pl-k">import</span> <span class="pl-v">cats.</span><span class="pl-v">_</span>
  <span class="pl-k">import</span> <span class="pl-v">cats.free.</span><span class="pl-v">_</span>
  <span class="pl-k">import</span> <span class="pl-v">freasymonad.cats.</span><span class="pl-v">free </span><span class="pl-c"><span class="pl-c">//</span> or freasymonad.scalaz.free</span>
  <span class="pl-k">import</span> <span class="pl-v">scala.collection.</span><span class="pl-v">mutable</span>

  <span class="pl-k">@</span>free <span class="pl-k">trait</span> <span class="pl-en">KVStore</span> {                     <span class="pl-c"><span class="pl-c">//</span> you can use any names you like</span>
    <span class="pl-k">type</span> <span class="pl-en">KVStoreF</span>[<span class="pl-en">A</span>] <span class="pl-k">=</span> <span class="pl-en">Free</span>[<span class="pl-en">GrammarADT</span>, <span class="pl-en">A</span>]  <span class="pl-c"><span class="pl-c">//</span> as long as you define a type alias for Free </span>
    <span class="pl-k">sealed</span> <span class="pl-k">trait</span> <span class="pl-en">GrammarADT</span>[<span class="pl-en">A</span>]              <span class="pl-c"><span class="pl-c">//</span> and a sealed trait.</span>

    <span class="pl-c"><span class="pl-c">//</span> abstract methods are automatically lifted into part of the grammar ADT</span>
    <span class="pl-k">def</span> <span class="pl-en">put</span>[<span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>, <span class="pl-v">value</span>: <span class="pl-en">T</span>)<span class="pl-k">:</span> <span class="pl-en">KVStoreF</span>[<span class="pl-k">Unit</span>]
    <span class="pl-k">def</span> <span class="pl-en">get</span>[<span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>)<span class="pl-k">:</span> <span class="pl-en">KVStoreF</span>[<span class="pl-en">Option</span>[<span class="pl-en">T</span>]]

    <span class="pl-k">def</span> <span class="pl-en">update</span>[<span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>, <span class="pl-v">f</span>: <span class="pl-en">T</span> <span class="pl-k">=&gt;</span> <span class="pl-en">T</span>)<span class="pl-k">:</span> <span class="pl-en">KVStoreF</span>[<span class="pl-k">Unit</span>] <span class="pl-k">=</span>
      <span class="pl-k">for</span> {
        vMaybe <span class="pl-k">&lt;</span><span class="pl-k">-</span> get[<span class="pl-en">T</span>](key)
        _      <span class="pl-k">&lt;</span><span class="pl-k">-</span> vMaybe.map(v <span class="pl-k">=&gt;</span> put[<span class="pl-en">T</span>](key, f(v))).getOrElse(<span class="pl-en">Free</span>.pure(()))
      } <span class="pl-k">yield</span> ()
  }

  <span class="pl-k">object</span> <span class="pl-en">Main</span> <span class="pl-k">extends</span> <span class="pl-e">App</span> {
    <span class="pl-k">import</span> <span class="pl-v">KVStore.ops.</span><span class="pl-v">_</span>
  
    <span class="pl-k">def</span> <span class="pl-en">program</span><span class="pl-k">:</span> <span class="pl-en">KVStoreF</span>[<span class="pl-en">Option</span>[<span class="pl-k">Int</span>]] <span class="pl-k">=</span>
      <span class="pl-k">for</span> {
        _ <span class="pl-k">&lt;</span><span class="pl-k">-</span> put(<span class="pl-s"><span class="pl-pds">"</span>wild-cats<span class="pl-pds">"</span></span>, <span class="pl-c1">2</span>)
        _ <span class="pl-k">&lt;</span><span class="pl-k">-</span> update[<span class="pl-k">Int</span>](<span class="pl-s"><span class="pl-pds">"</span>wild-cats<span class="pl-pds">"</span></span>, _ <span class="pl-k">+</span> <span class="pl-c1">12</span>)
        _ <span class="pl-k">&lt;</span><span class="pl-k">-</span> put(<span class="pl-s"><span class="pl-pds">"</span>tame-cats<span class="pl-pds">"</span></span>, <span class="pl-c1">5</span>)
        n <span class="pl-k">&lt;</span><span class="pl-k">-</span> get[<span class="pl-k">Int</span>](<span class="pl-s"><span class="pl-pds">"</span>wild-cats<span class="pl-pds">"</span></span>)
      } <span class="pl-k">yield</span> n
  
    <span class="pl-k">val</span> <span class="pl-en">impureInterpreter</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">KVStore.Interp</span>[<span class="pl-en">Id</span>] {
      <span class="pl-k">val</span> <span class="pl-en">kvs</span> <span class="pl-k">=</span> mutable.<span class="pl-en">Map</span>.empty[<span class="pl-k">String</span>, <span class="pl-en">Any</span>]
      <span class="pl-k">def</span> <span class="pl-en">get</span>[<span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>)<span class="pl-k">:</span> <span class="pl-en">Id</span>[<span class="pl-en">Option</span>[<span class="pl-en">T</span>]] <span class="pl-k">=</span> {
        println(s<span class="pl-s"><span class="pl-pds">"</span>get($key)<span class="pl-pds">"</span></span>)
        kvs.get(key).map(_.<span class="pl-c1">asInstanceOf</span>[<span class="pl-en">T</span>])
      }
      <span class="pl-k">def</span> <span class="pl-en">put</span>[<span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>, <span class="pl-v">value</span>: <span class="pl-en">T</span>)<span class="pl-k">:</span> <span class="pl-en">Id</span>[<span class="pl-k">Unit</span>] <span class="pl-k">=</span> {
        println(s<span class="pl-s"><span class="pl-pds">"</span>put($key, $value)<span class="pl-pds">"</span></span>)
        kvs(key) <span class="pl-k">=</span> value
      }
    }
    
    impureInterpreter.run(program)
  }</pre>
  </div> 
  <p>Above example for scalaz <a href="https://github.com/Thangiee/Freasy-Monad/blob/master/core/shared/src/test/scala/examples/scalaz/KVStore.scala" target="_blank">here</a>.</p> 
  <p>During compile time, <code>KVStore</code> is expanded to something similar to:</p> 
  <div class="highlight highlight-source-scala">
   <pre>  <span class="pl-k">object</span> <span class="pl-en">KVStore</span> {
    <span class="pl-k">import</span> <span class="pl-v">cats.</span><span class="pl-v">_</span>
    <span class="pl-k">import</span> <span class="pl-v">cats.free.</span><span class="pl-v">_</span>
    <span class="pl-k">import</span> <span class="pl-v">scala.language.</span><span class="pl-v">higherKinds</span>
    <span class="pl-k">sealed</span> <span class="pl-k">trait</span> <span class="pl-en">GrammarADT</span>[<span class="pl-en">A</span>]
    <span class="pl-k">object</span> <span class="pl-en">GrammarADT</span> {
      <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Put</span>[<span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>, <span class="pl-v">value</span>: <span class="pl-en">T</span>) <span class="pl-k">extends</span> <span class="pl-e">GrammarADT</span>[<span class="pl-k">Unit</span>]
      <span class="pl-k">case</span> <span class="pl-k">class</span> <span class="pl-en">Get</span>[<span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>) <span class="pl-k">extends</span> <span class="pl-e">GrammarADT</span>[<span class="pl-en">Option</span>[<span class="pl-en">T</span>]]
    }
    <span class="pl-k">object</span> <span class="pl-en">ops</span> {
      <span class="pl-k">type</span> <span class="pl-en">KVStoreF</span>[<span class="pl-en">A</span>] <span class="pl-k">=</span> <span class="pl-en">Free</span>[<span class="pl-en">GrammarADT</span>, <span class="pl-en">A</span>]
      <span class="pl-k">def</span> <span class="pl-en">put</span>[<span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>, <span class="pl-v">value</span>: <span class="pl-en">T</span>)<span class="pl-k">:</span> <span class="pl-en">KVStoreF</span>[<span class="pl-k">Unit</span>] <span class="pl-k">=</span> injectOps.put[<span class="pl-en">GrammarADT</span>, <span class="pl-en">T</span>](key, value)
      <span class="pl-k">def</span> <span class="pl-en">get</span>[<span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>)<span class="pl-k">:</span> <span class="pl-en">KVStoreF</span>[<span class="pl-en">Option</span>[<span class="pl-en">T</span>]] <span class="pl-k">=</span> injectOps.get[<span class="pl-en">GrammarADT</span>, <span class="pl-en">T</span>](key)
      <span class="pl-k">def</span> <span class="pl-en">update</span>[<span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>, <span class="pl-v">f</span>: <span class="pl-en">T</span> <span class="pl-k">=&gt;</span> <span class="pl-en">T</span>)<span class="pl-k">:</span> <span class="pl-en">KVStoreF</span>[<span class="pl-k">Unit</span>] <span class="pl-k">=</span> injectOps.update[<span class="pl-en">GrammarADT</span>, <span class="pl-en">T</span>](key, f) 
    }
    <span class="pl-k">object</span> <span class="pl-en">injectOps</span> {
      <span class="pl-k">def</span> <span class="pl-en">put</span>[<span class="pl-en">F</span>[_], <span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>, <span class="pl-v">value</span>: <span class="pl-en">T</span>)(<span class="pl-k">implicit</span> <span class="pl-en">I</span><span class="pl-k">:</span> <span class="pl-en">Inject</span>[<span class="pl-en">GrammarADT</span>, <span class="pl-en">F</span>])<span class="pl-k">:</span> <span class="pl-en">Free</span>[<span class="pl-en">F</span>, <span class="pl-k">Unit</span>] <span class="pl-k">=</span> <span class="pl-en">Free</span>.liftF(<span class="pl-en">I</span>.inj(<span class="pl-en">GrammarADT</span>.<span class="pl-en">Put</span>(key, value)));
      <span class="pl-k">def</span> <span class="pl-en">get</span>[<span class="pl-en">F</span>[_], <span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>)(<span class="pl-k">implicit</span> <span class="pl-en">I</span><span class="pl-k">:</span> <span class="pl-en">Inject</span>[<span class="pl-en">GrammarADT</span>, <span class="pl-en">F</span>])<span class="pl-k">:</span> <span class="pl-en">Free</span>[<span class="pl-en">F</span>, <span class="pl-en">Option</span>[<span class="pl-en">T</span>]] <span class="pl-k">=</span> <span class="pl-en">Free</span>.liftF(<span class="pl-en">I</span>.inj(<span class="pl-en">GrammarADT</span>.<span class="pl-en">Get</span>(key)));
      <span class="pl-k">def</span> <span class="pl-en">update</span>[<span class="pl-en">F</span>[_], <span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>, <span class="pl-v">f</span>: <span class="pl-en">T</span> <span class="pl-k">=&gt;</span> <span class="pl-en">T</span>)(<span class="pl-k">implicit</span> <span class="pl-en">I</span><span class="pl-k">:</span> <span class="pl-en">Inject</span>[<span class="pl-en">GrammarADT</span>, <span class="pl-en">F</span>])<span class="pl-k">:</span> <span class="pl-en">Free</span>[<span class="pl-en">F</span>, <span class="pl-k">Unit</span>] <span class="pl-k">=</span>
        <span class="pl-k">for</span> {
          vMaybe <span class="pl-k">&lt;</span><span class="pl-k">-</span> get[<span class="pl-en">F</span>, <span class="pl-en">T</span>](key)
          _      <span class="pl-k">&lt;</span><span class="pl-k">-</span> vMaybe.map(v <span class="pl-k">=&gt;</span> put[<span class="pl-en">F</span>, <span class="pl-en">T</span>](key, f(v))).getOrElse(<span class="pl-en">Free</span>.pure(()))
        } <span class="pl-k">yield</span> ()
    }
    <span class="pl-k">class</span> <span class="pl-en">Injects</span>[<span class="pl-en">F</span>[_]](<span class="pl-k">implicit</span> <span class="pl-en">I</span><span class="pl-k">:</span> <span class="pl-en">Inject</span>[<span class="pl-en">GrammarADT</span>, <span class="pl-en">F</span>]) {
      <span class="pl-k">def</span> <span class="pl-en">put</span>[<span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>, <span class="pl-v">value</span>: <span class="pl-en">T</span>)<span class="pl-k">:</span> <span class="pl-en">Free</span>[<span class="pl-en">F</span>, <span class="pl-k">Unit</span>] <span class="pl-k">=</span> injectOps.put[<span class="pl-en">F</span>, <span class="pl-en">T</span>](key, value);
      <span class="pl-k">def</span> <span class="pl-en">get</span>[<span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>)<span class="pl-k">:</span> <span class="pl-en">Free</span>[<span class="pl-en">F</span>, <span class="pl-en">Option</span>[<span class="pl-en">T</span>]] <span class="pl-k">=</span> injectOps.get[<span class="pl-en">F</span>, <span class="pl-en">T</span>](key);
      <span class="pl-k">def</span> <span class="pl-en">update</span>[<span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>, <span class="pl-v">f</span>: <span class="pl-en">T</span> <span class="pl-k">=&gt;</span> <span class="pl-en">T</span>)<span class="pl-k">:</span> <span class="pl-en">Free</span>[<span class="pl-en">F</span>, <span class="pl-k">Unit</span>] <span class="pl-k">=</span> injectOps.update[<span class="pl-en">F</span>, <span class="pl-en">T</span>](key, f)
    }
    <span class="pl-k">object</span> <span class="pl-en">Injects</span> {
      <span class="pl-k">implicit</span> <span class="pl-k">def</span> <span class="pl-en">injectOps</span>[<span class="pl-en">F</span>[_]](<span class="pl-k">implicit</span> <span class="pl-en">I</span><span class="pl-k">:</span> <span class="pl-en">Inject</span>[<span class="pl-en">GrammarADT</span>, <span class="pl-en">F</span>])<span class="pl-k">:</span> <span class="pl-en">Inject</span>[<span class="pl-en">F</span>] <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Inject</span>[<span class="pl-en">F</span>]()
    }
    <span class="pl-k">trait</span> <span class="pl-en">Interp</span>[<span class="pl-en">M</span>[_]] {
      <span class="pl-k">import</span> <span class="pl-v">ops.</span><span class="pl-v">_</span>
      <span class="pl-k">val</span> <span class="pl-en">interpreter</span> <span class="pl-k">=</span> new (<span class="pl-en">GrammarADT</span> <span class="pl-k">~</span><span class="pl-k">&gt;</span> <span class="pl-en">M</span>) {
        <span class="pl-k">def</span> <span class="pl-en">apply</span>[<span class="pl-en">A</span>](<span class="pl-v">fa</span>: <span class="pl-en">GrammarADT</span>[<span class="pl-en">A</span>])<span class="pl-k">:</span> <span class="pl-en">M</span>[<span class="pl-en">A</span>] <span class="pl-k">=</span> fa <span class="pl-k">match</span> {
          <span class="pl-k">case</span> <span class="pl-en">GrammarADT</span>.<span class="pl-en">Put</span>(key, value) <span class="pl-k">=&gt;</span> put(key, value)
          <span class="pl-k">case</span> <span class="pl-en">GrammarADT</span>.<span class="pl-en">Get</span>(key) <span class="pl-k">=&gt;</span> get(key)
        }
      }
      <span class="pl-k">def</span> <span class="pl-en">run</span>[<span class="pl-en">A</span>](<span class="pl-v">op</span>: <span class="pl-en">KVStoreF</span>[<span class="pl-en">A</span>])(<span class="pl-k">implicit</span> <span class="pl-v">m</span>: <span class="pl-en">Monad</span>[<span class="pl-en">M</span>])<span class="pl-k">:</span> <span class="pl-en">M</span>[<span class="pl-en">A</span>] <span class="pl-k">=</span> op.foldMap(interpreter)
      <span class="pl-k">def</span> <span class="pl-en">put</span>[<span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>, <span class="pl-v">value</span>: <span class="pl-en">T</span>)<span class="pl-k">:</span> <span class="pl-en">M</span>[<span class="pl-k">Unit</span>]
      <span class="pl-k">def</span> <span class="pl-en">get</span>[<span class="pl-en">T</span>](<span class="pl-v">key</span>: <span class="pl-k">String</span>)<span class="pl-k">:</span> <span class="pl-en">M</span>[<span class="pl-en">Option</span>[<span class="pl-en">T</span>]]
    }
  }</pre>
  </div> 
  <h3><a id="user-content-benefits" class="anchor" href="https://github.com/thangiee/freasy-monad#benefits" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Benefits</h3> 
  <ul> 
   <li> <p>From the expanded version, we can see that the <code>free</code> macro takes care most of the tedious parts when it comes to writing free monad. The macro uses our abstract methods to define the ADT case classes, create smart constructors to case classes, and do pattern matching on the ADT.</p> </li> 
   <li> <p>This library also generate <code>Inject</code> for composing Free monads ADTs. See example for <a href="https://github.com/Thangiee/Freasy-Monad/blob/master/core/shared/src/test/scala/examples/cats/ComposeFreeMonads.scala" target="_blank"><strong>cats</strong></a> and <a href="https://github.com/Thangiee/Freasy-Monad/blob/master/core/shared/src/test/scala/examples/scalaz/ComposeFreeMonads.scala" target="_blank"><strong>scalaz.</strong></a></p> </li> 
   <li> <p>Writing an interpreter using Intellij becomes a breeze:</p> <p><a href="https://cloud.githubusercontent.com/assets/4734933/18320271/c2904ed6-74ee-11e6-9202-bdb3fc3dc8c2.gif" target="_blank"><img src="https://cloud.githubusercontent.com/assets/4734933/18320271/c2904ed6-74ee-11e6-9202-bdb3fc3dc8c2.gif" alt="impl" style="max-width:100%;"></a></p> </li> 
   <li> <p>No more false error marks when writing interpreter with Intellij!</p> <p><a href="https://cloud.githubusercontent.com/assets/4734933/18316097/f5de4ff0-74de-11e6-8542-00daa28c04c7.png" target="_blank"><img src="https://cloud.githubusercontent.com/assets/4734933/18316097/f5de4ff0-74de-11e6-8542-00daa28c04c7.png" alt="regular-interp" style="max-width:100%;"></a> <a href="https://cloud.githubusercontent.com/assets/4734933/18316104/f9025b4a-74de-11e6-8b4f-8414df117cea.png" target="_blank"><img src="https://cloud.githubusercontent.com/assets/4734933/18316104/f9025b4a-74de-11e6-8b4f-8414df117cea.png" alt="freasy-monad-interp" style="max-width:100%;"></a></p> </li> 
  </ul> 
  <h3><a id="user-content-intellij-support" class="anchor" href="https://github.com/thangiee/freasy-monad#intellij-support" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>IntelliJ support</h3> 
  <p>Intellij users need to install the <strong>Freasy Monad Plugin</strong> to get proper highlighting &amp; code completion.</p> 
  <ol> 
   <li>Search and Install the plugin from IntelliJ. (settings &gt; plugins &gt; browse repos &gt; search for "Freasy Monad Plugin" &gt; install and restart)</li> 
  </ol> 
  <p>--<strong>OR</strong>--</p> 
  <ol> 
   <li> <p>Download the plugin from <a href="https://github.com/Thangiee/Freasy-Monad/tree/master/plugin/bin" target="_blank">https://github.com/Thangiee/Freasy-Monad/tree/master/plugin/bin</a></p> </li> 
   <li> <p>Go to settings, Plugins section, then click on install plugin from disc, and choose this plugin.</p> </li> 
  </ol> 
  <h3><a id="user-content-constraints" class="anchor" href="https://github.com/thangiee/freasy-monad#constraints" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Constraints</h3> 
  <p>There are some constraints on <code>@free trait</code>, and if violated, will result in a compiler error.</p> 
  <ul> 
   <li>Can not define <code>var</code>.</li> 
   <li>All <code>val</code> and <code>def</code> need to have explicit return type.</li> 
   <li>Abstract <code>val</code> and <code>def</code> must have return type of the defined type alias. From the example above, this would be <code>KVStoreF[...]</code>.</li> 
   <li><code>private</code> and <code>protected</code> access modifiers are not allow, use package-private instead.</li> 
  </ul> 
 </article>
</div>