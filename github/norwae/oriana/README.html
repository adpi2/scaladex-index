<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-oriana" class="anchor" href="https://github.com/norwae/oriana#oriana" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>oriana</h1> 
  <p>Oriana binds slick and akka together in an elegant way</p> 
  <p><a href="https://codeship.com/projects/142692" target="_blank"> <img src="https://camo.githubusercontent.com/d52892bdb0355165209b4c56228da8eca96844f6/68747470733a2f2f636f6465736869702e636f6d2f70726f6a656374732f38653233366561302d643631332d303133332d386662662d3465336134326163643164612f7374617475733f6272616e63683d6d6173746572" alt="Codeship Status for Norwae/oriana" data-canonical-src="https://codeship.com/projects/8e236ea0-d613-0133-8fbf-4e3a42acd1da/status?branch=master" style="max-width:100%;"></a></p> 
  <h2><a id="user-content-features" class="anchor" href="https://github.com/norwae/oriana#features" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Features</h2> 
  <p>This libray provides two simple features</p> 
  <h3><a id="user-content-initialization" class="anchor" href="https://github.com/norwae/oriana#initialization" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Initialization</h3> 
  <p>When deploying an application with a NoSQL persistence system, it is rarely necessary to explicitly initialize the datastore. Usually you simply configure the backend and get to work. With an SQL database, there are tables to be created, potentially updates to be performed and generally a degree of housekeeping required before the application itself can take control. Oriana is intended to aid in that housekeeping by delaying database access until all initialization tasks are complete.</p> 
  <p>Oriana ships with a simple initializer that iterates all tables and issues a create statement if they are found to be missing (access results in an error). More elaborate schemes (e.g. Liquibase support) can easily be build on top of this base function. Creating your schema becomes as easy as the following fragment</p> 
  <pre><code>val myDB = system.actorOf(DatabaseActor.props(new MyContext(config)), "database")
myDB ! Init
</code></pre> 
  <h3><a id="user-content-access-and-ease-of-use" class="anchor" href="https://github.com/norwae/oriana#access-and-ease-of-use" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Access and ease of use</h3> 
  <p>Access persistent data is often inconvenient. Actors need to be looked up, global objects need to be queried and failing operations need to be retried (especially when using optimistic locking). Oriana aims to reduce the notational overhead of these tasks by offering automatic retry support for transactions, and pseudo-operators producing a database access context. </p> 
  <pre><code>executeDBOperation { ctx: MyContext =&gt;
    import ctx.api._
    ctx.database.run(context.unicornTable.query.result.head)
}
</code></pre> 
  <p>The above simple fragment will return the first element of the unicornTable (probably a <code>TableAccess</code> instance), without requiring intricate knowledge about the specifics of scheduling and initialization.</p> 
  <pre><code>executeDBTransaction { ctx: MyContext =&gt;
    import ctx.api._
    ctx.unicornTable.query.result.headOption flatMap {
        case Some(pony) =&gt; DBIO.successful(pony)
        case None =&gt; ctx.unicornTable.query += DefaultUnicorn map (_ =&gt; DefaultUnicorn)
    }
}
</code></pre> 
  <p>The above fragment likewise queries for the first unicorn, but if none is found, instead inserts a default value before returning it. This is executed transactionally, and any failures encountered within the block will cause a delay and retry with a given schedule.</p> 
  <h3><a id="user-content-flows-and-streams-oh-my" class="anchor" href="https://github.com/norwae/oriana#flows-and-streams-oh-my" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Flows and Streams, oh my!</h3> 
  <p>Oriana integrates the database in all levels of Akka streams. Thus, it becomes easy, even natural to think of the database as a <code>Source</code> or as a <code>Sink</code> for some stream of data. Particularly in bulk import / export scenarios, this leads to very natural handling of data acquisition, transformation and storage. The build-in backpressure of akka streams allows to easily handle large datasets without danger of overloading your application or database.</p> 
 </article>
</div>