<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-xsbt-web-plugin" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#xsbt-web-plugin" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>xsbt-web-plugin</h1> 
  <p><em>Current release: 3.0.0</em></p> 
  <p>xsbt-web-plugin is an <a href="http://www.scala-sbt.org/" target="_blank">sbt</a> extension for building <a href="http://en.wikipedia.org/wiki/Java_Servlet" target="_blank">J2EE</a> Web applications in Scala and Java. It is best suited for projects that:</p> 
  <ul> 
   <li>Deploy to common cloud platforms (e.g. <a href="https://developers.google.com/appengine/" target="_blank">Google App Engine</a>, <a href="https://www.heroku.com/" target="_blank">Heroku</a>, <a href="https://console.aws.amazon.com/elasticbeanstalk/home" target="_blank">Elastic Beanstalk</a>, <a href="http://jelastic.com/" target="_blank">Jelastic</a>)</li> 
   <li>Deploy to production J2EE environments (e.g. Tomcat, Jetty, GlassFish, WebSphere)</li> 
   <li>Incorporate J2EE libraries (e.g. <a href="http://en.wikipedia.org/wiki/JavaServer_Pages" target="_blank">JSP</a>, <a href="http://en.wikipedia.org/wiki/JavaServer_Faces" target="_blank">JSF</a>, <a href="http://en.wikipedia.org/wiki/Ejb" target="_blank">EJB</a>)</li> 
   <li>Utilize J2EE technologies (e.g. <a href="http://docs.oracle.com/javaee/6/api/javax/servlet/Servlet.html" target="_blank"><code>Servlet</code></a>, <a href="http://docs.oracle.com/javaee/6/api/javax/servlet/Filter.html" target="_blank"><code>Filter</code></a>, <a href="http://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface" target="_blank">JNDI</a>)</li> 
   <li>Have a specific need to be packaged as a <a href="https://en.wikipedia.org/wiki/WAR_%28Sun_file_format%29" target="_blank"><em>.war</em> file</a></li> 
  </ul> 
  <p>For previous releases, see the <a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/docs" target="_blank">docs</a> directory. Releases follow <a href="https://earldouglas.com/posts/specver.html" target="_blank">Specified Versioning</a> guidelines.</p> 
  <h2><a id="user-content-requirements" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#requirements" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Requirements</h2> 
  <ul> 
   <li>Scala 2.10.2+</li> 
   <li>sbt 0.13.6+</li> 
  </ul> 
  <p><em>Scala 2.11 and 2.12 are <a href="https://github.com/earldouglas/xsbt-web-plugin/issues/166" target="_blank">not yet supported by sbt</a>.</em></p> 
  <h2><a id="user-content-quick-reference" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#quick-reference" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Quick reference</h2> 
  <p>Add xsbt-web-plugin to <em>project/plugins.sbt</em>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>addSbtPlugin(<span class="pl-s"><span class="pl-pds">"</span>com.earldouglas<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>xsbt-web-plugin<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>3.0.0<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p>Enable the Jetty plugin:</p> 
  <p><em>build.sbt</em>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>enablePlugins(<span class="pl-en">JettyPlugin</span>)</pre>
  </div> 
  <p>From the sbt console:</p> 
  <ul> 
   <li>Start (or restart) the container with <code>jetty:start</code></li> 
   <li>Stop the container with <code>jetty:stop</code></li> 
   <li>Build a <em>.war</em> file with <code>package</code></li> 
  </ul> 
  <p>To use Tomcat instead of Jetty:</p> 
  <ul> 
   <li>Substitute <code>TomcatPlugin</code> for <code>JettyPlugin</code></li> 
   <li>Substitute <code>tomcat:start</code> for <code>jetty:start</code></li> 
   <li>Substitute <code>tomcat:stop</code> for <code>jetty:stop</code></li> 
  </ul> 
  <h2><a id="user-content-starting-from-scratch" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#starting-from-scratch" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Starting from scratch</h2> 
  <p>Create a new empty project:</p> 
  <pre><code>mkdir myproject
cd myproject
</code></pre> 
  <p>Set up the project structure:</p> 
  <pre><code>mkdir project
mkdir -p src/main/scala
mkdir -p src/main/webapp/WEB-INF
</code></pre> 
  <p>Configure sbt:</p> 
  <p><em>project/build.properties:</em></p> 
  <pre><code>sbt.version=0.13.8
</code></pre> 
  <p><em>project/build.sbt:</em></p> 
  <div class="highlight highlight-source-scala">
   <pre>addSbtPlugin(<span class="pl-s"><span class="pl-pds">"</span>com.earldouglas<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>xsbt-web-plugin<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>3.0.0<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p><em>build.sbt:</em></p> 
  <div class="highlight highlight-source-scala">
   <pre>scalaVersion <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>2.11.6<span class="pl-pds">"</span></span>

libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>javax.servlet<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>javax.servlet-api<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>3.0.1<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>provided<span class="pl-pds">"</span></span>

enablePlugins(<span class="pl-en">JettyPlugin</span>)</pre>
  </div> 
  <p>Add a servlet:</p> 
  <p><em>src/main/scala/servlets.scala</em>:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">package</span> <span class="pl-en">servlets</span>

<span class="pl-k">import</span> <span class="pl-v">javax.servlet.http.</span><span class="pl-v">_</span>

<span class="pl-k">class</span> <span class="pl-en">MyServlet</span> <span class="pl-k">extends</span> <span class="pl-e">HttpServlet</span> {

  <span class="pl-k">override</span> <span class="pl-k">def</span> <span class="pl-en">doGet</span>(<span class="pl-v">request</span>: <span class="pl-en">HttpServletRequest</span>, <span class="pl-v">response</span>: <span class="pl-en">HttpServletResponse</span>) {
    response.setContentType(<span class="pl-s"><span class="pl-pds">"</span>text/html<span class="pl-pds">"</span></span>)
    response.setCharacterEncoding(<span class="pl-s"><span class="pl-pds">"</span>UTF-8<span class="pl-pds">"</span></span>)
    response.getWriter.write(<span class="pl-s"><span class="pl-pds">"""</span>&lt;h1&gt;Hello, world!&lt;/h1&gt;<span class="pl-pds">"""</span></span>)
  }

}</pre>
  </div> 
  <p><em>src/main/webapp/WEB-INF/web.xml</em>:</p> 
  <div class="highlight highlight-text-xml">
   <pre>&lt;<span class="pl-ent">web-app</span>&gt;

  &lt;<span class="pl-ent">servlet</span>&gt;
    &lt;<span class="pl-ent">servlet-name</span>&gt;my servlet&lt;/<span class="pl-ent">servlet-name</span>&gt;
    &lt;<span class="pl-ent">servlet-class</span>&gt;servlets.MyServlet&lt;/<span class="pl-ent">servlet-class</span>&gt;
  &lt;/<span class="pl-ent">servlet</span>&gt;

  &lt;<span class="pl-ent">servlet-mapping</span>&gt;
    &lt;<span class="pl-ent">servlet-name</span>&gt;my servlet&lt;/<span class="pl-ent">servlet-name</span>&gt;
    &lt;<span class="pl-ent">url-pattern</span>&gt;/*&lt;/<span class="pl-ent">url-pattern</span>&gt;
  &lt;/<span class="pl-ent">servlet-mapping</span>&gt;

&lt;/<span class="pl-ent">web-app</span>&gt;</pre>
  </div> 
  <h2><a id="user-content-configuration-and-use" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#configuration-and-use" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Configuration and use</h2> 
  <h3><a id="user-content-triggered-execution" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#triggered-execution" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Triggered execution</h3> 
  <p>xsbt-web-plugin supports sbt's <a href="http://www.scala-sbt.org/0.13/docs/Triggered-Execution.html" target="_blank">triggered execution</a> by prefixing commands with <code>~</code>.</p> 
  <p><em>sbt console:</em></p> 
  <pre><code>&gt; ~jetty:start
</code></pre> 
  <p>This starts the Jetty container, then monitors the sources, resources, and webapp directories for changes, which triggers a container restart.</p> 
  <h3><a id="user-content-container-arguments" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#container-arguments" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Container arguments</h3> 
  <p>To pass extra arguments to the Jetty or Tomcat container, set <code>containerArgs</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>containerArgs <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(<span class="pl-s"><span class="pl-pds">"</span>--path<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>/myservice<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <ul> 
   <li>For available Jetty arguments, see the <a href="http://www.eclipse.org/jetty/documentation/current/runner.html#_full_configuration_reference" target="_blank">Jetty Runner docs</a></li> 
   <li>For available Tomcat arguments, see <a href="https://github.com/jsimone/webapp-runner#options" target="_blank">webapp-runner#options</a></li> 
  </ul> 
  <h3><a id="user-content-custom-container" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#custom-container" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Custom container</h3> 
  <p>To use a custom J2EE container, e.g. a main class named <code>runner.Run</code>, enable <code>ContainerPlugin</code> and set <code>containerLibs</code> and <code>containerLaunchCmd</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>enablePlugins(<span class="pl-en">ContainerPlugin</span>)

containerLibs in <span class="pl-en">Container</span> <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
    <span class="pl-s"><span class="pl-pds">"</span>org.eclipse.jetty<span class="pl-pds">"</span></span> <span class="pl-k">%</span>  <span class="pl-s"><span class="pl-pds">"</span>jetty-webapp<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>9.1.0.v20131115<span class="pl-pds">"</span></span>
  , <span class="pl-s"><span class="pl-pds">"</span>org.eclipse.jetty<span class="pl-pds">"</span></span> <span class="pl-k">%</span>  <span class="pl-s"><span class="pl-pds">"</span>jetty-plus<span class="pl-pds">"</span></span>   <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>9.1.0.v20131115<span class="pl-pds">"</span></span>
  , <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>              <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>runner<span class="pl-pds">"</span></span>       <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.1.0-SNAPSHOT<span class="pl-pds">"</span></span>
)

containerLaunchCmd in <span class="pl-en">Container</span> <span class="pl-k">:</span><span class="pl-k">=</span>
  { (port, path) <span class="pl-k">=&gt;</span> <span class="pl-en">Seq</span>(<span class="pl-s"><span class="pl-pds">"</span>runner.Run<span class="pl-pds">"</span></span>, port.toString, path) }</pre>
  </div> 
  <p><em>sbt:</em></p> 
  <pre><code>&gt; container:start
&gt; container:stop
</code></pre> 
  <p><em>Example: <a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/container/custom-runner" target="_blank">container/custom-runner</a></em></p> 
  <h3><a id="user-content-forked-jvm-options" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#forked-jvm-options" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Forked JVM options</h3> 
  <p>To set system properties for the forked container JVM, set <code>containerForkOptions</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>containerForkOptions <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">ForkOptions</span>(runJVMOptions <span class="pl-k">=</span> <span class="pl-en">Seq</span>(<span class="pl-s"><span class="pl-pds">"</span>-Dh2g2=42<span class="pl-pds">"</span></span>))</pre>
  </div> 
  <p><em>Example: <a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/container/fork-options" target="_blank">container/fork-options</a></em></p> 
  <p>Alternatively, set <code>javaOptions</code> in the <code>Jetty</code> (or <code>Tomcat</code>) configuration:</p> 
  <div class="highlight highlight-source-scala">
   <pre>javaOptions in <span class="pl-en">Jetty</span> <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>-Dh2g2=42<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>To attach an Eclipse debugger, set <code>-Xdebug</code> and <code>-Xrunjdwp</code>:</p> 
  <p><em>build.sbt:</em></p> 
  <div class="highlight highlight-source-scala">
   <pre>javaOptions in <span class="pl-en">Jetty</span> <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-s"><span class="pl-pds">"</span>-Xdebug<span class="pl-pds">"</span></span>,
  <span class="pl-s"><span class="pl-pds">"</span>-Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000<span class="pl-pds">"</span></span>
)</pre>
  </div> 
  <p>This is a handy way to change configuration for local development and testing:</p> 
  <div class="highlight highlight-source-scala">
   <pre>javaOptions in <span class="pl-en">Jetty</span> <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>-DdbUrl=jdbc:sqlite:test.db<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>In Eclipse, create and run a new <em>Remote Java Application</em> launch configuration with a <em>Connection Type</em> of <em>Scala debugger (Socket Attach)</em>, set to connect to <em>localhost</em> on port <em>8000</em>.</p> 
  <p><em>Example: <a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/container/java-options" target="_blank">container/java-options</a></em></p> 
  <p>Similarly, to attach an IntelliJ IDEA debugger, add a Remote run configuration: <em>Run</em> -&gt; <em>Edit Configurations...</em> Under <em>Defaults</em> select <em>Remote</em> and push the "+" button to add a new configuration. By default the configuration will use port 5005. (Use the same port in the -Xrunjdwp address.) Name this configuration, and run it in debug mode.</p> 
  <h3><a id="user-content-debug-mode" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#debug-mode" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Debug mode</h3> 
  <p>To enable debugging through <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/introclientissues005.html" target="_blank">JDWP</a>, use <code>jetty:debug</code> or <code>tomcat:debug</code>. Optionally set <code>debugAddress</code>, which defaults to <code>"debug"</code> under Windows and <code>"8888"</code> otherwise, and <code>debugOptions</code>, which defaults to:</p> 
  <div class="highlight highlight-source-scala">
   <pre>port <span class="pl-k">=&gt;</span>
  <span class="pl-en">Seq</span>( <span class="pl-s"><span class="pl-pds">"</span>-Xdebug<span class="pl-pds">"</span></span>
     , <span class="pl-en">Seq</span>( <span class="pl-s"><span class="pl-pds">"</span>-Xrunjdwp:transport=dt_socket<span class="pl-pds">"</span></span>
          , <span class="pl-s"><span class="pl-pds">"</span>address=<span class="pl-pds">"</span></span> <span class="pl-k">+</span> port
          , <span class="pl-s"><span class="pl-pds">"</span>server=y<span class="pl-pds">"</span></span>
          , <span class="pl-s"><span class="pl-pds">"</span>suspend=n<span class="pl-pds">"</span></span>
          ).mkString(<span class="pl-s"><span class="pl-pds">"</span>,<span class="pl-pds">"</span></span>)
     )</pre>
  </div> 
  <h3><a id="user-content-jetty-version" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#jetty-version" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Jetty version</h3> 
  <p>By default, Jetty 9.4.1 is used. To use a different version, set <code>containerLibs</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>containerLibs in <span class="pl-en">Jetty</span> <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(<span class="pl-s"><span class="pl-pds">"</span>org.mortbay.jetty<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>jetty-runner<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>7.0.0.v20091005<span class="pl-pds">"</span></span> intransitive())</pre>
  </div> 
  <p>Depending on the version, it may also be necessary to specify the name of Jetty's runner:</p> 
  <div class="highlight highlight-source-scala">
   <pre>containerMain <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>org.mortbay.jetty.runner.Runner<span class="pl-pds">"</span></span></pre>
  </div> 
  <p><em>Examples:</em></p> 
  <ul> 
   <li><em><a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/container/jetty-7" target="_blank">container/jetty-7</a></em></li> 
   <li><em><a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/container/jetty-8" target="_blank">container/jetty-8</a></em></li> 
   <li><em><a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/container/jetty-9" target="_blank">container/jetty-9</a></em></li> 
  </ul> 
  <h3><a id="user-content-container-port" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#container-port" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Container port</h3> 
  <p>By default, the container runs on port <em>8080</em>. To use a different port, set <code>containerPort</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>containerPort <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-c1">9090</span></pre>
  </div> 
  <p><em>Examples:</em></p> 
  <ul> 
   <li><em><a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/container/jetty-port-9090" target="_blank">container/jetty-port-9090</a></em></li> 
   <li><em><a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/container/tomcat-port-9090" target="_blank">container/tomcat-port-9090</a></em></li> 
  </ul> 
  <h3><a id="user-content-jettyxml" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#jettyxml" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a><em>jetty.xml</em></h3> 
  <p>To use a <em>jetty.xml</em> configuration file, set <code>containerConfigFile</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>containerConfigFile <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-en">Some</span>(file(<span class="pl-s"><span class="pl-pds">"</span>etc/jetty.xml<span class="pl-pds">"</span></span>))</pre>
  </div> 
  <p>This option can be used to enable SSL and HTTPS.</p> 
  <p><em>Examples:</em></p> 
  <ul> 
   <li><em><a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/container/jetty-xml-http" target="_blank">container/jetty-xml-http</a></em></li> 
   <li><em><a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/container/jetty-xml-https" target="_blank">container/jetty-xml-https</a></em></li> 
  </ul> 
  <h3><a id="user-content-multi-project-applications" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#multi-project-applications" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Multi-project applications</h3> 
  <p><em>Examples:</em></p> 
  <ul> 
   <li><em><a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/container/multi-module-single-webapp" target="_blank">container/multi-module-single-webapp</a></em></li> 
   <li><em><a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/container/multi-module-multi-webapp" target="_blank">container/multi-module-multi-webapp</a></em></li> 
  </ul> 
  <h3><a id="user-content-tomcat-version" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#tomcat-version" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Tomcat version</h3> 
  <p>By default, Tomcat 8.5.9.0 is used. To use a different version, set <code>containerLibs</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>containerLibs in <span class="pl-en">Tomcat</span> <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(<span class="pl-s"><span class="pl-pds">"</span>com.github.jsimone<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>webapp-runner<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>7.0.34.1<span class="pl-pds">"</span></span> intransitive())</pre>
  </div> 
  <p>Depending on the version, it may also be necessary to specify the name of Tomcat's runner:</p> 
  <div class="highlight highlight-source-scala">
   <pre>containerMain in <span class="pl-en">Tomcat</span> <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>webapp.runner.launch.Main<span class="pl-pds">"</span></span></pre>
  </div> 
  <h3><a id="user-content-renaming-the-war-file" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#renaming-the-war-file" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Renaming the <em>.war</em> file</h3> 
  <p>This can be useful for keeping the version number out of the <em>.war</em> file name, using a non-conventional file name or path, adding additional information to the file name, etc.</p> 
  <div class="highlight highlight-source-scala">
   <pre>artifactName <span class="pl-k">:</span><span class="pl-k">=</span> { (<span class="pl-v">v</span>: <span class="pl-en">ScalaVersion</span>, <span class="pl-v">m</span>: <span class="pl-en">ModuleID</span>, <span class="pl-v">a</span>: <span class="pl-en">Artifact</span>) <span class="pl-k">=&gt;</span>
  a.name <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>.<span class="pl-pds">"</span></span> <span class="pl-k">+</span> a.extension
}</pre>
  </div> 
  <p>See <a href="http://www.scala-sbt.org/0.13/docs/Artifacts.html#Modifying+default+artifacts" target="_blank">"Modifying default artifacts"</a> in the sbt documentation for additional information.</p> 
  <h3><a id="user-content-massaging-the-war-file" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#massaging-the-war-file" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Massaging the <em>.war</em> file</h3> 
  <p>After the <em>/target/webapp</em> directory is prepared, it can be modified with an arbitrary <code>File =&gt; Unit</code> function by setting <code>webappPostProcess</code>.</p> 
  <p>To list the contents of the <em>webapp</em> directory after it is prepared:</p> 
  <div class="highlight highlight-source-scala">
   <pre>webappPostProcess <span class="pl-k">:</span><span class="pl-k">=</span> {
  <span class="pl-v">webappDir</span>: <span class="pl-en">File</span> <span class="pl-k">=&gt;</span>
    <span class="pl-k">def</span> <span class="pl-en">listFiles</span>(<span class="pl-v">level</span>: <span class="pl-k">Int</span>)(<span class="pl-v">f</span>: <span class="pl-en">File</span>)<span class="pl-k">:</span> <span class="pl-k">Unit</span> <span class="pl-k">=</span> {
      <span class="pl-k">val</span> <span class="pl-en">indent</span> <span class="pl-k">=</span> ((<span class="pl-c1">1</span> until level) map { _ <span class="pl-k">=&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>  <span class="pl-pds">"</span></span> }).mkString
      <span class="pl-k">if</span> (f.isDirectory) {
        streams.value.log.info(indent <span class="pl-k">+</span> f.getName <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span>)
        f.listFiles foreach { listFiles(level <span class="pl-k">+</span> <span class="pl-c1">1</span>) }
      } <span class="pl-k">else</span> streams.value.log.info(indent <span class="pl-k">+</span> f.getName)
    }
    listFiles(<span class="pl-c1">1</span>)(webappDir)
}</pre>
  </div> 
  <p>To include webapp resources from multiple directories in the prepared <em>webapp</em> directory:</p> 
  <div class="highlight highlight-source-scala">
   <pre>webappPostProcess <span class="pl-k">:</span><span class="pl-k">=</span> {
  <span class="pl-v">webappDir</span>: <span class="pl-en">File</span> <span class="pl-k">=&gt;</span>
    <span class="pl-k">val</span> <span class="pl-en">baseDir</span> <span class="pl-k">=</span> baseDirectory.value <span class="pl-k">/</span> <span class="pl-s"><span class="pl-pds">"</span>src<span class="pl-pds">"</span></span> <span class="pl-k">/</span> <span class="pl-s"><span class="pl-pds">"</span>main<span class="pl-pds">"</span></span>
    <span class="pl-en">IO</span>.copyDirectory(baseDir <span class="pl-k">/</span> <span class="pl-s"><span class="pl-pds">"</span>webapp1<span class="pl-pds">"</span></span>, webappDir)
    <span class="pl-en">IO</span>.copyDirectory(baseDir <span class="pl-k">/</span> <span class="pl-s"><span class="pl-pds">"</span>webapp2<span class="pl-pds">"</span></span>, webappDir)
    <span class="pl-en">IO</span>.copyDirectory(baseDir <span class="pl-k">/</span> <span class="pl-s"><span class="pl-pds">"</span>webapp3<span class="pl-pds">"</span></span>, webappDir)
}</pre>
  </div> 
  <p><em>Examples:</em></p> 
  <ul> 
   <li><em><a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/war/simple" target="_blank">war/simple</a></em></li> 
   <li><em><a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/webapp/yuicompressor" target="_blank">webapp/yuicompressor</a></em></li> 
  </ul> 
  <h3><a id="user-content-custom-resources-directory" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#custom-resources-directory" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Custom resources directory</h3> 
  <p>Files in the extra resource directory are not compiled, and are bundled directly in the project artifact <em>.jar</em> file.</p> 
  <p>To add a custom resources directory, set <code>unmanagedResourceDirectories</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>unmanagedResourceDirectories in <span class="pl-en">Compile</span> <span class="pl-k">&lt;</span><span class="pl-k">+</span><span class="pl-k">=</span> (sourceDirectory in <span class="pl-en">Compile</span>)(_ <span class="pl-k">/</span> <span class="pl-s"><span class="pl-pds">"</span>extra<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p><em>Example: <a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/webapp/unmanaged-resources" target="_blank">webapp/unmanaged-resources</a></em></p> 
  <h3><a id="user-content-custom-sources-directory" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#custom-sources-directory" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Custom sources directory</h3> 
  <p>Scala files in the extra source directory are compiled, and bundled in the project artifact <em>.jar</em> file.</p> 
  <p>To add a custom sources directory, set <code>unmanagedSourceDirectories</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>unmanagedSourceDirectories in <span class="pl-en">Compile</span> <span class="pl-k">&lt;</span><span class="pl-k">+</span><span class="pl-k">=</span> (sourceDirectory in <span class="pl-en">Compile</span>)(_ <span class="pl-k">/</span> <span class="pl-s"><span class="pl-pds">"</span>extra<span class="pl-pds">"</span></span>)</pre>
  </div> 
  <p><em>Example: <a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/webapp/unmanaged-sources" target="_blank">webapp/unmanaged-sources</a></em></p> 
  <h3><a id="user-content-utilizing-web-infclasses" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#utilizing-web-infclasses" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Utilizing <em>WEB-INF/classes</em></h3> 
  <p>By default, project classes are packaged into a <em>.jar</em> file, shipped in the <em>WEB-INF/lib</em> directory of the <em>.war</em> file. To instead keep them extracted in <em>WEB-INF/classes</em>, set <code>webappWebInfClasses</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>webappWebInfClasses <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-c1">true</span></pre>
  </div> 
  <p><em>Examples:</em></p> 
  <ul> 
   <li><em><a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/webapp/web-inf-classes" target="_blank">webapp/web-inf-classes</a></em></li> 
   <li><em><a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/webapp/web-inf-lib" target="_blank">webapp/web-inf-lib</a></em></li> 
  </ul> 
  <h3><a id="user-content-web-application-destination" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#web-application-destination" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Web application destination</h3> 
  <p>The Web application destination directory is where the static Web content, compiled Scala classes, library <em>.jar</em> files, etc. are placed. By default, they go to <em>/target/webapp</em>.</p> 
  <p>To specify a different directory, set <code>target</code> in the <code>webappPrepare</code> configuration:</p> 
  <div class="highlight highlight-source-scala">
   <pre>target in webappPrepare <span class="pl-k">:</span><span class="pl-k">=</span> target.value <span class="pl-k">/</span> <span class="pl-s"><span class="pl-pds">"</span>WebContent<span class="pl-pds">"</span></span></pre>
  </div> 
  <p><em>Example: <a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/webapp/webapp-dest" target="_blank">webapp/webapp-dest</a></em></p> 
  <h3><a id="user-content-web-application-resources" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#web-application-resources" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Web application resources</h3> 
  <p>The Web application resources directory is where static Web content (including <em>.html</em>, <em>.css</em>, and <em>.js</em> files, the <em>web.xml</em> container configuration file, etc. By default, this is kept in <em>/src/main/webapp</em>.</p> 
  <p>To specify a different directory, set <code>sourceDirectory</code> in the <code>webappPrepare</code> configuration:</p> 
  <div class="highlight highlight-source-scala">
   <pre>sourceDirectory in webappPrepare <span class="pl-k">:</span><span class="pl-k">=</span> (sourceDirectory in <span class="pl-en">Compile</span>).value <span class="pl-k">/</span> <span class="pl-s"><span class="pl-pds">"</span>WebContent<span class="pl-pds">"</span></span></pre>
  </div> 
  <p><em>Example: <a href="https://github.com/earldouglas/xsbt-web-plugin/blob/master/src/sbt-test/webapp/webapp-src" target="_blank">webapp/webapp-src</a></em></p> 
  <h3><a id="user-content-prepare-the-web-application-for-execution-and-deployment" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#prepare-the-web-application-for-execution-and-deployment" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Prepare the Web application for execution and deployment</h3> 
  <p>For situations when the prepared <em>/target/webapp</em> directory is needed, but the packaged <em>.war</em> file isn't.</p> 
  <p><em>sbt console:</em></p> 
  <pre><code>webappPrepare
</code></pre> 
  <h3><a id="user-content-add-manifest-attributes" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#add-manifest-attributes" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Add manifest attributes</h3> 
  <p>Manifest attributes of the <em>.war</em> file can be configured via <code>packageOptions in sbt.Keys.package</code> in <em>build.sbt</em>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>packageOptions in sbt.<span class="pl-en">Keys</span>.`package` <span class="pl-k">+</span><span class="pl-k">=</span>
  <span class="pl-en">Package</span>.<span class="pl-en">ManifestAttributes</span>( java.util.jar.<span class="pl-en">Attributes</span>.<span class="pl-en">Name</span>.<span class="pl-en">SEALED</span> <span class="pl-k">-</span><span class="pl-k">&gt;</span> <span class="pl-s"><span class="pl-pds">"</span>true<span class="pl-pds">"</span></span> )</pre>
  </div> 
  <h3><a id="user-content-inherit-manifest-attributes" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#inherit-manifest-attributes" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Inherit manifest attributes</h3> 
  <p>To configure the <em>.war</em> file to inherit the manifest attributes of the <em>.jar</em> file, typically set via <code>packageOptions in (Compile, packageBin)</code>, set <code>inheritJarManifest</code> to <code>true</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>inheritJarManifest <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-c1">true</span></pre>
  </div> 
  <h3><a id="user-content-container-shutdown-and-sbt" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#container-shutdown-and-sbt" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Container shutdown and sbt</h3> 
  <p>By default, sbt will shutdown the running container when exiting sbt.</p> 
  <p>To allow the container to continue running after sbt exits, set <code>containerShutdownOnExit</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>containerShutdownOnExit <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-c1">false</span></pre>
  </div> 
  <h2><a id="user-content-deploying-to-heroku" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#deploying-to-heroku" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Deploying to Heroku</h2> 
  <p>See <a href="https://github.com/earldouglas/sbt-heroku-deploy" target="_blank">sbt-heroku-deploy</a>.</p> 
  <h2><a id="user-content-block-sbt-on-running-container" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#block-sbt-on-running-container" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Block sbt on running container</h2> 
  <p>To start the container from the command line and block sbt from exiting prematurely, use <code>jetty:join</code>:</p> 
  <pre><code>$ sbt jetty:start jetty:join
</code></pre> 
  <p>This is useful for running sbt in production (e.g. in a Docker container).</p> 
  <h3><a id="user-content-quickstart-mode" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#quickstart-mode" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Quickstart mode</h3> 
  <p>The development cycle can be sped up by serving static resources directly from source, and avoiding packaging of compiled artifacts.</p> 
  <p>Use <code>&lt;container&gt;:quickstart</code> in place of <code>&lt;container&gt;:start</code> to run the container in quickstart mode:</p> 
  <pre><code>&gt; jetty:quickstart
</code></pre> 
  <p>Note that this necessarily circumvents any behavior set in <code>webappPostProcess</code>.</p> 
  <h3><a id="user-content-running-multiple-containers" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#running-multiple-containers" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Running multiple containers</h3> 
  <p>To launch using more than a single container, set <code>containerScale</code>:</p> 
  <div class="highlight highlight-source-scala">
   <pre>containerScale <span class="pl-k">:</span><span class="pl-k">=</span> <span class="pl-c1">5</span></pre>
  </div> 
  <p>This will configure the container to launch in five forked JVMs, using five sequential ports starting from <code>containerPort</code>.</p> 
  <p>In debug mode, five additional sequential debug ports starting from <code>debugPort</code> will be opened.</p> 
  <h4><a id="user-content-jrebel-integration" class="anchor" href="https://github.com/earldouglas/xsbt-web-plugin#jrebel-integration" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>JRebel integration</h4> 
  <p>The development cycle can be further sped up by skipping server restarts between code recompilation.</p> 
  <p>Add <code>-agentpath</code> to the container's JVM options:</p> 
  <pre><code>javaOptions in Jetty += "-agentpath:/path/to/jrebel/lib/libjrebel64.so"
</code></pre> 
  <p>Launch the container with <code>quickstart</code>, and run triggered compilation:</p> 
  <pre><code>&gt; jetty:quickstart
&gt; ~compile
</code></pre> 
 </article>
</div>