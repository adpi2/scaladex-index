<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a href="https://github.com/estatico/scala-newtype#newtype" aria-hidden="true" class="anchor" id="user-content-newtype" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>NewType</h1> 
  <p>NewTypes for Scala with no runtime overhead.</p> 
  <p><a href="https://travis-ci.org/estatico/scala-newtype" target="_blank"><img src="https://camo.githubusercontent.com/6439d1f08a4c20f4df1359b52300395201f30b5e/68747470733a2f2f7472617669732d63692e6f72672f657374617469636f2f7363616c612d6e6577747970652e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/estatico/scala-newtype.svg?branch=master" style="max-width:100%;"></a> <a href="https://gitter.im/estatico/scala-newtype" target="_blank"><img src="https://camo.githubusercontent.com/9b52186233ef85483f5c65b95243444e9392be66/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6769747465722d6a6f696e253230636861742d677265656e2e737667" alt="Gitter" data-canonical-src="https://img.shields.io/badge/gitter-join%20chat-green.svg" style="max-width:100%;"></a> <a href="https://maven-badges.herokuapp.com/maven-central/io.estatico/newtype_2.12" target="_blank"><img src="https://camo.githubusercontent.com/37b59e885a69dfcfc174bbef5da40e801ee6fbe8/68747470733a2f2f696d672e736869656c64732e696f2f6d6176656e2d63656e7472616c2f762f696f2e657374617469636f2f6e6577747970655f322e31322e737667" alt="Maven Central" data-canonical-src="https://img.shields.io/maven-central/v/io.estatico/newtype_2.12.svg" style="max-width:100%;"></a></p> 
  <h2><a href="https://github.com/estatico/scala-newtype#getting-newtype" aria-hidden="true" class="anchor" id="user-content-getting-newtype" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Getting NewType</h2> 
  <p>If you are using SBT, add the following line to your build file -</p> 
  <div class="highlight highlight-source-scala">
   <pre>libraryDependencies <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>io.estatico<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>newtype<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.1.0<span class="pl-pds">"</span></span></pre>
  </div> 
  <p>For Maven or other build tools, see the Maven Central badge at the top of this README.</p> 
  <h2><a href="https://github.com/estatico/scala-newtype#usage" aria-hidden="true" class="anchor" id="user-content-usage" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>The easiest way to get going is to create an object that extends from <code>NewType.Of</code> -</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">io.estatico.newtype.</span><span class="pl-v">NewType</span>

<span class="pl-k">object</span> <span class="pl-en">WidgetId</span> <span class="pl-k">extends</span> <span class="pl-e">NewType.Of</span>[<span class="pl-k">Int</span>]</pre>
  </div> 
  <p>This will function as your companion object. Use the <code>.Type</code> type member to get access to the type for signatures. A common pattern is to include this in a package object so it can be easily imported.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">package object</span> <span class="pl-en">types</span> {
  <span class="pl-k">type</span> <span class="pl-en">WidgetId</span> <span class="pl-k">=</span> <span class="pl-en">WidgetId</span>.<span class="pl-en">Type</span>
  <span class="pl-k">object</span> <span class="pl-en">WidgetId</span> <span class="pl-k">extends</span> <span class="pl-e">NewType.Of</span>[<span class="pl-k">Int</span>]
}</pre>
  </div> 
  <p>Now you can import <code>types.WidgetId</code> and use it in type signatures as well as the companion object.</p> 
  <h3><a href="https://github.com/estatico/scala-newtype#newtypeof-vs-newtypedefault" aria-hidden="true" class="anchor" id="user-content-newtypeof-vs-newtypedefault" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a><code>NewType.Of</code> vs. <code>NewType.Default</code></h3> 
  <p>Extending <code>NewType.Of</code> simply creates the newtype wrapper; however, you will often want to extend <code>NewType.Default</code> to provide some helper methods on the companion object -</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> Safely casts an Int to a WidgetId</span>
scala<span class="pl-k">&gt;</span> <span class="pl-en">WidgetId</span>(<span class="pl-c1">1</span>)
res0<span class="pl-k">:</span> <span class="pl-en">WidgetId</span>.<span class="pl-en">Type</span> <span class="pl-k">=</span> <span class="pl-c1">1</span>

<span class="pl-c"><span class="pl-c">//</span> Safely casts M[Int] to M[WidgetId]</span>
scala<span class="pl-k">&gt;</span> <span class="pl-en">WidgetId</span>.applyM(<span class="pl-en">List</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>))
res1<span class="pl-k">:</span> <span class="pl-en">List</span>[<span class="pl-en">WidgetId</span>.<span class="pl-en">Type</span>] <span class="pl-k">=</span> <span class="pl-en">List</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>)</pre>
  </div> 
  <p>See <code>NewTypeExtras</code> for the available mixins for creating newtype wrappers.</p> 
  <p>If you wish to do something different, you can supply your own smart-constructor instead -</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">object</span> <span class="pl-en">Nat</span> <span class="pl-k">extends</span> <span class="pl-e">NewType.Of</span>[<span class="pl-k">Int</span>] {
  <span class="pl-k">def</span> <span class="pl-en">apply</span>(<span class="pl-v">n</span>: <span class="pl-k">Int</span>)<span class="pl-k">:</span> <span class="pl-en">Option</span>[<span class="pl-en">Type</span>] <span class="pl-k">=</span> <span class="pl-k">if</span> (n <span class="pl-k">&lt;</span> <span class="pl-c1">0</span>) <span class="pl-c1">None</span> <span class="pl-k">else</span> <span class="pl-en">Some</span>(wrap(n))
}</pre>
  </div> 
  <p>The <code>wrap</code> method you see here is actually just explicit usage of the implicit instance of <code>Coercible[Int, Nat.Type]</code>. See the section on <a href="https://github.com/estatico/scala-newtype#coercible" target="_blank">Coercible</a> for more info.</p> 
  <h3><a href="https://github.com/estatico/scala-newtype#extension-methods" aria-hidden="true" class="anchor" id="user-content-extension-methods" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Extension methods</h3> 
  <p>You probably want to be able to add methods to your newtypes. You can do this using Scala's extension methods via implicit classes -</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">type</span> <span class="pl-en">Point</span> <span class="pl-k">=</span> <span class="pl-en">Point</span>.<span class="pl-en">Type</span>
<span class="pl-k">object</span> <span class="pl-en">Point</span> <span class="pl-k">extends</span> <span class="pl-e">NewType.Of</span>[(<span class="pl-k">Int</span>, <span class="pl-k">Int</span>)] {

  <span class="pl-k">def</span> <span class="pl-en">apply</span>(<span class="pl-v">x</span>: <span class="pl-k">Int</span>, <span class="pl-v">y</span>: <span class="pl-k">Int</span>)<span class="pl-k">:</span> <span class="pl-en">Type</span> <span class="pl-k">=</span> wrap((x, y))

  <span class="pl-k">implicit</span> <span class="pl-k">final</span> <span class="pl-k">class</span> <span class="pl-en">Ops</span>(<span class="pl-k">val</span> <span class="pl-en">self</span><span class="pl-k">:</span> <span class="pl-en">Type</span>) <span class="pl-k">extends</span> <span class="pl-e">AnyVal</span> {
    <span class="pl-k">def</span> <span class="pl-en">toTuple</span><span class="pl-k">:</span> (<span class="pl-k">Int</span>, <span class="pl-k">Int</span>) <span class="pl-k">=</span> unwrap(<span class="pl-c1">self</span>)
    <span class="pl-k">def</span> <span class="pl-en">x</span><span class="pl-k">:</span> <span class="pl-k">Int</span> <span class="pl-k">=</span> toTuple._1
    <span class="pl-k">def</span> <span class="pl-en">y</span><span class="pl-k">:</span> <span class="pl-k">Int</span> <span class="pl-k">=</span> toTuple._2
  }
}</pre>
  </div> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> <span class="pl-k">val</span> <span class="pl-en">p</span> <span class="pl-k">=</span> <span class="pl-en">Point</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>)
p<span class="pl-k">:</span> <span class="pl-en">Point</span>.<span class="pl-en">Type</span> <span class="pl-k">=</span> (<span class="pl-c1">1</span>,<span class="pl-c1">2</span>)

scala<span class="pl-k">&gt;</span> p.toTuple
res7<span class="pl-k">:</span> (<span class="pl-k">Int</span>, <span class="pl-k">Int</span>) <span class="pl-k">=</span> (<span class="pl-c1">1</span>,<span class="pl-c1">2</span>)

scala<span class="pl-k">&gt;</span> p.x
res8<span class="pl-k">:</span> <span class="pl-k">Int</span> <span class="pl-k">=</span> <span class="pl-c1">1</span>

scala<span class="pl-k">&gt;</span> p.y
res9<span class="pl-k">:</span> <span class="pl-k">Int</span> <span class="pl-k">=</span> <span class="pl-c1">2</span></pre>
  </div> 
  <h3><a href="https://github.com/estatico/scala-newtype#type-class-instances-and-implicits" aria-hidden="true" class="anchor" id="user-content-type-class-instances-and-implicits" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Type class instances and implicits</h3> 
  <p>As mentioned, the object you create via extending one of the <code>NewType</code> helpers functions as the companion object for your newtype. As such, you can leverage this for type class instances to avoid orphan instances -</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">object</span> <span class="pl-en">Nat</span> <span class="pl-k">extends</span> <span class="pl-e">NewType.Of</span>[<span class="pl-k">Int</span>] {
  <span class="pl-k">implicit</span> <span class="pl-k">val</span> <span class="pl-en">show</span><span class="pl-k">:</span> <span class="pl-en">Show</span>[<span class="pl-en">Type</span>] <span class="pl-k">=</span> <span class="pl-en">Show</span>.instance(_.toString)
}</pre>
  </div> 
  <p>If you use <code>NewType.Default</code>, you can use the <code>deriving</code> method to derive type class instances for those that exist for your newtype's base type.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">object</span> <span class="pl-en">Nat</span> <span class="pl-k">extends</span> <span class="pl-e">NewType.Default</span>[<span class="pl-k">Int</span>] {
  <span class="pl-k">implicit</span> <span class="pl-k">def</span> <span class="pl-en">show</span><span class="pl-k">:</span> <span class="pl-en">Show</span>[<span class="pl-en">Type</span>] <span class="pl-k">=</span> deriving
}</pre>
  </div> 
  <p>As long as an implicit instance of <code>Show[Int]</code> exists in scope, <code>deriving</code> will cast the instance to one suitable for your newtype. This is similar to GHC Haskell's <code>GeneralizedNewtypeDeriving</code> extension.</p> 
  <h3><a href="https://github.com/estatico/scala-newtype#newsubtype" aria-hidden="true" class="anchor" id="user-content-newsubtype" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>NewSubType</h3> 
  <p>With <code>NewType</code>, you get a brand new type that can't be used as the type you are wrapping.</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">type</span> <span class="pl-en">Nat</span> <span class="pl-k">=</span> <span class="pl-en">Nat</span>.<span class="pl-en">Type</span>
<span class="pl-k">object</span> <span class="pl-en">Nat</span> <span class="pl-k">extends</span> <span class="pl-e">NewType.Default</span>[<span class="pl-k">Int</span>]

<span class="pl-k">def</span> <span class="pl-en">plus</span>(<span class="pl-v">x</span>: <span class="pl-k">Int</span>, <span class="pl-v">y</span>: <span class="pl-k">Int</span>)<span class="pl-k">:</span> <span class="pl-k">Int</span> <span class="pl-k">=</span> x <span class="pl-k">+</span> y</pre>
  </div> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> plus(<span class="pl-en">Nat</span>(<span class="pl-c1">1</span>), <span class="pl-en">Nat</span>(<span class="pl-c1">2</span>))
&lt;<span class="pl-ent">console</span>&gt;<span class="pl-k">:</span><span class="pl-c1">19</span><span class="pl-k">:</span> <span class="pl-v">error</span>: <span class="pl-k">type</span> <span class="pl-en">mismatch</span>;
 <span class="pl-v">found</span>   : <span class="pl-en">Nat</span>.<span class="pl-en">Type</span>
 <span class="pl-v">required</span>: <span class="pl-k">Int</span></pre>
  </div> 
  <p>If you wish for your newtype to be a subtype of the type you are wrapping, you can use <code>NewSubType</code> -</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">type</span> <span class="pl-en">Nat</span> <span class="pl-k">=</span> <span class="pl-en">Nat</span>.<span class="pl-en">Type</span>
<span class="pl-k">object</span> <span class="pl-en">Nat</span> <span class="pl-k">extends</span> <span class="pl-e">NewSubType.Default</span>[<span class="pl-k">Int</span>]

<span class="pl-k">def</span> <span class="pl-en">plus</span>(<span class="pl-v">x</span>: <span class="pl-k">Int</span>, <span class="pl-v">y</span>: <span class="pl-k">Int</span>)<span class="pl-k">:</span> <span class="pl-k">Int</span> <span class="pl-k">=</span> x <span class="pl-k">+</span> y</pre>
  </div> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> plus(<span class="pl-en">Nat</span>(<span class="pl-c1">1</span>), <span class="pl-en">Nat</span>(<span class="pl-c1">2</span>))
res0<span class="pl-k">:</span> <span class="pl-k">Int</span> <span class="pl-k">=</span> <span class="pl-c1">3</span></pre>
  </div> 
  <h3><a href="https://github.com/estatico/scala-newtype#coercible" aria-hidden="true" class="anchor" id="user-content-coercible" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Coercible</h3> 
  <p>This library introduces the <code>Coercible</code> type class for types that can safely be cast to/from newtypes. This is mostly useful when you want to write code that can work generically with newtypes or to simply leverage the compiler to tell you when you can do <code>.asInstanceOf</code>.</p> 
  <p><strong>NOTE: You generally shouldn't be creating instances of Coercible yourself.</strong> This library is designed to create the instances needed for you which are safe. If you manually create instances, you may be permitting unsafe operations which will lead to runtime casting errors.</p> 
  <p>With that out of the way, here's how we can do safe casting with Coercible -</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">type</span> <span class="pl-en">Point</span> <span class="pl-k">=</span> <span class="pl-en">Point</span>.<span class="pl-en">Type</span>
<span class="pl-k">object</span> <span class="pl-en">Point</span> <span class="pl-k">extends</span> <span class="pl-e">NewType.Of</span>[(<span class="pl-k">Int</span>, <span class="pl-k">Int</span>)]</pre>
  </div> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> <span class="pl-en">Coercible</span>[<span class="pl-en">Point</span>, (<span class="pl-k">Int</span>, <span class="pl-k">Int</span>)]
res10<span class="pl-k">:</span> io.estatico.newtype.<span class="pl-en">Coercible</span>[<span class="pl-en">Point</span>,(<span class="pl-k">Int</span>, <span class="pl-k">Int</span>)] <span class="pl-k">=</span> io.estatico.newtype.<span class="pl-en">Coercible</span>$$anon$<span class="pl-c1">1</span><span class="pl-k">@</span>56c24c2a

scala<span class="pl-k">&gt;</span> <span class="pl-en">Coercible</span>[(<span class="pl-k">Int</span>, <span class="pl-k">Int</span>), <span class="pl-en">Point</span>]
res11<span class="pl-k">:</span> io.estatico.newtype.<span class="pl-en">Coercible</span>[(<span class="pl-k">Int</span>, <span class="pl-k">Int</span>),<span class="pl-en">Point</span>] <span class="pl-k">=</span> io.estatico.newtype.<span class="pl-en">Coercible</span>$$anon$<span class="pl-c1">1</span><span class="pl-k">@</span>56c24c2a

scala<span class="pl-k">&gt;</span> <span class="pl-en">Coercible</span>[<span class="pl-k">String</span>, <span class="pl-en">Point</span>]
&lt;<span class="pl-ent">console</span>&gt;<span class="pl-k">:</span><span class="pl-c1">21</span><span class="pl-k">:</span> <span class="pl-v">error</span>: could not find <span class="pl-k">implicit</span> value <span class="pl-k">for</span> parameter <span class="pl-v">ev</span>: io.estatico.newtype.<span class="pl-en">Coercible</span>[<span class="pl-k">String</span>,<span class="pl-en">Point</span>]
       <span class="pl-en">Coercible</span>[<span class="pl-k">String</span>, <span class="pl-en">Point</span>]</pre>
  </div> 
  <p>This library provides extension methods for safe casting as well -</p> 
  <div class="highlight highlight-source-scala">
   <pre>scala<span class="pl-k">&gt;</span> <span class="pl-k">import</span> <span class="pl-v">io.estatico.newtype.ops.</span><span class="pl-v">_</span>
<span class="pl-k">import</span> <span class="pl-v">io.estatico.newtype.ops.</span><span class="pl-v">_</span>

scala<span class="pl-k">&gt;</span> <span class="pl-k">val</span> <span class="pl-en">p</span> <span class="pl-k">=</span> <span class="pl-en">Point</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>)
p<span class="pl-k">:</span> <span class="pl-en">Point</span>.<span class="pl-en">Type</span> <span class="pl-k">=</span> (<span class="pl-c1">1</span>,<span class="pl-c1">2</span>)

scala<span class="pl-k">&gt;</span> p.coerce[(<span class="pl-k">Int</span>, <span class="pl-k">Int</span>)]
res14<span class="pl-k">:</span> (<span class="pl-k">Int</span>, <span class="pl-k">Int</span>) <span class="pl-k">=</span> (<span class="pl-c1">1</span>,<span class="pl-c1">2</span>)

scala<span class="pl-k">&gt;</span> (<span class="pl-c1">3</span>, <span class="pl-c1">4</span>).coerce[<span class="pl-en">Point</span>]
res15<span class="pl-k">:</span> <span class="pl-en">Point</span> <span class="pl-k">=</span> (<span class="pl-c1">3</span>,<span class="pl-c1">4</span>)

scala<span class="pl-k">&gt;</span> (<span class="pl-c1">3.2</span>, <span class="pl-c1">4.3</span>).coerce[<span class="pl-en">Point</span>]
&lt;<span class="pl-ent">console</span>&gt;<span class="pl-k">:</span><span class="pl-c1">24</span><span class="pl-k">:</span> <span class="pl-v">error</span>: could not find <span class="pl-k">implicit</span> value <span class="pl-k">for</span> parameter <span class="pl-v">ev</span>: io.estatico.newtype.<span class="pl-en">Coercible</span>[(<span class="pl-k">Double</span>, <span class="pl-k">Double</span>),<span class="pl-en">Point</span>]
       (<span class="pl-c1">3.2</span>, <span class="pl-c1">4.3</span>).coerce[<span class="pl-en">Point</span>]
                        ^</pre>
  </div> 
  <h2><a href="https://github.com/estatico/scala-newtype#motivation" aria-hidden="true" class="anchor" id="user-content-motivation" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Motivation</h2> 
  <p>The Haskell language provides a <code>newtype</code> keyword for creating new types from existing ones without runtime overhead.</p> 
  <div class="highlight highlight-source-haskell">
   <pre><span class="pl-k">newtype</span> <span class="pl-en">WidgetId</span> <span class="pl-k">=</span> <span class="pl-ent">WidgetId</span> <span class="pl-en"><span class="pl-c1">Int</span></span>

<span class="pl-en">lookupWidget</span> <span class="pl-k">::</span> <span class="pl-en">WidgetId</span> <span class="pl-k">-&gt;</span> <span class="pl-en"><span class="pl-c1">Maybe</span></span> <span class="pl-en">Widget</span>
lookupWidget (<span class="pl-ent">WidgetId</span> wId) <span class="pl-k">=</span> <span class="pl-c1">lookup</span> wId widgetDB</pre>
  </div> 
  <p>In the example above, the <code>WidgetId</code> type is simply an <code>Int</code> at runtime; however, the compiler will treat it as its own type at compile time, helping you to avoid errors. In this case, we can be sure that the ID we are providing to our <code>lookupWidget</code> function refers to a <code>WidgetId</code> and not some other entity nor an arbitrary <code>Int</code> value.</p> 
  <p>This library attempts to bring newtypes to Scala.</p> 
  <h3><a href="https://github.com/estatico/scala-newtype#tagged-types" aria-hidden="true" class="anchor" id="user-content-tagged-types" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Tagged Types</h3> 
  <p>Both Scalaz and Shapeless provide a feature known as <em>Tagged Types</em>. This library operates on roughly the same principle except provides the proper infrastructure needed to -</p> 
  <ul> 
   <li>Control whether newtypes are or are not subtypes of their wrapped type instead of picking a side (Shapeless' are subtypes, Scalaz's are not)</li> 
   <li>Easily provide methods for newtypes</li> 
   <li>Resolve implicits and type class instances defined in the companion object</li> 
   <li>Optimize constructing newtypes via casting with automatic smart constructors</li> 
   <li>Provide facilities to operate generically on newtypes</li> 
   <li>Support safe casting generically via the <code>Coercible</code> type class</li> 
  </ul> 
 </article>
</div>