<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-scala-runtime-manifest--" class="anchor" href="https://github.com/deaktator/scala-runtime-manifest#scala-runtime-manifest--" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>scala-runtime-manifest <a href="https://travis-ci.org/deaktator/scala-runtime-manifest" target="_blank"><img src="https://camo.githubusercontent.com/609bc5d3ee926c96547696fac2ab69f3f6df0766/68747470733a2f2f7472617669732d63692e6f72672f6465616b7461746f722f7363616c612d72756e74696d652d6d616e69666573742e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/deaktator/scala-runtime-manifest.svg?branch=master" style="max-width:100%;"></a> <a href="http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22com.github.deaktator%22" target="_blank"></a><a href="https://maven-badges.herokuapp.com/maven-central/com.github.deaktator/scala-runtime-manifest_2.10" target="_blank"><img src="https://camo.githubusercontent.com/02730aff63cc523acec95274c1cd91a325a43525/68747470733a2f2f6d6176656e2d6261646765732e6865726f6b756170702e636f6d2f6d6176656e2d63656e7472616c2f636f6d2e6769746875622e6465616b7461746f722f7363616c612d72756e74696d652d6d616e69666573745f322e31302f62616467652e737667" alt="Maven Central" data-canonical-src="https://maven-badges.herokuapp.com/maven-central/com.github.deaktator/scala-runtime-manifest_2.10/badge.svg" style="max-width:100%;"></a></h1> 
  <p><a href="https://github.com/deaktator/scala-runtime-manifest" target="_blank">scala-runtime-manifest</a> generates untyped <code>scala.reflect.Manifest[_]</code> instances at runtime. While this is most important for in Scala 2.10, the project is cross built for Scala 2.10, 2.11 and 2.12 in the case that more recent code based on 2.11+ is using "legacy" reflection code.</p> 
  <p>This can be useful in situations when a <code>Manifest</code> needs to be created outside of Scala compiler, for instance in interop code. An example would be Java calling a Scala library whose API requires a <code>Manifest</code>. Typically, this is somewhat of a pain but this little library makes it easy to produce a <code>Manifest</code>. It's also useful for configuration in <a href="http://spring.io" target="_blank">Spring</a>.</p> 
  <p>This library could have used <a href="http://www.scala-lang.org/api/2.11.1/scala-compiler/index.html#scala.tools.reflect.ToolBox" target="_blank">toolboxes</a> but they were avoided because of some of the thread-safety bugs in Scala 2.10. Instead the library is based on parser combinators and making calls to the <code>Manifest</code> classes directly. Hopefully this will avoid an thread-safety bugs. See the test <a href="https://github.com/deaktator/scala-runtime-manifest/blob/master/src/test/scala/deaktator/reflect/runtime/manifest/ManifestParserTest.scala#L147" target="_blank">work correctly when called in parallel</a>.</p> 
  <h2><a id="user-content-importing-into-your-project" class="anchor" href="https://github.com/deaktator/scala-runtime-manifest#importing-into-your-project" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Importing into your project</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-c"><span class="pl-c">//</span> In your build.sbt</span>
libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-s"><span class="pl-pds">"</span>com.github.deaktator<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>scala-runtime-manifest<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>1.0.0<span class="pl-pds">"</span></span>
)</pre>
  </div> 
  <p><em>OR</em></p> 
  <div class="highlight highlight-text-xml">
   <pre><span class="pl-c"><span class="pl-c">&lt;!--</span> In Maven pom.xml <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">dependency</span>&gt;
  &lt;<span class="pl-ent">groupId</span>&gt;com.github.deaktator&lt;/<span class="pl-ent">groupId</span>&gt;
  &lt;<span class="pl-ent">artifactId</span>&gt;scala-runtime-manifest_2.10&lt;/<span class="pl-ent">artifactId</span>&gt; <span class="pl-c"><span class="pl-c">&lt;!--</span> OR _2.11 OR _2.12 <span class="pl-c">--&gt;</span></span>
  &lt;<span class="pl-ent">version</span>&gt;1.0.0&lt;/<span class="pl-ent">version</span>&gt;
&lt;/<span class="pl-ent">dependency</span>&gt;</pre>
  </div> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/deaktator/scala-runtime-manifest#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">import</span> <span class="pl-v">deaktator.reflect.runtime.manifest.</span><span class="pl-v">ManifestParser</span>

<span class="pl-k">val</span> <span class="pl-en">compilerGeneratedManifest</span> <span class="pl-k">=</span> manifest[<span class="pl-en">Seq</span>[<span class="pl-k">String</span>]]

<span class="pl-c"><span class="pl-c">//</span> Manifest on the right if successful.</span>
<span class="pl-c"><span class="pl-c">//</span> Error message are on the left if a failure occurred.</span>
<span class="pl-k">val</span> <span class="pl-en">parsed</span><span class="pl-k">:</span> <span class="pl-en">Either</span>[<span class="pl-k">String</span>, <span class="pl-en">Manifest</span>[_]] <span class="pl-k">=</span>
  <span class="pl-en">ManifestParser</span>.parse(<span class="pl-s"><span class="pl-pds">"</span>scala.collection.Seq[java.lang.String]<span class="pl-pds">"</span></span>)

<span class="pl-c"><span class="pl-c">//</span> For expository purposes.</span>
parsed <span class="pl-k">match</span> {
  <span class="pl-k">case</span> <span class="pl-en">Right</span>(runtimeGeneratedManifest) <span class="pl-k">=&gt;</span>
    assert(runtimeGeneratedManifest <span class="pl-k">==</span> compilerGeneratedManifest, <span class="pl-s"><span class="pl-pds">"</span>Should be the same.<span class="pl-pds">"</span></span>)
  <span class="pl-k">case</span> <span class="pl-en">Left</span>(errorMessage) <span class="pl-k">=&gt;</span>
    assert(<span class="pl-c1">false</span>, s<span class="pl-s"><span class="pl-pds">"</span>Failed with message: $errorMessage<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
 </article>
</div>