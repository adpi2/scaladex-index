<div class="announce instapaper_body md" data-path="README.md" id="readme">
 <article class="markdown-body entry-content" itemprop="text">
  <h1><a id="user-content-longest-prefix-match" class="anchor" href="https://github.com/mkroli/lpm#longest-prefix-match" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Longest Prefix Match</h1> 
  <h2><a id="user-content-overview" class="anchor" href="https://github.com/mkroli/lpm#overview" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Overview</h2> 
  <p>Longest Prefix Match is an implementation of an associative array which doesn't associate keys to values using either the <code>equals()</code> or the <code>hashCode()</code>. Instead it compares the beginning of a String with the containing keys. The longest possible match will be associated and the value be returned. That means that if a value with a key of length N was inserted, any value which was inserted with a key of length N-X (where X &gt; 0) will only be a result of queries for matching strings with the length of N-Y (where Y â‰¥ X).</p> 
  <h2><a id="user-content-setup" class="anchor" href="https://github.com/mkroli/lpm#setup" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Setup</h2> 
  <h3><a id="user-content-sbt" class="anchor" href="https://github.com/mkroli/lpm#sbt" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>sbt</h3> 
  <div class="highlight highlight-source-scala">
   <pre>resolvers <span class="pl-k">+</span><span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>bintray-jcenter<span class="pl-pds">"</span></span> at <span class="pl-s"><span class="pl-pds">"</span>http://jcenter.bintray.com<span class="pl-pds">"</span></span>

libraryDependencies <span class="pl-k">++</span><span class="pl-k">=</span> <span class="pl-en">Seq</span>(
  <span class="pl-s"><span class="pl-pds">"</span>com.github.mkroli.lpm<span class="pl-pds">"</span></span> <span class="pl-k">%%</span> <span class="pl-s"><span class="pl-pds">"</span>lpm<span class="pl-pds">"</span></span> <span class="pl-k">%</span> <span class="pl-s"><span class="pl-pds">"</span>0.7<span class="pl-pds">"</span></span>
)</pre>
  </div> 
  <h3><a id="user-content-maven" class="anchor" href="https://github.com/mkroli/lpm#maven" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>maven</h3> 
  <div class="highlight highlight-text-xml">
   <pre>&lt;<span class="pl-ent">repositories</span>&gt;
  &lt;<span class="pl-ent">repository</span>&gt;
    &lt;<span class="pl-ent">id</span>&gt;bintray-jcenter&lt;/<span class="pl-ent">id</span>&gt;
    &lt;<span class="pl-ent">url</span>&gt;http://jcenter.bintray.com&lt;/<span class="pl-ent">url</span>&gt;
  &lt;/<span class="pl-ent">repository</span>&gt;
&lt;/<span class="pl-ent">repositories</span>&gt;

&lt;<span class="pl-ent">dependencies</span>&gt;
  &lt;<span class="pl-ent">dependency</span>&gt;
    &lt;<span class="pl-ent">groupId</span>&gt;com.github.mkroli.lpm&lt;/<span class="pl-ent">groupId</span>&gt;
    &lt;<span class="pl-ent">artifactId</span>&gt;lpm_2.11&lt;/<span class="pl-ent">artifactId</span>&gt;
    &lt;<span class="pl-ent">version</span>&gt;0.7&lt;/<span class="pl-ent">version</span>&gt;
  &lt;/<span class="pl-ent">dependency</span>&gt;
&lt;/<span class="pl-ent">dependencies</span>&gt;</pre>
  </div> 
  <h2><a id="user-content-usage" class="anchor" href="https://github.com/mkroli/lpm#usage" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Usage</h2> 
  <p>Longest Prefix Match is implemented using Scala. Nevertheless it provides classes which allow an easy integration with Java, too. The following sections describe how Longest Prefix Match can be used using either Scala or Java.</p> 
  <h3><a id="user-content-scala" class="anchor" href="https://github.com/mkroli/lpm#scala" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Scala</h3> 
  <p>Lets pretend you want to retrieve a Int value according to a number range. The two Int values being 1 and 2. 1 for "123" - "456" range and 2 for "8" range. You'd add them as follows:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">lpm</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">LongestPrefixMatch</span>[<span class="pl-k">Int</span>].
  addValueForRange(<span class="pl-s"><span class="pl-pds">"</span>123<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>456<span class="pl-pds">"</span></span>, <span class="pl-c1">1</span>).
  addValueForRange(<span class="pl-s"><span class="pl-pds">"</span>8<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>8<span class="pl-pds">"</span></span>, <span class="pl-c1">2</span>).
  addValueForRange(<span class="pl-s"><span class="pl-pds">"</span>80<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>89<span class="pl-pds">"</span></span>, <span class="pl-c1">3</span>)</pre>
  </div> 
  <p>To retrieve the values you could do as follows:</p> 
  <div class="highlight highlight-source-scala">
   <pre>lpm.getValueFromPrefix(<span class="pl-s"><span class="pl-pds">"</span>8123<span class="pl-pds">"</span></span>) <span class="pl-k">match</span> {
  <span class="pl-k">case</span> <span class="pl-en">Some</span>(i) <span class="pl-k">=&gt;</span> println(i)
  <span class="pl-k">case</span> _ <span class="pl-k">=&gt;</span> println(<span class="pl-s"><span class="pl-pds">"</span>Nothing found<span class="pl-pds">"</span></span>)
}
<span class="pl-c">/* This would print 3 in conjunction with the previous statements */</span></pre>
  </div> 
  <p>Or shorter:</p> 
  <div class="highlight highlight-source-scala">
   <pre><span class="pl-k">val</span> <span class="pl-en">lpm</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">LongestPrefixMatch</span> <span class="pl-k">+</span> (<span class="pl-s"><span class="pl-pds">"</span>123<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>456<span class="pl-pds">"</span></span>, <span class="pl-c1">1</span>) <span class="pl-k">+</span> (<span class="pl-s"><span class="pl-pds">"</span>8<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>8<span class="pl-pds">"</span></span>, <span class="pl-c1">2</span>) <span class="pl-k">+</span> (<span class="pl-s"><span class="pl-pds">"</span>80<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>89<span class="pl-pds">"</span></span>, <span class="pl-c1">3</span>)
lpm(<span class="pl-s"><span class="pl-pds">"</span>8123<span class="pl-pds">"</span></span>) <span class="pl-k">match</span> {
  <span class="pl-k">case</span> <span class="pl-en">Some</span>(i) <span class="pl-k">=&gt;</span> println(i)
  <span class="pl-k">case</span> _ <span class="pl-k">=&gt;</span> println(<span class="pl-s"><span class="pl-pds">"</span>Nothing found<span class="pl-pds">"</span></span>)
}</pre>
  </div> 
  <h3><a id="user-content-java" class="anchor" href="https://github.com/mkroli/lpm#java" aria-hidden="true" target="_blank">
    <svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewbox="0 0 16 16" width="16">
     <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
    </svg></a>Java</h3> 
  <p>The Java equivalent of the above example would look as follows:</p> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-k">LongestPrefixMatchJ&lt;<span class="pl-smi">Integer</span>&gt;</span> lpm <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-k">LongestPrefixMatchJ&lt;<span class="pl-smi">Integer</span>&gt;</span>();
lpm <span class="pl-k">=</span> lpm<span class="pl-k">.</span>addValueForRange(<span class="pl-s"><span class="pl-pds">"</span>123<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>456<span class="pl-pds">"</span></span>, <span class="pl-c1">1</span>);
lpm <span class="pl-k">=</span> lpm<span class="pl-k">.</span>addValueForRange(<span class="pl-s"><span class="pl-pds">"</span>8<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>8<span class="pl-pds">"</span></span>, <span class="pl-c1">2</span>);
lpm <span class="pl-k">=</span> lpm<span class="pl-k">.</span>addValueForRange(<span class="pl-s"><span class="pl-pds">"</span>80<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>89<span class="pl-pds">"</span></span>, <span class="pl-c1">3</span>);</pre>
  </div> 
  <p>And again to retrieve the values it would look as follows:</p> 
  <div class="highlight highlight-source-java">
   <pre><span class="pl-smi">Integer</span> i <span class="pl-k">=</span> lpm<span class="pl-k">.</span>getValueFromPrefix(<span class="pl-s"><span class="pl-pds">"</span>8123<span class="pl-pds">"</span></span>);
<span class="pl-k">if</span>(<span class="pl-c1">null</span> <span class="pl-k">==</span> i)
    <span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-s"><span class="pl-pds">"</span>Nothing found<span class="pl-pds">"</span></span>);
<span class="pl-k">else</span>
    <span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>prinln(i);</pre>
  </div> 
 </article>
</div>